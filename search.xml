<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å­¦ä¹ goçš„å‡†å¤‡å·¥ä½œ</title>
    <url>/2023/06/01/Go/1/</url>
    <content><![CDATA[<h2 id="ä¸€-golangç¯å¢ƒé…ç½®"><a href="#ä¸€-golangç¯å¢ƒé…ç½®" class="headerlink" title="ä¸€.golangç¯å¢ƒé…ç½®"></a>ä¸€.golangç¯å¢ƒé…ç½®</h2><ol>
<li><p><strong>ä¸‹è½½SDK</strong></p>
<p>ç”±äºæˆ‘ç”¨çš„æ˜¯golandä¸“ä¸šç‰ˆï¼Œå¯ä»¥ç›´æ¥åœ¨ä¸Šé¢ä¸‹è½½Go SDKï¼Œå¾ˆæ–¹ä¾¿ä¹Ÿä¸éœ€è¦è§£å‹</p>
<p>ä¹Ÿå¯ä»¥å»å®˜ç½‘å®‰è£…ï¼Œ<strong><a href="https://golang.google.cn/dl/">https://golang.google.cn/dl/</a></strong></p>
<p><em><strong>ğŸ¤¡å…¶å®sdkå’Œä¸‹æ–‡Gopathè·¯å¾„ç®€æ´ä¸€ç‚¹æ›´åŠ æ–¹ä¾¿~</strong></em></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f0639cd12d544b5a19868c934ad34b4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512213759389.png"></p>
</li>
<li><p><strong>å°†goçš„binè·¯å¾„æ·»åŠ è‡³Pathç¯å¢ƒå˜é‡ä¸­</strong></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5390cc87df4744d9950fa570b1b99604~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512214558987.png"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e1571d984c048b9bdbcadf2ac0cd68d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512214829533.png"></p>
</li>
<li><p><strong>æ–°å»ºå·¥ä½œç›®å½•go_workspaceï¼Œæµ‹è¯•ç¯å¢ƒ</strong></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2001ee1accac4628b96c8515a23edd46~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512215418478.png"></p>
<p>â€‹	åœ¨è¯¥ç›®å½•é‡Œåˆ›å»ºtest.txtæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123; </span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello, world!&quot;</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e8a01a5064104a60b490755a1b2f0fd2~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512215631547"></p>
<p>â€‹	å°†æ–‡ä»¶åç¼€åæ”¹ä¸ºgo</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0031456c4f894df5b7e1810e74d56e09~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512215705515"></p>
<p>â€‹	æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿›å…¥go_workspaceçš„ç›®å½•</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0af7b34cb1224a6dab550296b0f3ae83~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512220156250.png"></p>
<p>â€‹	è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go run test.go</span></span><br></pre></td></tr></table></figure>

<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0af7b34cb1224a6dab550296b0f3ae83~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512220740795"></p>
<p>â€‹	è¾“å‡ºHello world!ï¼Œè¯æ˜ç¯å¢ƒé…ç½®æˆåŠŸ</p>
<ol start="4">
<li><p><strong>è®¾ç½®æ¨¡å—ä»£ç†</strong></p>
<p>å¦‚æœè®¿é—® github é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå»ºè®®é…ç½® go mod proxyï¼Œä¸‹è½½ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…çš„é€Ÿåº¦å¯ä»¥å¤§å¤§åŠ å¿«</p>
</li>
</ol>
<blockquote>
<ol>
<li>æ‰“å¼€â€œå¼€å§‹â€å¹¶æœç´¢â€œenvâ€ </li>
<li>é€‰æ‹©â€œç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡â€ </li>
<li>ç‚¹å‡»â€œç¯å¢ƒå˜é‡â€¦â€æŒ‰é’® </li>
<li>åœ¨â€œ&lt;**ä½ çš„ç”¨æˆ·å**&gt; çš„ç”¨æˆ·å˜é‡â€ç« èŠ‚ä¸‹ï¼ˆä¸ŠåŠéƒ¨åˆ†ï¼‰</li>
<li>ç‚¹å‡»â€œæ–°å»ºâ€¦â€æŒ‰é’®</li>
<li>é€‰æ‹©â€œå˜é‡åâ€è¾“å…¥æ¡†å¹¶è¾“å…¥â€œGO111MODULEâ€ </li>
<li>é€‰æ‹©â€œå˜é‡å€¼â€è¾“å…¥æ¡†å¹¶è¾“å…¥â€œonâ€ </li>
<li>ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’® </li>
<li>ç‚¹å‡»â€œæ–°å»ºâ€¦â€æŒ‰é’® </li>
<li>é€‰æ‹©â€œå˜é‡åâ€è¾“å…¥æ¡†å¹¶è¾“å…¥â€œGOPROXYâ€ </li>
<li>é€‰æ‹©â€œå˜é‡å€¼â€è¾“å…¥æ¡†å¹¶è¾“å…¥â€œ<a href="https://goproxy.cnâ€/">https://goproxy.cnâ€</a> </li>
<li>ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®</li>
</ol>
</blockquote>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2906b6d25e1743d08166f72c5fb8abdc~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230513094942468"></p>
<p>æˆ–è€…æ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go <span class="built_in">env</span> -w GO111MODULE=on</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go <span class="built_in">env</span> -w GOPROXY=https://goproxy.cn,direct</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸æ”¾å¿ƒé…ç½®æ˜¯å¦å‡†ç¡®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å‘½ä»¤è¡Œè¾“å…¥go envæ£€éªŒ</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7da62670712f41b487dfefbaa7be4a70~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230513100243945"></p>
<p><em><strong>å½“ç„¶è¿˜å¯ä»¥è®¾ç½®è‡ªæ‰˜ç®¡goæ¨¡å—ä»£ç†</strong></em>ï¼Œå‚ç…§<a href="https://goproxy.cn/">https://goproxy.cn/</a></p>
<p>â€‹	ä»¥ä¸‹åˆ—å‡ºè‡ªæ‰˜ç®¡goæ¨¡å—ä»£ç†çš„ä¸€äº›å¥½å¤„ï¼š</p>
<ul>
<li>åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹ä½¿ç”¨ä»£ç ï¼Œå› ä¸ºä»£ç å’Œä¾èµ–é¡¹éƒ½åœ¨æœ¬åœ°å­˜å‚¨ã€‚</li>
<li>æ›´å¥½åœ°æ§åˆ¶ä½ çš„ä»£ç å’Œä¾èµ–é¡¹ï¼Œå› ä¸ºå®ƒä»¬éƒ½åœ¨æœ¬åœ°å­˜å‚¨ã€‚</li>
<li>æ›´å¥½åœ°ä¿æŠ¤ä½ çš„ä»£ç å’Œä¾èµ–é¡¹ï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šè¢«å¤–éƒ¨è®¿é—®ã€‚</li>
<li>æ›´å¿«åœ°æ„å»ºå’Œæµ‹è¯•ä»£ç ï¼Œå› ä¸ºå®ƒä»¬ä¸éœ€è¦ä»è¿œç¨‹æœåŠ¡å™¨ä¸‹è½½ä¾èµ–é¡¹ã€‚</li>
</ul>
</li>
</ol>
<h2 id="äºŒ-golandé…ç½®"><a href="#äºŒ-golandé…ç½®" class="headerlink" title="äºŒ.golandé…ç½®"></a>äºŒ.golandé…ç½®</h2><p><strong>ç³»ç»Ÿå˜é‡</strong>ä¸­æ–°å»ºGOROOTå’ŒGOPATHï¼ŒGOROOTä¸ºgoçš„å®‰è£…è·¯å¾„ï¼ˆGoè¯­è¨€å®‰è£…ç›®å½•ï¼‰ï¼ŒGOPATHä¸ºgo_workspaceçš„è·¯å¾„</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/922f246f49bc482f805f451d9fcd1120~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512223852340.png"></p>
<p>å¹¶å°†<strong>ç”¨æˆ·å˜é‡</strong>ä¸­çš„GOPATHæ”¹ä¸ºgo_workspaceçš„è·¯å¾„</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98d3ba81f6e9403eadd02764531eb944~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512224220984.png"></p>
<p>å‘½ä»¤è¡Œè¾“å…¥go envï¼Œé…ç½®æˆåŠŸ</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3da83af8fa14d5e95df99a62efabccf~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230512224355670.png"></p>
<p>æ–°å»ºgoå·¥ç¨‹ï¼ŒGOROOTä¸ºgoè¯­è¨€å®‰è£…ç›®å½•</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/309a90dc08704cb096f68bd1ba1003fd~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230513082400448.png"></p>
<p>æ–°å»ºmainç›®å½•ï¼Œåˆ›å»ºtest.goæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å³é”®å¹¶å•å‡»è¿è¡Œ</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e97edf2697f44c9ac6989f149b432a6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="image-20230513084354777.png"></p>
<p>è¾“å‡ºHello worldï¼é…ç½®æˆåŠŸ</p>
<h2 id="ä¸‰-golandå¸¸ç”¨å¿«æ·é”®"><a href="#ä¸‰-golandå¸¸ç”¨å¿«æ·é”®" class="headerlink" title="ä¸‰.golandå¸¸ç”¨å¿«æ·é”®"></a>ä¸‰.golandå¸¸ç”¨å¿«æ·é”®</h2><p>æ–‡ä»¶ç›¸å…³å¿«æ·é”®ï¼š</p>
<blockquote>
<p>CTRL+Eï¼Œæ‰“å¼€æœ€è¿‘æµè§ˆè¿‡çš„æ–‡ä»¶ã€‚<br>CTRL+SHIFT+Eï¼Œæ‰“å¼€æœ€è¿‘æ›´æ”¹çš„æ–‡ä»¶ã€‚<br>CTRL+Nï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€structç»“æ„ä½“ã€‚<br>CTRL+SHIFT+Nï¼Œå¯ä»¥å¿«é€Ÿæ‰“å¼€æ–‡ä»¶ã€‚</p>
</blockquote>
<p>ä»£ç æ ¼å¼åŒ–ï¼š</p>
<blockquote>
<p>CTRL+ALT+Tï¼Œå¯ä»¥æŠŠä»£ç åŒ…åœ¨ä¸€ä¸ªå—å†…ï¼Œä¾‹å¦‚if{â€¦}else{â€¦}ã€‚<br>CTRL+ALT+Lï¼Œæ ¼å¼åŒ–ä»£ç ã€‚<br>CTRL+ç©ºæ ¼ï¼Œä»£ç æç¤ºã€‚<br>CTRL+&#x2F;ï¼Œå•è¡Œæ³¨é‡Šã€‚CTRL+SHIFT+&#x2F;ï¼Œè¿›è¡Œå¤šè¡Œæ³¨é‡Šã€‚<br>CTRL+Bï¼Œå¿«é€Ÿæ‰“å¼€å…‰æ ‡å¤„çš„ç»“æ„ä½“æˆ–æ–¹æ³•ï¼ˆè·³è½¬åˆ°å®šä¹‰å¤„ï¼‰ã€‚<br>CTRL+â€œ+&#x2F;-â€ï¼Œå¯ä»¥å°†å½“å‰æ–¹æ³•è¿›è¡Œå±•å¼€æˆ–æŠ˜å ã€‚</p>
</blockquote>
<p>æŸ¥æ‰¾å’Œå®šä½:</p>
<blockquote>
<p>CTRL+Rï¼Œæ›¿æ¢æ–‡æœ¬ã€‚<br>CTRL+Fï¼ŒæŸ¥æ‰¾æ–‡æœ¬ã€‚<br>CTRL+SHIFT+Fï¼Œè¿›è¡Œå…¨å±€æŸ¥æ‰¾ã€‚<br>CTRL+Gï¼Œå¿«é€Ÿå®šä½åˆ°æŸè¡Œã€‚</p>
</blockquote>
<p>ä»£ç ç¼–è¾‘:</p>
<blockquote>
<p>ALT+Qï¼Œå¯ä»¥çœ‹åˆ°å½“å‰æ–¹æ³•çš„å£°æ˜ã€‚<br>CTRL+Backspaceï¼ŒæŒ‰å•è¯è¿›è¡Œåˆ é™¤ã€‚<br>SHIFT+ENTERï¼Œå¯ä»¥å‘ä¸‹æ’å…¥æ–°è¡Œï¼Œå³ä½¿å…‰æ ‡åœ¨å½“å‰è¡Œçš„ä¸­é—´ã€‚<br>CTRL+Xï¼Œåˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œã€‚<br>CTRL+Dï¼Œå¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œã€‚<br>ALT+SHIFT+UP&#x2F;DOWNï¼Œå¯ä»¥å°†å…‰æ ‡æ‰€åœ¨è¡Œçš„ä»£ç ä¸Šä¸‹ç§»åŠ¨ã€‚<br>CTRL+SHIFT+Uï¼Œå¯ä»¥å°†é€‰ä¸­å†…å®¹è¿›è¡Œå¤§å°å†™è½¬åŒ–ã€‚</p>
</blockquote>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://juejin.cn/post/7232459954580947000">Windowsç³»ç»Ÿä¸‹golangå’Œgolandè¯¦ç»†é…ç½®|é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn)</a></p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>è¡¥å……å‡½æ•°ä¸å­—ç¬¦ä¸²</title>
    <url>/2023/06/08/Go/11/</url>
    <content><![CDATA[<p>è¡¥å……å…³äºé—­åŒ…ï¼Œé€’å½’ï¼ŒåŒ¿åå‡½æ•°ï¼Œå›è°ƒå‡½æ•°ï¼ŒstringsåŒ…ã€strconvåŒ…çš„ä½¿ç”¨ã€‚</p>
<h1 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h1><p>goè¯­è¨€æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹ï¼š<br>æ”¯æŒå°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿæ”¯æŒå°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<p>é—­åŒ…(closure)ï¼š<br> ä¸€ä¸ªå¤–å±‚å‡½æ•°ä¸­ï¼Œæœ‰å†…å±‚å‡½æ•°ï¼Œè¯¥å†…å±‚å‡½æ•°ä¸­ï¼Œä¼šæ“ä½œå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡(å¤–å±‚å‡½æ•°ä¸­çš„å‚æ•°ï¼Œæˆ–è€…å¤–å±‚å‡½æ•°ä¸­ç›´æ¥å®šä¹‰çš„å˜é‡)ï¼Œå¹¶ä¸”è¯¥å¤–å±‚å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯è¿™ä¸ªå†…å±‚å‡½æ•°ã€‚è¿™ä¸ªå†…å±‚å‡½æ•°å’Œå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œç»Ÿç§°ä¸ºé—­åŒ…ç»“æ„ã€‚</p>
<p>å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¼šå‘ç”Ÿæ”¹å˜ï¼Œæ­£å¸¸çš„å±€éƒ¨å˜é‡éšç€å‡½æ•°è°ƒç”¨è€Œåˆ›å»ºï¼Œéšç€å‡½æ•°çš„ç»“æŸè€Œé”€æ¯ã€‚<br>ä½†æ˜¯é—­åŒ…ç»“æ„ä¸­çš„å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡å¹¶ä¸ä¼šéšç€å¤–å±‚å‡½æ•°çš„ç»“æŸè€Œé”€æ¯ï¼Œå› ä¸ºå†…å±‚å‡½æ•°è¿˜è¦ç»§ç»­ä½¿ç”¨ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    res1 := increment()      <span class="comment">//res1 = fun</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, res1) <span class="comment">//func() int</span></span><br><span class="line">    fmt.Println(res1)</span><br><span class="line">    v1 := res1()</span><br><span class="line">    fmt.Println(v1) <span class="comment">//1</span></span><br><span class="line">    v2 := res1()</span><br><span class="line">    fmt.Println(v2) <span class="comment">//2</span></span><br><span class="line">    fmt.Println(res1())</span><br><span class="line">    fmt.Println(res1())</span><br><span class="line">    fmt.Println(res1())</span><br><span class="line">    fmt.Println(res1())</span><br><span class="line"></span><br><span class="line">    res2 := increment()</span><br><span class="line">    fmt.Println(res2)</span><br><span class="line">    v3 := res2()</span><br><span class="line">    fmt.Println(v3) <span class="comment">//1</span></span><br><span class="line">    fmt.Println(res2())</span><br><span class="line"></span><br><span class="line">    fmt.Println(res1())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">increment</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123; <span class="comment">//å¤–å±‚å‡½æ•°</span></span><br><span class="line">    <span class="comment">//1.å®šä¹‰äº†ä¸€ä¸ªå±€éƒ¨å˜é‡</span></span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="comment">//2.å®šä¹‰äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œç»™å˜é‡è‡ªå¢å¹¶è¿”å›</span></span><br><span class="line">    fun := <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123; <span class="comment">//å†…å±‚å‡½æ•°</span></span><br><span class="line">       i++</span><br><span class="line">       <span class="keyword">return</span> i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3.è¿”å›è¯¥åŒ¿åå‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> fun</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">func() int</span><br><span class="line">0xdbfd60</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">0xdbfd40</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">7</span><br></pre></td></tr></table></figure>

<h1 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h1><p>é€’å½’å‡½æ•°(recursion)ï¼šä¸€ä¸ªå‡½æ•°è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå°±å«åšé€’å½’å‡½æ•°ã€‚<br>ä¸€ä¸ªå‡½æ•°è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå°±å«åšé€’å½’è°ƒç”¨ï¼Œä¸€ä¸ªé€’å½’å‡½æ•°ä¸€å®šè¦æœ‰å‡ºå£ï¼Œå¦åˆ™ä¼šé™·å…¥æ­»å¾ªç¯ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	sum := getSum(<span class="number">5</span>)</span><br><span class="line">	fmt.Println(sum)</span><br><span class="line"></span><br><span class="line">	res := getFibonacci(<span class="number">12</span>)</span><br><span class="line">	fmt.Println(res)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFibonacci</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> n == <span class="number">1</span> || n == <span class="number">2</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> getFibonacci(n<span class="number">-1</span>) + getFibonacci(n<span class="number">-2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getSum</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;**********&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> n == <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> getSum(n<span class="number">-1</span>) + n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">**********</span><br><span class="line">**********</span><br><span class="line">**********</span><br><span class="line">**********</span><br><span class="line">**********</span><br><span class="line">15</span><br><span class="line">144</span><br></pre></td></tr></table></figure>

<h1 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h1><p>åŒ¿åï¼šæ²¡æœ‰åå­—<br>åŒ¿åå‡½æ•°ï¼šæ²¡æœ‰åå­—çš„å‡½æ•°ã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œç›´æ¥è¿›è¡Œè°ƒç”¨ã€‚é€šå¸¸åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°èµ‹å€¼ç»™æŸä¸ªå‡½æ•°å˜é‡ï¼Œé‚£ä¹ˆå°±å¯ä»¥è°ƒç”¨å¤šæ¬¡äº†ã€‚</p>
<p>åŒ¿åå‡½æ•°ï¼š<br>Goè¯­è¨€æ˜¯æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹ï¼š</p>
<p>å°†åŒ¿åå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå›è°ƒå‡½æ•°<br>å°†åŒ¿åå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œå¯ä»¥å½¢æˆé—­åŒ…ç»“æ„ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fun1()</span><br><span class="line">	fun1()</span><br><span class="line">	fun2 := fun1</span><br><span class="line">	fun2()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åŒ¿åå‡½æ•°</span></span><br><span class="line">	<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ã€‚&quot;</span>)</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	fun3 := <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ã€‚&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	fun3()</span><br><span class="line">	fun3()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å®šä¹‰å¸¦å‚æ•°çš„åŒ¿åå‡½æ•°</span></span><br><span class="line">	<span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">		fmt.Println(a, b)</span><br><span class="line">	&#125;(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å®šä¹‰å¸¦è¿”å›å€¼çš„åŒ¿åå‡½æ•°</span></span><br><span class="line">	res1 := <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a + b</span><br><span class="line">	&#125;(<span class="number">10</span>, <span class="number">20</span>) <span class="comment">//åŒ¿åå‡½æ•°è°ƒç”¨äº†ï¼Œå°†æ‰§è¡Œç»“æœç»™res1</span></span><br><span class="line">	fmt.Println(res1)</span><br><span class="line"></span><br><span class="line">	res2 := <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a + b</span><br><span class="line">	&#125; <span class="comment">//å°†åŒ¿åå‡½æ•°çš„å€¼ï¼Œèµ‹å€¼ç»™res2</span></span><br><span class="line">	fmt.Println(res2)</span><br><span class="line"></span><br><span class="line">	fmt.Println(res2(<span class="number">100</span>, <span class="number">200</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fun1</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;æˆ‘æ˜¯fun1()å‡½æ•°ã€‚ã€‚&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æˆ‘æ˜¯fun1()å‡½æ•°ã€‚ã€‚</span><br><span class="line">æˆ‘æ˜¯fun1()å‡½æ•°ã€‚ã€‚</span><br><span class="line">æˆ‘æ˜¯fun1()å‡½æ•°ã€‚ã€‚</span><br><span class="line">æˆ‘æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ã€‚</span><br><span class="line">æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ã€‚</span><br><span class="line">æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚ã€‚</span><br><span class="line">1 2</span><br><span class="line">30</span><br><span class="line">0x63e160</span><br><span class="line">300</span><br></pre></td></tr></table></figure>

<h1 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h1><p>é«˜é˜¶å‡½æ•°ï¼š<br>æ ¹æ®goè¯­è¨€çš„æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ï¼Œå¯ä»¥å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ã€‚</p>
<p>fun1(),fun2()<br>å°†fun1å‡½æ•°ä½œä¸ºäº†fun2è¿™ä¸ªå‡½æ•°çš„å‚æ•°ã€‚</p>
<p>fun2å‡½æ•°ï¼šå°±å«é«˜é˜¶å‡½æ•°<br>æ¥æ”¶äº†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ï¼Œé«˜é˜¶å‡½æ•°</p>
<p>fun1å‡½æ•°ï¼šå›è°ƒå‡½æ•°<br>ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°çš„å‡½æ•°ï¼Œå«åšå›è°ƒå‡½æ•°ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ±‚ä¸¤ä¸ªæ•´æ•°çš„åŠ å‡ä¹˜é™¤è¿ç®—</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, add)  <span class="comment">//func(int, int) int</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, oper) <span class="comment">//func(int, int, func(int, int) int) int</span></span><br><span class="line"></span><br><span class="line">	res1 := add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">	fmt.Println(res1)</span><br><span class="line"></span><br><span class="line">	res2 := oper(<span class="number">10</span>, <span class="number">20</span>, add)</span><br><span class="line">	fmt.Println(res2)</span><br><span class="line"></span><br><span class="line">	res3 := oper(<span class="number">5</span>, <span class="number">2</span>, sub)</span><br><span class="line">	fmt.Println(res3)</span><br><span class="line"></span><br><span class="line">	fun1 := <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a * b</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	res4 := oper(<span class="number">10</span>, <span class="number">4</span>, fun1)</span><br><span class="line">	fmt.Println(res4)</span><br><span class="line"></span><br><span class="line">	res5 := oper(<span class="number">100</span>, <span class="number">8</span>, <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> b == <span class="number">0</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;é™¤æ•°ä¸èƒ½ä¸ºé›¶&quot;</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> a / b</span><br><span class="line">	&#125;)</span><br><span class="line">	fmt.Println(res5)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">oper</span><span class="params">(a, b <span class="type">int</span>, fun <span class="keyword">func</span>(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line">	fmt.Println(a, b, fun) <span class="comment">//æ‰“å°3ä¸ªå‚æ•°</span></span><br><span class="line">	res := fun(a, b)</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ æ³•è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sub</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a - b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">func(int, int) int</span><br><span class="line">func(int, int, func(int, int) int) int</span><br><span class="line">3</span><br><span class="line">10 20 0xb8fc20</span><br><span class="line">30</span><br><span class="line">5 2 0xb8fc40</span><br><span class="line">3</span><br><span class="line">10 4 0xb8fc60</span><br><span class="line">40</span><br><span class="line">100 8 0xb8fc80</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h1 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h1><p>Goä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå­—èŠ‚çš„åˆ‡ç‰‡ã€‚<br>å¯ä»¥é€šè¿‡å°†å…¶å†…å®¹å°è£…åœ¨â€œâ€ä¸­æ¥åˆ›å»ºå­—ç¬¦ä¸²ã€‚Goä¸­çš„å­—ç¬¦ä¸²æ˜¯Unicodeå…¼å®¹çš„ï¼Œå¹¶ä¸”æ˜¯UTF-8ç¼–ç çš„ã€‚</p>
<p>å­—ç¬¦ä¸²æ˜¯ä¸€äº›å­—èŠ‚çš„é›†åˆã€‚ç†è§£ä¸ºä¸€ä¸ªå­—ç¬¦çš„åºåˆ—ã€‚<br>æ¯ä¸ªå­—ç¬¦éƒ½æœ‰å›ºå®šçš„ä½ç½®(ç´¢å¼•ï¼Œä¸‹æ ‡ï¼Œindexï¼šä»0å¼€å§‹ï¼Œåˆ°é•¿åº¦å‡1)<br>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//1.å®šä¹‰å­—ç¬¦ä¸²</span></span><br><span class="line">	s1 := <span class="string">&quot;helloä¸­å›½&quot;</span></span><br><span class="line">	s2 := <span class="string">`hello world`</span></span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Println(s2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.å­—ç¬¦ä¸²çš„é•¿åº¦ï¼šè¿”å›çš„æ˜¯å­—èŠ‚çš„ä¸ªæ•°</span></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(s1))</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(s2))</span><br><span class="line"></span><br><span class="line">	<span class="comment">//3.è·å–æŸä¸ªå­—èŠ‚</span></span><br><span class="line">	fmt.Println(s2[<span class="number">0</span>]) <span class="comment">//è·å–å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line">	a := <span class="string">&#x27;h&#x27;</span></span><br><span class="line">	b := <span class="number">104</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%c,%c,%c\n&quot;</span>, s2[<span class="number">0</span>], a, b)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.å­—ç¬¦ä¸²çš„éå†</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s2); i++ &#123;</span><br><span class="line">		<span class="comment">//fmt.Println(s2[i])</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;%c\t&quot;</span>, s2[i])</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//for range</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> s2 &#123;</span><br><span class="line">		<span class="comment">//fmt.Println(i,v)</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;%c&quot;</span>, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//5.å­—ç¬¦ä¸²æ˜¯å­—èŠ‚çš„é›†åˆ</span></span><br><span class="line">	slice1 := []<span class="type">byte</span>&#123;<span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>&#125;</span><br><span class="line">	s3 := <span class="type">string</span>(slice1) <span class="comment">//æ ¹æ®ä¸€ä¸ªå­—èŠ‚åˆ‡ç‰‡ï¼Œæ„å»ºå­—ç¬¦ä¸²</span></span><br><span class="line">	fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">	s4 := <span class="string">&quot;abcdef&quot;</span></span><br><span class="line">	slice2 := []<span class="type">byte</span>(s4) <span class="comment">//æ ¹æ®å­—ç¬¦ä¸²ï¼Œè·å–å¯¹åº”çš„å­—èŠ‚åˆ‡ç‰‡</span></span><br><span class="line">	fmt.Println(slice2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//6.å­—ç¬¦ä¸²ä¸èƒ½ä¿®æ”¹</span></span><br><span class="line">	fmt.Println(s4)</span><br><span class="line">	<span class="comment">//s4[2] = &#x27;B&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">helloä¸­å›½</span><br><span class="line">hello world</span><br><span class="line">11</span><br><span class="line">11</span><br><span class="line">104</span><br><span class="line">h,h,h</span><br><span class="line">h       e       l       l       o               w       o       r       l      d</span><br><span class="line">hello world</span><br><span class="line">ABCDE</span><br><span class="line">[97 98 99 100 101 102]</span><br><span class="line">abcdef</span><br></pre></td></tr></table></figure>

<h2 id="stringsåŒ…"><a href="#stringsåŒ…" class="headerlink" title="stringsåŒ…"></a>stringsåŒ…</h2><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s1 := <span class="string">&quot;helloworld&quot;</span></span><br><span class="line">	<span class="comment">//1.æ˜¯å¦åŒ…å«æŒ‡å®šçš„å†…å®¹--&gt;bool</span></span><br><span class="line">	fmt.Println(strings.Contains(s1, <span class="string">&quot;abc&quot;</span>))</span><br><span class="line">	<span class="comment">//2.æ˜¯å¦åŒ…å«charsä¸­ä»»æ„çš„ä¸€ä¸ªå­—ç¬¦å³å¯</span></span><br><span class="line">	fmt.Println(strings.ContainsAny(s1, <span class="string">&quot;abcd&quot;</span>))</span><br><span class="line">	<span class="comment">//3.ç»Ÿè®¡substråœ¨sä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">	fmt.Println(strings.Count(s1, <span class="string">&quot;lloo&quot;</span>))</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.ä»¥xxxå‰ç¼€å¼€å¤´ï¼Œä»¥xxxåç¼€ç»“å°¾</span></span><br><span class="line">	s2 := <span class="string">&quot;20230525è¯¾å ‚ç¬”è®°.txt&quot;</span></span><br><span class="line">	<span class="keyword">if</span> strings.HasPrefix(s2, <span class="string">&quot;202305&quot;</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;23å¹´5æœˆçš„æ–‡ä»¶ã€‚ã€‚&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> strings.HasSuffix(s2, <span class="string">&quot;.txt&quot;</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;æ–‡æœ¬æ–‡æ¡£ã€‚ã€‚&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç´¢å¼•</span></span><br><span class="line">	<span class="comment">//helloworld</span></span><br><span class="line">	fmt.Println(strings.Index(s1, <span class="string">&quot;lloo&quot;</span>))     <span class="comment">//æŸ¥æ‰¾substråœ¨sä¸­çš„ä½ç½®ï¼Œå¦‚æœä¸å­˜åœ¨å°±è¿”å›-1</span></span><br><span class="line">	fmt.Println(strings.IndexAny(s1, <span class="string">&quot;abcdh&quot;</span>)) <span class="comment">//æŸ¥æ‰¾charsä¸­ä»»æ„çš„ä¸€ä¸ªå­—ç¬¦ï¼Œå‡ºç°åœ¨sä¸­çš„ä½ç½®</span></span><br><span class="line">	fmt.Println(strings.LastIndex(s1, <span class="string">&quot;l&quot;</span>))    <span class="comment">//æŸ¥æ‰¾substråœ¨sä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//å­—ç¬¦ä¸²çš„æ‹¼æ¥</span></span><br><span class="line">	ss1 := []<span class="type">string</span>&#123;<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;ruby&quot;</span>&#125;</span><br><span class="line">	s3 := strings.Join(ss1, <span class="string">&quot;-&quot;</span>)</span><br><span class="line">	fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ‡å‰²</span></span><br><span class="line">	s4 := <span class="string">&quot;123,4563,aaa,49595,45&quot;</span></span><br><span class="line">	ss2 := strings.Split(s4, <span class="string">&quot;,&quot;</span>)	<span class="comment">//æ•°ç»„</span></span><br><span class="line">	<span class="comment">//fmt.Println(ss2)</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(ss2); i++ &#123;</span><br><span class="line">		fmt.Println(ss2[i])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//é‡å¤ï¼Œè‡ªå·±æ‹¼æ¥è‡ªå·±countæ¬¡</span></span><br><span class="line">	s5 := strings.Repeat(<span class="string">&quot;hello&quot;</span>, <span class="number">5</span>)</span><br><span class="line">	fmt.Println(s5)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ›¿æ¢</span></span><br><span class="line">	<span class="comment">//helloworld</span></span><br><span class="line">	s6 := strings.Replace(s1, <span class="string">&quot;l&quot;</span>, <span class="string">&quot;*&quot;</span>, <span class="number">-1</span>)</span><br><span class="line">	fmt.Println(s6)</span><br><span class="line">	<span class="comment">//fmt.Println(strings.Repeat(&quot;hello&quot;,5))</span></span><br><span class="line"></span><br><span class="line">	s7 := <span class="string">&quot;heLLo WOrlD**123..&quot;</span></span><br><span class="line">	fmt.Println(strings.ToLower(s7))</span><br><span class="line">	fmt.Println(strings.ToUpper(s7))</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		æˆªå–å­ä¸²ï¼š</span></span><br><span class="line"><span class="comment">		substring(start,end)--&gt;substr</span></span><br><span class="line"><span class="comment">		str[start:end]--&gt;substr</span></span><br><span class="line"><span class="comment">			åŒ…å«startï¼Œä¸åŒ…å«endä¸‹æ ‡</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	s8 := s1[:<span class="number">5</span>]</span><br><span class="line">	fmt.Println(s8)</span><br><span class="line">	fmt.Println(s1[<span class="number">5</span>:])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">false</span><br><span class="line">true</span><br><span class="line">0</span><br><span class="line">23å¹´5æœˆçš„æ–‡ä»¶ã€‚ã€‚</span><br><span class="line">æ–‡æœ¬æ–‡æ¡£ã€‚ã€‚</span><br><span class="line">-1</span><br><span class="line">0</span><br><span class="line">8</span><br><span class="line">abc-world-hello-ruby</span><br><span class="line">123</span><br><span class="line">4563</span><br><span class="line">aaa</span><br><span class="line">49595</span><br><span class="line">45</span><br><span class="line">hellohellohellohellohello</span><br><span class="line">he**owor*d</span><br><span class="line">hello world**123..</span><br><span class="line">HELLO WORLD**123..</span><br><span class="line">helloworld</span><br><span class="line">hello</span><br><span class="line">world</span><br></pre></td></tr></table></figure>

<h2 id="strconvåŒ…"><a href="#strconvåŒ…" class="headerlink" title="strconvåŒ…"></a>strconvåŒ…</h2><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//1.boolç±»å‹</span></span><br><span class="line">	s1 := <span class="string">&quot;true&quot;</span></span><br><span class="line">	b1, err := strconv.ParseBool(s1)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%t\n&quot;</span>, b1, b1)	<span class="comment">//%tæ˜¯boolç±»å‹</span></span><br><span class="line"></span><br><span class="line">	ss1 := strconv.FormatBool(b1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%s\n&quot;</span>, ss1, ss1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.æ•´æ•°</span></span><br><span class="line">	s2 := <span class="string">&quot;100&quot;</span></span><br><span class="line">	i2, err := strconv.ParseInt(s2, <span class="number">2</span>, <span class="number">64</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%d\n&quot;</span>, i2, i2)</span><br><span class="line"></span><br><span class="line">	ss2 := strconv.FormatInt(i2, <span class="number">10</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%s\n&quot;</span>, ss2, ss2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//itoa(),atoi()</span></span><br><span class="line">	i3, err := strconv.Atoi(<span class="string">&quot;-42&quot;</span>) <span class="comment">//è½¬ä¸ºintç±»å‹</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%d\n&quot;</span>, i3, i3)</span><br><span class="line">	ss3 := strconv.Itoa(<span class="number">-42</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%s\n&quot;</span>, ss3, ss3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bool,true</span><br><span class="line">string,true</span><br><span class="line">int64,4</span><br><span class="line">string,4</span><br><span class="line">int,-42</span><br><span class="line">string,-42</span><br></pre></td></tr></table></figure>

<p>â€œstrconvâ€ç”¨äºè¿›è¡Œå­—ç¬¦ä¸²å’ŒåŸºæœ¬ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚åœ¨mainå‡½æ•°ä¸­ï¼Œé¦–å…ˆæ¼”ç¤ºäº†å¸ƒå°”ç±»å‹çš„è½¬æ¢ã€‚ä½¿ç”¨strconv.ParseBoolå‡½æ•°å°†s1è½¬æ¢ä¸ºboolç±»å‹çš„å˜é‡b1ã€‚å¦‚æœè½¬æ¢è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œåˆ™ä¼šæ‰“å°é”™è¯¯ä¿¡æ¯å¹¶è¿”å›ã€‚å¦åˆ™ï¼Œä½¿ç”¨fmt.Printfå‡½æ•°è¾“å‡ºb1çš„ç±»å‹å’Œå€¼ã€‚æ¥ä¸‹æ¥ï¼Œä½¿ç”¨strconv.FormatBoolå‡½æ•°å°†b1è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡ss1ï¼Œæ¼”ç¤ºäº†æ•´æ•°ç±»å‹çš„è½¬æ¢ï¼Œä½¿ç”¨strconv.ParseIntå‡½æ•°å°†s2æŒ‰ç…§äºŒè¿›åˆ¶è§£æä¸ºint64ç±»å‹çš„å˜é‡i2ã€‚ä½¿ç”¨strconv.FormatIntå‡½æ•°å°†i2æŒ‰ç…§åè¿›åˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡ss2ï¼Œä½¿ç”¨strconv.Atoiå‡½æ•°å°†å­—ç¬¦ä¸²â€-42â€è½¬æ¢ä¸ºintç±»å‹çš„å˜é‡i3ï¼Œä½¿ç”¨strconv.Itoaå‡½æ•°å°†æ•´æ•°-42è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡ss3ã€‚</p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>typeå…³é”®å­—ä¸é”™è¯¯å¤„ç†</title>
    <url>/2023/06/09/Go/12/</url>
    <content><![CDATA[<h1 id="typeå…³é”®å­—"><a href="#typeå…³é”®å­—" class="headerlink" title="typeå…³é”®å­—"></a>typeå…³é”®å­—</h1><p>typeï¼šç”¨äºç±»å‹å®šä¹‰å’Œç±»å‹åˆ«å</p>
<ul>
<li>ç±»å‹å®šä¹‰ï¼štype ç±»å‹å Type</li>
<li>ç±»å‹åˆ«åï¼štype  ç±»å‹å &#x3D; Type</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> i1 myint</span><br><span class="line">	<span class="keyword">var</span> i2 = <span class="number">100</span> <span class="comment">//int</span></span><br><span class="line">	i1 = <span class="number">200</span></span><br><span class="line">	fmt.Println(i1, i2)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> name mystr</span><br><span class="line">	name = <span class="string">&quot;ç‹äºŒç‹—&quot;</span></span><br><span class="line">	<span class="keyword">var</span> s1 <span class="type">string</span></span><br><span class="line">	s1 = <span class="string">&quot;æå°èŠ±&quot;</span></span><br><span class="line">	fmt.Println(name, s1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//i1 = i2 //cannot use i2 (type int) as type myint in assignment</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//name = s1 //cannot use s1 (type string) as type mystr in assignment</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%T,%T,%T\n&quot;</span>, i1, i2, name, s1) <span class="comment">//main.myint,int,main.mystr,string</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;----------------------------------&quot;</span>)</span><br><span class="line">	res1 := fun1()</span><br><span class="line">	fmt.Println(res1(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;----------------------------------&quot;</span>)</span><br><span class="line">	<span class="keyword">var</span> i3 myint2</span><br><span class="line">	i3 = <span class="number">1000</span></span><br><span class="line">	fmt.Println(i3)</span><br><span class="line">	i3 = i2</span><br><span class="line">	fmt.Println(i3)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%T,%T\n&quot;</span>, i1, i2, i3) <span class="comment">//main.myint,int,int</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.å®šä¹‰ä¸€ä¸ªæ–°çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> myint <span class="type">int</span></span><br><span class="line"><span class="keyword">type</span> mystr <span class="type">string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.å®šä¹‰å‡½æ•°ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> myfun <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>, <span class="type">int</span>)</span></span> <span class="type">string</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fun1</span><span class="params">()</span></span> myfun &#123; <span class="comment">//fun1()å‡½æ•°çš„è¿”å›å€¼æ˜¯myfunç±»å‹</span></span><br><span class="line">	fun := <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">string</span> &#123;</span><br><span class="line">		s := strconv.Itoa(a) + strconv.Itoa(b)</span><br><span class="line">		<span class="keyword">return</span> s</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> fun</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">type</span> myint2 = <span class="type">int</span> <span class="comment">//ä¸æ˜¯é‡æ–°å®šä¹‰æ–°çš„æ•°æ®ç±»å‹ï¼Œåªæ˜¯ç»™intèµ·åˆ«åï¼Œå’Œintå¯ä»¥é€šç”¨</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">200 100</span><br><span class="line">ç‹äºŒç‹— æå°èŠ±</span><br><span class="line">main.myint,int,main.mystr,string</span><br><span class="line">----------------------------------</span><br><span class="line">1020</span><br><span class="line">----------------------------------</span><br><span class="line">1000</span><br><span class="line">100</span><br><span class="line">main.myint,int,int</span><br></pre></td></tr></table></figure>

<p>å°½ç®¡ç±»å‹åˆ«åå¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ç°æœ‰ç±»å‹ï¼Œä½†å®ƒä»¬ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚å› æ­¤ï¼Œæ— æ³•åœ¨ç±»å‹åˆ«åä¸Šå®šä¹‰æ–°æ–¹æ³•ã€‚åªæœ‰åœ¨æœ¬åœ°ç±»å‹ä¸Šæ‰èƒ½å®šä¹‰æ–°æ–¹æ³•ã€‚</p>
<p>é”™è¯¯ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;time&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyDuration = time.Duration</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m MyDuration)</span></span> SimpleSet() &#123; <span class="comment">//cannot define new methods on non-local type time.Duration</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¦ä¹ˆåœ¨timeåŒ…ä¸‹å®šä¹‰æ–°æ–¹æ³•ï¼Œè¦ä¹ˆå»ºä¸€ä¸ªæ–°çš„å‘½åç±»å‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç±»å‹åˆ«åã€‚</p>
<p>ä¿®æ­£ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;time&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyDuration time.Duration</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m MyDuration)</span></span> SimpleSet() &#123;</span><br><span class="line">	<span class="comment">// åœ¨è¿™é‡Œå®ç°SimpleSetæ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// åœ¨è¿™é‡Œä½¿ç”¨MyDurationç±»å‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»“æ„ä½“æˆå‘˜åµŒå…¥æ—¶ä½¿ç”¨åˆ«åï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> show() &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Person---&gt;&quot;</span>, p.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// People ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">type</span> People = Person</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p People)</span></span> show2() &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;People---&gt;&quot;</span>, p.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="comment">//åµŒå…¥ä¸¤ä¸ªç»“æ„ä½“</span></span><br><span class="line">	Person</span><br><span class="line">	People</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s Student</span><br><span class="line">	<span class="comment">//s.name = &quot;ç‹äºŒç‹—&quot; //ambiguous selector s.name</span></span><br><span class="line">	s.Person.name = <span class="string">&quot;ç‹äºŒç‹—&quot;</span></span><br><span class="line">	<span class="comment">//s.show() //ambiguous selector s.show</span></span><br><span class="line">	s.Person.show()</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%T\n&quot;</span>, s.Person, s.People) <span class="comment">//main.Person,main.Person</span></span><br><span class="line"></span><br><span class="line">	s.People.name = <span class="string">&quot;æå°èŠ±&quot;</span></span><br><span class="line">	s.People.show2()</span><br><span class="line"></span><br><span class="line">	s.Person.show()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Person---&gt; ç‹äºŒç‹—</span><br><span class="line">main.Person,main.Person</span><br><span class="line">People---&gt; æå°èŠ±</span><br><span class="line">Person---&gt; ç‹äºŒç‹—</span><br></pre></td></tr></table></figure>

<h1 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h1><p>åœ¨å®é™…å·¥ç¨‹é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ç¨‹åºçš„é”™è¯¯ä¿¡æ¯å¿«é€Ÿå®šä½é—®é¢˜ï¼Œä½†æ˜¯åˆä¸å–œæ¬¢é”™è¯¯å¤„ç†ä»£ç å†™çš„å†—ä½™è€Œåˆå•°å—¦ã€‚Goè¯­è¨€æ²¡æœ‰æä¾›åƒJavaã€c#è¯­è¨€ä¸­çš„tryâ€¦catchå¼‚å¸¸å¤„ç†æ–¹å¼ï¼Œè€Œæ˜¯é€šè¿‡å‡½æ•°è¿”å›å€¼é€å±‚å¾€ä¸ŠæŠ›ã€‚è¿™ç§è®¾è®¡ï¼Œé¼“åŠ±å·¥ç¨‹å¸ˆåœ¨ä»£ç ä¸­æ˜¾å¼çš„æ£€æŸ¥é”™è¯¯ï¼Œè€Œéå¿½ç•¥é”™è¯¯ï¼Œå¥½å¤„å°±æ˜¯é¿å…æ¼æ‰æœ¬åº”å¤„ç†çš„é”™è¯¯ã€‚ä½†æ˜¯å¸¦æ¥ä¸€ä¸ªå¼Šç«¯,è®©ä»£ç å•°å—¦ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯é”™è¯¯"><a href="#ä»€ä¹ˆæ˜¯é”™è¯¯" class="headerlink" title="ä»€ä¹ˆæ˜¯é”™è¯¯"></a>ä»€ä¹ˆæ˜¯é”™è¯¯</h2><p>é”™è¯¯æ˜¯ä»€ä¹ˆ?<br>é”™è¯¯æŒ‡çš„æ˜¯å¯èƒ½å‡ºç°é—®é¢˜çš„åœ°æ–¹å‡ºç°äº†é—®é¢˜ã€‚æ¯”å¦‚æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶å¤±è´¥ï¼Œè¿™ç§æƒ…å†µåœ¨äººä»¬çš„æ„æ–™ä¹‹ä¸­ã€‚<br>è€Œå¼‚å¸¸æŒ‡çš„æ˜¯ä¸åº”è¯¥å‡ºç°é—®é¢˜çš„åœ°æ–¹å‡ºç°äº†é—®é¢˜ã€‚æ¯”å¦‚å¼•ç”¨äº†ç©ºæŒ‡é’ˆï¼Œè¿™ç§æƒ…å†µåœ¨äººä»¬çš„æ„æ–™ä¹‹å¤–ã€‚å¯è§ï¼Œé”™è¯¯æ˜¯ä¸šåŠ¡è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†,è€Œå¼‚å¸¸ä¸æ˜¯ã€‚<br>Goä¸­çš„é”™è¯¯ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ã€‚é”™è¯¯ç”¨å†…ç½®çš„errorç±»å‹è¡¨ç¤ºã€‚å°±åƒå…¶ä»–ç±»å‹çš„ï¼Œå¦‚intï¼Œfloat64ã€‚é”™è¯¯å€¼å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œä»å‡½æ•°ä¸­è¿”å›ï¼Œç­‰ç­‰ã€‚</p>
<h2 id="æ¼”ç¤ºé”™è¯¯"><a href="#æ¼”ç¤ºé”™è¯¯" class="headerlink" title="æ¼”ç¤ºé”™è¯¯"></a>æ¼”ç¤ºé”™è¯¯</h2><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç¤ºä¾‹ç¨‹åºå¼€å§‹,è¿™ä¸ªç¨‹åºå°è¯•æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚</p>
<p>ç¤ºä¾‹ä»£ç :</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	f, err := os.Open(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="comment">//log.Fatal(err)</span></span><br><span class="line">		fmt.Println(err) <span class="comment">//open test.txt: no such file or directory</span></span><br><span class="line">		<span class="keyword">if</span> ins, ok := err.(*os.PathError); ok &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;1.Op:&quot;</span>, ins.Op)</span><br><span class="line">			fmt.Println(<span class="string">&quot;2.Path:&quot;</span>, ins.Path)</span><br><span class="line">			fmt.Println(<span class="string">&quot;3.Err:&quot;</span>, ins.Err)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(f.Name(), <span class="string">&quot;æ‰“å¼€æ–‡ä»¶æˆåŠŸã€‚ã€‚&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">open test.txt: The system cannot find the file specified.</span><br><span class="line">1.Op: open</span><br><span class="line">2.Path: test.txt</span><br><span class="line">3.Err: The system cannot find the file specified.</span><br></pre></td></tr></table></figure>

<p>è¿™è¡Œä»£ç å°è¯•å°†é”™è¯¯å€¼ <code>err</code> è½¬æ¢ä¸º <code>*os.PathError</code> ç±»å‹ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨å˜é‡ <code>ins</code> ä¸­ã€‚è¿™æ˜¯ä¸€ä¸ªç±»å‹æ–­è¨€çš„ç¤ºä¾‹ï¼Œå®ƒæ£€æŸ¥é”™è¯¯ç±»å‹æ˜¯å¦æ˜¯ <code>*os.PathError</code>ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ <code>ok</code> è¡¨ç¤ºæ˜¯å¦æˆåŠŸè¿›è¡Œäº†ç±»å‹è½¬æ¢ã€‚å¦‚æœç±»å‹æ–­è¨€æˆåŠŸï¼Œè¿™äº›ä»£ç å°†æ‰“å° <code>*os.PathError</code> ç±»å‹çš„ç‰¹å®šå­—æ®µä¿¡æ¯ã€‚<code>Op</code> å­—æ®µè¡¨ç¤ºæ“ä½œç±»å‹ï¼Œ<code>Path</code> å­—æ®µè¡¨ç¤ºæ“ä½œçš„è·¯å¾„ï¼Œ<code>Err</code> å­—æ®µè¡¨ç¤ºåº•å±‚é”™è¯¯ã€‚</p>
<h2 id="è‡ªå®šä¹‰å‡½æ•°è¿”å›é”™è¯¯"><a href="#è‡ªå®šä¹‰å‡½æ•°è¿”å›é”™è¯¯" class="headerlink" title="è‡ªå®šä¹‰å‡½æ•°è¿”å›é”™è¯¯"></a>è‡ªå®šä¹‰å‡½æ•°è¿”å›é”™è¯¯</h2><p>errorï¼šå†…ç½®çš„æ•°æ®ç±»å‹ï¼Œå†…ç½®çš„æ¥å£<br>å®šä¹‰æ–¹æ³•ï¼šError() string</p>
<p>ä½¿ç”¨goè¯­è¨€æä¾›å¥½çš„åŒ…ï¼š<br>errorsåŒ…ä¸‹çš„å‡½æ•°ï¼šNew()ï¼Œåˆ›å»ºä¸€ä¸ªerrorå¯¹è±¡ï¼ŒfmtåŒ…ä¸‹çš„Errorf()å‡½æ•°ï¼š<br>func Errorf(format string, a â€¦interface{}) error</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;errors&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//1.åˆ›å»ºä¸€ä¸ªerroræ•°æ®</span></span><br><span class="line">	err1 := errors.New(<span class="string">&quot;è‡ªå·±åˆ›å»ºç©çš„ã€‚ã€‚&quot;</span>)</span><br><span class="line">	fmt.Println(err1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, err1) <span class="comment">//*errors.errorString</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.å¦ä¸€ä¸ªåˆ›å»ºerrorçš„æ–¹æ³•</span></span><br><span class="line">	err2 := fmt.Errorf(<span class="string">&quot;é”™è¯¯çš„ä¿¡æ¯ç :%d&quot;</span>, <span class="number">100</span>)</span><br><span class="line">	fmt.Println(err2)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, err2)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">	err3 := checkAge(<span class="number">-30</span>)</span><br><span class="line">	<span class="keyword">if</span> err3 != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err3)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;ç¨‹åºã€‚ã€‚ã€‚go onã€‚ã€‚ã€‚&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼šéªŒè¯å¹´é¾„æ˜¯å¦åˆæ³•ï¼Œå¦‚æœä¸ºè´Ÿæ•°ï¼Œå°±è¿”å›ä¸€ä¸ªerror</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkAge</span><span class="params">(age <span class="type">int</span>)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> age &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="comment">//è¿”å›errorå¯¹è±¡</span></span><br><span class="line">		<span class="comment">//return errors.New(&quot;å¹´é¾„ä¸åˆæ³•&quot;)</span></span><br><span class="line">		err := fmt.Errorf(<span class="string">&quot;æ‚¨ç»™å®šçš„å¹´é¾„æ˜¯ï¼š%d,ä¸åˆæ³•&quot;</span>, age)</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;å¹´é¾„æ˜¯ï¼š&quot;</span>, age)</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è‡ªå·±åˆ›å»ºç©çš„ã€‚ã€‚</span><br><span class="line">*errors.errorString</span><br><span class="line">é”™è¯¯çš„ä¿¡æ¯ç :100</span><br><span class="line">*errors.errorString</span><br><span class="line">-----------------</span><br><span class="line">æ‚¨ç»™å®šçš„å¹´é¾„æ˜¯ï¼š-30,ä¸åˆæ³•</span><br></pre></td></tr></table></figure>

<h2 id="é”™è¯¯çš„ç±»å‹è¡¨ç¤º"><a href="#é”™è¯¯çš„ç±»å‹è¡¨ç¤º" class="headerlink" title="é”™è¯¯çš„ç±»å‹è¡¨ç¤º"></a>é”™è¯¯çš„ç±»å‹è¡¨ç¤º</h2><ol>
<li></li>
</ol>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> ins, ok := err.(*os.PathError); ok &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;1.Op:&quot;</span>, ins.Op)</span><br><span class="line">			fmt.Println(<span class="string">&quot;2.Path:&quot;</span>, ins.Path)</span><br><span class="line">			fmt.Println(<span class="string">&quot;3.Err:&quot;</span>, ins.Err)</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è·å¾—æ›´å¤šä¿¡æ¯çš„ç¬¬äºŒç§æ–¹æ³•æ˜¯æ–­è¨€åº•å±‚ç±»å‹ï¼Œå¹¶é€šè¿‡è°ƒç”¨structç±»å‹çš„æ–¹æ³•è·å–æ›´å¤šä¿¡æ¯ã€‚</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;net&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	addr, err := net.LookupHost(<span class="string">&quot;www.baidu.com&quot;</span>)</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">	<span class="keyword">if</span> ins, ok := err.(*net.DNSError); ok &#123;</span><br><span class="line">		<span class="keyword">if</span> ins.Timeout() &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;æ“ä½œè¶…æ—¶ã€‚ã€‚&quot;</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> ins.Temporary() &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;ä¸´æ—¶æ€§é”™è¯¯ã€‚ã€‚&quot;</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;é€šå¸¸é”™è¯¯ã€‚ã€‚&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(addr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;nil&gt;</span><br><span class="line">[182.61.200.6 182.61.200.7]</span><br></pre></td></tr></table></figure>

<p>3.ç›´æ¥æ¯”è¾ƒ<br>è·å¾—æ›´å¤šå…³äºé”™è¯¯çš„è¯¦ç»†ä¿¡æ¯çš„ç¬¬ä¸‰ç§æ–¹æ³•æ˜¯ç›´æ¥ä¸ç±»å‹é”™è¯¯çš„å˜é‡è¿›è¡Œæ¯”è¾ƒã€‚è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£è¿™ä¸ªé—®é¢˜ã€‚<br>filepathåŒ…çš„Globå‡½æ•°ç”¨äºè¿”å›ä¸æ¨¡å¼åŒ¹é…çš„æ‰€æœ‰æ–‡ä»¶çš„åç§°ã€‚å½“æ¨¡å¼å‡ºç°é”™è¯¯æ—¶ï¼Œè¯¥å‡½æ•°å°†è¿”å›ä¸€ä¸ªé”™è¯¯ErrBadPatternã€‚<br>åœ¨filepathåŒ…ä¸­å®šä¹‰äº†ErrBadPatternï¼Œå¦‚ä¸‹æ‰€è¿°:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ErrBadPattern = errors.New(<span class="string">&quot;syntax error in pattern&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>errors.New()ç”¨äºåˆ›å»ºæ–°çš„é”™è¯¯ã€‚<br>å½“æ¨¡å¼å‡ºç°é”™è¯¯æ—¶,ç”±Globå‡½æ•°è¿”å›ErrBadPatternã€‚</p>
<p>è®©æˆ‘ä»¬å†™ä¸€ä¸ªå°ç¨‹åºæ¥æ£€æŸ¥è¿™ä¸ªé”™è¯¯:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;path/filepath&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	files, err := filepath.Glob(<span class="string">&quot;[&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &amp;&amp; err == filepath.ErrBadPattern &#123;</span><br><span class="line">		fmt.Println(err) <span class="comment">//syntax error in pattern</span></span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;files:&quot;</span>, files)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">syntax error in pattern</span><br></pre></td></tr></table></figure>

<p>è®°ä½æ°¸è¿œä¸è¦å¿½ç•¥ä¸€ä¸ªé”™è¯¯ã€‚å¿½è§†é”™è¯¯ä¼šæ‹›è‡´éº»çƒ¦ã€‚</p>
<h2 id="è‡ªå®šä¹‰é”™è¯¯"><a href="#è‡ªå®šä¹‰é”™è¯¯" class="headerlink" title="è‡ªå®šä¹‰é”™è¯¯"></a>è‡ªå®šä¹‰é”™è¯¯</h2><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	radius := <span class="number">-3.0</span></span><br><span class="line">	area, err := circleArea(radius)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">if</span> err, ok := err.(*areaError); ok &#123;</span><br><span class="line">			fmt.Printf(<span class="string">&quot;åŠå¾„æ˜¯ï¼š%.2f\n&quot;</span>, err.radius)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;åœ†å½¢çš„é¢ç§¯æ˜¯ï¼š&quot;</span>, area)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ï¼Œè¡¨ç¤ºé”™è¯¯çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> areaError <span class="keyword">struct</span> &#123;</span><br><span class="line">	msg    <span class="type">string</span></span><br><span class="line">	radius <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.å®ç°erroræ¥å£ï¼Œå°±æ˜¯å®ç°Error()æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *areaError)</span></span> Error() <span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;errorï¼šåŠå¾„ï¼Œ%.2fï¼Œ%s&quot;</span>, e.radius, e.msg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">circleArea</span><span class="params">(radius <span class="type">float64</span>)</span></span> (<span class="type">float64</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> radius &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, &amp;areaError&#123;<span class="string">&quot;åŠå¾„æ˜¯éæ³•çš„&quot;</span>, radius&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> math.Pi * radius * radius, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">errorï¼šåŠå¾„ï¼Œ-3.00ï¼ŒåŠå¾„æ˜¯éæ³•çš„</span><br><span class="line">åŠå¾„æ˜¯ï¼š-3.00</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	length, width := <span class="number">-6.7</span>, <span class="number">-9.1</span></span><br><span class="line">	area, err := rectArea(length, width)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">if</span> err, ok := err.(*areaError); ok &#123;</span><br><span class="line">			<span class="keyword">if</span> err.legnthNegative() &#123;</span><br><span class="line">				fmt.Printf(<span class="string">&quot;errorï¼šé•¿åº¦ï¼Œ%.2fï¼Œå°äºé›¶\n&quot;</span>, err.length)</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> err.widthNegative() &#123;</span><br><span class="line">				fmt.Printf(<span class="string">&quot;errorï¼šå®½åº¦ï¼Œ%.2fï¼Œå°äºé›¶\n&quot;</span>, err.width)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;çŸ©å½¢çš„é¢ç§¯æ˜¯ï¼š&quot;</span>, area)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> areaError <span class="keyword">struct</span> &#123;</span><br><span class="line">	msg    <span class="type">string</span>  <span class="comment">//é”™è¯¯çš„æè¿°</span></span><br><span class="line">	length <span class="type">float64</span> <span class="comment">//å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼ŒçŸ©å½¢çš„é•¿åº¦</span></span><br><span class="line">	width  <span class="type">float64</span> <span class="comment">//å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼ŒçŸ©å½¢çš„å®½åº¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *areaError)</span></span> Error() <span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> e.msg</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *areaError)</span></span> legnthNegative() <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> e.length &lt; <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *areaError)</span></span> widthNegative() <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> e.width &lt; <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rectArea</span><span class="params">(length, width <span class="type">float64</span>)</span></span> (<span class="type">float64</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	msg := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">if</span> length &lt; <span class="number">0</span> &#123;</span><br><span class="line">		msg = <span class="string">&quot;é•¿åº¦å°äºé›¶&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> width &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> msg == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">			msg = <span class="string">&quot;å®½åº¦å°äºé›¶&quot;</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			msg += <span class="string">&quot;ï¼Œå®½åº¦ä¹Ÿå°äºé›¶&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> msg != <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, &amp;areaError&#123;msg, length, width&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> length * width, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é•¿åº¦å°äºé›¶ï¼Œå®½åº¦ä¹Ÿå°äºé›¶</span><br><span class="line">errorï¼šé•¿åº¦ï¼Œ-6.70ï¼Œå°äºé›¶</span><br><span class="line">errorï¼šå®½åº¦ï¼Œ-9.10ï¼Œå°äºé›¶</span><br></pre></td></tr></table></figure>

<h2 id="panicå’Œrecover"><a href="#panicå’Œrecover" class="headerlink" title="panicå’Œrecover"></a>panicå’Œrecover</h2><p>Golangä¸­å¼•å…¥ä¸¤ä¸ªå†…ç½®å‡½æ•°panicå’Œrecoveræ¥è§¦å‘å’Œç»ˆæ­¢å¼‚å¸¸å¤„ç†æµç¨‹ï¼ŒåŒæ—¶å¼•å…¥å…³é”®å­—deferæ¥å»¶è¿Ÿæ‰§è¡Œdeferåé¢çš„å‡½æ•°ã€‚<br>ä¸€ç›´ç­‰åˆ°åŒ…å«deferè¯­å¥çš„å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå»¶è¿Ÿå‡½æ•°(deferåçš„å‡½æ•°ï¼‰æ‰ä¼šè¢«æ‰§è¡Œï¼Œè€Œä¸ç®¡åŒ…å«deferè¯­å¥çš„å‡½æ•°æ˜¯é€šè¿‡returnçš„æ­£å¸¸ç»“æŸï¼Œè¿˜æ˜¯ç”±äºpanicå¯¼è‡´çš„å¼‚å¸¸ç»“æŸã€‚ä½ å¯ä»¥åœ¨ä¸€ä¸ªå‡½æ•°ä¸­æ‰§è¡Œå¤šæ¡deferè¯­å¥ï¼Œå®ƒä»¬çš„æ‰§è¡Œé¡ºåºä¸å£°æ˜é¡ºåºç›¸åã€‚<br>å½“ç¨‹åºè¿è¡Œæ—¶ï¼Œå¦‚æœé‡åˆ°å¼•ç”¨ç©ºæŒ‡é’ˆã€ä¸‹æ ‡è¶Šç•Œæˆ–æ˜¾å¼è°ƒç”¨panicå‡½æ•°ç­‰æƒ…å†µï¼Œåˆ™å…ˆè§¦å‘panicå‡½æ•°çš„æ‰§è¡Œï¼Œç„¶åè°ƒç”¨å»¶è¿Ÿå‡½æ•°ã€‚è°ƒç”¨è€…ç»§ç»­ä¼ é€’panicï¼Œå› æ­¤è¯¥è¿‡ç¨‹ä¸€ç›´åœ¨è°ƒç”¨æ ˆä¸­é‡å¤å‘ç”Ÿ:å‡½æ•°åœæ­¢æ‰§è¡Œï¼Œè°ƒç”¨å»¶è¿Ÿæ‰§è¡Œå‡½æ•°ç­‰ã€‚å¦‚æœä¸€è·¯åœ¨å»¶è¿Ÿå‡½æ•°ä¸­æ²¡æœ‰recoverå‡½æ•°çš„è°ƒç”¨ï¼Œåˆ™ä¼šåˆ°è¾¾è¯¥åç¨‹çš„èµ·ç‚¹ï¼Œè¯¥åç¨‹ç»“æŸï¼Œç„¶åç»ˆæ­¢å…¶ä»–æ‰€æœ‰åç¨‹,åŒ…æ‹¬ä¸»åç¨‹(ç±»ä¼¼äºCè¯­è¨€ä¸­çš„ä¸»çº¿ç¨‹,è¯¥åç¨‹IDä¸º1)ã€‚<br><strong>panic</strong>:</p>
<ol>
<li><p>å†…å»ºå‡½æ•°</p>
</li>
<li><p>å‡å¦‚å‡½æ•°Fä¸­ä¹¦å†™äº†panicè¯­å¥ï¼Œä¼šç»ˆæ­¢å…¶åè¦æ‰§è¡Œçš„ä»£ç ï¼Œåœ¨panicæ‰€åœ¨å‡½æ•°Få†…å¦‚æœå­˜åœ¨è¦æ‰§è¡Œçš„deferå‡½æ•°åˆ—è¡¨,æŒ‰ç…§deferçš„é€†åºæ‰§è¡Œ</p>
</li>
<li><p>è¿”å›å‡½æ•°Fçš„è°ƒç”¨è€…Gï¼Œåœ¨Gä¸­ï¼Œè°ƒç”¨å‡½æ•°Fè¯­å¥ä¹‹åçš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œå‡å¦‚å‡½æ•°Gä¸­å­˜åœ¨è¦æ‰§è¡Œçš„deferå‡½æ•°åˆ—è¡¨ï¼ŒæŒ‰ç…§deferçš„é€†åºæ‰§è¡Œï¼Œè¿™é‡Œçš„deferæœ‰ç‚¹ç±»ä¼¼ try-catch-finallyä¸­çš„finally</p>
</li>
<li><p>ç›´åˆ°goroutineæ•´ä¸ªé€€å‡ºï¼Œå¹¶æŠ¥å‘Šé”™è¯¯</p>
</li>
</ol>
<p><strong>recover</strong>:</p>
<ol>
<li>å†…å»ºå‡½æ•°</li>
<li>ç”¨æ¥æ§åˆ¶ä¸€ä¸ªgoroutineçš„panickingè¡Œä¸ºï¼Œæ•è·panicï¼Œä»è€Œå½±å“åº”ç”¨çš„è¡Œä¸º</li>
<li>ä¸€èˆ¬çš„è°ƒç”¨å»ºè®®<br>a).åœ¨deferå‡½æ•°ä¸­ï¼Œé€šè¿‡recoveræ¥ç»ˆæ­¢ä¸€ä¸ªgojroutineçš„panickingè¿‡ç¨‹ï¼Œä»è€Œæ¢å¤æ­£å¸¸ä»£ç çš„æ‰§è¡Œ<br>b).å¯ä»¥è·å–é€šè¿‡panicä¼ é€’çš„error</li>
</ol>
<p><em><strong>ç®€å•æ¥è®²: goä¸­å¯ä»¥æŠ›å‡ºä¸€ä¸ªpanicçš„å¼‚å¸¸ï¼Œç„¶ååœ¨deferä¸­é€šè¿‡recoveræ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œç„¶åæ­£å¸¸å¤„ç†</strong></em>ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">if</span> msg := <span class="built_in">recover</span>(); msg != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Println(msg, <span class="string">&quot;ç¨‹åºæ¢å¤å•¦ã€‚ã€‚ã€‚&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line">	funA()</span><br><span class="line">	<span class="keyword">defer</span> myprint(<span class="string">&quot;defer mainï¼š3.....&quot;</span>)</span><br><span class="line">	funB()</span><br><span class="line">	<span class="keyword">defer</span> myprint(<span class="string">&quot;defer mainï¼š4.....&quot;</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;main..overã€‚ã€‚ã€‚ã€‚&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myprint</span><span class="params">(s <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	fmt.Println(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">funA</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªå‡½æ•°funA()....&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">funB</span><span class="params">()</span></span> &#123; <span class="comment">//å¤–å›´å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;æˆ‘æ˜¯å‡½æ•°funB()...&quot;</span>)</span><br><span class="line">	<span class="keyword">defer</span> myprint(<span class="string">&quot;defer funB()ï¼š1.....&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;i:&quot;</span>, i)</span><br><span class="line">		<span class="keyword">if</span> i == <span class="number">5</span> &#123;</span><br><span class="line">			<span class="comment">//è®©ç¨‹åºä¸­æ–­</span></span><br><span class="line">			<span class="built_in">panic</span>(<span class="string">&quot;funBå‡½æ•°ï¼Œææ…Œäº†&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="comment">//å½“å¤–å›´å‡½æ•°çš„ä»£ç ä¸­å‘ç”Ÿäº†è¿è¡Œææ…Œï¼Œåªæœ‰å…¶ä¸­æ‰€æœ‰çš„å·²ç»deferçš„å‡½æ•°å…¨éƒ¨éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œè¯¥è¿è¡Œææ…Œæ‰ä¼šçœŸæ­£è¢«æ‰©å±•è‡³è°ƒç”¨å¤„ã€‚</span></span><br><span class="line">	<span class="keyword">defer</span> myprint(<span class="string">&quot;defer funB()ï¼š2.....&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æˆ‘æ˜¯ä¸€ä¸ªå‡½æ•°funA()....</span><br><span class="line">æˆ‘æ˜¯å‡½æ•°funB()...</span><br><span class="line">i: 1</span><br><span class="line">i: 2</span><br><span class="line">i: 3</span><br><span class="line">i: 4</span><br><span class="line">i: 5</span><br><span class="line">defer funB()ï¼š1.....</span><br><span class="line">defer mainï¼š3.....</span><br><span class="line">funBå‡½æ•°ï¼Œææ…Œäº† ç¨‹åºæ¢å¤å•¦ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure>

<p>ç”±äºææ…Œå‘ç”Ÿåœ¨å¾ªç¯å†…éƒ¨ï¼Œä¹‹åçš„è¯­å¥å°†ä¸ä¼šæ‰§è¡Œã€‚ç„¶è€Œï¼Œä¹‹å‰å·²ç»è¢«<code>defer</code>å…³é”®å­—å»¶è¿Ÿæ‰§è¡Œçš„<code>myprint</code>å‡½æ•°ä»ç„¶ä¼šæ‰§è¡Œã€‚å› æ­¤ï¼Œâ€defer funB()ï¼š1â€¦..â€ä¼šè¢«è¾“å‡ºã€‚funBå‡½æ•°çš„æ‰§è¡Œå®Œæ¯•åï¼Œææ…Œä¼šè¢«ä¼ æ’­åˆ°è°ƒç”¨å¤„ï¼Œä¹Ÿå°±æ˜¯<code>main</code>å‡½æ•°ä¸­çš„åŒ¿åå‡½æ•°ã€‚åœ¨è¿™ä¸ªåŒ¿åå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<code>recover</code>å‡½æ•°æ£€æµ‹åˆ°äº†ææ…Œï¼Œæ‰€ä»¥ä¼šè¾“å‡ºææ…Œä¿¡æ¯ï¼šâ€funBå‡½æ•°ï¼Œææ…Œäº†â€ï¼Œå¹¶æ‰“å°â€ç¨‹åºæ¢å¤å•¦ã€‚ã€‚ã€‚â€ã€‚</p>
<p>é”™è¯¯å’Œå¼‚å¸¸ä»Golangæœºåˆ¶ä¸Šè®²ï¼Œå°±æ˜¯errorå’Œpanicçš„åŒºåˆ«ã€‚å¾ˆå¤šå…¶ä»–è¯­è¨€ä¹Ÿä¸€æ ·,<br>æ¯”C++&#x2F;Java,æ²¡æœ‰erroræœ‰errnoï¼Œæ²¡æœ‰panicä½†æœ‰throwã€‚<br>Golangé”™è¯¯å’Œå¼‚å¸¸æ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„:<br>1ï¼é”™è¯¯è½¬å¼‚å¸¸ï¼Œæ¯”å¦‚ç¨‹åºé€»è¾‘ä¸Šå°è¯•è¯·æ±‚æŸä¸ªURLï¼Œæœ€å¤šå°è¯•ä¸‰æ¬¡ï¼Œå°è¯•ä¸‰æ¬¡çš„è¿‡ç¨‹ä¸­è¯·æ±‚å¤±è´¥æ˜¯é”™è¯¯ï¼Œå°è¯•å®Œç¬¬ä¸‰æ¬¡è¿˜ä¸æˆåŠŸçš„è¯ï¼Œå¤±è´¥å°±è¢«æå‡ä¸ºå¼‚å¸¸äº†ã€‚<br>2ï¼å¼‚å¸¸è½¬é”™è¯¯ï¼Œæ¯”å¦‚panicè§¦å‘çš„å¼‚å¸¸è¢«recoveræ¢å¤åï¼Œå°†è¿”å›å€¼ä¸­errorç±»å‹çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œä»¥ä¾¿ä¸Šå±‚å‡½æ•°ç»§ç»­èµ°é”™è¯¯å¤„ç†æµç¨‹ã€‚</p>
<p>ä»€ä¹ˆæƒ…å†µä¸‹ç”¨é”™è¯¯è¡¨è¾¾ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ç”¨å¼‚å¸¸è¡¨è¾¾ï¼Œå°±å¾—æœ‰ä¸€å¥—è§„åˆ™ï¼Œå¦åˆ™å¾ˆå®¹æ˜“å‡ºç°ä¸€åˆ‡çš†é”™è¯¯æˆ–ä¸€åˆ‡çš†å¼‚å¸¸çš„æƒ…å†µã€‚<br>ä»¥ä¸‹ç»™å‡ºå¼‚å¸¸å¤„ç†çš„ä½œç”¨åŸŸ(åœºæ™¯)âˆ¶</p>
<blockquote>
<p>1ï¼ç©ºæŒ‡é’ˆå¼•ç”¨<br>2ï¼ä¸‹æ ‡è¶Šç•Œ<br>3ï¼é™¤æ•°ä¸º0<br>4ï¼ä¸åº”è¯¥å‡ºç°çš„åˆ†æ”¯ï¼Œæ¯”å¦‚default<br>5ï¼è¾“å…¥ä¸åº”è¯¥å¼•èµ·å‡½æ•°é”™è¯¯</p>
</blockquote>
<p>å…¶ä»–åœºæ™¯æˆ‘ä»¬ä½¿ç”¨é”™è¯¯å¤„ç†ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬çš„å‡½æ•°æ¥å£å¾ˆç²¾ç‚¼ã€‚å¯¹äºå¼‚å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨ä¸€ä¸ªåˆé€‚çš„ä¸Šæ¸¸å»recoverï¼Œå¹¶æ‰“å°å †æ ˆä¿¡æ¯ï¼Œä½¿å¾—éƒ¨ç½²åçš„ç¨‹åºä¸ä¼šç»ˆæ­¢ã€‚</p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–¹æ³•ä¸æ¥å£</title>
    <url>/2023/06/06/Go/10/</url>
    <content><![CDATA[<h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><h2 id="ä»€ä¹ˆæ˜¯æ–¹æ³•"><a href="#ä»€ä¹ˆæ˜¯æ–¹æ³•" class="headerlink" title="ä»€ä¹ˆæ˜¯æ–¹æ³•"></a>ä»€ä¹ˆæ˜¯æ–¹æ³•</h2><p>Go è¯­è¨€ä¸­åŒæ—¶æœ‰å‡½æ•°å’Œæ–¹æ³•ã€‚ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä¸€ä¸ªåŒ…å«äº†æ¥å—è€…çš„å‡½æ•°ï¼Œæ¥å—è€…å¯ä»¥æ˜¯å‘½åç±»å‹æˆ–è€…ç»“æ„ä½“ç±»å‹çš„ä¸€ä¸ªå€¼æˆ–è€…æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚æ‰€æœ‰ç»™å®šç±»å‹çš„æ–¹æ³•å±äºè¯¥ç±»å‹çš„æ–¹æ³•é›†ã€‚</p>
<p>æ–¹æ³•åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¸¦æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ¥æ”¶å™¨ç±»å‹ï¼Œå®ƒæ˜¯åœ¨funcå…³é”®å­—å’Œæ–¹æ³•åä¹‹é—´ç¼–å†™çš„ã€‚æ¥æ”¶å™¨å¯ä»¥æ˜¯structç±»å‹æˆ–éstructç±»å‹ã€‚æ¥æ”¶æ–¹å¯ä»¥åœ¨æ–¹æ³•å†…éƒ¨è®¿é—®ã€‚</p>
<h2 id="æ–¹æ³•çš„è¯­æ³•"><a href="#æ–¹æ³•çš„è¯­æ³•" class="headerlink" title="æ–¹æ³•çš„è¯­æ³•"></a>æ–¹æ³•çš„è¯­æ³•</h2><p>å®šä¹‰æ–¹æ³•çš„è¯­æ³•</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t Type)</span></span> methodName(parameter list)(<span class="keyword">return</span> list) &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcName</span><span class="params">(parameter list)</span></span>(<span class="keyword">return</span> list)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;  </span><br><span class="line">    name     <span class="type">string</span></span><br><span class="line">    salary   <span class="type">int</span></span><br><span class="line">    currency <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> displaySalary() method has Employee as the receiver type</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e Employee)</span></span> displaySalary() &#123;  </span><br><span class="line">    fmt.Printf(<span class="string">&quot;Salary of %s is %s%d&quot;</span>, e.name, e.currency, e.salary)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    emp1 := Employee &#123;</span><br><span class="line">        name:     <span class="string">&quot;Sam Adolf&quot;</span>,</span><br><span class="line">        salary:   <span class="number">5000</span>,</span><br><span class="line">        currency: <span class="string">&quot;$&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    emp1.displaySalary() <span class="comment">//Calling displaySalary() method of Employee type</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¯ä»¥å®šä¹‰ç›¸åŒçš„æ–¹æ³•å</strong></p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rectangle <span class="keyword">struct</span> &#123;</span><br><span class="line">	width, height <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Circle <span class="keyword">struct</span> &#123;</span><br><span class="line">	radius <span class="type">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span></span> area() <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> r.width * r.height</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¯¥ method å±äº Circle ç±»å‹å¯¹è±¡ä¸­çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span></span> area() <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> c.radius * c.radius * math.Pi</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	r1 := Rectangle&#123;<span class="number">12</span>, <span class="number">2</span>&#125;</span><br><span class="line">	r2 := Rectangle&#123;<span class="number">9</span>, <span class="number">4</span>&#125;</span><br><span class="line">	c1 := Circle&#123;<span class="number">10</span>&#125;</span><br><span class="line">	c2 := Circle&#123;<span class="number">25</span>&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Area of r1 is: &quot;</span>, r1.area())</span><br><span class="line">	fmt.Println(<span class="string">&quot;Area of r2 is: &quot;</span>, r2.area())</span><br><span class="line">	fmt.Println(<span class="string">&quot;Area of c1 is: &quot;</span>, c1.area())</span><br><span class="line">	fmt.Println(<span class="string">&quot;Area of c2 is: &quot;</span>, c2.area())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Area of r1 is:  24</span><br><span class="line">Area of r2 is:  36</span><br><span class="line">Area of c1 is:  314.1592653589793</span><br><span class="line">Area of c2 is:  1963.4954084936207</span><br></pre></td></tr></table></figure>

<ul>
<li>è™½ç„¶methodçš„åå­—ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœæ¥æ”¶è€…ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆmethodå°±ä¸ä¸€æ ·</li>
<li>methodé‡Œé¢å¯ä»¥è®¿é—®æ¥æ”¶è€…çš„å­—æ®µ</li>
<li>è°ƒç”¨methodé€šè¿‡.è®¿é—®ï¼Œå°±åƒstructé‡Œé¢è®¿é—®å­—æ®µä¸€æ ·</li>
</ul>
<h2 id="æ–¹æ³•å’Œå‡½æ•°"><a href="#æ–¹æ³•å’Œå‡½æ•°" class="headerlink" title="æ–¹æ³•å’Œå‡½æ•°"></a>æ–¹æ³•å’Œå‡½æ•°</h2><p>æ—¢ç„¶æˆ‘ä»¬å·²ç»æœ‰äº†å‡½æ•°ï¼Œä¸ºä»€ä¹ˆè¿˜è¦ä½¿ç”¨æ–¹æ³•ï¼Ÿ</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;  </span><br><span class="line">    name     <span class="type">string</span></span><br><span class="line">    salary   <span class="type">int</span></span><br><span class="line">    currency <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> displaySalary() method converted to function with Employee as parameter</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">displaySalary</span><span class="params">(e Employee)</span></span> &#123;  </span><br><span class="line">    fmt.Printf(<span class="string">&quot;Salary of %s is %s%d&quot;</span>, e.name, e.currency, e.salary)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    emp1 := Employee&#123;</span><br><span class="line">        name:     <span class="string">&quot;Sam Adolf&quot;</span>,</span><br><span class="line">        salary:   <span class="number">5000</span>,</span><br><span class="line">        currency: <span class="string">&quot;$&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    displaySalary(emp1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼ŒdisplaySalaryæ–¹æ³•è¢«è½¬æ¢ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè€ŒEmployee structä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒã€‚è¿™ä¸ªç¨‹åºä¹Ÿäº§ç”Ÿäº†ç›¸åŒçš„è¾“å‡ºï¼šSalary of Sam Adolf is $5000.ã€‚</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨å‡½æ•°æ¥å†™ç›¸åŒçš„ç¨‹åºå‘¢?æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› </p>
<ol>
<li>Goä¸æ˜¯ä¸€ç§çº¯ç²¹é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒä¸æ”¯æŒç±»ã€‚å› æ­¤ï¼Œç±»å‹çš„æ–¹æ³•æ˜¯ä¸€ç§å®ç°ç±»ä¼¼äºç±»çš„è¡Œä¸ºçš„æ–¹æ³•ã€‚</li>
<li>ç›¸åŒåç§°çš„æ–¹æ³•å¯ä»¥åœ¨ä¸åŒçš„ç±»å‹ä¸Šå®šä¹‰ï¼Œè€Œå…·æœ‰ç›¸åŒåç§°çš„å‡½æ•°æ˜¯ä¸å…è®¸çš„ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ­£æ–¹å½¢å’Œåœ†å½¢çš„ç»“æ„ã€‚å¯ä»¥åœ¨æ­£æ–¹å½¢å’Œåœ†å½¢ä¸Šå®šä¹‰ä¸€ä¸ªåä¸ºAreaçš„æ–¹æ³•ã€‚</li>
</ol>
<h2 id="å˜é‡ä½œç”¨åŸŸ"><a href="#å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡ä½œç”¨åŸŸ"></a>å˜é‡ä½œç”¨åŸŸ</h2><p>ä½œç”¨åŸŸä¸ºå·²å£°æ˜æ ‡è¯†ç¬¦æ‰€è¡¨ç¤ºçš„å¸¸é‡ã€ç±»å‹ã€å˜é‡ã€å‡½æ•°æˆ–åŒ…åœ¨æºä»£ç ä¸­çš„ä½œç”¨èŒƒå›´ã€‚</p>
<p>Go è¯­è¨€ä¸­å˜é‡å¯ä»¥åœ¨ä¸‰ä¸ªåœ°æ–¹å£°æ˜ï¼š</p>
<ul>
<li>å‡½æ•°å†…å®šä¹‰çš„å˜é‡ç§°ä¸ºå±€éƒ¨å˜é‡</li>
<li>å‡½æ•°å¤–å®šä¹‰çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡</li>
<li>å‡½æ•°å®šä¹‰ä¸­çš„å˜é‡ç§°ä¸ºå½¢å¼å‚æ•°</li>
</ul>
<p><strong>å±€éƒ¨å˜é‡</strong></p>
<p>åœ¨å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡ç§°ä¹‹ä¸ºå±€éƒ¨å˜é‡ï¼Œå®ƒä»¬çš„ä½œç”¨åŸŸåªåœ¨å‡½æ•°ä½“å†…ï¼Œå‚æ•°å’Œè¿”å›å€¼å˜é‡ä¹Ÿæ˜¯å±€éƒ¨å˜é‡ã€‚</p>
<p><strong>å…¨å±€å˜é‡</strong></p>
<p>åœ¨å‡½æ•°ä½“å¤–å£°æ˜çš„å˜é‡ç§°ä¹‹ä¸ºå…¨å±€å˜é‡ï¼Œé¦–å­—æ¯å¤§å†™å…¨å±€å˜é‡å¯ä»¥åœ¨æ•´ä¸ªåŒ…ç”šè‡³å¤–éƒ¨åŒ…ï¼ˆè¢«å¯¼å‡ºåï¼‰ä½¿ç”¨ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å£°æ˜å…¨å±€å˜é‡ */</span></span><br><span class="line"><span class="keyword">var</span> g <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* å£°æ˜å±€éƒ¨å˜é‡ */</span></span><br><span class="line">   <span class="keyword">var</span> a, b <span class="type">int</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* åˆå§‹åŒ–å‚æ•° */</span></span><br><span class="line">   a = <span class="number">10</span></span><br><span class="line">   b = <span class="number">20</span></span><br><span class="line">   g = a + b</span><br><span class="line"></span><br><span class="line">   fmt.Printf(<span class="string">&quot;ç»“æœï¼š a = %d, b = %d and g = %d\n&quot;</span>, a, b, g)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»“æœï¼š a = 10, b = 20 and g = 30</span><br></pre></td></tr></table></figure>

<p><strong>å½¢å¼å‚æ•°</strong></p>
<p>å½¢å¼å‚æ•°ä¼šä½œä¸ºå‡½æ•°çš„å±€éƒ¨å˜é‡æ¥ä½¿ç”¨</p>
<p><strong>æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…</strong></p>
<p>è‹¥ä¸æ˜¯ä»¥æŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…ï¼Œå®é™…åªæ˜¯è·å–äº†ä¸€ä¸ªcopyï¼Œè€Œä¸èƒ½çœŸæ­£æ”¹å˜æ¥æ”¶è€…çš„ä¸­çš„æ•°æ®</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Box)</span></span> SetColor(c Color) &#123;</span><br><span class="line">	b.color = c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Rectangle <span class="keyword">struct</span> &#123;</span><br><span class="line">	width, height <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *Rectangle)</span></span> setVal() &#123;</span><br><span class="line">	r.height = <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p := Rectangle&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line">	s := p</span><br><span class="line">	p.setVal()</span><br><span class="line">	fmt.Println(p.height, s.height)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">20 2</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡æœ‰é‚£ä¸ª*ï¼Œåˆ™å€¼å°±æ˜¯<code>2 2</code></p>
<h2 id="methodç»§æ‰¿"><a href="#methodç»§æ‰¿" class="headerlink" title="methodç»§æ‰¿"></a>methodç»§æ‰¿</h2><p>methodæ˜¯å¯ä»¥ç»§æ‰¿çš„ï¼Œå¦‚æœåŒ¿åå­—æ®µå®ç°äº†ä¸€ä¸ªmethodï¼Œé‚£ä¹ˆåŒ…å«è¿™ä¸ªåŒ¿åå­—æ®µçš„structä¹Ÿèƒ½è°ƒç”¨è¯¥method</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> &#123;</span><br><span class="line">	name  <span class="type">string</span></span><br><span class="line">	age   <span class="type">int</span></span><br><span class="line">	phone <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">	Human  <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">	school <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">	Human   <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">	company <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Human)</span></span> SayHi() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;Hi, I am %s you can call me on %s\n&quot;</span>, h.name, h.phone)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	mark := Student&#123;Human&#123;<span class="string">&quot;Mark&quot;</span>, <span class="number">25</span>, <span class="string">&quot;222-222-YYYY&quot;</span>&#125;, <span class="string">&quot;MIT&quot;</span>&#125;</span><br><span class="line">	sam := Employee&#123;Human&#123;<span class="string">&quot;Sam&quot;</span>, <span class="number">45</span>, <span class="string">&quot;111-888-XXXX&quot;</span>&#125;, <span class="string">&quot;Golang Inc&quot;</span>&#125;</span><br><span class="line">	mark.SayHi()</span><br><span class="line">	sam.SayHi()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Hi, I am Mark you can call me on <span class="number">222</span><span class="number">-222</span>-YYYY</span><br><span class="line">Hi, I am Sam you can call me on <span class="number">111</span><span class="number">-888</span>-XXXX</span><br></pre></td></tr></table></figure>

<h2 id="methodé‡å†™"><a href="#methodé‡å†™" class="headerlink" title="methodé‡å†™"></a>methodé‡å†™</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> &#123;</span><br><span class="line">	name  <span class="type">string</span></span><br><span class="line">	age   <span class="type">int</span></span><br><span class="line">	phone <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">	Human  <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">	school <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">	Human   <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">	company <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Humanå®šä¹‰method</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Human)</span></span> SayHi() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;Hi, I am %s you can call me on %s\n&quot;</span>, h.name, h.phone)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Employeeçš„methodé‡å†™Humançš„method</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Employee)</span></span> SayHi() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;Hi, I am %s, I work at %s. Call me on %s\n&quot;</span>, e.name,</span><br><span class="line">		e.company, e.phone) <span class="comment">//Yes you can split into 2 lines here.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	mark := Student&#123;Human&#123;<span class="string">&quot;Mark&quot;</span>, <span class="number">25</span>, <span class="string">&quot;222-222-YYYY&quot;</span>&#125;, <span class="string">&quot;MIT&quot;</span>&#125;</span><br><span class="line">	sam := Employee&#123;Human&#123;<span class="string">&quot;Sam&quot;</span>, <span class="number">45</span>, <span class="string">&quot;111-888-XXXX&quot;</span>&#125;, <span class="string">&quot;Golang Inc&quot;</span>&#125;</span><br><span class="line">	mark.SayHi()</span><br><span class="line">	sam.SayHi()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hi, I am Mark you can call me on 222-222-YYYY</span><br><span class="line">Hi, I am Sam, I work at Golang Inc. Call me on 111-888-XXXX</span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹æ³•æ˜¯å¯ä»¥ç»§æ‰¿å’Œé‡å†™çš„</li>
<li>å­˜åœ¨ç»§æ‰¿å…³ç³»æ—¶ï¼ŒæŒ‰ç…§å°±è¿‘åŸåˆ™ï¼Œè¿›è¡Œè°ƒç”¨</li>
</ul>
<h1 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h1><h2 id="ä»€ä¹ˆæ˜¯æ¥å£"><a href="#ä»€ä¹ˆæ˜¯æ¥å£" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¥å£"></a>ä»€ä¹ˆæ˜¯æ¥å£</h2><p>é¢å‘å¯¹è±¡ä¸–ç•Œä¸­çš„æ¥å£çš„ä¸€èˆ¬å®šä¹‰æ˜¯â€œæ¥å£å®šä¹‰å¯¹è±¡çš„è¡Œä¸ºâ€ã€‚å®ƒè¡¨ç¤ºè®©æŒ‡å®šå¯¹è±¡åº”è¯¥åšä»€ä¹ˆã€‚å®ç°è¿™ç§è¡Œä¸ºçš„æ–¹æ³•(å®ç°ç»†èŠ‚)æ˜¯é’ˆå¯¹å¯¹è±¡çš„ã€‚</p>
<p>åœ¨Goä¸­ï¼Œæ¥å£æ˜¯ä¸€ç»„æ–¹æ³•ç­¾åã€‚å½“ç±»å‹ä¸ºæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•æä¾›å®šä¹‰æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºå®ç°æ¥å£ã€‚å®ƒä¸OOPéå¸¸ç›¸ä¼¼ã€‚æ¥å£æŒ‡å®šäº†ç±»å‹åº”è¯¥å…·æœ‰çš„æ–¹æ³•ï¼Œç±»å‹å†³å®šäº†å¦‚ä½•å®ç°è¿™äº›æ–¹æ³•ã€‚</p>
<blockquote>
<p> å®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£</p>
<p> æ¥å£å®šä¹‰äº†ä¸€ç»„æ–¹æ³•ï¼Œå¦‚æœæŸä¸ªå¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œåˆ™æ­¤å¯¹è±¡å°±å®ç°äº†è¯¥æ¥å£ã€‚</p>
</blockquote>
<h2 id="æ¥å£çš„å®šä¹‰è¯­æ³•"><a href="#æ¥å£çš„å®šä¹‰è¯­æ³•" class="headerlink" title="æ¥å£çš„å®šä¹‰è¯­æ³•"></a>æ¥å£çš„å®šä¹‰è¯­æ³•</h2><p>å®šä¹‰æ¥å£</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* å®šä¹‰æ¥å£ */</span></span><br><span class="line"><span class="keyword">type</span> interface_name <span class="keyword">interface</span> &#123;</span><br><span class="line">   method_name1 [return_type]</span><br><span class="line">   method_name2 [return_type]</span><br><span class="line">   method_name3 [return_type]</span><br><span class="line">   ...</span><br><span class="line">   method_namen [return_type]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰ç»“æ„ä½“ */</span></span><br><span class="line"><span class="keyword">type</span> struct_name <span class="keyword">struct</span> &#123;</span><br><span class="line">   <span class="comment">/* variables */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®ç°æ¥å£æ–¹æ³• */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span></span> method_name1() [return_type] &#123;</span><br><span class="line">   <span class="comment">/* æ–¹æ³•å®ç° */</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span></span> method_namen() [return_type] &#123;</span><br><span class="line">   <span class="comment">/* æ–¹æ³•å®ç°*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Phone <span class="keyword">interface</span> &#123;</span><br><span class="line">    call()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> NokiaPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(nokiaPhone NokiaPhone)</span></span> call() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;I am Nokia, I can call you!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IPhone <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(iPhone IPhone)</span></span> call() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;I am iPhone, I can call you!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> phone Phone</span><br><span class="line"></span><br><span class="line">    phone = <span class="built_in">new</span>(NokiaPhone)</span><br><span class="line">    phone.call()</span><br><span class="line"></span><br><span class="line">    phone = <span class="built_in">new</span>(IPhone)</span><br><span class="line">    phone.call()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äº<code>NokiaPhone</code>ç»“æ„ä½“å®ç°äº†<code>Phone</code>æ¥å£ä¸­çš„æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥å°†å…¶èµ‹å€¼ç»™<code>phone</code>ã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">I am Nokia, I can call you!</span><br><span class="line">I am iPhone, I can call you!</span><br></pre></td></tr></table></figure>

<ul>
<li>interfaceå¯ä»¥è¢«ä»»æ„çš„å¯¹è±¡å®ç°</li>
<li>ä¸€ä¸ªå¯¹è±¡å¯ä»¥å®ç°ä»»æ„å¤šä¸ªinterface</li>
<li>ä»»æ„çš„ç±»å‹éƒ½å®ç°äº†ç©ºinterface(æˆ‘ä»¬è¿™æ ·å®šä¹‰ï¼šinterface{})ï¼Œä¹Ÿå°±æ˜¯åŒ…å«0ä¸ªmethodçš„interface</li>
</ul>
<h2 id="interfaceå€¼"><a href="#interfaceå€¼" class="headerlink" title="interfaceå€¼"></a>interfaceå€¼</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> &#123;</span><br><span class="line">	name  <span class="type">string</span></span><br><span class="line">	age   <span class="type">int</span></span><br><span class="line">	phone <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">	Human  <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">	school <span class="type">string</span></span><br><span class="line">	loan   <span class="type">float32</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> &#123;</span><br><span class="line">	Human   <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">	company <span class="type">string</span></span><br><span class="line">	money   <span class="type">float32</span></span><br><span class="line">&#125; <span class="comment">//Humanå®ç°Sayhiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> SayHi() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;Hi, I am %s you can call me on %s\n&quot;</span>, h.name, h.phone)</span><br><span class="line">&#125; <span class="comment">//Humanå®ç°Singæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> Sing(lyrics <span class="type">string</span>) &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;La la la la...&quot;</span>, lyrics)</span><br><span class="line">&#125; <span class="comment">//Employeeé‡å†™Humançš„SayHiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e Employee)</span></span> SayHi() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;Hi, I am %s, I work at %s. Call me on %s\n&quot;</span>, e.name,</span><br><span class="line">		e.company, e.phone) <span class="comment">//Yes you can split into 2 lines here.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Interface Menè¢«Human,Studentå’ŒEmployeeå®ç°</span></span><br><span class="line"><span class="comment">// å› ä¸ºè¿™ä¸‰ä¸ªç±»å‹éƒ½å®ç°äº†è¿™ä¸¤ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="keyword">type</span> Men <span class="keyword">interface</span> &#123;</span><br><span class="line">	SayHi()</span><br><span class="line">	Sing(lyrics <span class="type">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	mike := Student&#123;Human&#123;<span class="string">&quot;Mike&quot;</span>, <span class="number">25</span>, <span class="string">&quot;222-222-XXX&quot;</span>&#125;, <span class="string">&quot;MIT&quot;</span>, <span class="number">0.00</span>&#125;</span><br><span class="line">	paul := Student&#123;Human&#123;<span class="string">&quot;Paul&quot;</span>, <span class="number">26</span>, <span class="string">&quot;111-222-XXX&quot;</span>&#125;, <span class="string">&quot;Harvard&quot;</span>, <span class="number">100</span>&#125;</span><br><span class="line">	sam := Employee&#123;Human&#123;<span class="string">&quot;Sam&quot;</span>, <span class="number">36</span>, <span class="string">&quot;444-222-XXX&quot;</span>&#125;, <span class="string">&quot;Golang Inc.&quot;</span>, <span class="number">1000</span>&#125;</span><br><span class="line">	Tom := Employee&#123;Human&#123;<span class="string">&quot;Sam&quot;</span>, <span class="number">36</span>, <span class="string">&quot;444-222-XXX&quot;</span>&#125;, <span class="string">&quot;Things Ltd.&quot;</span>, <span class="number">5000</span>&#125;</span><br><span class="line">	<span class="comment">//å®šä¹‰Menç±»å‹çš„å˜é‡i</span></span><br><span class="line">	<span class="keyword">var</span> i Men</span><br><span class="line">	<span class="comment">//ièƒ½å­˜å‚¨Student</span></span><br><span class="line">	i = mike</span><br><span class="line">	fmt.Println(<span class="string">&quot;This is Mike, a Student:&quot;</span>)</span><br><span class="line">	i.SayHi()</span><br><span class="line">	i.Sing(<span class="string">&quot;November rain&quot;</span>)</span><br><span class="line">	<span class="comment">//iä¹Ÿèƒ½å­˜å‚¨Employee</span></span><br><span class="line">	i = Tom</span><br><span class="line">	fmt.Println(<span class="string">&quot;This is Tom, an Employee:&quot;</span>)</span><br><span class="line">	i.SayHi()</span><br><span class="line">	i.Sing(<span class="string">&quot;Born to be wild&quot;</span>)</span><br><span class="line">	<span class="comment">//å®šä¹‰äº†slice Men</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;Let&#x27;s use a slice of Men and see what happens&quot;</span>)</span><br><span class="line">	x := <span class="built_in">make</span>([]Men, <span class="number">3</span>)</span><br><span class="line">	<span class="comment">//Tè¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†æ˜¯ä»–ä»¬å®ç°äº†interfaceåŒä¸€ä¸ªæ¥å£</span></span><br><span class="line">	x[<span class="number">0</span>], x[<span class="number">1</span>], x[<span class="number">2</span>] = paul, sam, mike</span><br><span class="line">	<span class="keyword">for</span> _, value := <span class="keyword">range</span> x &#123;</span><br><span class="line">		value.SayHi()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">This is Mike, a Student:</span><br><span class="line">Hi, I am Mike you can call me on 222-222-XXX</span><br><span class="line">La la la la... November rain</span><br><span class="line">This is Tom, an Employee:</span><br><span class="line">Hi, I am Sam, I work at Things Ltd.. Call me on 444-222-XXX</span><br><span class="line">La la la la... Born to be wild</span><br><span class="line">Let&#x27;s use a slice of Men and see what happens</span><br><span class="line">Hi, I am Paul you can call me on 111-222-XXX</span><br><span class="line">Hi, I am Sam, I work at Golang Inc.. Call me on 444-222-XXX</span><br><span class="line">Hi, I am Mike you can call me on 222-222-XXX</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆinterfaceé‡Œé¢åˆ°åº•èƒ½å­˜ä»€ä¹ˆå€¼å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªinterfaceçš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡é‡Œé¢å¯ä»¥å­˜å®ç°è¿™ä¸ªinterfaceçš„ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚ä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªMen interfaceç±»å‹çš„å˜é‡mï¼Œé‚£ä¹ˆmé‡Œé¢å¯ä»¥å­˜Humanã€Studentæˆ–è€…Employeeå€¼</p>
<blockquote>
<p>å½“ç„¶ï¼Œä½¿ç”¨æŒ‡é’ˆçš„æ–¹å¼ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„</p>
<p>ä½†æ˜¯ï¼Œæ¥å£å¯¹è±¡ä¸èƒ½è°ƒç”¨å®ç°å¯¹è±¡çš„å±æ€§</p>
</blockquote>
<p><strong>interfaceå‡½æ•°å‚æ•°</strong></p>
<p>interfaceçš„å˜é‡å¯ä»¥æŒæœ‰ä»»æ„å®ç°è¯¥interfaceç±»å‹çš„å¯¹è±¡ï¼Œè¿™ç»™æˆ‘ä»¬ç¼–å†™å‡½æ•°(åŒ…æ‹¬method)æä¾›äº†ä¸€äº›é¢å¤–çš„æ€è€ƒï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡å®šä¹‰interfaceå‚æ•°ï¼Œè®©å‡½æ•°æ¥å—å„ç§ç±»å‹çš„å‚æ•°</p>
<p><strong>åµŒå…¥interface</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">interface</span> &#123;</span><br><span class="line">	Len()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">interface</span> &#123;</span><br><span class="line">	Human</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Test <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Test)</span></span> Len() &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;æˆåŠŸ&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s Student</span><br><span class="line">	s = <span class="built_in">new</span>(Test)</span><br><span class="line">	s.Len()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰äº†ä¸€ä¸ª<code>Student</code>æ¥å£ï¼Œå®ƒé€šè¿‡åµŒå¥—<code>Human</code>æ¥å£ï¼Œç»§æ‰¿äº†<code>Human</code>æ¥å£ä¸­çš„æ–¹æ³•ã€‚åœ¨<code>Test</code>ç»“æ„ä½“ä¸Šå®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆæ¥æ”¶è€…çš„<code>Len</code>æ–¹æ³•ã€‚è¯¥æ–¹æ³•å®ç°äº†<code>Human</code>æ¥å£ä¸­çš„<code>Len</code>æ–¹æ³•ã€‚é€šè¿‡<code>s.Len()</code>è°ƒç”¨äº†<code>Test</code>ç»“æ„ä½“ä¸­å®ç°çš„<code>Len</code>æ–¹æ³•ï¼Œå¹¶è¾“å‡ºâ€æˆåŠŸâ€ã€‚è¿™æ ·ï¼Œé€šè¿‡æ¥å£çš„åµŒå¥—ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªæ¥å£ä¸­ç»„åˆå¤šä¸ªå…¶ä»–æ¥å£ï¼Œå¹¶ä¸”å®ç°äº†åµŒå¥—æ¥å£çš„æ–¹æ³•çš„ç»“æ„ä½“ä¹Ÿè¢«è®¤ä¸ºæ˜¯å®ç°äº†åµŒå¥—æ¥å£ã€‚è¿™æ ·å¯ä»¥å®ç°æ¥å£çš„æ‰©å±•å’Œå¤ç”¨ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Controller <span class="keyword">struct</span> &#123;</span><br><span class="line">	M <span class="type">int32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Something <span class="keyword">interface</span> &#123;</span><br><span class="line">	Get()</span><br><span class="line">	Post()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *Controller)</span></span> Get() &#123;</span><br><span class="line">	fmt.Print(<span class="string">&quot;GET&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *Controller)</span></span> Post() &#123;</span><br><span class="line">	fmt.Print(<span class="string">&quot;POST&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;test&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">	test.Controller</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *T)</span></span> Get() &#123;</span><br><span class="line">	<span class="comment">//new(test.Controller).Get()</span></span><br><span class="line">	fmt.Print(<span class="string">&quot;T&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *T)</span></span> Post() &#123;</span><br><span class="line">	fmt.Print(<span class="string">&quot;T&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> something test.Something</span><br><span class="line">	something = <span class="built_in">new</span>(T)</span><br><span class="line">	<span class="keyword">var</span> t T</span><br><span class="line">	t.M = <span class="number">1</span></span><br><span class="line">	<span class="comment">//	t.Controller.M = 1</span></span><br><span class="line">	something.Get()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Controllerå®ç°äº†æ‰€æœ‰çš„Somethingæ¥å£æ–¹æ³•ï¼Œå½“ç»“æ„ä½“Tä¸­è°ƒç”¨Controllerç»“æ„ä½“çš„æ—¶å€™ï¼ŒTå°±ç›¸å½“äºJavaä¸­çš„ç»§æ‰¿ï¼ŒTç»§æ‰¿äº†Controllerï¼Œå› æ­¤ï¼ŒTå¯ä»¥ä¸ç”¨é‡å†™æ‰€æœ‰çš„Somethingæ¥å£ä¸­çš„æ–¹æ³•ï¼Œå› ä¸ºçˆ¶æ„é€ å™¨å·²ç»å®ç°äº†æ¥å£ã€‚</p>
<p>å¦‚æœControlleræ²¡æœ‰å®ç°Somethingæ¥å£æ–¹æ³•ï¼Œåˆ™Tè¦è°ƒç”¨Somethingä¸­æ–¹æ³•ï¼Œå°±è¦å®ç°å…¶æ‰€æœ‰æ–¹æ³•ã€‚</p>
<p>å¦‚æœ<code>something = new(test.Controller)</code>åˆ™è°ƒç”¨çš„æ˜¯Controllerä¸­çš„Getæ–¹æ³•ï¼ŒTå¯ä»¥ä½¿ç”¨Controllerç»“æ„ä½“ä¸­å®šä¹‰çš„å˜é‡</p>
<p>æ€»ä¹‹ï¼Œæ¥å£å¯¹è±¡ä¸èƒ½è°ƒç”¨æ¥å£å®ç°å¯¹è±¡çš„å±æ€§</p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–‡ä»¶è¯¦ç»†æ“ä½œ</title>
    <url>/2023/06/11/Go/14/</url>
    <content><![CDATA[<h1 id="Fileæ–‡ä»¶æ“ä½œ"><a href="#Fileæ–‡ä»¶æ“ä½œ" class="headerlink" title="Fileæ–‡ä»¶æ“ä½œ"></a>Fileæ–‡ä»¶æ“ä½œ</h1><p>é¦–å…ˆï¼Œfileç±»æ˜¯åœ¨osåŒ…ä¸­çš„ï¼Œå°è£…äº†åº•å±‚çš„æ–‡ä»¶æè¿°ç¬¦å’Œç›¸å…³ä¿¡æ¯ï¼ŒåŒæ—¶å°è£…äº†Readå’ŒWriteçš„å®ç°</p>
<h2 id="FileInfoæ¥å£"><a href="#FileInfoæ¥å£" class="headerlink" title="FileInfoæ¥å£"></a>FileInfoæ¥å£</h2><p>FileInfoæ¥å£ä¸­å®šä¹‰äº†Fileä¿¡æ¯ç›¸å…³çš„æ–¹æ³•ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> FileInfo <span class="keyword">interface</span> &#123;</span><br><span class="line">	Name() <span class="type">string</span>       <span class="comment">// base name of the file æ–‡ä»¶å.æ‰©å±•å 1.txt</span></span><br><span class="line">	Size() <span class="type">int64</span>        <span class="comment">// æ–‡ä»¶å¤§å°ï¼Œå­—èŠ‚æ•° 12540</span></span><br><span class="line">	Mode() FileMode     <span class="comment">// æ–‡ä»¶æƒé™ -rw-rw-rw-</span></span><br><span class="line">	ModTime() time.Time <span class="comment">// ä¿®æ”¹æ—¶é—´ 2018-04-13 16:30:53 +0800 CST</span></span><br><span class="line">	IsDir() <span class="type">bool</span>        <span class="comment">// æ˜¯å¦æ–‡ä»¶å¤¹</span></span><br><span class="line">	Sys() <span class="keyword">interface</span>&#123;&#125;   <span class="comment">// åŸºç¡€æ•°æ®æºæ¥å£(can return nil)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fileInfo, err := os.Stat(<span class="string">&quot;main/1.md&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err :&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, fileInfo)</span><br><span class="line">	<span class="comment">//æ–‡ä»¶å</span></span><br><span class="line">	fmt.Println(fileInfo.Name())</span><br><span class="line">	<span class="comment">//æ–‡ä»¶å¤§å°</span></span><br><span class="line">	fmt.Println(fileInfo.Size())</span><br><span class="line">	<span class="comment">//æ˜¯å¦æ˜¯ç›®å½•</span></span><br><span class="line">	fmt.Println(fileInfo.IsDir()) <span class="comment">//IsDirectory</span></span><br><span class="line">	<span class="comment">//ä¿®æ”¹æ—¶é—´</span></span><br><span class="line">	fmt.Println(fileInfo.ModTime())</span><br><span class="line">	<span class="comment">//æƒé™</span></span><br><span class="line">	fmt.Println(fileInfo.Mode()) <span class="comment">//-rw-r--r--</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*os.fileStat</span><br><span class="line">1.md</span><br><span class="line">47</span><br><span class="line">false</span><br><span class="line">2023-06-10 21:30:41.7576415 +0800 CST</span><br><span class="line">-rw-rw-rw-</span><br></pre></td></tr></table></figure>

<h2 id="æƒé™"><a href="#æƒé™" class="headerlink" title="æƒé™"></a>æƒé™</h2><p>è‡³äºæ“ä½œæƒé™permï¼Œé™¤éåˆ›å»ºæ–‡ä»¶æ—¶æ‰éœ€è¦æŒ‡å®šï¼Œä¸éœ€è¦åˆ›å»ºæ–°æ–‡ä»¶æ—¶å¯ä»¥å°†å…¶è®¾å®šä¸ºï¼ã€‚è™½ç„¶goè¯­è¨€ç»™permæƒé™è®¾å®šäº†å¾ˆå¤šçš„å¸¸é‡ï¼Œä½†æ˜¯ä¹ æƒ¯ä¸Šä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ•°å­—ï¼Œå¦‚0666(å…·ä½“å«ä¹‰å’ŒUnixç³»ç»Ÿçš„ä¸€è‡´)ã€‚</p>
<p>æƒé™æ§åˆ¶ï¼š</p>
<p>linux ä¸‹æœ‰2ç§æ–‡ä»¶æƒé™è¡¨ç¤ºæ–¹å¼ï¼Œå³â€œç¬¦å·è¡¨ç¤ºâ€å’Œâ€œå…«è¿›åˆ¶è¡¨ç¤ºâ€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰ç¬¦å·è¡¨ç¤ºæ–¹å¼:</span><br><span class="line"></span><br><span class="line">-      ---         ---        ---</span><br><span class="line"></span><br><span class="line">type   owner       group      others</span><br><span class="line">æ–‡ä»¶çš„æƒé™æ˜¯è¿™æ ·å­åˆ†é…çš„ è¯» å†™ å¯æ‰§è¡Œ åˆ†åˆ«å¯¹åº”çš„æ˜¯ r w x å¦‚æœæ²¡æœ‰é‚£ä¸€ä¸ªæƒé™ï¼Œç”¨ - ä»£æ›¿</span><br><span class="line">(-æ–‡ä»¶ dç›®å½• |è¿æ¥ç¬¦å·)</span><br><span class="line">ä¾‹å¦‚ï¼š-rwxr-xr-x</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰å…«è¿›åˆ¶è¡¨ç¤ºæ–¹å¼ï¼š	</span><br><span class="line">r â€”â€”&gt; 004</span><br><span class="line">w â€”â€”&gt; 002</span><br><span class="line">x â€”â€”&gt; 001</span><br><span class="line">- â€”â€”&gt; 000</span><br><span class="line"></span><br><span class="line">0755</span><br><span class="line">0777ï¼ˆownerï¼Œgroupï¼Œotherséƒ½æ˜¯å¯è¯»å¯å†™å¯æ‰§è¡Œï¼‰</span><br><span class="line">0555</span><br><span class="line">0444</span><br><span class="line">0666</span><br></pre></td></tr></table></figure>

<h2 id="æ‰“å¼€æ¨¡å¼"><a href="#æ‰“å¼€æ¨¡å¼" class="headerlink" title="æ‰“å¼€æ¨¡å¼"></a>æ‰“å¼€æ¨¡å¼</h2><p>æ–‡ä»¶æ‰“å¼€æ¨¡å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    O_RDONLY <span class="type">int</span> = syscall.O_RDONLY <span class="comment">// åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    O_WRONLY <span class="type">int</span> = syscall.O_WRONLY <span class="comment">// åªå†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    O_RDWR   <span class="type">int</span> = syscall.O_RDWR   <span class="comment">// è¯»å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    O_APPEND <span class="type">int</span> = syscall.O_APPEND <span class="comment">// å†™æ“ä½œæ—¶å°†æ•°æ®é™„åŠ åˆ°æ–‡ä»¶å°¾éƒ¨</span></span><br><span class="line">    O_CREATE <span class="type">int</span> = syscall.O_CREAT  <span class="comment">// å¦‚æœä¸å­˜åœ¨å°†åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶</span></span><br><span class="line">    O_EXCL   <span class="type">int</span> = syscall.O_EXCL   <span class="comment">// å’ŒO_CREATEé…åˆä½¿ç”¨ï¼Œæ–‡ä»¶å¿…é¡»ä¸å­˜åœ¨</span></span><br><span class="line">    O_SYNC   <span class="type">int</span> = syscall.O_SYNC   <span class="comment">// æ‰“å¼€æ–‡ä»¶ç”¨äºåŒæ­¥I/O</span></span><br><span class="line">    O_TRUNC  <span class="type">int</span> = syscall.O_TRUNC  <span class="comment">// å¦‚æœå¯èƒ½ï¼Œæ‰“å¼€æ—¶æ¸…ç©ºæ–‡ä»¶</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="Fileæ“ä½œ"><a href="#Fileæ“ä½œ" class="headerlink" title="Fileæ“ä½œ"></a>Fileæ“ä½œ</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> File</span><br><span class="line"><span class="comment">//Fileä»£è¡¨ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Create</span><span class="params">(name <span class="type">string</span>)</span></span> (file *File, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Createé‡‡ç”¨æ¨¡å¼0666ï¼ˆä»»ä½•äººéƒ½å¯è¯»å†™ï¼Œä¸å¯æ‰§è¡Œï¼‰åˆ›å»ºä¸€ä¸ªåä¸ºnameçš„æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨ä¼šæˆªæ–­å®ƒï¼ˆä¸ºç©ºæ–‡ä»¶ï¼‰ã€‚å¦‚æœæˆåŠŸï¼Œè¿”å›çš„æ–‡ä»¶å¯¹è±¡å¯ç”¨äºI/Oï¼›å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦å…·æœ‰O_RDWRæ¨¡å¼ã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Open</span><span class="params">(name <span class="type">string</span>)</span></span> (file *File, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Openæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å–ã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œè¿”å›çš„æ–‡ä»¶å¯¹è±¡çš„æ–¹æ³•å¯ç”¨äºè¯»å–æ•°æ®ï¼›å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦å…·æœ‰O_RDONLYæ¨¡å¼ã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">OpenFile</span><span class="params">(name <span class="type">string</span>, flag <span class="type">int</span>, perm FileMode)</span></span> (file *File, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//OpenFileæ˜¯ä¸€ä¸ªæ›´ä¸€èˆ¬æ€§çš„æ–‡ä»¶æ‰“å¼€å‡½æ•°ï¼Œå¤§å¤šæ•°è°ƒç”¨è€…éƒ½åº”ç”¨Openæˆ–Createä»£æ›¿æœ¬å‡½æ•°ã€‚å®ƒä¼šä½¿ç”¨æŒ‡å®šçš„é€‰é¡¹ï¼ˆå¦‚O_RDONLYç­‰ï¼‰ã€æŒ‡å®šçš„æ¨¡å¼ï¼ˆå¦‚0666ç­‰ï¼‰æ‰“å¼€æŒ‡å®šåç§°çš„æ–‡ä»¶ã€‚å¦‚æœæ“ä½œæˆåŠŸï¼Œè¿”å›çš„æ–‡ä»¶å¯¹è±¡å¯ç”¨äºI/Oã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewFile</span><span class="params">(fd <span class="type">uintptr</span>, name <span class="type">string</span>)</span></span> *File</span><br><span class="line"><span class="comment">//NewFileä½¿ç”¨ç»™å‡ºçš„Unixæ–‡ä»¶æè¿°ç¬¦å’Œåç§°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Pipe</span><span class="params">()</span></span> (r *File, w *File, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Pipeè¿”å›ä¸€å¯¹å…³è”çš„æ–‡ä»¶å¯¹è±¡ã€‚ä»rçš„è¯»å–å°†è¿”å›å†™å…¥wçš„æ•°æ®ã€‚æœ¬å‡½æ•°ä¼šè¿”å›ä¸¤ä¸ªæ–‡ä»¶å¯¹è±¡å’Œå¯èƒ½çš„é”™è¯¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Name() <span class="type">string</span></span><br><span class="line"><span class="comment">//Nameæ–¹æ³•è¿”å›ï¼ˆæä¾›ç»™Open/Createç­‰æ–¹æ³•çš„ï¼‰æ–‡ä»¶åç§°ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Stat() (fi FileInfo, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Statè¿”å›æè¿°æ–‡ä»¶fçš„FileInfoç±»å‹å€¼ã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Fd() <span class="type">uintptr</span></span><br><span class="line"><span class="comment">//Fdè¿”å›ä¸æ–‡ä»¶få¯¹åº”çš„æ•´æ•°ç±»å‹çš„Unixæ–‡ä»¶æè¿°ç¬¦ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Chdir() <span class="type">error</span></span><br><span class="line"><span class="comment">//Chdirå°†å½“å‰å·¥ä½œç›®å½•ä¿®æ”¹ä¸ºfï¼Œfå¿…é¡»æ˜¯ä¸€ä¸ªç›®å½•ã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Chmod(mode FileMode) <span class="type">error</span></span><br><span class="line"><span class="comment">//Chmodä¿®æ”¹æ–‡ä»¶çš„æ¨¡å¼ã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Chown(uid, gid <span class="type">int</span>) <span class="type">error</span></span><br><span class="line"><span class="comment">//Chownä¿®æ”¹æ–‡ä»¶çš„ç”¨æˆ·IDå’Œç»„IDã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Close() <span class="type">error</span></span><br><span class="line"><span class="comment">//Closeå…³é—­æ–‡ä»¶fï¼Œä½¿æ–‡ä»¶ä¸èƒ½ç”¨äºè¯»å†™ã€‚å®ƒè¿”å›å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;path/filepath&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.è·¯å¾„</span></span><br><span class="line">	fileName1 := <span class="string">&quot;C:\\GolandProjects\\GoProject1\\main\\1.md&quot;</span></span><br><span class="line">	fileName2 := <span class="string">&quot;main/1.md&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line">	fmt.Println(filepath.IsAbs(fileName1)) <span class="comment">//true</span></span><br><span class="line">	fmt.Println(filepath.IsAbs(fileName2)) <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//è½¬åŒ–ä¸ºç»å¯¹è·¯å¾„</span></span><br><span class="line">	<span class="comment">//fmt.Println(filepath.Abs(fileName1))</span></span><br><span class="line">	<span class="comment">//fmt.Println(filepath.Abs(fileName2)) // C:\GolandProjects\GoProject1\main\1.md &lt;nil&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.è·å–ç›®å½•</span></span><br><span class="line">	<span class="comment">//fmt.Println(&quot;è·å–çˆ¶ç›®å½•ï¼š&quot;, filepath.Join(fileName1, &quot;..&quot;))</span></span><br><span class="line">	<span class="comment">//fmt.Println(&quot;è·å–çˆ¶ç›®å½•ï¼š&quot;, filepath.Dir(fileName1))</span></span><br><span class="line">	<span class="comment">//fmt.Println(&quot;è·å–å½“å‰ç›®å½•ï¼š&quot;, filepath.Join(fileName1, &quot;.&quot;))</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.åˆ›å»ºç›®å½•</span></span><br><span class="line">	err := os.Mkdir(<span class="string">&quot;main/app&quot;</span>, os.ModePerm) <span class="comment">//æƒé™0777</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err:&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸã€‚ã€‚&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//err := os.MkdirAll(&quot;main/a/b/c&quot;, os.ModePerm)</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(&quot;err:&quot;, err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(&quot;å¤šå±‚æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸ&quot;)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//3.åˆ›å»ºæ–‡ä»¶:Createé‡‡ç”¨æ¨¡å¼0666ï¼ˆä»»ä½•äººéƒ½å¯è¯»å†™ï¼Œä¸å¯æ‰§è¡Œï¼‰åˆ›å»ºä¸€ä¸ªåä¸ºnameçš„æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨ä¼šæˆªæ–­å®ƒï¼ˆä¸ºç©ºæ–‡ä»¶ï¼‰</span></span><br><span class="line">	<span class="comment">//file1, err := os.Create(fileName1)</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(&quot;errï¼š&quot;, err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(file1)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//file2, err := os.Create(fileName2) //åˆ›å»ºç›¸å¯¹è·¯å¾„çš„æ–‡ä»¶ï¼Œæ˜¯ä»¥å½“å‰å·¥ç¨‹ä¸ºå‚ç…§çš„</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(&quot;err :&quot;, err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(file2)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.æ‰“å¼€æ–‡ä»¶ï¼š</span></span><br><span class="line">	<span class="comment">//file3, err := os.Open(fileName1) //åªè¯»çš„</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(&quot;err:&quot;, err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(file3)</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment">		ç¬¬äºŒä¸ªå‚æ•°ï¼šæ–‡ä»¶çš„æ‰“å¼€æ–¹å¼</span></span><br><span class="line"><span class="comment">			const (</span></span><br><span class="line"><span class="comment">		// Exactly one of O_RDONLY, O_WRONLY, or O_RDWR must be specified.</span></span><br><span class="line"><span class="comment">			O_RDONLY int = syscall.O_RDONLY // open the file read-only.</span></span><br><span class="line"><span class="comment">			O_WRONLY int = syscall.O_WRONLY // open the file write-only.</span></span><br><span class="line"><span class="comment">			O_RDWR   int = syscall.O_RDWR   // open the file read-write.</span></span><br><span class="line"><span class="comment">			// The remaining values may be or&#x27;ed in to control behavior.</span></span><br><span class="line"><span class="comment">			O_APPEND int = syscall.O_APPEND // append data to the file when writing.</span></span><br><span class="line"><span class="comment">			O_CREATE int = syscall.O_CREAT  // create a new file if none exists.</span></span><br><span class="line"><span class="comment">			O_EXCL   int = syscall.O_EXCL   // used with O_CREATE, file must not exist.</span></span><br><span class="line"><span class="comment">			O_SYNC   int = syscall.O_SYNC   // open for synchronous I/O.</span></span><br><span class="line"><span class="comment">			O_TRUNC  int = syscall.O_TRUNC  // truncate regular writable file when opened.</span></span><br><span class="line"><span class="comment">		)</span></span><br><span class="line"><span class="comment">		ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæ–‡ä»¶çš„æƒé™ï¼šæ–‡ä»¶ä¸å­˜åœ¨åˆ›å»ºæ–‡ä»¶ï¼Œéœ€è¦æŒ‡å®šæƒé™</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="comment">//file4, err := os.OpenFile(fileName1, os.O_RDONLY|os.O_WRONLY, os.ModePerm)</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(&quot;err:&quot;, err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(file4)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//5å…³é—­æ–‡ä»¶ï¼Œ</span></span><br><span class="line">	<span class="comment">//err := file4.Close()</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//6.åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼š</span></span><br><span class="line">	<span class="comment">//åˆ é™¤æ–‡ä»¶(è¯¥æ–¹æ³•ä¹Ÿå¯ä»¥åˆ é™¤ç©ºç›®å½•)</span></span><br><span class="line">	<span class="comment">//err := os.Remove(&quot;main/1.md&quot;)</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(&quot;err:&quot;, err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(&quot;åˆ é™¤æ–‡ä»¶æˆåŠŸã€‚ã€‚&quot;)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ é™¤ç›®å½•</span></span><br><span class="line">	<span class="comment">//err := os.RemoveAll(&quot;main/a/b/c&quot;)</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(&quot;err:&quot;, err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(&quot;åˆ é™¤ç›®å½•æˆåŠŸã€‚ã€‚</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–‡ä»¶è¯»å–"><a href="#æ–‡ä»¶è¯»å–" class="headerlink" title="æ–‡ä»¶è¯»å–"></a>æ–‡ä»¶è¯»å–</h2><p>æ–‡ä»¶çš„æ“ä½œå‡½æ•°å’Œæ–¹æ³•çš„ä»‹ç»ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Readdir(n <span class="type">int</span>) (fi []FileInfo, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Readdirè¯»å–ç›®å½•fçš„å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªæœ‰nä¸ªæˆå‘˜çš„[]FileInfoï¼Œè¿™äº›FileInfoæ˜¯è¢«Lstatè¿”å›çš„ï¼Œé‡‡ç”¨ç›®å½•é¡ºåºã€‚å¯¹æœ¬å‡½æ•°çš„ä¸‹ä¸€æ¬¡è°ƒç”¨ä¼šè¿”å›ä¸Šä¸€æ¬¡è°ƒç”¨å‰©ä½™æœªè¯»å–çš„å†…å®¹çš„ä¿¡æ¯ã€‚å¦‚æœn&gt;0ï¼ŒReaddirå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæœ€å¤šnä¸ªæˆå‘˜çš„åˆ‡ç‰‡ã€‚è¿™æ—¶ï¼Œå¦‚æœReaddirè¿”å›ä¸€ä¸ªç©ºåˆ‡ç‰‡ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªénilçš„é”™è¯¯è¯´æ˜åŸå› ã€‚å¦‚æœåˆ°è¾¾äº†ç›®å½•fçš„ç»“å°¾ï¼Œè¿”å›å€¼errä¼šæ˜¯io.EOFã€‚å¦‚æœn&lt;=0ï¼ŒReaddirå‡½æ•°è¿”å›ç›®å½•ä¸­å‰©ä½™æ‰€æœ‰æ–‡ä»¶å¯¹è±¡çš„FileInfoæ„æˆçš„åˆ‡ç‰‡ã€‚æ­¤æ—¶ï¼Œå¦‚æœReaddirè°ƒç”¨æˆåŠŸï¼ˆè¯»å–æ‰€æœ‰å†…å®¹ç›´åˆ°ç»“å°¾ï¼‰ï¼Œå®ƒä¼šè¿”å›è¯¥åˆ‡ç‰‡å’Œnilçš„é”™è¯¯å€¼ã€‚å¦‚æœåœ¨åˆ°è¾¾ç»“å°¾å‰é‡åˆ°é”™è¯¯ï¼Œä¼šè¿”å›ä¹‹å‰æˆåŠŸè¯»å–çš„FileInfoæ„æˆçš„åˆ‡ç‰‡å’Œè¯¥é”™è¯¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Readdirnames(n <span class="type">int</span>) (names []<span class="type">string</span>, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Readdirè¯»å–ç›®å½•fçš„å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªæœ‰nä¸ªæˆå‘˜çš„[]stringï¼Œåˆ‡ç‰‡æˆå‘˜ä¸ºç›®å½•ä¸­æ–‡ä»¶å¯¹è±¡çš„åå­—ï¼Œé‡‡ç”¨ç›®å½•é¡ºåºã€‚å¯¹æœ¬å‡½æ•°çš„ä¸‹ä¸€æ¬¡è°ƒç”¨ä¼šè¿”å›ä¸Šä¸€æ¬¡è°ƒç”¨å‰©ä½™æœªè¯»å–çš„å†…å®¹çš„ä¿¡æ¯ã€‚å¦‚æœn&gt;0ï¼ŒReaddirå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæœ€å¤šnä¸ªæˆå‘˜çš„åˆ‡ç‰‡ã€‚è¿™æ—¶ï¼Œå¦‚æœReaddirè¿”å›ä¸€ä¸ªç©ºåˆ‡ç‰‡ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªénilçš„é”™è¯¯è¯´æ˜åŸå› ã€‚å¦‚æœåˆ°è¾¾äº†ç›®å½•fçš„ç»“å°¾ï¼Œè¿”å›å€¼errä¼šæ˜¯io.EOFã€‚å¦‚æœn&lt;=0ï¼ŒReaddirå‡½æ•°è¿”å›ç›®å½•ä¸­å‰©ä½™æ‰€æœ‰æ–‡ä»¶å¯¹è±¡çš„åå­—æ„æˆçš„åˆ‡ç‰‡ã€‚æ­¤æ—¶ï¼Œå¦‚æœReaddirè°ƒç”¨æˆåŠŸï¼ˆè¯»å–æ‰€æœ‰å†…å®¹ç›´åˆ°ç»“å°¾ï¼‰ï¼Œå®ƒä¼šè¿”å›è¯¥åˆ‡ç‰‡å’Œnilçš„é”™è¯¯å€¼ã€‚å¦‚æœåœ¨åˆ°è¾¾ç»“å°¾å‰é‡åˆ°é”™è¯¯ï¼Œä¼šè¿”å›ä¹‹å‰æˆåŠŸè¯»å–çš„åå­—æ„æˆçš„åˆ‡ç‰‡å’Œè¯¥é”™è¯¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Truncate(size <span class="type">int64</span>) <span class="type">error</span></span><br><span class="line"><span class="comment">//Truncateæ”¹å˜æ–‡ä»¶çš„å¤§å°ï¼Œå®ƒä¸ä¼šæ”¹å˜I/Oçš„å½“å‰ä½ç½®ã€‚ å¦‚æœæˆªæ–­æ–‡ä»¶ï¼Œå¤šå‡ºçš„éƒ¨åˆ†å°±ä¼šè¢«ä¸¢å¼ƒã€‚å¦‚æœå‡ºé”™ï¼Œé”™è¯¯åº•å±‚ç±»å‹æ˜¯*PathErrorã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Read(b []<span class="type">byte</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Readæ–¹æ³•ä»fä¸­è¯»å–æœ€å¤šlen(b)å­—èŠ‚æ•°æ®å¹¶å†™å…¥bã€‚å®ƒè¿”å›è¯»å–çš„å­—èŠ‚æ•°å’Œå¯èƒ½é‡åˆ°çš„ä»»ä½•é”™è¯¯ã€‚æ–‡ä»¶ç»ˆæ­¢æ ‡å¿—æ˜¯è¯»å–0ä¸ªå­—èŠ‚ä¸”è¿”å›å€¼errä¸ºio.EOFã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> ReadAt(b []<span class="type">byte</span>, off <span class="type">int64</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//ReadAtä»æŒ‡å®šçš„ä½ç½®ï¼ˆç›¸å¯¹äºæ–‡ä»¶å¼€å§‹ä½ç½®ï¼‰è¯»å–len(b)å­—èŠ‚æ•°æ®å¹¶å†™å…¥bã€‚å®ƒè¿”å›è¯»å–çš„å­—èŠ‚æ•°å’Œå¯èƒ½é‡åˆ°çš„ä»»ä½•é”™è¯¯ã€‚å½“n&lt;len(b)æ—¶ï¼Œæœ¬æ–¹æ³•æ€»æ˜¯ä¼šè¿”å›é”™è¯¯ï¼›å¦‚æœæ˜¯å› ä¸ºåˆ°è¾¾æ–‡ä»¶ç»“å°¾ï¼Œè¿”å›å€¼errä¼šæ˜¯io.EOFã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Write(b []<span class="type">byte</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Writeå‘æ–‡ä»¶ä¸­å†™å…¥len(b)å­—èŠ‚æ•°æ®ã€‚å®ƒè¿”å›å†™å…¥çš„å­—èŠ‚æ•°å’Œå¯èƒ½é‡åˆ°çš„ä»»ä½•é”™è¯¯ã€‚å¦‚æœè¿”å›å€¼n!=len(b)ï¼Œæœ¬æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªénilçš„é”™è¯¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> WriteString(s <span class="type">string</span>) (ret <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//WriteStringç±»ä¼¼Writeï¼Œä½†æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> WriteAt(b []<span class="type">byte</span>, off <span class="type">int64</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//WriteAtåœ¨æŒ‡å®šçš„ä½ç½®ï¼ˆç›¸å¯¹äºæ–‡ä»¶å¼€å§‹ä½ç½®ï¼‰å†™å…¥len(b)å­—èŠ‚æ•°æ®ã€‚å®ƒè¿”å›å†™å…¥çš„å­—èŠ‚æ•°å’Œå¯èƒ½é‡åˆ°çš„ä»»ä½•é”™è¯¯ã€‚å¦‚æœè¿”å›å€¼n!=len(b)ï¼Œæœ¬æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªénilçš„é”™è¯¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Seek(offset <span class="type">int64</span>, whence <span class="type">int</span>) (ret <span class="type">int64</span>, err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Seekè®¾ç½®ä¸‹ä¸€æ¬¡è¯»/å†™çš„ä½ç½®ã€‚offsetä¸ºç›¸å¯¹åç§»é‡ï¼Œè€Œwhenceå†³å®šç›¸å¯¹ä½ç½®ï¼š0ä¸ºç›¸å¯¹æ–‡ä»¶å¼€å¤´ï¼Œ1ä¸ºç›¸å¯¹å½“å‰ä½ç½®ï¼Œ2ä¸ºç›¸å¯¹æ–‡ä»¶ç»“å°¾ã€‚å®ƒè¿”å›æ–°çš„åç§»é‡ï¼ˆç›¸å¯¹å¼€å¤´ï¼‰å’Œå¯èƒ½çš„é”™è¯¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(f *File)</span></span> Sync() (err <span class="type">error</span>)</span><br><span class="line"><span class="comment">//Syncé€’äº¤æ–‡ä»¶çš„å½“å‰å†…å®¹è¿›è¡Œç¨³å®šçš„å­˜å‚¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™è¡¨ç¤ºå°†æ–‡ä»¶ç³»ç»Ÿçš„æœ€è¿‘å†™å…¥çš„æ•°æ®åœ¨å†…å­˜ä¸­çš„æ‹·è´åˆ·æ–°åˆ°ç¡¬ç›˜ä¸­ç¨³å®šä¿å­˜ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="I-x2F-Oæ“ä½œ"><a href="#I-x2F-Oæ“ä½œ" class="headerlink" title="I&#x2F;Oæ“ä½œ"></a>I&#x2F;Oæ“ä½œ</h1><p>I&#x2F;Oæ“ä½œä¹Ÿå«è¾“å…¥è¾“å‡ºæ“ä½œã€‚å…¶ä¸­Iæ˜¯æŒ‡Inputï¼ŒOæ˜¯æŒ‡Outputï¼Œç”¨äºè¯»æˆ–è€…å†™æ•°æ®çš„ï¼Œæœ‰äº›è¯­è¨€ä¸­ä¹Ÿå«æµæ“ä½œï¼Œæ˜¯æŒ‡æ•°æ®é€šä¿¡çš„é€šé“ã€‚</p>
<p>Golang æ ‡å‡†åº“å¯¹ IO çš„æŠ½è±¡éå¸¸ç²¾å·§ï¼Œå„ä¸ªç»„ä»¶å¯ä»¥éšæ„ç»„åˆï¼Œå¯ä»¥ä½œä¸ºæ¥å£è®¾è®¡çš„å…¸èŒƒã€‚</p>
<h2 id="ioåŒ…"><a href="#ioåŒ…" class="headerlink" title="ioåŒ…"></a>ioåŒ…</h2><p>ioåŒ…ä¸­æä¾›I&#x2F;OåŸå§‹æ“ä½œçš„ä¸€ç³»åˆ—æ¥å£ã€‚å®ƒä¸»è¦åŒ…è£…äº†ä¸€äº›å·²æœ‰çš„å®ç°ï¼Œå¦‚ os åŒ…ä¸­çš„é‚£äº›ï¼Œå¹¶å°†è¿™äº›æŠ½è±¡æˆä¸ºå®ç”¨æ€§çš„åŠŸèƒ½å’Œä¸€äº›å…¶ä»–ç›¸å…³çš„æ¥å£ã€‚</p>
<p>ç”±äºè¿™äº›æ¥å£å’ŒåŸå§‹çš„æ“ä½œä»¥ä¸åŒçš„å®ç°åŒ…è£…äº†ä½çº§æ“ä½œï¼Œå®¢æˆ·ä¸åº”å‡å®šå®ƒä»¬å¯¹äºå¹¶è¡Œæ‰§è¡Œæ˜¯å®‰å…¨çš„ã€‚</p>
<p>åœ¨ioåŒ…ä¸­æœ€é‡è¦çš„æ˜¯ä¸¤ä¸ªæ¥å£ï¼šReaderå’ŒWriteræ¥å£ï¼Œé¦–å…ˆæ¥ä»‹ç»è¿™ä¸¤ä¸ªæ¥å£ã€‚</p>
<p>Readeræ¥å£çš„å®šä¹‰ï¼ŒRead()æ–¹æ³•ç”¨äºè¯»å–æ•°æ®ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> &#123;</span><br><span class="line">        Read(p []<span class="type">byte</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Read å°† len(p) ä¸ªå­—èŠ‚è¯»å–åˆ° p ä¸­ã€‚å®ƒè¿”å›è¯»å–çš„å­—èŠ‚æ•° nï¼ˆ0 &lt;&#x3D; n &lt;&#x3D; len(p)ï¼‰ä»¥åŠä»»ä½•é‡åˆ°çš„é”™è¯¯ã€‚å³ä½¿ Read è¿”å›çš„ n &lt; len(p)ï¼Œå®ƒä¹Ÿä¼šåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ä½¿ç”¨ pçš„å…¨éƒ¨ä½œä¸ºæš‚å­˜ç©ºé—´ã€‚è‹¥ä¸€äº›æ•°æ®å¯ç”¨ä½†ä¸åˆ° len(p) ä¸ªå­—èŠ‚ï¼ŒRead ä¼šç…§ä¾‹è¿”å›å¯ç”¨çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯ç­‰å¾…æ›´å¤šã€‚</p>
<p>å½“ Read åœ¨æˆåŠŸè¯»å– n &gt; 0 ä¸ªå­—èŠ‚åé‡åˆ°ä¸€ä¸ªé”™è¯¯æˆ– EOF æƒ…å†µï¼Œå®ƒå°±ä¼šè¿”å›è¯»å–çš„å­—èŠ‚æ•°ã€‚å®ƒä¼šä»ç›¸åŒçš„è°ƒç”¨ä¸­è¿”å›ï¼ˆénilçš„ï¼‰é”™è¯¯æˆ–ä»éšåçš„è°ƒç”¨ä¸­è¿”å›é”™è¯¯ï¼ˆå’Œ n &#x3D;&#x3D; 0ï¼‰ã€‚è¿™ç§ä¸€èˆ¬æƒ…å†µçš„ä¸€ä¸ªä¾‹å­å°±æ˜¯ Reader åœ¨è¾“å…¥æµç»“æŸæ—¶ä¼šè¿”å›ä¸€ä¸ªéé›¶çš„å­—èŠ‚æ•°ï¼Œå¯èƒ½çš„è¿”å›ä¸æ˜¯ err &#x3D;&#x3D; EOF å°±æ˜¯ err &#x3D;&#x3D; nilã€‚æ— è®ºå¦‚ä½•ï¼Œä¸‹ä¸€ä¸ª Read éƒ½åº”å½“è¿”å› 0, EOFã€‚</p>
<p>è°ƒç”¨è€…åº”å½“æ€»åœ¨è€ƒè™‘åˆ°é”™è¯¯ err å‰å¤„ç† n &gt; 0 çš„å­—èŠ‚ã€‚è¿™æ ·åšå¯ä»¥åœ¨è¯»å–ä¸€äº›å­—èŠ‚ï¼Œä»¥åŠå…è®¸çš„ EOF è¡Œä¸ºåæ­£ç¡®åœ°å¤„ç†I&#x2F;Oé”™è¯¯ã€‚</p>
<p>Read çš„å®ç°ä¼šé˜»æ­¢è¿”å›é›¶å­—èŠ‚çš„è®¡æ•°å’Œä¸€ä¸ª nil é”™è¯¯ï¼Œè°ƒç”¨è€…åº”å°†è¿™ç§æƒ…å†µè§†ä½œç©ºæ“ä½œã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		è¯»å–æ•°æ®ï¼š</span></span><br><span class="line"><span class="comment">			Readeræ¥å£ï¼š</span></span><br><span class="line"><span class="comment">				Read(p []byte)(n int, error)</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="comment">//è¯»å–æœ¬åœ°1.txtæ–‡ä»¶ä¸­çš„æ•°æ®</span></span><br><span class="line">	<span class="comment">//step1ï¼šæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">	fileName := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	file, err := os.Open(fileName)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err:&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//step3ï¼šå…³é—­æ–‡ä»¶</span></span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">(file *os.File)</span></span> &#123;</span><br><span class="line">		err := file.Close()</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;(file)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//step2ï¼šè¯»å–æ•°æ®</span></span><br><span class="line">	bs := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		//ç¬¬ä¸€æ¬¡è¯»å–</span></span><br><span class="line"><span class="comment">		n, err := file.Read(bs)</span></span><br><span class="line"><span class="comment">		fmt.Println(err)        //&lt;nil&gt;</span></span><br><span class="line"><span class="comment">		fmt.Println(n)          //4</span></span><br><span class="line"><span class="comment">		fmt.Println(bs)         //[97 98 99 100]</span></span><br><span class="line"><span class="comment">		fmt.Println(string(bs)) //abcd</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		//ç¬¬äºŒæ¬¡è¯»å–</span></span><br><span class="line"><span class="comment">		n, err = file.Read(bs)</span></span><br><span class="line"><span class="comment">		fmt.Println(err)        //&lt;nil&gt;</span></span><br><span class="line"><span class="comment">		fmt.Println(n)          //4</span></span><br><span class="line"><span class="comment">		fmt.Println(bs)         //[101 102 103 104]</span></span><br><span class="line"><span class="comment">		fmt.Println(string(bs)) //efgh</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		//ç¬¬ä¸‰æ¬¡è¯»å–</span></span><br><span class="line"><span class="comment">		n, err = file.Read(bs)</span></span><br><span class="line"><span class="comment">		fmt.Println(err)        //&lt;nil&gt;</span></span><br><span class="line"><span class="comment">		fmt.Println(n)          //2</span></span><br><span class="line"><span class="comment">		fmt.Println(bs)         //[105 106 103 104]</span></span><br><span class="line"><span class="comment">		fmt.Println(string(bs)) //ijgh</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		//ç¬¬å››æ¬¡è¯»å–</span></span><br><span class="line"><span class="comment">		n, err = file.Read(bs)</span></span><br><span class="line"><span class="comment">		fmt.Println(err) //EOFï¼Œæ–‡ä»¶çš„æœ«å°¾</span></span><br><span class="line"><span class="comment">		fmt.Println(n)   //0</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	n := <span class="number">-1</span></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		n, err = file.Read(bs)</span><br><span class="line">		<span class="keyword">if</span> n == <span class="number">0</span> || err == io.EOF &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;è¯»å–åˆ°äº†æ–‡ä»¶çš„æœ«å°¾ï¼Œç»“æŸè¯»å–æ“ä½œã€‚ã€‚&quot;</span>)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(n)</span><br><span class="line">		fmt.Println(<span class="type">string</span>(bs[:n]))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		abcd</span></span><br><span class="line"><span class="comment">		efgh</span></span><br><span class="line"><span class="comment">		ij</span></span><br><span class="line"><span class="comment">		è¯»å–åˆ°äº†æ–‡ä»¶çš„æœ«å°¾ï¼Œç»“æŸè¯»å–æ“ä½œã€‚ã€‚</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Writeræ¥å£çš„å®šä¹‰ï¼ŒWrite()æ–¹æ³•ç”¨äºå†™å‡ºæ•°æ®ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> &#123;</span><br><span class="line">        Write(p []<span class="type">byte</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Write å°† len(p) ä¸ªå­—èŠ‚ä» p ä¸­å†™å…¥åˆ°åŸºæœ¬æ•°æ®æµä¸­ã€‚å®ƒè¿”å›ä» p ä¸­è¢«å†™å…¥çš„å­—èŠ‚æ•°nï¼ˆ0 &lt;&#x3D; n &lt;&#x3D; len(p)ï¼‰ä»¥åŠä»»ä½•é‡åˆ°çš„å¼•èµ·å†™å…¥æå‰åœæ­¢çš„é”™è¯¯ã€‚è‹¥ Write è¿”å›çš„n &lt; len(p)ï¼Œå®ƒå°±å¿…é¡»è¿”å›ä¸€ä¸ªénilçš„é”™è¯¯ã€‚Write ä¸èƒ½ä¿®æ”¹æ­¤åˆ‡ç‰‡çš„æ•°æ®ï¼Œå³ä¾¿å®ƒæ˜¯ä¸´æ—¶çš„ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	fileName := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	<span class="comment">//step1ï¼šæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">	<span class="comment">//step2ï¼šå†™å‡ºæ•°æ®</span></span><br><span class="line">	<span class="comment">//step3ï¼šå…³é—­æ–‡ä»¶</span></span><br><span class="line">	<span class="comment">//file, err := os.Open(fileName)</span></span><br><span class="line">	file, err := os.OpenFile(fileName, os.O_CREATE|os.O_WRONLY|os.O_APPEND, os.ModePerm)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//å†™å‡ºæ•°æ®</span></span><br><span class="line">	<span class="comment">//bs := []byte&#123;65, 66, 67, 68, 69, 70&#125; //A,B,C,D,E,F</span></span><br><span class="line">	<span class="comment">//bs := []byte&#123;97, 98, 99, 100&#125; //a,b,c,d</span></span><br><span class="line">	<span class="comment">//n,err := file.Write(bs)</span></span><br><span class="line">	<span class="comment">//n, err := file.Write(bs[:2])</span></span><br><span class="line">	<span class="comment">//fmt.Println(n)</span></span><br><span class="line">	<span class="comment">//HandleErr(err)</span></span><br><span class="line">	<span class="comment">//file.WriteString(&quot;\n&quot;)</span></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">//ç›´æ¥å†™å‡ºå­—ç¬¦ä¸²</span></span><br><span class="line">	<span class="comment">//n, err := file.WriteString(&quot;HelloWorld&quot;)</span></span><br><span class="line">	<span class="comment">//fmt.Println(n)</span></span><br><span class="line">	<span class="comment">//HandleErr(err)</span></span><br><span class="line">	<span class="comment">////</span></span><br><span class="line">	file.WriteString(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	n, err := file.Write([]<span class="type">byte</span>(<span class="string">&quot;today&quot;</span>))</span><br><span class="line">	fmt.Println(n)</span><br><span class="line">	HandleErr(err)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HandleErr</span><span class="params">(err <span class="type">error</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Seekeræ¥å£çš„å®šä¹‰ï¼Œå°è£…äº†åŸºæœ¬çš„ Seek æ–¹æ³•ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Seeker <span class="keyword">interface</span> &#123;</span><br><span class="line">        Seek(offset <span class="type">int64</span>, whence <span class="type">int</span>) (<span class="type">int64</span>, <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Seeker ç”¨æ¥ç§»åŠ¨æ•°æ®çš„è¯»å†™æŒ‡é’ˆ<br>Seek è®¾ç½®ä¸‹ä¸€æ¬¡è¯»å†™æ“ä½œçš„æŒ‡é’ˆä½ç½®ï¼Œæ¯æ¬¡çš„è¯»å†™æ“ä½œéƒ½æ˜¯ä»æŒ‡é’ˆä½ç½®å¼€å§‹çš„<br>whence çš„å«ä¹‰ï¼š<br>    å¦‚æœ whence ä¸º 0ï¼šè¡¨ç¤ºä»æ•°æ®çš„å¼€å¤´å¼€å§‹ç§»åŠ¨æŒ‡é’ˆ<br>    å¦‚æœ whence ä¸º 1ï¼šè¡¨ç¤ºä»æ•°æ®çš„å½“å‰æŒ‡é’ˆä½ç½®å¼€å§‹ç§»åŠ¨æŒ‡é’ˆ<br>    å¦‚æœ whence ä¸º 2ï¼šè¡¨ç¤ºä»æ•°æ®çš„å°¾éƒ¨å¼€å§‹ç§»åŠ¨æŒ‡é’ˆ<br>offset æ˜¯æŒ‡é’ˆç§»åŠ¨çš„åç§»é‡<br>    è¿”å›ç§»åŠ¨åçš„æŒ‡é’ˆä½ç½®å’Œç§»åŠ¨è¿‡ç¨‹ä¸­é‡åˆ°çš„ä»»ä½•é”™è¯¯</p>
</blockquote>
<p> ReaderFromæ¥å£çš„å®šä¹‰ï¼Œå°è£…äº†åŸºæœ¬çš„ ReadFrom æ–¹æ³•ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> ReaderFrom <span class="keyword">interface</span> &#123;</span><br><span class="line">        ReadFrom(r Reader) (n <span class="type">int64</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ReadFrom ä» r ä¸­è¯»å–æ•°æ®åˆ°å¯¹è±¡çš„æ•°æ®æµä¸­<br>    ç›´åˆ° r è¿”å› EOF æˆ– r å‡ºç°è¯»å–é”™è¯¯ä¸ºæ­¢<br>    è¿”å›å€¼ n æ˜¯è¯»å–çš„å­—èŠ‚æ•°<br>    è¿”å›å€¼ err å°±æ˜¯ r çš„è¿”å›å€¼ err</p>
</blockquote>
<p>WriterToæ¥å£çš„å®šä¹‰ï¼Œå°è£…äº†åŸºæœ¬çš„ WriteTo æ–¹æ³•ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> WriterTo <span class="keyword">interface</span> &#123;</span><br><span class="line">        WriteTo(w Writer) (n <span class="type">int64</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>WriterTo å°†å¯¹è±¡çš„æ•°æ®æµå†™å…¥åˆ° w ä¸­<br>    ç›´åˆ°å¯¹è±¡çš„æ•°æ®æµå…¨éƒ¨å†™å…¥å®Œæ¯•æˆ–é‡åˆ°å†™å…¥é”™è¯¯ä¸ºæ­¢<br>    è¿”å›å€¼ n æ˜¯å†™å…¥çš„å­—èŠ‚æ•°<br>    è¿”å›å€¼ err å°±æ˜¯ w çš„è¿”å›å€¼ err</p>
<p>å®šä¹‰ReaderAtæ¥å£ï¼ŒReaderAt æ¥å£å°è£…äº†åŸºæœ¬çš„ ReadAt æ–¹æ³•</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> ReaderAt <span class="keyword">interface</span> &#123;</span><br><span class="line">        ReadAt(p []<span class="type">byte</span>, off <span class="type">int64</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ReadAt ä»å¯¹è±¡æ•°æ®æµçš„ off å¤„è¯»å‡ºæ•°æ®åˆ° p ä¸­<br>    å¿½ç•¥æ•°æ®çš„è¯»å†™æŒ‡é’ˆï¼Œä»æ•°æ®çš„èµ·å§‹ä½ç½®åç§» off å¤„å¼€å§‹è¯»å–<br>    å¦‚æœå¯¹è±¡çš„æ•°æ®æµåªæœ‰éƒ¨åˆ†å¯ç”¨ï¼Œä¸è¶³ä»¥å¡«æ»¡ p<br>    åˆ™ ReadAt å°†ç­‰å¾…æ‰€æœ‰æ•°æ®å¯ç”¨ä¹‹åï¼Œç»§ç»­å‘ p ä¸­å†™å…¥<br>    ç›´åˆ°å°† p å¡«æ»¡åå†è¿”å›<br>    åœ¨è¿™ç‚¹ä¸Š ReadAt è¦æ¯” Read æ›´ä¸¥æ ¼<br>    è¿”å›è¯»å–çš„å­—èŠ‚æ•° n å’Œè¯»å–æ—¶é‡åˆ°çš„é”™è¯¯<br>    å¦‚æœ n &lt; len(p)ï¼Œåˆ™éœ€è¦è¿”å›ä¸€ä¸ª err å€¼æ¥è¯´æ˜<br>    ä¸ºä»€ä¹ˆæ²¡æœ‰å°† p å¡«æ»¡ï¼ˆæ¯”å¦‚ EOFï¼‰<br>    å¦‚æœ n &#x3D; len(p)ï¼Œè€Œä¸”å¯¹è±¡çš„æ•°æ®æ²¡æœ‰å…¨éƒ¨è¯»å®Œï¼Œåˆ™<br>    err å°†è¿”å› nil<br>    å¦‚æœ n &#x3D; len(p)ï¼Œè€Œä¸”å¯¹è±¡çš„æ•°æ®åˆšå¥½å…¨éƒ¨è¯»å®Œï¼Œåˆ™<br>    err å°†è¿”å› EOF æˆ–è€… nilï¼ˆä¸ç¡®å®šï¼‰</p>
</blockquote>
<p>å®šä¹‰WriterAtæ¥å£ï¼ŒWriterAt æ¥å£å°è£…äº†åŸºæœ¬çš„ WriteAt æ–¹æ³•</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> WriterAt <span class="keyword">interface</span> &#123;</span><br><span class="line">        WriteAt(p []<span class="type">byte</span>, off <span class="type">int64</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>WriteAt å°† p ä¸­çš„æ•°æ®å†™å…¥åˆ°å¯¹è±¡æ•°æ®æµçš„ off å¤„<br>    å¿½ç•¥æ•°æ®çš„è¯»å†™æŒ‡é’ˆï¼Œä»æ•°æ®çš„èµ·å§‹ä½ç½®åç§» off å¤„å¼€å§‹å†™å…¥<br>    è¿”å›å†™å…¥çš„å­—èŠ‚æ•°å’Œå†™å…¥æ—¶é‡åˆ°çš„é”™è¯¯<br>    å¦‚æœ n &lt; len(p)ï¼Œåˆ™å¿…é¡»è¿”å›ä¸€ä¸ª err å€¼æ¥è¯´æ˜<br>    ä¸ºä»€ä¹ˆæ²¡æœ‰å°† p å®Œå…¨å†™å…¥</p>
</blockquote>
<h1 id="æ–‡ä»¶å¤åˆ¶"><a href="#æ–‡ä»¶å¤åˆ¶" class="headerlink" title="æ–‡ä»¶å¤åˆ¶"></a>æ–‡ä»¶å¤åˆ¶</h1><p>åœ¨ioåŒ…ä¸­ä¸»è¦æ˜¯æ“ä½œæµçš„ä¸€äº›æ–¹æ³•ï¼Œä»Šå¤©ä¸»è¦å­¦ä¹ ä¸€ä¸‹copyã€‚å°±æ˜¯æŠŠä¸€ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°å¦ä¸€ä¸ªç›®å½•ä¸‹ã€‚</p>
<p>å®ƒçš„åŸç†å°±æ˜¯é€šè¿‡ç¨‹åºï¼Œä»æºæ–‡ä»¶è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œåœ¨å†™å‡ºåˆ°ç›®æ ‡æ–‡ä»¶é‡Œã€‚</p>
<h2 id="ioåŒ…ä¸‹çš„Read-å’ŒWrite"><a href="#ioåŒ…ä¸‹çš„Read-å’ŒWrite" class="headerlink" title="ioåŒ…ä¸‹çš„Read()å’ŒWrite()"></a>ioåŒ…ä¸‹çš„Read()å’ŒWrite()</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ioåŒ…ä¸‹çš„Read()å’ŒWrite()æ–¹æ³•ï¼Œè¾¹è¯»è¾¹å†™ï¼Œå°±èƒ½å¤Ÿå®ç°æ–‡ä»¶çš„å¤åˆ¶ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯æŒ‰å—è¯»å–æ–‡ä»¶ï¼Œå—çš„å¤§å°ä¹Ÿä¼šå½±å“åˆ°ç¨‹åºçš„æ€§èƒ½ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	srcFile := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	destFile := <span class="string">&quot;main/2.txt&quot;</span></span><br><span class="line">	total, err := copyFile1(srcFile, destFile)</span><br><span class="line">	fmt.Println(total, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¯¥å‡½æ•°çš„åŠŸèƒ½ï¼šå®ç°æ–‡ä»¶çš„æ‹·è´ï¼Œè¿”å›å€¼æ˜¯æ‹·è´çš„æ€»æ•°é‡(å­—èŠ‚),é”™è¯¯</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">copyFile1</span><span class="params">(srcFile, destFile <span class="type">string</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	file1, err := os.Open(srcFile)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	file2, err := os.OpenFile(destFile, os.O_WRONLY|os.O_CREATE, os.ModePerm)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file1.Close()</span><br><span class="line">	<span class="keyword">defer</span> file2.Close()</span><br><span class="line">	<span class="comment">// æ‹·è´æ•°æ®</span></span><br><span class="line">	bs := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">1024</span>, <span class="number">1024</span>)</span><br><span class="line">	n := <span class="number">-1</span> <span class="comment">//è¯»å–çš„æ•°æ®é‡</span></span><br><span class="line">	total := <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		n, err = file1.Read(bs)</span><br><span class="line">		<span class="keyword">if</span> err == io.EOF || n == <span class="number">0</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;æ‹·è´å®Œæ¯•ã€‚ã€‚&quot;</span>)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;æŠ¥é”™äº†ã€‚ã€‚ã€‚&quot;</span>)</span><br><span class="line">			<span class="keyword">return</span> total, err</span><br><span class="line">		&#125;</span><br><span class="line">		total += n</span><br><span class="line">		file2.Write(bs[:n])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> total, <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ioåŒ…ä¸‹çš„Copy"><a href="#ioåŒ…ä¸‹çš„Copy" class="headerlink" title="ioåŒ…ä¸‹çš„Copy()"></a>ioåŒ…ä¸‹çš„Copy()</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ioåŒ…ä¸‹çš„Copy()æ–¹æ³•ã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	srcFile := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	destFile := <span class="string">&quot;main/2.txt&quot;</span></span><br><span class="line">	total, err := copyFile2(srcFile, destFile)</span><br><span class="line">	fmt.Println(total, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">copyFile2</span><span class="params">(srcFile, destFile <span class="type">string</span>)</span></span> (<span class="type">int64</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	file1, err := os.Open(srcFile)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	file2, err := os.OpenFile(destFile, os.O_WRONLY|os.O_CREATE, os.ModePerm)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file1.Close()</span><br><span class="line">	<span class="keyword">defer</span> file2.Close()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> io.Copy(file2, file1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ioåŒ…ä¸­ï¼Œä¸æ­¢æä¾›äº†Copy()æ–¹æ³•ï¼Œè¿˜æœ‰å¦å¤–2ä¸ªå…¬å¼€çš„copyæ–¹æ³•ï¼šCopyN()ï¼ŒCopyBuffer()ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Copyï¼ˆdst,srcï¼‰ <span class="comment">//ä¸ºå¤åˆ¶src å…¨éƒ¨åˆ° dst ä¸­ã€‚</span></span><br><span class="line"></span><br><span class="line">CopyN(dst,src,n) <span class="comment">//ä¸ºå¤åˆ¶src ä¸­ n ä¸ªå­—èŠ‚åˆ° dstã€‚</span></span><br><span class="line"></span><br><span class="line">CopyBufferï¼ˆdst,src,bufï¼‰<span class="comment">//ä¸ºæŒ‡å®šä¸€ä¸ªbufç¼“å­˜åŒºï¼Œä»¥è¿™ä¸ªå¤§å°å®Œå…¨å¤åˆ¶ã€‚</span></span><br></pre></td></tr></table></figure>

<p>æ— è®ºæ˜¯å“ªä¸ªcopyæ–¹æ³•æœ€ç»ˆéƒ½æ˜¯ç”±copyBufferï¼ˆï¼‰è¿™ä¸ªç§æœ‰æ–¹æ³•å®ç°çš„ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">copyBuffer</span><span class="params">(dst Writer, src Reader, buf []<span class="type">byte</span>)</span></span> (written <span class="type">int64</span>, err <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="comment">// If the reader has a WriteTo method, use it to do the copy.</span></span><br><span class="line">	<span class="comment">// Avoids an allocation and a copy.</span></span><br><span class="line">	<span class="keyword">if</span> wt, ok := src.(WriterTo); ok &#123;</span><br><span class="line">		<span class="keyword">return</span> wt.WriteTo(dst)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// Similarly, if the writer has a ReadFrom method, use it to do the copy.</span></span><br><span class="line">	<span class="keyword">if</span> rt, ok := dst.(ReaderFrom); ok &#123;</span><br><span class="line">		<span class="keyword">return</span> rt.ReadFrom(src)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> buf == <span class="literal">nil</span> &#123;</span><br><span class="line">		size := <span class="number">32</span> * <span class="number">1024</span></span><br><span class="line">		<span class="keyword">if</span> l, ok := src.(*LimitedReader); ok &amp;&amp; <span class="type">int64</span>(size) &gt; l.N &#123;</span><br><span class="line">			<span class="keyword">if</span> l.N &lt; <span class="number">1</span> &#123;</span><br><span class="line">				size = <span class="number">1</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				size = <span class="type">int</span>(l.N)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		buf = <span class="built_in">make</span>([]<span class="type">byte</span>, size)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		nr, er := src.Read(buf)</span><br><span class="line">		<span class="keyword">if</span> nr &gt; <span class="number">0</span> &#123;</span><br><span class="line">			nw, ew := dst.Write(buf[<span class="number">0</span>:nr])</span><br><span class="line">			<span class="keyword">if</span> nw &gt; <span class="number">0</span> &#123;</span><br><span class="line">				written += <span class="type">int64</span>(nw)</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> ew != <span class="literal">nil</span> &#123;</span><br><span class="line">				err = ew</span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> nr != nw &#123;</span><br><span class="line">				err = ErrShortWrite</span><br><span class="line">				<span class="keyword">break</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> er != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> er != EOF &#123;</span><br><span class="line">				err = er</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> written, err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»è¿™éƒ¨åˆ†ä»£ç å¯ä»¥çœ‹å‡ºï¼Œå¤åˆ¶ä¸»è¦åˆ†ä¸º3ç§ã€‚</p>
<p> 1.å¦‚æœè¢«å¤åˆ¶çš„Readerï¼ˆsrcï¼‰ä¼šå°è¯•èƒ½å¦æ–­è¨€æˆwriterToï¼Œå¦‚æœå¯ä»¥åˆ™ç›´æ¥è°ƒç”¨ä¸‹é¢çš„writerToæ–¹æ³•</p>
<p> 2.å¦‚æœ Writerï¼ˆdstï¼‰ ä¼šå°è¯•èƒ½å¦æ–­è¨€æˆReadFrom ï¼Œå¦‚æœå¯ä»¥åˆ™ç›´æ¥è°ƒç”¨ä¸‹é¢çš„readfromæ–¹æ³•</p>
<p> 3.å¦‚æœéƒ½æœ¨æœ‰å®ç°ï¼Œåˆ™è°ƒç”¨åº•å±‚readå®ç°å¤åˆ¶ã€‚</p>
<p>å…¶ä¸­ï¼Œæœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> buf == <span class="literal">nil</span> &#123;</span><br><span class="line">		size := <span class="number">32</span> * <span class="number">1024</span></span><br><span class="line">		<span class="keyword">if</span> l, ok := src.(*LimitedReader); ok &amp;&amp; <span class="type">int64</span>(size) &gt; l.N &#123;</span><br><span class="line">			<span class="keyword">if</span> l.N &lt; <span class="number">1</span> &#123;</span><br><span class="line">				size = <span class="number">1</span></span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				size = <span class="type">int</span>(l.N)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		buf = <span class="built_in">make</span>([]<span class="type">byte</span>, size)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯å®ç°äº†å¯¹Copyå’ŒCopyNçš„å¤„ç†ã€‚é€šè¿‡ä¸Šé¢çš„è°ƒç”¨å…³ç³»å›¾ï¼Œæˆ‘ä»¬çœ‹å‡ºCopyNåœ¨è°ƒç”¨åï¼Œä¼šæŠŠReaderè½¬æˆLimiteReaderã€‚</p>
<p>åŒºåˆ«æ˜¯å¦‚æœCopyï¼Œç›´æ¥å»ºç«‹ä¸€ä¸ªç¼“å­˜åŒºé»˜è®¤å¤§å°ä¸º 32* 1024 çš„bufï¼Œå¦‚æœæ˜¯CopyN ä¼šå…ˆåˆ¤æ–­ è¦å¤åˆ¶çš„å­—èŠ‚æ•°ï¼Œå¦‚æœå°äºé»˜è®¤å¤§å°ï¼Œä¼šåˆ›å»ºä¸€ä¸ªç­‰äºè¦å¤åˆ¶å­—èŠ‚æ•°çš„bufã€‚</p>
<h2 id="ioutilåŒ…"><a href="#ioutilåŒ…" class="headerlink" title="ioutilåŒ…"></a>ioutilåŒ…</h2><p>ç¬¬ä¸‰ç§æ–¹æ³•æ˜¯ä½¿ç”¨ioutilåŒ…ä¸­çš„ <code>ioutil.WriteFile()</code>å’Œ<code>ioutil.ReadFile()</code>ï¼Œä½†ç”±äºä½¿ç”¨ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶ï¼Œå†ä¸€æ¬¡æ€§å†™å…¥æ–‡ä»¶çš„æ–¹å¼ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•ä¸é€‚ç”¨äºå¤§æ–‡ä»¶ï¼Œå®¹æ˜“å†…å­˜æº¢å‡ºã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	srcFile := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	destFile := <span class="string">&quot;main/2.txt&quot;</span></span><br><span class="line">	total, err := copyFile3(srcFile, destFile)</span><br><span class="line">	fmt.Println(total, err)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">copyFile3</span><span class="params">(srcFile, destFile <span class="type">string</span>)</span></span> (<span class="type">int</span>, <span class="type">error</span>) &#123;</span><br><span class="line">	input, err := ioutil.ReadFile(srcFile)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, err</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	err = ioutil.WriteFile(destFile, input, <span class="number">0644</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;æ“ä½œå¤±è´¥ï¼š&quot;</span>, destFile)</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, err</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(input), <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›®å‰ReadFileå’ŒWriteFileå·²å¼ƒç”¨ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ€åï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹è¿™3ç§æ‹·è´éœ€è¦èŠ±è´¹æ—¶é—´ï¼Œæ‹·è´çš„æ–‡ä»¶éƒ½æ˜¯ä¸€æ ·çš„ä¸€ä¸ªmp4æ–‡ä»¶(400M)ã€‚</p>
<p>ç¬¬ä¸€ç§ï¼šioåŒ…ä¸‹Read()å’ŒWrite()ç›´æ¥è¯»å†™ï¼šæˆ‘ä»¬è‡ªå·±åˆ›å»ºè¯»å–æ•°æ®çš„åˆ‡ç‰‡çš„å¤§å°ï¼Œç›´æ¥å½±å“æ€§èƒ½ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‹·è´å®Œæ¯•ã€‚ã€‚</span><br><span class="line">&lt;nil&gt;</span><br><span class="line">401386819</span><br><span class="line"></span><br><span class="line">real    0m7.911s</span><br><span class="line">user    0m2.900s</span><br><span class="line">sys     0m7.661s</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§ï¼šioåŒ…ä¸‹Copy()æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;nil&gt;</span><br><span class="line">401386819</span><br><span class="line"></span><br><span class="line">real    0m1.594s</span><br><span class="line">user    0m0.533s</span><br><span class="line">sys     0m1.136s</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ç§ï¼šioutilåŒ…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;nil&gt;</span><br><span class="line">401386819</span><br><span class="line"></span><br><span class="line">real    0m1.515s</span><br><span class="line">user    0m0.339s</span><br><span class="line">sys     0m0.625s</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™3ç§æ–¹å¼ï¼Œåœ¨æ€§èƒ½ä¸Šï¼Œä¸ç®¡æ˜¯è¿˜æ˜¯io.Copy()è¿˜æ˜¯ioutilåŒ…ï¼Œæ€§èƒ½éƒ½æ˜¯è¿˜ä¸é”™çš„ã€‚</p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–­ç‚¹ç»­ä¼ ä¸bufioåŒ…</title>
    <url>/2023/06/12/Go/15/</url>
    <content><![CDATA[<h1 id="æ–­ç‚¹ç»­ä¼ "><a href="#æ–­ç‚¹ç»­ä¼ " class="headerlink" title="æ–­ç‚¹ç»­ä¼ "></a>æ–­ç‚¹ç»­ä¼ </h1><h2 id="Seekeræ¥å£"><a href="#Seekeræ¥å£" class="headerlink" title="Seekeræ¥å£"></a>Seekeræ¥å£</h2><p>Seekeræ˜¯åŒ…è£…åŸºæœ¬Seekæ–¹æ³•çš„æ¥å£ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Seeker <span class="keyword">interface</span> &#123;</span><br><span class="line">        Seek(offset <span class="type">int64</span>, whence <span class="type">int</span>) (<span class="type">int64</span>, <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>seek(offset,whence),è®¾ç½®æŒ‡é’ˆå…‰æ ‡çš„ä½ç½®ï¼Œéšæœºè¯»å†™æ–‡ä»¶ï¼š</p>
<p>â€‹	ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåç§»é‡<br>â€‹	ç¬¬äºŒä¸ªå‚æ•°ï¼šå¦‚ä½•è®¾ç½®			</p>
<p>â€‹				0ï¼šseekStartè¡¨ç¤ºç›¸å¯¹äºæ–‡ä»¶å¼€å§‹ï¼Œ<br>â€‹				1ï¼šseekCurrentè¡¨ç¤ºç›¸å¯¹äºå½“å‰åç§»é‡ï¼Œ<br>â€‹				2ï¼šseek endè¡¨ç¤ºç›¸å¯¹äºç»“æŸã€‚</p>
<p>1.txtå†…å®¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ABCDEFababHelloWorldHelloWorld</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	fileName := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	file, err := os.OpenFile(fileName, os.O_RDWR, os.ModePerm)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line">	<span class="comment">//è¯»å†™</span></span><br><span class="line">	bs := []<span class="type">byte</span>&#123;<span class="number">0</span>&#125;</span><br><span class="line">	file.Read(bs)</span><br><span class="line">	fmt.Println(<span class="type">string</span>(bs))</span><br><span class="line"></span><br><span class="line">	file.Seek(<span class="number">4</span>, io.SeekStart)</span><br><span class="line">	file.Read(bs)</span><br><span class="line">	fmt.Println(<span class="type">string</span>(bs))</span><br><span class="line"></span><br><span class="line">	file.Seek(<span class="number">2</span>, <span class="number">0</span>) <span class="comment">//SeekStart</span></span><br><span class="line">	file.Read(bs)</span><br><span class="line">	fmt.Println(<span class="type">string</span>(bs))</span><br><span class="line"></span><br><span class="line">	file.Seek(<span class="number">3</span>, io.SeekCurrent)</span><br><span class="line">	file.Read(bs)</span><br><span class="line">	fmt.Println(<span class="type">string</span>(bs))</span><br><span class="line"></span><br><span class="line">	file.Seek(<span class="number">0</span>, io.SeekEnd)</span><br><span class="line">	file.WriteString(<span class="string">&quot;ABC&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">A</span><br><span class="line">E</span><br><span class="line">C</span><br><span class="line">a</span><br></pre></td></tr></table></figure>

<h2 id="æ–­ç‚¹ç»­ä¼ -1"><a href="#æ–­ç‚¹ç»­ä¼ -1" class="headerlink" title="æ–­ç‚¹ç»­ä¼ "></a>æ–­ç‚¹ç»­ä¼ </h2><p>é¦–å…ˆæ€è€ƒå‡ ä¸ªé—®é¢˜<br>Q1ï¼šå¦‚æœä½ è¦ä¼ çš„æ–‡ä»¶ï¼Œæ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆæ˜¯å¦æœ‰æ–¹æ³•å¯ä»¥ç¼©çŸ­è€—æ—¶ï¼Ÿ<br>Q2ï¼šå¦‚æœåœ¨æ–‡ä»¶ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œç¨‹åºå› å„ç§åŸå› è¢«è¿«ä¸­æ–­äº†ï¼Œé‚£ä¹ˆä¸‹æ¬¡å†é‡å¯æ—¶ï¼Œæ–‡ä»¶æ˜¯å¦è¿˜éœ€è¦é‡å¤´å¼€å§‹ï¼Ÿ<br>Q3ï¼šä¼ é€’æ–‡ä»¶çš„æ—¶å€™ï¼Œæ”¯æŒæš‚åœå’Œæ¢å¤ä¹ˆï¼Ÿå³ä½¿è¿™ä¸¤ä¸ªæ“ä½œåˆ†å¸ƒåœ¨ç¨‹åºè¿›ç¨‹è¢«æ€å‰åã€‚</p>
<p>é€šè¿‡æ–­ç‚¹ç»­ä¼ å¯ä»¥å®ç°ï¼Œä¸åŒçš„è¯­è¨€æœ‰ä¸åŒçš„å®ç°æ–¹å¼ã€‚æˆ‘ä»¬çœ‹çœ‹Goè¯­è¨€ä¸­ï¼Œé€šè¿‡Seek()æ–¹æ³•å¦‚ä½•å®ç°ï¼š</p>
<p>å…ˆè¯´ä¸€ä¸‹æ€è·¯ï¼šæƒ³å®ç°æ–­ç‚¹ç»­ä¼ ï¼Œä¸»è¦å°±æ˜¯è®°ä½ä¸Šä¸€æ¬¡å·²ç»ä¼ é€’äº†å¤šå°‘æ•°æ®ï¼Œé‚£æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œè®°å½•å·²ç»ä¼ é€’çš„æ•°æ®é‡ï¼Œå½“æ¢å¤ä¼ é€’çš„æ—¶å€™ï¼Œå…ˆä»ä¸´æ—¶æ–‡ä»¶ä¸­è¯»å–ä¸Šæ¬¡å·²ç»ä¼ é€’çš„æ•°æ®é‡ï¼Œç„¶åé€šè¿‡Seek()æ–¹æ³•ï¼Œè®¾ç½®åˆ°è¯¥è¯»å’Œè¯¥å†™çš„ä½ç½®ï¼Œå†ç»§ç»­ä¼ é€’æ•°æ®ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">	<span class="string">&quot;strings&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	srcFile := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	destFile := srcFile[strings.LastIndex(srcFile, <span class="string">&quot;/&quot;</span>)+<span class="number">1</span>:]</span><br><span class="line">	tempFile := destFile + <span class="string">&quot;temp.txt&quot;</span></span><br><span class="line"></span><br><span class="line">	file1, err := os.Open(srcFile)</span><br><span class="line">	file2, err := os.OpenFile(destFile, os.O_CREATE|os.O_WRONLY, os.ModePerm)</span><br><span class="line">	file3, err := os.OpenFile(tempFile, os.O_CREATE|os.O_RDWR, os.ModePerm)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">defer</span> file1.Close()</span><br><span class="line">	<span class="keyword">defer</span> file2.Close()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//step1ï¼šå…ˆè¯»å–ä¸´æ—¶æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå†seek</span></span><br><span class="line">	file3.Seek(<span class="number">0</span>, io.SeekStart)</span><br><span class="line">	bs := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">	n1, err := file3.Read(bs)</span><br><span class="line">	countStr := <span class="type">string</span>(bs[:n1])</span><br><span class="line">	count, err := strconv.ParseInt(countStr, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//step2ï¼šè®¾ç½®è¯»ï¼Œå†™çš„ä½ç½®ï¼š</span></span><br><span class="line">	file1.Seek(count, io.SeekStart)</span><br><span class="line">	file2.Seek(count, io.SeekStart)</span><br><span class="line">	data := <span class="built_in">make</span>([]<span class="type">byte</span>, <span class="number">1024</span>, <span class="number">1024</span>)</span><br><span class="line">	n2 := <span class="number">-1</span>            <span class="comment">//è¯»å–çš„æ•°æ®é‡</span></span><br><span class="line">	n3 := <span class="number">-1</span>            <span class="comment">//å†™å‡ºçš„æ•°æ®é‡</span></span><br><span class="line">	total := <span class="type">int</span>(count) <span class="comment">//è¯»å–çš„æ€»é‡</span></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">//step3ï¼šå¤åˆ¶æ–‡ä»¶</span></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		n2, err = file1.Read(data)</span><br><span class="line">		<span class="keyword">if</span> err == io.EOF || n2 == <span class="number">0</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;æ–‡ä»¶å¤åˆ¶å®Œæ¯•ã€‚ã€‚&quot;</span>)</span><br><span class="line">			file3.Close()</span><br><span class="line">			os.Remove(tempFile)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		n3, err = file2.Write(data[:n2])</span><br><span class="line">		total += n3</span><br><span class="line"></span><br><span class="line">		<span class="comment">//å°†å¤åˆ¶çš„æ€»é‡ï¼Œå­˜å‚¨åˆ°ä¸´æ—¶æ–‡ä»¶ä¸­</span></span><br><span class="line">		file3.Seek(<span class="number">0</span>, io.SeekStart)</span><br><span class="line">		file3.WriteString(strconv.Itoa(total))</span><br><span class="line"></span><br><span class="line">		fmt.Printf(<span class="string">&quot;total:%d\n&quot;</span>, total)</span><br><span class="line"></span><br><span class="line">		<span class="comment">//å‡è£…æ–­ç”µ</span></span><br><span class="line">		<span class="comment">//if total &gt; 8000&#123;</span></span><br><span class="line">		<span class="comment">//	panic(&quot;å‡è£…æ–­ç”µäº†ã€‚ã€‚ã€‚&quot;)</span></span><br><span class="line">		<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HandleErr</span><span class="params">(err <span class="type">error</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatal(err)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="bufioåŒ…"><a href="#bufioåŒ…" class="headerlink" title="bufioåŒ…"></a>bufioåŒ…</h1><h2 id="bufioåŒ…åŸç†"><a href="#bufioåŒ…åŸç†" class="headerlink" title="bufioåŒ…åŸç†"></a>bufioåŒ…åŸç†</h2><p>bufio æ˜¯é€šè¿‡ç¼“å†²æ¥æé«˜æ•ˆç‡ã€‚</p>
<p>ioæ“ä½œæœ¬èº«çš„æ•ˆç‡å¹¶ä¸ä½ï¼Œä½çš„æ˜¯é¢‘ç¹çš„è®¿é—®æœ¬åœ°ç£ç›˜çš„æ–‡ä»¶ã€‚æ‰€ä»¥bufioå°±æä¾›äº†ç¼“å†²åŒº(åˆ†é…ä¸€å—å†…å­˜)ï¼Œè¯»å’Œå†™éƒ½å…ˆåœ¨ç¼“å†²åŒºä¸­ï¼Œæœ€åå†è¯»å†™æ–‡ä»¶ï¼Œæ¥é™ä½è®¿é—®æœ¬åœ°ç£ç›˜çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚</p>
<p>ç®€å•çš„è¯´å°±æ˜¯ï¼ŒæŠŠæ–‡ä»¶è¯»å–è¿›ç¼“å†²ï¼ˆå†…å­˜ï¼‰ä¹‹åå†è¯»å–çš„æ—¶å€™å°±å¯ä»¥é¿å…æ–‡ä»¶ç³»ç»Ÿçš„io ä»è€Œæé«˜é€Ÿåº¦ã€‚åŒç†ï¼Œåœ¨è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œå…ˆæŠŠæ–‡ä»¶å†™å…¥ç¼“å†²ï¼ˆå†…å­˜ï¼‰ï¼Œç„¶åç”±ç¼“å†²å†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚çœ‹å®Œä»¥ä¸Šè§£é‡Šæœ‰äººå¯èƒ½ä¼šè¡¨ç¤ºå›°æƒ‘äº†ï¼Œç›´æ¥æŠŠ å†…å®¹-&gt;æ–‡ä»¶ å’Œ å†…å®¹-&gt;ç¼“å†²-&gt;æ–‡ä»¶ç›¸æ¯”ï¼Œ ç¼“å†²åŒºå¥½åƒæ²¡æœ‰èµ·åˆ°ä½œç”¨å˜›ã€‚å…¶å®ç¼“å†²åŒºçš„è®¾è®¡æ˜¯ä¸ºäº†å­˜å‚¨å¤šæ¬¡çš„å†™å…¥ï¼Œæœ€åä¸€å£æ°”æŠŠç¼“å†²åŒºå†…å®¹å†™å…¥æ–‡ä»¶ã€‚</p>
<p>bufio å°è£…äº†io.Readeræˆ–io.Writeræ¥å£å¯¹è±¡ï¼Œå¹¶åˆ›å»ºå¦ä¸€ä¸ªä¹Ÿå®ç°äº†è¯¥æ¥å£çš„å¯¹è±¡ã€‚</p>
<p>io.Readeræˆ–io.Writer æ¥å£å®ç°read() å’Œ write() æ–¹æ³•ï¼Œå¯¹äºå®ç°è¿™ä¸ªæ¥å£çš„å¯¹è±¡éƒ½æ˜¯å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•çš„ã€‚</p>
<h3 id="Readerå¯¹è±¡"><a href="#Readerå¯¹è±¡" class="headerlink" title="Readerå¯¹è±¡"></a>Readerå¯¹è±¡</h3><p>bufio.Reader æ˜¯bufioä¸­å¯¹io.Reader çš„å°è£…</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Reader implements buffering for an io.Reader object.</span></span><br><span class="line"><span class="keyword">type</span> Reader <span class="keyword">struct</span> &#123;</span><br><span class="line">	buf          []<span class="type">byte</span></span><br><span class="line">	rd           io.Reader <span class="comment">// reader provided by the client</span></span><br><span class="line">	r, w         <span class="type">int</span>       <span class="comment">// buf read and write positions</span></span><br><span class="line">	err          <span class="type">error</span></span><br><span class="line">	lastByte     <span class="type">int</span> <span class="comment">// last byte read for UnreadByte; -1 means invalid</span></span><br><span class="line">	lastRuneSize <span class="type">int</span> <span class="comment">// size of last rune read for UnreadRune; -1 means invalid</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>bufio.Read(p []byte) ç›¸å½“äºè¯»å–å¤§å°len(p)çš„å†…å®¹ï¼Œæ€è·¯å¦‚ä¸‹ï¼š</p>
<ol>
<li>å½“ç¼“å­˜åŒºæœ‰å†…å®¹çš„æ—¶ï¼Œå°†ç¼“å­˜åŒºå†…å®¹å…¨éƒ¨å¡«å…¥på¹¶æ¸…ç©ºç¼“å­˜åŒº</li>
<li>å½“ç¼“å­˜åŒºæ²¡æœ‰å†…å®¹çš„æ—¶å€™ä¸”len(p)&gt;len(buf),å³è¦è¯»å–çš„å†…å®¹æ¯”ç¼“å­˜åŒºè¿˜è¦å¤§ï¼Œç›´æ¥å»æ–‡ä»¶è¯»å–å³å¯</li>
<li>å½“ç¼“å­˜åŒºæ²¡æœ‰å†…å®¹çš„æ—¶å€™ä¸”len(p)&lt;len(buf),å³è¦è¯»å–çš„å†…å®¹æ¯”ç¼“å­˜åŒºå°ï¼Œç¼“å­˜åŒºä»æ–‡ä»¶è¯»å–å†…å®¹å……æ»¡ç¼“å­˜åŒºï¼Œå¹¶å°†på¡«æ»¡ï¼ˆæ­¤æ—¶ç¼“å­˜åŒºæœ‰å‰©ä½™å†…å®¹ï¼‰</li>
<li>ä»¥åå†æ¬¡è¯»å–æ—¶ç¼“å­˜åŒºæœ‰å†…å®¹ï¼Œå°†ç¼“å­˜åŒºå†…å®¹å…¨éƒ¨å¡«å…¥på¹¶æ¸…ç©ºç¼“å­˜åŒºï¼ˆæ­¤æ—¶å’Œæƒ…å†µ1ä¸€æ ·ï¼‰</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fileName := <span class="string">&quot;main/1.txt&quot;</span></span><br><span class="line">	file, err := os.Open(fileName)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">(file *os.File)</span></span> &#123;</span><br><span class="line">		err := file.Close()</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;(file)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºReaderå¯¹è±¡</span></span><br><span class="line">	<span class="comment">//b1 := bufio.NewReader(file)</span></span><br><span class="line">	<span class="comment">//1.Read()ï¼Œé«˜æ•ˆè¯»å–</span></span><br><span class="line">	<span class="comment">//p := make([]byte, 1024)</span></span><br><span class="line">	<span class="comment">//n1, err := b1.Read(p)</span></span><br><span class="line">	<span class="comment">//fmt.Println(n1)</span></span><br><span class="line">	<span class="comment">//fmt.Println(string(p[:n1]))</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.ReadLine()</span></span><br><span class="line">	<span class="comment">//data, flag, err := b1.ReadLine()</span></span><br><span class="line">	<span class="comment">//fmt.Println(flag)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//fmt.Println(data)</span></span><br><span class="line">	<span class="comment">//fmt.Println(string(data))</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//3.ReadString()</span></span><br><span class="line">	<span class="comment">//s1, err := b1.ReadString(&#x27;\n&#x27;)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//fmt.Println(s1)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//s1, err = b1.ReadString(&#x27;\n&#x27;)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//fmt.Println(s1)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//s1, err = b1.ReadString(&#x27;\n&#x27;)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//fmt.Println(s1)</span></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">//for &#123;</span></span><br><span class="line">	<span class="comment">//	s1, err := b1.ReadString(&#x27;\n&#x27;)</span></span><br><span class="line">	<span class="comment">//	if err == io.EOF &#123;</span></span><br><span class="line">	<span class="comment">//		fmt.Println(&quot;è¯»å–å®Œæ¯•ã€‚ã€‚&quot;)</span></span><br><span class="line">	<span class="comment">//		break</span></span><br><span class="line">	<span class="comment">//	&#125;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(s1)</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.ReadBytes()</span></span><br><span class="line">	<span class="comment">//data, err := b1.ReadBytes(&#x27;\n&#x27;)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//fmt.Println(string(data))</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//Scanner,è¾“å…¥çš„å†…å®¹å¦‚æœæœ‰ç©ºæ ¼ï¼Œåªèƒ½æ¥æ”¶åˆ°ç©ºæ ¼å‰é¢çš„æ•°æ®</span></span><br><span class="line">	<span class="comment">//s2 := &quot;&quot;</span></span><br><span class="line">	<span class="comment">//fmt.Scanln(&amp;s2)</span></span><br><span class="line">	<span class="comment">//fmt.Println(s2)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//å¯ä»¥æ¥æ”¶åˆ°ç©ºæ ¼åé¢çš„æ•°æ®</span></span><br><span class="line">	b2 := bufio.NewReader(os.Stdin)</span><br><span class="line">	s2, _ := b2.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	fmt.Println(s2)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Writerå¯¹è±¡"><a href="#Writerå¯¹è±¡" class="headerlink" title="Writerå¯¹è±¡"></a>Writerå¯¹è±¡</h3><p>bufio.Writer æ˜¯bufioä¸­å¯¹io.Writer çš„å°è£…</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Writer implements buffering for an io.Writer object.</span></span><br><span class="line"><span class="comment">// If an error occurs writing to a Writer, no more data will be</span></span><br><span class="line"><span class="comment">// accepted and all subsequent writes, and Flush, will return the error.</span></span><br><span class="line"><span class="comment">// After all data has been written, the client should call the</span></span><br><span class="line"><span class="comment">// Flush method to guarantee all data has been forwarded to</span></span><br><span class="line"><span class="comment">// the underlying io.Writer.</span></span><br><span class="line"><span class="keyword">type</span> Writer <span class="keyword">struct</span> &#123;</span><br><span class="line">	err <span class="type">error</span></span><br><span class="line">	buf []<span class="type">byte</span></span><br><span class="line">	n   <span class="type">int</span></span><br><span class="line">	wr  io.Writer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>bufio.Write(p []byte) çš„æ€è·¯å¦‚ä¸‹</p>
<ol>
<li>åˆ¤æ–­bufä¸­å¯ç”¨å®¹é‡æ˜¯å¦å¯ä»¥æ”¾ä¸‹ p</li>
<li>å¦‚æœèƒ½æ”¾ä¸‹ï¼Œç›´æ¥æŠŠpæ‹¼æ¥åˆ°bufåé¢ï¼Œå³æŠŠå†…å®¹æ”¾åˆ°ç¼“å†²åŒº</li>
<li>å¦‚æœç¼“å†²åŒºçš„å¯ç”¨å®¹é‡ä¸è¶³ä»¥æ”¾ä¸‹ï¼Œä¸”æ­¤æ—¶ç¼“å†²åŒºæ˜¯ç©ºçš„ï¼Œç›´æ¥æŠŠpå†™å…¥æ–‡ä»¶å³å¯</li>
<li>å¦‚æœç¼“å†²åŒºçš„å¯ç”¨å®¹é‡ä¸è¶³ä»¥æ”¾ä¸‹ï¼Œä¸”æ­¤æ—¶ç¼“å†²åŒºæœ‰å†…å®¹ï¼Œåˆ™ç”¨pæŠŠç¼“å†²åŒºå¡«æ»¡ï¼ŒæŠŠç¼“å†²åŒºæ‰€æœ‰å†…å®¹å†™å…¥æ–‡ä»¶ï¼Œå¹¶æ¸…ç©ºç¼“å†²åŒº</li>
<li>åˆ¤æ–­pçš„å‰©ä½™å†…å®¹å¤§å°èƒ½å¦æ”¾åˆ°ç¼“å†²åŒºï¼Œå¦‚æœèƒ½æ”¾ä¸‹ï¼ˆæ­¤æ—¶å’Œæ­¥éª¤1æƒ…å†µä¸€æ ·ï¼‰åˆ™æŠŠå†…å®¹æ”¾åˆ°ç¼“å†²åŒº</li>
<li>å¦‚æœpçš„å‰©ä½™å†…å®¹ä¾æ—§å¤§äºç¼“å†²åŒºï¼Œï¼ˆæ³¨æ„æ­¤æ—¶ç¼“å†²åŒºæ˜¯ç©ºçš„ï¼Œæƒ…å†µå’Œæ­¥éª¤3ä¸€æ ·ï¼‰åˆ™æŠŠpçš„å‰©ä½™å†…å®¹ç›´æ¥å†™å…¥æ–‡ä»¶</li>
</ol>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fileName := <span class="string">&quot;main/2.txt&quot;</span></span><br><span class="line">	file, err := os.OpenFile(fileName, os.O_CREATE|os.O_WRONLY, os.ModePerm)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">(file *os.File)</span></span> &#123;</span><br><span class="line">		err := file.Close()</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;(file)</span><br><span class="line"></span><br><span class="line">	w1 := bufio.NewWriter(file)</span><br><span class="line">	<span class="comment">//n, err := w1.WriteString(&quot;helloworld&quot;)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//fmt.Println(n)</span></span><br><span class="line">	<span class="comment">//err = w1.Flush()</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125; //åˆ·æ–°ç¼“å†²åŒº</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">1000</span>; i++ &#123;</span><br><span class="line">		_, err2 := w1.WriteString(fmt.Sprintf(<span class="string">&quot;%d:hello&quot;</span>, i))</span><br><span class="line">		<span class="keyword">if</span> err2 != <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	err = w1.Flush()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="bufioåŒ…-1"><a href="#bufioåŒ…-1" class="headerlink" title="bufioåŒ…"></a>bufioåŒ…</h2><p>bufioåŒ…å®ç°äº†æœ‰ç¼“å†²çš„I&#x2F;Oã€‚å®ƒåŒ…è£…ä¸€ä¸ªio.Readeræˆ–io.Writeræ¥å£å¯¹è±¡ï¼Œåˆ›å»ºå¦ä¸€ä¸ªä¹Ÿå®ç°äº†è¯¥æ¥å£ï¼Œä¸”åŒæ—¶è¿˜æä¾›äº†ç¼“å†²å’Œä¸€äº›æ–‡æœ¬I&#x2F;Oçš„å¸®åŠ©å‡½æ•°çš„å¯¹è±¡ã€‚</p>
<h3 id="bufio-Reader"><a href="#bufio-Reader" class="headerlink" title="bufio.Reader"></a>bufio.Reader</h3><p>bufio.Reader å®ç°äº†å¦‚ä¸‹æ¥å£ï¼š<br>    io.Reader<br>    io.WriterTo<br>    io.ByteScanner<br>    io.RuneScanner</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// NewReaderSize å°† rd å°è£…æˆä¸€ä¸ªå¸¦ç¼“å­˜çš„ bufio.Reader å¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">// ç¼“å­˜å¤§å°ç”± size æŒ‡å®šï¼ˆå¦‚æœå°äº 16 åˆ™ä¼šè¢«è®¾ç½®ä¸º 16ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ rd çš„åŸºç±»å‹å°±æ˜¯æœ‰è¶³å¤Ÿç¼“å­˜çš„ bufio.Reader ç±»å‹ï¼Œåˆ™ç›´æ¥å°†</span></span><br><span class="line"><span class="comment">// rd è½¬æ¢ä¸ºåŸºç±»å‹è¿”å›ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewReaderSize</span><span class="params">(rd io.Reader, size <span class="type">int</span>)</span></span> *Reader</span><br><span class="line"></span><br><span class="line"><span class="comment">// NewReader ç›¸å½“äº NewReaderSize(rd, 4096)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewReader</span><span class="params">(rd io.Reader)</span></span> *Reader</span><br><span class="line"></span><br><span class="line"><span class="comment">// Peek è¿”å›ç¼“å­˜çš„ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¯¥åˆ‡ç‰‡å¼•ç”¨ç¼“å­˜ä¸­å‰ n ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œ</span></span><br><span class="line"><span class="comment">// è¯¥æ“ä½œä¸ä¼šå°†æ•°æ®è¯»å‡ºï¼Œåªæ˜¯å¼•ç”¨ï¼Œå¼•ç”¨çš„æ•°æ®åœ¨ä¸‹ä¸€æ¬¡è¯»å–æ“ä½œä¹‹</span></span><br><span class="line"><span class="comment">// å‰æ˜¯æœ‰æ•ˆçš„ã€‚å¦‚æœåˆ‡ç‰‡é•¿åº¦å°äº nï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯è¯´æ˜åŸå› ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ n å¤§äºç¼“å­˜çš„æ€»å¤§å°ï¼Œåˆ™è¿”å› ErrBufferFullã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Reader)</span></span> Peek(n <span class="type">int</span>) ([]<span class="type">byte</span>, <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Read ä» b ä¸­è¯»å‡ºæ•°æ®åˆ° p ä¸­ï¼Œè¿”å›è¯»å‡ºçš„å­—èŠ‚æ•°å’Œé‡åˆ°çš„é”™è¯¯ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœç¼“å­˜ä¸ä¸ºç©ºï¼Œåˆ™åªèƒ½è¯»å‡ºç¼“å­˜ä¸­çš„æ•°æ®ï¼Œä¸ä¼šä»åº•å±‚ io.Reader</span></span><br><span class="line"><span class="comment">// ä¸­æå–æ•°æ®ï¼Œå¦‚æœç¼“å­˜ä¸ºç©ºï¼Œåˆ™ï¼š</span></span><br><span class="line"><span class="comment">// 1ã€len(p) &gt;= ç¼“å­˜å¤§å°ï¼Œåˆ™è·³è¿‡ç¼“å­˜ï¼Œç›´æ¥ä»åº•å±‚ io.Reader ä¸­è¯»</span></span><br><span class="line"><span class="comment">// å‡ºåˆ° p ä¸­ã€‚</span></span><br><span class="line"><span class="comment">// 2ã€len(p) &lt; ç¼“å­˜å¤§å°ï¼Œåˆ™å…ˆå°†æ•°æ®ä»åº•å±‚ io.Reader ä¸­è¯»å–åˆ°ç¼“å­˜</span></span><br><span class="line"><span class="comment">// ä¸­ï¼Œå†ä»ç¼“å­˜è¯»å–åˆ° p ä¸­ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Reader)</span></span> Read(p []<span class="type">byte</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Buffered è¿”å›ç¼“å­˜ä¸­æœªè¯»å–çš„æ•°æ®çš„é•¿åº¦ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Reader)</span></span> Buffered() <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ReadBytes åŠŸèƒ½åŒ ReadSliceï¼Œåªä¸è¿‡è¿”å›çš„æ˜¯ç¼“å­˜çš„æ‹·è´ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Reader)</span></span> ReadBytes(delim <span class="type">byte</span>) (line []<span class="type">byte</span>, err <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ReadString åŠŸèƒ½åŒ ReadBytesï¼Œåªä¸è¿‡è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Reader)</span></span> ReadString(delim <span class="type">byte</span>) (line <span class="type">string</span>, err <span class="type">error</span>)</span><br></pre></td></tr></table></figure>

<h3 id="bufio-Writer"><a href="#bufio-Writer" class="headerlink" title="bufio.Writer"></a>bufio.Writer</h3><p>bufio.Writer å®ç°äº†å¦‚ä¸‹æ¥å£ï¼š<br>    io.Writer<br>    io.ReaderFrom<br>    io.ByteWriter</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// NewWriterSize å°† wr å°è£…æˆä¸€ä¸ªå¸¦ç¼“å­˜çš„ bufio.Writer å¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">// ç¼“å­˜å¤§å°ç”± size æŒ‡å®šï¼ˆå¦‚æœå°äº 4096 åˆ™ä¼šè¢«è®¾ç½®ä¸º 4096ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ wr çš„åŸºç±»å‹å°±æ˜¯æœ‰è¶³å¤Ÿç¼“å­˜çš„ bufio.Writer ç±»å‹ï¼Œåˆ™ç›´æ¥å°†</span></span><br><span class="line"><span class="comment">// wr è½¬æ¢ä¸ºåŸºç±»å‹è¿”å›ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewWriterSize</span><span class="params">(wr io.Writer, size <span class="type">int</span>)</span></span> *Writer</span><br><span class="line"></span><br><span class="line"><span class="comment">// NewWriter ç›¸å½“äº NewWriterSize(wr, 4096)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewWriter</span><span class="params">(wr io.Writer)</span></span> *Writer</span><br><span class="line"></span><br><span class="line"><span class="comment">// WriteString åŠŸèƒ½åŒ Writeï¼Œåªä¸è¿‡å†™å…¥çš„æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Writer)</span></span> WriteString(s <span class="type">string</span>) (<span class="type">int</span>, <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// WriteRune å‘ b å†™å…¥ r çš„ UTF-8 ç¼–ç ï¼Œè¿”å› r çš„ç¼–ç é•¿åº¦ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Writer)</span></span> WriteRune(r <span class="type">rune</span>) (size <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Flush å°†ç¼“å­˜ä¸­çš„æ•°æ®æäº¤åˆ°åº•å±‚çš„ io.Writer ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Writer)</span></span> Flush() <span class="type">error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Available è¿”å›ç¼“å­˜ä¸­æœªä½¿ç”¨çš„ç©ºé—´çš„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Writer)</span></span> Available() <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Buffered è¿”å›ç¼“å­˜ä¸­æœªæäº¤çš„æ•°æ®çš„é•¿åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Writer)</span></span> Buffered() <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Reset å°† b çš„åº•å±‚ Writer é‡æ–°æŒ‡å®šä¸º wï¼ŒåŒæ—¶ä¸¢å¼ƒç¼“å­˜ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå¤ä½</span></span><br><span class="line"><span class="comment">// æ‰€æœ‰æ ‡è®°å’Œé”™è¯¯ä¿¡æ¯ã€‚ç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ bufio.Writerã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Writer)</span></span> Reset(w io.Writer)</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒ…çš„ä½¿ç”¨å’ŒtimeåŒ…</title>
    <url>/2023/06/10/Go/13/</url>
    <content><![CDATA[<h1 id="åŒ…çš„ä½¿ç”¨"><a href="#åŒ…çš„ä½¿ç”¨" class="headerlink" title="åŒ…çš„ä½¿ç”¨"></a>åŒ…çš„ä½¿ç”¨</h1><p>Goè¯­è¨€ä½¿ç”¨åŒ…ï¼ˆpackageï¼‰è¿™ç§è¯­æ³•å…ƒç´ æ¥ç»„ç»‡æºç ï¼Œæ‰€æœ‰è¯­æ³•å¯è§æ€§å‡å®šä¹‰åœ¨packageè¿™ä¸ªçº§åˆ«ï¼Œä¸Java ã€pythonç­‰è¯­è¨€ç›¸æ¯”ï¼Œè¿™ç®—ä¸ä¸Šä»€ä¹ˆåˆ›æ–°ï¼Œä½†ä¸Cä¼ ç»Ÿçš„includeç›¸æ¯”ï¼Œåˆ™æ˜¯æ˜¾å¾—â€œå…ˆè¿›â€äº†è®¸å¤šã€‚</p>
<p>Go è¯­è¨€çš„æºç å¤ç”¨å»ºç«‹åœ¨åŒ…ï¼ˆpackageï¼‰åŸºç¡€ä¹‹ä¸Šã€‚åŒ…é€šè¿‡ package, import, GOPATH æ“ä½œå®Œæˆã€‚</p>
<h2 id="mainåŒ…"><a href="#mainåŒ…" class="headerlink" title="mainåŒ…"></a>mainåŒ…</h2><p>Go è¯­è¨€çš„å…¥å£ main() å‡½æ•°æ‰€åœ¨çš„åŒ…ï¼ˆpackageï¼‰å« mainï¼Œmain åŒ…æƒ³è¦å¼•ç”¨åˆ«çš„ä»£ç ï¼Œéœ€è¦importå¯¼å…¥ï¼</p>
<h2 id="package"><a href="#package" class="headerlink" title="package"></a>package</h2><p>src ç›®å½•æ˜¯ä»¥ä»£ç åŒ…çš„å½¢å¼ç»„ç»‡å¹¶ä¿å­˜ Go æºç æ–‡ä»¶çš„ã€‚æ¯ä¸ªä»£ç åŒ…éƒ½å’Œ src ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ä¸€ä¸€å¯¹åº”ã€‚æ¯ä¸ªå­ç›®å½•éƒ½æ˜¯ä¸€ä¸ªä»£ç åŒ…ã€‚</p>
<blockquote>
<p>ä»£ç åŒ…åŒ…åå’Œæ–‡ä»¶ç›®å½•åï¼Œä¸è¦æ±‚ä¸€è‡´ã€‚æ¯”å¦‚æ–‡ä»¶ç›®å½•å« helloï¼Œä½†æ˜¯ä»£ç åŒ…åŒ…åå¯ä»¥å£°æ˜ä¸º â€œmainâ€ï¼Œä½†æ˜¯åŒä¸€ä¸ªç›®å½•ä¸‹çš„æºç æ–‡ä»¶ç¬¬ä¸€è¡Œå£°æ˜çš„æ‰€å±åŒ…ï¼Œå¿…é¡»ä¸€è‡´ï¼</p>
</blockquote>
<p>åŒä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰.goæ–‡ä»¶çš„ç¬¬ä¸€è¡Œæ·»åŠ  åŒ…å®šä¹‰ï¼Œä»¥æ ‡è®°è¯¥æ–‡ä»¶å½’å±çš„åŒ…ï¼Œæ¼”ç¤ºè¯­æ³•ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> åŒ…å</span><br></pre></td></tr></table></figure>

<p>åŒ…éœ€è¦æ»¡è¶³ï¼š</p>
<ul>
<li>ä¸€ä¸ªç›®å½•ä¸‹çš„åŒçº§æ–‡ä»¶å½’å±ä¸€ä¸ªåŒ…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨åŒä¸€ä¸ªåŒ…ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶çš„packageåï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚</li>
<li>åœ¨åŒä¸€ä¸ªåŒ…ä¸‹é¢çš„æ–‡ä»¶<code>package</code>åéƒ½å»ºè®®è®¾ä¸ºæ˜¯è¯¥ç›®å½•åï¼Œä½†ä¹Ÿå¯ä»¥ä¸æ˜¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒ…åå¯ä»¥ä¸å…¶ç›®å½•ä¸åŒåã€‚</li>
<li>åŒ…åä¸º main çš„åŒ…ä¸ºåº”ç”¨ç¨‹åºçš„å…¥å£åŒ…ï¼Œå…¶ä»–åŒ…ä¸èƒ½ä½¿ç”¨ã€‚</li>
</ul>
<blockquote>
<p>åœ¨åŒä¸€ä¸ªåŒ…ä¸‹é¢çš„æ–‡ä»¶å±äºåŒä¸€ä¸ªå·¥ç¨‹æ–‡ä»¶ï¼Œä¸ç”¨<code>import</code>åŒ…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨</p>
</blockquote>
<p>åŒ…å¯ä»¥åµŒå¥—å®šä¹‰ï¼Œå¯¹åº”çš„å°±æ˜¯åµŒå¥—ç›®å½•ï¼Œä½†åŒ…ååº”è¯¥ä¸æ‰€åœ¨çš„ç›®å½•ä¸€è‡´ã€‚</p>
<p>åŒ…ä¸­ï¼Œé€šè¿‡æ ‡è¯†ç¬¦é¦–å­—æ¯æ˜¯å¦å¤§å†™ï¼Œæ¥ç¡®å®šæ˜¯å¦å¯ä»¥è¢«å¯¼å‡ºã€‚é¦–å­—æ¯å¤§å†™æ‰å¯ä»¥è¢«å¯¼å‡ºï¼Œè§†ä¸º public å…¬å…±çš„èµ„æºã€‚</p>
<h2 id="import"><a href="#import" class="headerlink" title="import"></a>import</h2><p>è¦å¼•ç”¨å…¶ä»–åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ import å…³é”®å­—ï¼Œå¯ä»¥å•ä¸ªå¯¼å…¥æˆ–è€…æ‰¹é‡å¯¼å…¥ï¼Œè¯­æ³•æ¼”ç¤ºï¼š</p>
<p>Aï¼šé€šå¸¸å¯¼å…¥</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å•ä¸ªå¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;package&quot;</span></span><br><span class="line"><span class="comment">// æ‰¹é‡å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;package1&quot;</span></span><br><span class="line">  <span class="string">&quot;package2&quot;</span></span><br><span class="line">  )</span><br></pre></td></tr></table></figure>

<p>Bï¼šç‚¹æ“ä½œ<br>æˆ‘ä»¬æœ‰æ—¶å€™ä¼šçœ‹åˆ°å¦‚ä¸‹çš„æ–¹å¼å¯¼å…¥åŒ…</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span>(</span><br><span class="line">	. <span class="string">&quot;fmt&quot;</span></span><br><span class="line">) </span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªç‚¹æ“ä½œçš„å«ä¹‰å°±æ˜¯è¿™ä¸ªåŒ…å¯¼å…¥ä¹‹ååœ¨ä½ è°ƒç”¨è¿™ä¸ªåŒ…çš„å‡½æ•°æ—¶ï¼Œä½ å¯ä»¥çœç•¥å‰ç¼€çš„åŒ…åã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	. <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> S <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s S)</span></span> p(n <span class="type">int</span>) S &#123;</span><br><span class="line">	Print(n)</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> s S</span><br><span class="line">	<span class="keyword">defer</span> s.p(<span class="number">1</span>).p(<span class="number">2</span>)</span><br><span class="line">	Print(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Cï¼šèµ·åˆ«å</p>
<p>åˆ«åæ“ä½œé¡¾åæ€ä¹‰æˆ‘ä»¬å¯ä»¥æŠŠåŒ…å‘½åæˆå¦ä¸€ä¸ªæˆ‘ä»¬ç”¨èµ·æ¥å®¹æ˜“è®°å¿†çš„åå­—ã€‚å¯¼å…¥æ—¶ï¼Œå¯ä»¥ä¸ºåŒ…å®šä¹‰åˆ«åï¼Œè¯­æ³•æ¼”ç¤ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  p1 <span class="string">&quot;package1&quot;</span></span><br><span class="line">  p2 <span class="string">&quot;package2&quot;</span></span><br><span class="line">  )</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ—¶ï¼šåˆ«åæ“ä½œï¼Œè°ƒç”¨åŒ…å‡½æ•°æ—¶å‰ç¼€å˜æˆäº†æˆ‘ä»¬çš„å‰ç¼€</span></span><br><span class="line">p1.Method()</span><br></pre></td></tr></table></figure>

<p>Dï¼š_æ“ä½œ<br>å¦‚æœä»…ä»…éœ€è¦å¯¼å…¥åŒ…æ—¶æ‰§è¡Œåˆå§‹åŒ–æ“ä½œï¼Œå¹¶ä¸éœ€è¦ä½¿ç”¨åŒ…å†…çš„å…¶ä»–å‡½æ•°ï¼Œå¸¸é‡ç­‰èµ„æºã€‚åˆ™å¯ä»¥åœ¨å¯¼å…¥åŒ…æ—¶ï¼ŒåŒ¿åå¯¼å…¥ã€‚</p>
<p>è¿™ä¸ªæ“ä½œç»å¸¸æ˜¯è®©å¾ˆå¤šäººè´¹è§£çš„ä¸€ä¸ªæ“ä½œç¬¦ï¼Œè¯·çœ‹ä¸‹é¢è¿™ä¸ªimportï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;database/sql&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line">	_ <span class="string">&quot;github.com/go-sql-driver/mysql&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	db, err := sql.Open(<span class="string">&quot;mysql&quot;</span>, <span class="string">&quot;root:@tcp(127.0.0.1:3306)/flask_meeting?charset=utf8mb4&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;é”™è¯¯ä¿¡æ¯&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;è¿æ¥æˆåŠŸ&quot;</span>, db)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>_æ“ä½œå…¶å®æ˜¯å¼•å…¥è¯¥åŒ…ï¼Œè€Œä¸ç›´æ¥ä½¿ç”¨åŒ…é‡Œé¢çš„å‡½æ•°ï¼Œè€Œæ˜¯è°ƒç”¨äº†è¯¥åŒ…é‡Œé¢çš„initå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºåŒ…çš„åˆ«åï¼Œä¼šä»…ä»…æ‰§è¡Œinit()ã€‚</p>
<blockquote>
<p>å¯¼å…¥çš„åŒ…çš„è·¯å¾„åï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œæ¨èä½¿ç”¨ç»å¯¹è·¯å¾„ï¼ˆèµ·å§‹äºå·¥ç¨‹æ ¹ç›®å½•ï¼‰ã€‚</p>
</blockquote>
<h2 id="GOPATHç¯å¢ƒå˜é‡"><a href="#GOPATHç¯å¢ƒå˜é‡" class="headerlink" title="GOPATHç¯å¢ƒå˜é‡"></a>GOPATHç¯å¢ƒå˜é‡</h2><p>importå¯¼å…¥æ—¶ï¼Œä¼šä»GOçš„å®‰è£…ç›®å½•ï¼ˆä¹Ÿå°±æ˜¯GOROOTç¯å¢ƒå˜é‡è®¾ç½®çš„ç›®å½•ï¼‰å’ŒGOPATHç¯å¢ƒå˜é‡è®¾ç½®çš„ç›®å½•ä¸­ï¼Œæ£€ç´¢ src&#x2F;package æ¥å¯¼å…¥åŒ…ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å¯¼å…¥å¤±è´¥ã€‚<br>GOROOTï¼Œå°±æ˜¯GOå†…ç½®çš„åŒ…æ‰€åœ¨çš„ä½ç½®ã€‚<br>GOPATHï¼Œå°±æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„åŒ…çš„ä½ç½®ã€‚</p>
<p>é€šå¸¸æˆ‘ä»¬åœ¨å¼€å‘Goé¡¹ç›®æ—¶ï¼Œè°ƒè¯•æˆ–è€…ç¼–è¯‘æ„å»ºæ—¶ï¼Œéœ€è¦è®¾ç½®GOPATHæŒ‡å‘æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ï¼Œç›®å½•ä¸­çš„srcç›®å½•ä¸­çš„åŒ…å°±å¯ä»¥è¢«å¯¼å…¥äº†ã€‚</p>
<h2 id="init-åŒ…åˆå§‹åŒ–"><a href="#init-åŒ…åˆå§‹åŒ–" class="headerlink" title="init() åŒ…åˆå§‹åŒ–"></a>init() åŒ…åˆå§‹åŒ–</h2><p>ä¸‹é¢æˆ‘ä»¬è¯¦ç»†çš„æ¥ä»‹ç»ä¸€ä¸‹è¿™ä¸¤ä¸ªå‡½æ•°ï¼šinit()ã€main() æ˜¯ go è¯­è¨€ä¸­çš„ä¿ç•™å‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æºç ä¸­ï¼Œå®šä¹‰ init() å‡½æ•°ã€‚æ­¤å‡½æ•°ä¼šåœ¨åŒ…è¢«å¯¼å…¥æ—¶æ‰§è¡Œï¼Œä¾‹å¦‚å¦‚æœæ˜¯åœ¨ main ä¸­å¯¼å…¥åŒ…ï¼ŒåŒ…ä¸­å­˜åœ¨ init()ï¼Œé‚£ä¹ˆ init() ä¸­çš„ä»£ç ä¼šåœ¨ main() å‡½æ•°æ‰§è¡Œå‰æ‰§è¡Œï¼Œç”¨äºåˆå§‹åŒ–åŒ…æ‰€éœ€è¦çš„ç‰¹å®šèµ„æ–™ã€‚ä¾‹å¦‚ï¼š<br>åŒ…æºç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//src/userPackage/tool.go</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> userPackage</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;tool init&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸»å‡½æ•°æºç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//src/main.go</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">&quot;userPackage&quot;</span></span><br><span class="line">  )</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;main run&quot;</span>)</span><br><span class="line">  <span class="comment">// ä½¿ç”¨userPackage</span></span><br><span class="line">  userPackage.SomeFunc()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ—¶ï¼Œä¼šå…ˆè¾“å‡º â€œtool initâ€ï¼Œå†è¾“å‡º â€œmain runâ€ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬è¯¦ç»†çš„æ¥ä»‹ç»ä¸€ä¸‹init()ã€main() è¿™ä¸¤ä¸ªå‡½æ•°ã€‚åœ¨ go è¯­è¨€ä¸­çš„åŒºåˆ«å¦‚ä¸‹ï¼š<br>ç›¸åŒç‚¹ï¼š</p>
<p>ä¸¤ä¸ªå‡½æ•°åœ¨å®šä¹‰æ—¶ä¸èƒ½æœ‰ä»»ä½•çš„å‚æ•°å’Œè¿”å›å€¼ã€‚<br>è¯¥å‡½æ•°åªèƒ½ç”± go ç¨‹åºè‡ªåŠ¨è°ƒç”¨ï¼Œä¸å¯ä»¥è¢«å¼•ç”¨ã€‚</p>
<p>ä¸åŒç‚¹ï¼š</p>
<p>init å¯ä»¥åº”ç”¨äºä»»æ„åŒ…ä¸­ï¼Œä¸”å¯ä»¥é‡å¤å®šä¹‰å¤šä¸ªã€‚<br>main å‡½æ•°åªèƒ½ç”¨äº main åŒ…ä¸­ï¼Œä¸”åªèƒ½å®šä¹‰ä¸€ä¸ªã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°çš„æ‰§è¡Œé¡ºåºï¼š</p>
<p>åœ¨ main åŒ…ä¸­çš„ go æ–‡ä»¶é»˜è®¤æ€»æ˜¯ä¼šè¢«æ‰§è¡Œã€‚</p>
<ul>
<li><p>å¯¹åŒä¸€ä¸ª go æ–‡ä»¶çš„ init( ) è°ƒç”¨é¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹çš„ã€‚</p>
</li>
<li><p>å¯¹åŒä¸€ä¸ª package ä¸­çš„ä¸åŒæ–‡ä»¶ï¼Œå°†æ–‡ä»¶åæŒ‰å­—ç¬¦ä¸²è¿›è¡Œâ€œä»å°åˆ°å¤§â€æ’åºï¼Œä¹‹åé¡ºåºè°ƒç”¨å„æ–‡ä»¶ä¸­çš„init()å‡½æ•°ã€‚</p>
</li>
<li><p>å¯¹äºä¸åŒçš„ packageï¼Œå¦‚æœä¸ç›¸äº’ä¾èµ–çš„è¯ï¼ŒæŒ‰ç…§ main åŒ…ä¸­ import çš„é¡ºåºè°ƒç”¨å…¶åŒ…ä¸­çš„ init() å‡½æ•°ã€‚</p>
</li>
<li><p>å¦‚æœ package å­˜åœ¨ä¾èµ–ï¼Œè°ƒç”¨é¡ºåºä¸ºæœ€åè¢«ä¾èµ–çš„æœ€å…ˆè¢«åˆå§‹åŒ–ï¼Œä¾‹å¦‚ï¼šå¯¼å…¥é¡ºåº main â€“&gt; A â€“&gt; B â€“&gt; Cï¼Œåˆ™åˆå§‹åŒ–é¡ºåºä¸º C â€“&gt; B â€“&gt; A â€“&gt; mainï¼Œä¸€æ¬¡æ‰§è¡Œå¯¹åº”çš„ init æ–¹æ³•ã€‚main åŒ…æ€»æ˜¯è¢«æœ€åä¸€ä¸ªåˆå§‹åŒ–ï¼Œå› ä¸ºå®ƒæ€»æ˜¯ä¾èµ–åˆ«çš„åŒ…</p>
</li>
</ul>
<p>é¿å…å‡ºç°å¾ªç¯ importï¼Œä¾‹å¦‚ï¼šA â€“&gt; B â€“&gt; C â€“&gt; Aã€‚</p>
<p>ä¸€ä¸ªåŒ…è¢«å…¶å®ƒå¤šä¸ªåŒ… importï¼Œä½†åªèƒ½è¢«åˆå§‹åŒ–ä¸€æ¬¡</p>
<h2 id="ç®¡ç†å¤–éƒ¨åŒ…"><a href="#ç®¡ç†å¤–éƒ¨åŒ…" class="headerlink" title="ç®¡ç†å¤–éƒ¨åŒ…"></a>ç®¡ç†å¤–éƒ¨åŒ…</h2><p>goå…è®¸importä¸åŒä»£ç åº“çš„ä»£ç ã€‚å¯¹äºimportè¦å¯¼å…¥çš„å¤–éƒ¨çš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ go get å‘½ä»¤å–ä¸‹æ¥æ”¾åˆ°GOPATHå¯¹åº”çš„ç›®å½•ä¸­å»ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æƒ³é€šè¿‡goè¯­è¨€è¿æ¥mysqlæ•°æ®åº“ï¼Œé‚£ä¹ˆéœ€è¦å…ˆä¸‹è½½mysqlçš„æ•°æ®åŒ…ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go get github.com/go-sql-driver/mysql</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºgoè¯­è¨€æ¥è®²ï¼Œå…¶å®å¹¶ä¸å…³å¿ƒä½ çš„ä»£ç æ˜¯å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨çš„ï¼Œæ€»ä¹‹éƒ½åœ¨GOPATHé‡Œï¼Œä»»ä½•importåŒ…çš„è·¯å¾„éƒ½æ˜¯ä»GOPATHå¼€å§‹çš„ï¼›å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯å†…éƒ¨ä¾èµ–çš„åŒ…æ˜¯å¼€å‘è€…è‡ªå·±å†™çš„ï¼Œå¤–éƒ¨ä¾èµ–çš„åŒ…æ˜¯go getä¸‹æ¥çš„ã€‚</p>
</blockquote>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡go install æ¥ç¼–è¯‘åŒ…æ–‡ä»¶ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªémainåŒ…åœ¨ç¼–è¯‘åä¼šç”Ÿæˆä¸€ä¸ª.aæ–‡ä»¶ï¼ˆåœ¨ä¸´æ—¶ç›®å½•ä¸‹ç”Ÿæˆï¼Œé™¤éä½¿ç”¨go installå®‰è£…åˆ°$GOROOTæˆ–$GOPATHä¸‹ï¼Œå¦åˆ™ä½ çœ‹ä¸åˆ°.aï¼‰ï¼Œç”¨äºåç»­å¯æ‰§è¡Œç¨‹åºé“¾æ¥ä½¿ç”¨ã€‚</p>
<p>æ¯”å¦‚Goæ ‡å‡†åº“ä¸­çš„åŒ…å¯¹åº”çš„æºç éƒ¨åˆ†è·¯å¾„åœ¨ï¼š$GOROOT&#x2F;srcï¼Œè€Œæ ‡å‡†åº“ä¸­åŒ…ç¼–è¯‘åçš„.aæ–‡ä»¶è·¯å¾„åœ¨$GOROOT&#x2F;pkg&#x2F;darwin_amd64ä¸‹ã€‚</p>
<ul>
<li>pkg ç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾é€šè¿‡ go install å‘½ä»¤å®‰è£…åçš„ä»£ç åŒ…çš„å½’æ¡£æ–‡ä»¶(.a æ–‡ä»¶)ã€‚å½’æ¡£æ–‡ä»¶çš„åå­—å°±æ˜¯ä»£ç åŒ…çš„åå­—ã€‚æ‰€æœ‰å½’æ¡£æ–‡ä»¶éƒ½ä¼šè¢«å­˜æ”¾åˆ°è¯¥ç›®å½•ä¸‹çš„å¹³å°ç›¸å…³ç›®å½•ä¸­ï¼Œå³åœ¨ <code>$GOPATH/pkg/$GOOS_$GOARCH</code> ä¸­ï¼ŒåŒæ ·ä»¥ä»£ç åŒ…ä¸ºç»„ç»‡å½¢å¼ã€‚</li>
</ul>
<h1 id="timeåŒ…"><a href="#timeåŒ…" class="headerlink" title="timeåŒ…"></a>timeåŒ…</h1><p>timeåŒ…ï¼š<br>       1å¹´&#x3D;365å¤©ï¼Œday<br>       1å¤©&#x3D;24å°æ—¶ï¼Œhour<br>       1å°æ—¶&#x3D;60åˆ†é’Ÿï¼Œminute<br>       1åˆ†é’Ÿ&#x3D;60ç§’ï¼Œsecond<br>       1ç§’é’Ÿ&#x3D;1000æ¯«ç§’ï¼Œmillisecond<br>       1æ¯«ç§’&#x3D;1000å¾®ç§’ï¼Œmicrosecondâ€“&gt;Î¼s<br>       1å¾®ç§’&#x3D;1000çº³ç§’ï¼Œnanosecondâ€“&gt;ns<br>       1çº³ç§’&#x3D;1000çš®ç§’ï¼Œpicosecondâ€“&gt;ps</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.è·å–å½“å‰çš„æ—¶é—´</span></span><br><span class="line">	t1 := time.Now()</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, t1) <span class="comment">//time.Time</span></span><br><span class="line">	fmt.Println(t1)        <span class="comment">//2023-06-10 11:16:15.340273 +0800 CST m=+0.003384001</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.è·å–æŒ‡å®šçš„æ—¶é—´</span></span><br><span class="line">	t2 := time.Date(<span class="number">2008</span>, <span class="number">7</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">30</span>, <span class="number">28</span>, <span class="number">0</span>, time.Local)</span><br><span class="line">	fmt.Println(t2) <span class="comment">//2008-07-15 16:30:28 +0800 CST</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//3.time--&gt;stringä¹‹é—´çš„è½¬æ¢</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		 t1.Format(&quot;æ ¼å¼æ¨¡æ¿&quot;)--&gt;string</span></span><br><span class="line"><span class="comment">		æ¨¡æ¿çš„æ—¥æœŸå¿…é¡»æ˜¯å›ºå®šï¼š06-1-2-3-4-5</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	s1 := t1.Format(<span class="string">&quot;2006-1-2 15:04:05&quot;</span>)</span><br><span class="line">	fmt.Println(s1) <span class="comment">//2023-6-10 11:16:15</span></span><br><span class="line"></span><br><span class="line">	s2 := t1.Format(<span class="string">&quot;2006/01/02&quot;</span>)</span><br><span class="line">	fmt.Println(s2) <span class="comment">//2023/06/10</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//string--&gt;time</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 time.Parse(&quot;æ¨¡æ¿&quot;,str)--&gt;time,err</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	s3 := <span class="string">&quot;1999å¹´10æœˆ10æ—¥&quot;</span> <span class="comment">//string</span></span><br><span class="line">	t3, err := time.Parse(<span class="string">&quot;2006å¹´01æœˆ02æ—¥&quot;</span>, s3)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err:&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(t3)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, t3)</span><br><span class="line"></span><br><span class="line">	fmt.Println(t1.String())</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.æ ¹æ®å½“å‰æ—¶é—´ï¼Œè·å–æŒ‡å®šçš„å†…å®¹</span></span><br><span class="line">	year, month, day := t1.Date() <span class="comment">//å¹´ï¼Œæœˆï¼Œæ—¥</span></span><br><span class="line">	fmt.Println(year, month, day) <span class="comment">//2023 June 10</span></span><br><span class="line"></span><br><span class="line">	hour, min, sec := t1.Clock()</span><br><span class="line">	fmt.Println(hour, min, sec) <span class="comment">//æ—¶ï¼Œåˆ†ï¼Œç§’</span></span><br><span class="line"></span><br><span class="line">	year2 := t1.Year()</span><br><span class="line">	fmt.Println(<span class="string">&quot;å¹´ï¼š&quot;</span>, year2)</span><br><span class="line">	fmt.Println(t1.YearDay())</span><br><span class="line"></span><br><span class="line">	month2 := t1.Month()</span><br><span class="line">	fmt.Println(<span class="string">&quot;æœˆï¼š&quot;</span>, month2)</span><br><span class="line">	fmt.Println(<span class="string">&quot;æ—¥ï¼š&quot;</span>, t1.Day())</span><br><span class="line">	fmt.Println(<span class="string">&quot;æ—¶ï¼š&quot;</span>, t1.Hour())</span><br><span class="line">	fmt.Println(<span class="string">&quot;åˆ†é’Ÿï¼š&quot;</span>, t1.Minute())</span><br><span class="line">	fmt.Println(<span class="string">&quot;ç§’ï¼š&quot;</span>, t1.Second())</span><br><span class="line">	fmt.Println(<span class="string">&quot;çº³ç§’ï¼š&quot;</span>, t1.Nanosecond())</span><br><span class="line"></span><br><span class="line">	fmt.Println(t1.Weekday()) <span class="comment">//Wednesday</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//5.æ—¶é—´æˆ³ï¼šæŒ‡å®šçš„æ—¥æœŸï¼Œè·ç¦»1970å¹´1æœˆ1æ—¥0ç‚¹0æ—¶0åˆ†0ç§’çš„æ—¶é—´å·®å€¼ï¼šç§’ï¼Œçº³ç§’</span></span><br><span class="line"></span><br><span class="line">	t4 := time.Date(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, time.UTC)</span><br><span class="line">	timeStamp1 := t4.Unix() <span class="comment">//ç§’çš„å·®å€¼</span></span><br><span class="line">	fmt.Println(timeStamp1)</span><br><span class="line">	timeStamp2 := t1.Unix()</span><br><span class="line">	fmt.Println(timeStamp2)</span><br><span class="line"></span><br><span class="line">	timeStamp3 := t4.UnixNano()</span><br><span class="line">	fmt.Println(timeStamp3) <span class="comment">//3600 000 000 000</span></span><br><span class="line">	timeStamp4 := t1.UnixNano()</span><br><span class="line">	fmt.Println(timeStamp4)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//6.æ—¶é—´é—´éš”</span></span><br><span class="line">	t5 := t1.Add(time.Minute)</span><br><span class="line">	fmt.Println(t1)</span><br><span class="line">	fmt.Println(t5)</span><br><span class="line">	fmt.Println(t1.Add(<span class="number">24</span> * time.Hour))</span><br><span class="line"></span><br><span class="line">	t6 := t1.AddDate(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">	fmt.Println(t6)</span><br><span class="line"></span><br><span class="line">	d1 := t5.Sub(t1)</span><br><span class="line">	fmt.Println(d1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//7.ç¡çœ </span></span><br><span class="line">	time.Sleep(<span class="number">3</span> * time.Second) <span class="comment">//è®©å½“å‰çš„ç¨‹åºè¿›å…¥ç¡çœ çŠ¶æ€</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;mainã€‚ã€‚ã€‚overã€‚ã€‚ã€‚ã€‚ã€‚&quot;</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//ç¡çœ [1-10]çš„éšæœºç§’æ•°</span></span><br><span class="line">	rand.Seed(time.Now().UnixNano())</span><br><span class="line">	randNum := rand.Intn(<span class="number">10</span>) + <span class="number">1</span> <span class="comment">//int</span></span><br><span class="line">	fmt.Println(randNum)</span><br><span class="line">	time.Sleep(time.Duration(randNum) * time.Second)</span><br><span class="line">	fmt.Println(<span class="string">&quot;ç¡é†’äº†ã€‚ã€‚&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">time.Time</span><br><span class="line">2023-06-10 11:24:17.1424817 +0800 CST m=+0.003008901</span><br><span class="line">2008-07-15 16:30:28 +0800 CST</span><br><span class="line">2023-6-10 11:24:17</span><br><span class="line">2023/06/10</span><br><span class="line">1999-10-10 00:00:00 +0000 UTC</span><br><span class="line">time.Time</span><br><span class="line">2023-06-10 11:24:17.1424817 +0800 CST m=+0.003008901</span><br><span class="line">2023 June 10</span><br><span class="line">11 24 17</span><br><span class="line">å¹´ï¼š 2023</span><br><span class="line">161</span><br><span class="line">æœˆï¼š June</span><br><span class="line">æ—¥ï¼š 10</span><br><span class="line">æ—¶ï¼š 11</span><br><span class="line">åˆ†é’Ÿï¼š 24</span><br><span class="line">ç§’ï¼š 17</span><br><span class="line">çº³ç§’ï¼š 142481700</span><br><span class="line">Saturday</span><br><span class="line">3600</span><br><span class="line">1686367457</span><br><span class="line">3600000000000</span><br><span class="line">1686367457142481700</span><br><span class="line">2023-06-10 11:24:17.1424817 +0800 CST m=+0.003008901</span><br><span class="line">2023-06-10 11:25:17.1424817 +0800 CST m=+60.003008901</span><br><span class="line">2023-06-11 11:24:17.1424817 +0800 CST m=+86400.003008901</span><br><span class="line">2024-06-10 11:24:17.1424817 +0800 CST</span><br><span class="line">1m0s</span><br><span class="line">mainã€‚ã€‚ã€‚overã€‚ã€‚ã€‚ã€‚ã€‚</span><br><span class="line">7</span><br><span class="line">ç¡é†’äº†ã€‚ã€‚</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>Goroutineå¹¶å‘æ¨¡å‹</title>
    <url>/2023/06/14/Go/17/</url>
    <content><![CDATA[<h1 id="Goè¯­è¨€çš„åç¨‹â€”â€”Goroutine"><a href="#Goè¯­è¨€çš„åç¨‹â€”â€”Goroutine" class="headerlink" title="Goè¯­è¨€çš„åç¨‹â€”â€”Goroutine"></a>Goè¯­è¨€çš„åç¨‹â€”â€”Goroutine</h1><p><strong>è¿›ç¨‹(Process)ï¼Œçº¿ç¨‹(Thread)ï¼Œåç¨‹(Coroutineï¼Œä¹Ÿå«è½»é‡çº§çº¿ç¨‹)</strong></p>
<ul>
<li><p>è¿›ç¨‹<br>è¿›ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†ä¸­çš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œè¿‡ç¨‹ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºâ€œæ­£åœ¨æ‰§è¡Œçš„ç¨‹åºâ€ï¼Œå®ƒæ˜¯CPUèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ã€‚<br>è¿›ç¨‹ä¸€èˆ¬ç”±ç¨‹åºã€æ•°æ®é›†ã€è¿›ç¨‹æ§åˆ¶å—ä¸‰éƒ¨åˆ†ç»„æˆã€‚æˆ‘ä»¬ç¼–å†™çš„ç¨‹åºç”¨æ¥æè¿°è¿›ç¨‹è¦å®Œæˆå“ªäº›åŠŸèƒ½ä»¥åŠå¦‚ä½•å®Œæˆï¼›æ•°æ®é›†åˆ™æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€è¦ä½¿ç”¨çš„èµ„æºï¼›è¿›ç¨‹æ§åˆ¶å—ç”¨æ¥è®°å½•è¿›ç¨‹çš„å¤–éƒ¨ç‰¹å¾ï¼Œæè¿°è¿›ç¨‹çš„æ‰§è¡Œå˜åŒ–è¿‡ç¨‹ï¼Œç³»ç»Ÿå¯ä»¥åˆ©ç”¨å®ƒæ¥æ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ï¼Œå®ƒæ˜¯ç³»ç»Ÿæ„ŸçŸ¥è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ã€‚ <strong>è¿›ç¨‹çš„å±€é™æ˜¯åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢çš„å¼€é”€æ¯”è¾ƒå¤§ã€‚</strong></p>
</li>
<li><p>çº¿ç¨‹<br>çº¿ç¨‹æ˜¯åœ¨è¿›ç¨‹ä¹‹åå‘å±•å‡ºæ¥çš„æ¦‚å¿µã€‚ çº¿ç¨‹ä¹Ÿå«è½»é‡çº§è¿›ç¨‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºæœ¬çš„CPUæ‰§è¡Œå•å…ƒï¼Œä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„æœ€å°å•å…ƒï¼Œç”±çº¿ç¨‹IDã€ç¨‹åºè®¡æ•°å™¨ã€å¯„å­˜å™¨é›†åˆå’Œå †æ ˆå…±åŒç»„æˆã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚<br>çº¿ç¨‹çš„ä¼˜ç‚¹æ˜¯å‡å°äº†ç¨‹åºå¹¶å‘æ‰§è¡Œæ—¶çš„å¼€é”€ï¼Œæé«˜äº†æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ï¼Œç¼ºç‚¹æ˜¯çº¿ç¨‹æ²¡æœ‰è‡ªå·±çš„ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰åœ¨è¿è¡Œæ—¶å¿…ä¸å¯å°‘çš„èµ„æºï¼Œä½†åŒä¸€è¿›ç¨‹çš„å„çº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„ç³»ç»Ÿèµ„æºï¼Œå¦‚æœæŠŠè¿›ç¨‹æ¯”ä½œä¸€ä¸ªè½¦é—´ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±å¥½æ¯”æ˜¯è½¦é—´é‡Œé¢çš„å·¥äººã€‚ä¸è¿‡å¯¹äºæŸäº›ç‹¬å æ€§èµ„æºå­˜åœ¨é”æœºåˆ¶ï¼Œå¤„ç†ä¸å½“å¯èƒ½ä¼šäº§ç”Ÿâ€œæ­»é”â€ã€‚</p>
</li>
<li><p>åç¨‹<br>åç¨‹æ˜¯ä¸€ç§ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ï¼Œåˆç§°å¾®çº¿ç¨‹ï¼Œè‹±æ–‡åCoroutineï¼Œåç¨‹çš„è°ƒåº¦å®Œå…¨ç”±ç”¨æˆ·æ§åˆ¶ã€‚äººä»¬é€šå¸¸å°†åç¨‹å’Œå­ç¨‹åºï¼ˆå‡½æ•°ï¼‰æ¯”è¾ƒç€ç†è§£ã€‚ å­ç¨‹åºè°ƒç”¨æ€»æ˜¯ä¸€ä¸ªå…¥å£ï¼Œä¸€æ¬¡è¿”å›ï¼Œä¸€æ—¦é€€å‡ºå³å®Œæˆäº†å­ç¨‹åºçš„æ‰§è¡Œã€‚</p>
</li>
</ul>
<p><strong>ä¸ä¼ ç»Ÿçš„ç³»ç»Ÿçº§çº¿ç¨‹å’Œè¿›ç¨‹ç›¸æ¯”ï¼Œåç¨‹çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºå…¶â€è½»é‡çº§â€ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºä¸Šç™¾ä¸‡ä¸ªè€Œä¸ä¼šå¯¼è‡´ç³»ç»Ÿèµ„æºè¡°ç«­ï¼Œè€Œçº¿ç¨‹å’Œè¿›ç¨‹é€šå¸¸æœ€å¤šä¹Ÿä¸èƒ½è¶…è¿‡1ä¸‡çš„ã€‚è¿™ä¹Ÿæ˜¯åç¨‹ä¹Ÿå«è½»é‡çº§çº¿ç¨‹çš„åŸå› ã€‚</strong></p>
<blockquote>
<p>åç¨‹çš„ç‰¹ç‚¹åœ¨äºæ˜¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œä¸å¤šçº¿ç¨‹ç›¸æ¯”ï¼Œå…¶ä¼˜åŠ¿ä½“ç°åœ¨ï¼šåç¨‹çš„æ‰§è¡Œæ•ˆç‡æé«˜ã€‚å› ä¸ºå­ç¨‹åºåˆ‡æ¢ä¸æ˜¯çº¿ç¨‹åˆ‡æ¢ï¼Œè€Œæ˜¯ç”±ç¨‹åºè‡ªèº«æ§åˆ¶ï¼Œå› æ­¤ï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œå’Œå¤šçº¿ç¨‹æ¯”ï¼Œçº¿ç¨‹æ•°é‡è¶Šå¤šï¼Œåç¨‹çš„æ€§èƒ½ä¼˜åŠ¿å°±è¶Šæ˜æ˜¾ã€‚</p>
</blockquote>
<h2 id="Goroutine"><a href="#Goroutine" class="headerlink" title="Goroutine"></a>Goroutine</h2><h3 id="ä»€ä¹ˆæ˜¯Goroutine"><a href="#ä»€ä¹ˆæ˜¯Goroutine" class="headerlink" title="ä»€ä¹ˆæ˜¯Goroutine"></a>ä»€ä¹ˆæ˜¯Goroutine</h3><p>goä¸­ä½¿ç”¨Goroutineæ¥å®ç°å¹¶å‘concurrentlyã€‚</p>
<p>Goroutineæ˜¯Goè¯­è¨€ç‰¹æœ‰çš„åè¯ã€‚åŒºåˆ«äºè¿›ç¨‹Processï¼Œçº¿ç¨‹Threadï¼Œåç¨‹Coroutineï¼Œå› ä¸ºGoè¯­è¨€çš„åˆ›é€ è€…ä»¬è§‰å¾—å’Œä»–ä»¬æ˜¯æœ‰æ‰€åŒºåˆ«çš„ï¼Œæ‰€ä»¥ä¸“é—¨åˆ›é€ äº†Goroutineã€‚</p>
<p>Goroutineæ˜¯ä¸å…¶ä»–å‡½æ•°æˆ–æ–¹æ³•åŒæ—¶è¿è¡Œçš„å‡½æ•°æˆ–æ–¹æ³•ã€‚Goroutineså¯ä»¥è¢«è®¤ä¸ºæ˜¯è½»é‡çº§çš„çº¿ç¨‹ã€‚ä¸çº¿ç¨‹ç›¸æ¯”ï¼Œåˆ›å»ºGoroutineçš„æˆæœ¬å¾ˆå°ï¼Œå®ƒå°±æ˜¯ä¸€æ®µä»£ç ï¼Œä¸€ä¸ªå‡½æ•°å…¥å£ã€‚ä»¥åŠåœ¨å †ä¸Šä¸ºå…¶åˆ†é…çš„ä¸€ä¸ªå †æ ˆï¼ˆåˆå§‹å¤§å°ä¸º4Kï¼Œä¼šéšç€ç¨‹åºçš„æ‰§è¡Œè‡ªåŠ¨å¢é•¿åˆ é™¤ï¼‰ã€‚å› æ­¤å®ƒéå¸¸å»‰ä»·ï¼ŒGoåº”ç”¨ç¨‹åºå¯ä»¥å¹¶å‘è¿è¡Œæ•°åƒä¸ªGoroutinesã€‚</p>
<blockquote>
<p>Goroutinesåœ¨çº¿ç¨‹ä¸Šçš„ä¼˜åŠ¿ã€‚</p>
<ol>
<li>ä¸çº¿ç¨‹ç›¸æ¯”ï¼ŒGoroutineséå¸¸ä¾¿å®œã€‚å®ƒä»¬åªæ˜¯å †æ ˆå¤§å°çš„å‡ ä¸ªkbï¼Œå †æ ˆå¯ä»¥æ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€è¦å¢é•¿å’Œæ”¶ç¼©ï¼Œè€Œåœ¨çº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œå †æ ˆå¤§å°å¿…é¡»æŒ‡å®šå¹¶ä¸”æ˜¯å›ºå®šçš„</li>
<li>Goroutinesè¢«å¤šè·¯å¤ç”¨åˆ°è¾ƒå°‘çš„OSçº¿ç¨‹ã€‚åœ¨ä¸€ä¸ªç¨‹åºä¸­å¯èƒ½åªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¸æ•°åƒä¸ªGoroutinesã€‚å¦‚æœçº¿ç¨‹ä¸­çš„ä»»ä½•Goroutineéƒ½è¡¨ç¤ºç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼Œåˆ™ä¼šåˆ›å»ºå¦ä¸€ä¸ªOSçº¿ç¨‹ï¼Œå‰©ä¸‹çš„Goroutinesè¢«è½¬ç§»åˆ°æ–°çš„OSçº¿ç¨‹ã€‚æ‰€æœ‰è¿™äº›éƒ½ç”±è¿è¡Œæ—¶è¿›è¡Œå¤„ç†ï¼Œæˆ‘ä»¬ä½œä¸ºç¨‹åºå‘˜ä»è¿™äº›å¤æ‚çš„ç»†èŠ‚ä¸­æŠ½è±¡å‡ºæ¥ï¼Œå¹¶å¾—åˆ°äº†ä¸€ä¸ªä¸å¹¶å‘å·¥ä½œç›¸å…³çš„å¹²å‡€çš„APIã€‚</li>
<li>å½“ä½¿ç”¨Goroutinesè®¿é—®å…±äº«å†…å­˜æ—¶ï¼Œé€šè¿‡è®¾è®¡çš„é€šé“å¯ä»¥é˜²æ­¢ç«æ€æ¡ä»¶å‘ç”Ÿã€‚é€šé“å¯ä»¥è¢«è®¤ä¸ºæ˜¯Goroutinesé€šä¿¡çš„ç®¡é“ã€‚</li>
</ol>
</blockquote>
<h3 id="ä¸»goroutine"><a href="#ä¸»goroutine" class="headerlink" title="ä¸»goroutine"></a>ä¸»goroutine</h3><p>å°è£…mainå‡½æ•°çš„goroutineç§°ä¸ºä¸»goroutineã€‚</p>
<p>ä¸»goroutineæ‰€åšçš„äº‹æƒ…å¹¶ä¸æ˜¯æ‰§è¡Œmainå‡½æ•°é‚£ä¹ˆç®€å•ã€‚å®ƒé¦–å…ˆè¦åšçš„æ˜¯ï¼šè®¾å®šæ¯ä¸€ä¸ªgoroutineæ‰€èƒ½ç”³è¯·çš„æ ˆç©ºé—´çš„æœ€å¤§å°ºå¯¸ã€‚åœ¨32ä½çš„è®¡ç®—æœºç³»ç»Ÿä¸­æ­¤æœ€å¤§å°ºå¯¸ä¸º250MBï¼Œè€Œåœ¨64ä½çš„è®¡ç®—æœºç³»ç»Ÿä¸­æ­¤å°ºå¯¸ä¸º1GBã€‚å¦‚æœæœ‰æŸä¸ªgoroutineçš„æ ˆç©ºé—´å°ºå¯¸å¤§äºè¿™ä¸ªé™åˆ¶ï¼Œé‚£ä¹ˆè¿è¡Œæ—¶ç³»ç»Ÿå°±ä¼šå¼•å‘ä¸€ä¸ªæ ˆæº¢å‡º(stack overflow)çš„è¿è¡Œæ—¶ææ…Œã€‚éšåï¼Œè¿™ä¸ªgoç¨‹åºçš„è¿è¡Œä¹Ÿä¼šç»ˆæ­¢ã€‚</p>
<p>æ­¤åï¼Œä¸»goroutineä¼šè¿›è¡Œä¸€ç³»åˆ—çš„åˆå§‹åŒ–å·¥ä½œï¼Œæ¶‰åŠçš„å·¥ä½œå†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„deferè¯­å¥ï¼Œç”¨äºåœ¨ä¸»goroutineé€€å‡ºæ—¶åšå¿…è¦çš„å–„åå¤„ç†ã€‚å› ä¸ºä¸»goroutineä¹Ÿå¯èƒ½éæ­£å¸¸çš„ç»“æŸ</p>
</li>
<li><p>å¯åŠ¨ä¸“ç”¨äºåœ¨åå°æ¸…æ‰«å†…å­˜åƒåœ¾çš„goroutineï¼Œå¹¶è®¾ç½®GCå¯ç”¨çš„æ ‡è¯†</p>
</li>
<li><p>æ‰§è¡ŒmianåŒ…ä¸­çš„initå‡½æ•°</p>
</li>
<li><p>æ‰§è¡Œmainå‡½æ•°</p>
<p>æ‰§è¡Œå®Œmainå‡½æ•°åï¼Œå®ƒè¿˜ä¼šæ£€æŸ¥ä¸»goroutineæ˜¯å¦å¼•å‘äº†è¿è¡Œæ—¶ææ…Œï¼Œå¹¶è¿›è¡Œå¿…è¦çš„å¤„ç†ã€‚æœ€åä¸»goroutineä¼šç»“æŸè‡ªå·±ä»¥åŠå½“å‰è¿›ç¨‹çš„è¿è¡Œã€‚</p>
</li>
</ol>
<h3 id="å¦‚ä½•ä½¿ç”¨Goroutines"><a href="#å¦‚ä½•ä½¿ç”¨Goroutines" class="headerlink" title="å¦‚ä½•ä½¿ç”¨Goroutines"></a>å¦‚ä½•ä½¿ç”¨Goroutines</h3><p>åœ¨å‡½æ•°æˆ–æ–¹æ³•è°ƒç”¨å‰é¢åŠ ä¸Šå…³é”®å­—goï¼Œæ‚¨å°†ä¼šåŒæ—¶è¿è¡Œä¸€ä¸ªæ–°çš„Goroutineã€‚</p>
<p>å®ä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hello</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello world goroutine&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">go</span> hello()</span><br><span class="line">    fmt.Println(<span class="string">&quot;main function&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼šå¯èƒ½ä¼šå€¼è¾“å‡º<code>main function</code>ã€‚</p>
<p>ç”±äºä¸»çº¿ç¨‹å’Œæ–°çš„goroutineæ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œå®ƒä»¬åœ¨æ—¶é—´ä¸Šæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå› æ­¤ä¸»çº¿ç¨‹åœ¨æ‰“å°â€main functionâ€ä¹‹åï¼Œå¾ˆå¯èƒ½ç«‹å³ç»“æŸï¼Œè€Œæ–°çš„goroutineå¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´æ¥æ‰§è¡Œ<code>fmt.Println(&quot;Hello world goroutine&quot;)</code>è¯­å¥ï¼Œä»è€Œå¯¼è‡´è¯¥è¯­å¥æ²¡æœ‰è¢«æ‰§è¡Œå’Œæ‰“å°ã€‚</p>
<p>æˆ‘ä»¬å¼€å§‹çš„Goroutineæ€ä¹ˆæ ·äº†?æˆ‘ä»¬éœ€è¦äº†è§£Goroutineçš„è§„åˆ™</p>
<ol>
<li>å½“æ–°çš„Goroutineå¼€å§‹æ—¶ï¼ŒGoroutineè°ƒç”¨ç«‹å³è¿”å›ã€‚ä¸å‡½æ•°ä¸åŒï¼Œgoä¸ç­‰å¾…Goroutineæ‰§è¡Œç»“æŸã€‚å½“Goroutineè°ƒç”¨ï¼Œå¹¶ä¸”Goroutineçš„ä»»ä½•è¿”å›å€¼è¢«å¿½ç•¥ä¹‹åï¼Œgoç«‹å³æ‰§è¡Œåˆ°ä¸‹ä¸€è¡Œä»£ç ã€‚</li>
<li>mainçš„Goroutineåº”è¯¥ä¸ºå…¶ä»–çš„Goroutinesæ‰§è¡Œã€‚å¦‚æœmainçš„Goroutineç»ˆæ­¢äº†ï¼Œç¨‹åºå°†è¢«ç»ˆæ­¢ï¼Œè€Œå…¶ä»–Goroutineå°†ä¸ä¼šè¿è¡Œã€‚</li>
</ol>
<p>ä¿®æ”¹ä»¥ä¸Šä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hello</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello world goroutine&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">go</span> hello()</span><br><span class="line">    time.Sleep(<span class="number">1</span> * time.Second)</span><br><span class="line">    fmt.Println(<span class="string">&quot;main function&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å·²ç»è°ƒç”¨äº†æ—¶é—´åŒ…çš„Sleepæ–¹æ³•ï¼Œå®ƒä¼šåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç¡è§‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œmainçš„goroutineè¢«ç”¨æ¥ç¡è§‰1ç§’ã€‚ç°åœ¨è°ƒç”¨go hello()æœ‰è¶³å¤Ÿçš„æ—¶é—´åœ¨main Goroutineç»ˆæ­¢ä¹‹å‰æ‰§è¡Œã€‚è¿™ä¸ªç¨‹åºé¦–å…ˆæ‰“å°Hello world goroutineï¼Œç­‰å¾…1ç§’ï¼Œç„¶åæ‰“å°<code>main function</code>ã€‚</p>
<h3 id="å¯åŠ¨å¤šä¸ªGoroutines"><a href="#å¯åŠ¨å¤šä¸ªGoroutines" class="headerlink" title="å¯åŠ¨å¤šä¸ªGoroutines"></a>å¯åŠ¨å¤šä¸ªGoroutines</h3><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">numbers</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++ &#123;</span><br><span class="line">        time.Sleep(<span class="number">250</span> * time.Millisecond)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d &quot;</span>, i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">alphabets</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">for</span> i := <span class="string">&#x27;a&#x27;</span>; i &lt;= <span class="string">&#x27;e&#x27;</span>; i++ &#123;</span><br><span class="line">        time.Sleep(<span class="number">400</span> * time.Millisecond)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%c &quot;</span>, i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">go</span> numbers()</span><br><span class="line">    <span class="keyword">go</span> alphabets()</span><br><span class="line">    time.Sleep(<span class="number">3000</span> * time.Millisecond)</span><br><span class="line">    fmt.Println(<span class="string">&quot;main terminated&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 a 2 3 b 4 c 5 d e main terminated  </span><br></pre></td></tr></table></figure>

<p>æ—¶é—´è½´åˆ†æï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/dxc.png"></p>
<h1 id="Goè¯­è¨€çš„å¹¶å‘æ¨¡å‹"><a href="#Goè¯­è¨€çš„å¹¶å‘æ¨¡å‹" class="headerlink" title="Goè¯­è¨€çš„å¹¶å‘æ¨¡å‹"></a>Goè¯­è¨€çš„å¹¶å‘æ¨¡å‹</h1><p>Go è¯­è¨€ç›¸æ¯”Javaç­‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿å°±æ˜¯å¯ä»¥æ–¹ä¾¿åœ°ç¼–å†™å¹¶å‘ç¨‹åºã€‚Go è¯­è¨€å†…ç½®äº† goroutine æœºåˆ¶ï¼Œä½¿ç”¨goroutineå¯ä»¥å¿«é€Ÿåœ°å¼€å‘å¹¶å‘ç¨‹åºï¼Œ æ›´å¥½çš„åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨èµ„æºã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹Goè¯­è¨€çš„å¹¶å‘åŸç†ã€‚</p>
<h2 id="çº¿ç¨‹æ¨¡å‹"><a href="#çº¿ç¨‹æ¨¡å‹" class="headerlink" title="çº¿ç¨‹æ¨¡å‹"></a>çº¿ç¨‹æ¨¡å‹</h2><p>åœ¨ç°ä»£æ“ä½œç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹æ˜¯å¤„ç†å™¨è°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹åˆ™ä½œä¸ºèµ„æºæ‹¥æœ‰çš„åŸºæœ¬å•ä½ã€‚æ¯ä¸ªè¿›ç¨‹æ˜¯ç”±ç§æœ‰çš„è™šæ‹Ÿåœ°å€ç©ºé—´ã€ä»£ç ã€æ•°æ®å’Œå…¶å®ƒå„ç§ç³»ç»Ÿèµ„æºç»„æˆã€‚çº¿ç¨‹æ˜¯è¿›ç¨‹å†…éƒ¨çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚ æ¯ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªä¸»æ‰§è¡Œçº¿ç¨‹ï¼Œå®ƒæ— éœ€ç”±ç”¨æˆ·å»ä¸»åŠ¨åˆ›å»ºï¼Œæ˜¯ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„ã€‚ ç”¨æˆ·æ ¹æ®éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­åˆ›å»ºå…¶å®ƒçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹å¹¶å‘åœ°è¿è¡ŒäºåŒä¸€ä¸ªè¿›ç¨‹ä¸­ã€‚</p>
<p>æˆ‘ä»¬å…ˆä»çº¿ç¨‹è®²èµ·ï¼Œæ— è®ºè¯­è¨€å±‚é¢ä½•ç§å¹¶å‘æ¨¡å‹ï¼Œåˆ°äº†æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œä¸€å®šæ˜¯ä»¥çº¿ç¨‹çš„å½¢æ€å­˜åœ¨çš„ã€‚è€Œæ“ä½œç³»ç»Ÿæ ¹æ®èµ„æºè®¿é—®æƒé™çš„ä¸åŒï¼Œä½“ç³»æ¶æ„å¯åˆ†ä¸ºç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ï¼›å†…æ ¸ç©ºé—´ä¸»è¦æ“ä½œè®¿é—®CPUèµ„æºã€I&#x2F;Oèµ„æºã€å†…å­˜èµ„æºç­‰ç¡¬ä»¶èµ„æºï¼Œä¸ºä¸Šå±‚åº”ç”¨ç¨‹åºæä¾›æœ€åŸºæœ¬çš„åŸºç¡€èµ„æºï¼Œç”¨æˆ·ç©ºé—´å‘¢å°±æ˜¯ä¸Šå±‚åº”ç”¨ç¨‹åºçš„å›ºå®šæ´»åŠ¨ç©ºé—´ï¼Œç”¨æˆ·ç©ºé—´ä¸å¯ä»¥ç›´æ¥è®¿é—®èµ„æºï¼Œå¿…é¡»é€šè¿‡â€œç³»ç»Ÿè°ƒç”¨â€ã€â€œåº“å‡½æ•°â€æˆ–â€œShellè„šæœ¬â€æ¥è°ƒç”¨å†…æ ¸ç©ºé—´æä¾›çš„èµ„æºã€‚</p>
<p>æˆ‘ä»¬ç°åœ¨çš„è®¡ç®—æœºè¯­è¨€ï¼Œå¯ä»¥ç‹­ä¹‰çš„è®¤ä¸ºæ˜¯ä¸€ç§â€œè½¯ä»¶â€ï¼Œå®ƒä»¬ä¸­æ‰€è°“çš„â€œçº¿ç¨‹â€ï¼Œå¾€å¾€æ˜¯ç”¨æˆ·æ€çš„çº¿ç¨‹ï¼Œå’Œæ“ä½œç³»ç»Ÿæœ¬èº«å†…æ ¸æ€çš„çº¿ç¨‹ï¼ˆç®€ç§°KSEï¼‰ï¼Œè¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<p>Goå¹¶å‘ç¼–ç¨‹æ¨¡å‹åœ¨åº•å±‚æ˜¯ç”±æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„çº¿ç¨‹åº“æ”¯æ’‘çš„ï¼Œå› æ­¤è¿˜æ˜¯å¾—ä»çº¿ç¨‹å®ç°æ¨¡å‹è¯´èµ·ã€‚</p>
<p>çº¿ç¨‹å¯ä»¥è§†ä¸ºè¿›ç¨‹ä¸­çš„æ§åˆ¶æµã€‚ä¸€ä¸ªè¿›ç¨‹è‡³å°‘ä¼šåŒ…å«ä¸€ä¸ªçº¿ç¨‹ï¼Œå› ä¸ºå…¶ä¸­è‡³å°‘ä¼šæœ‰ä¸€ä¸ªæ§åˆ¶æµæŒç»­è¿è¡Œã€‚å› è€Œï¼Œä¸€ä¸ªè¿›ç¨‹çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹ä¼šéšç€è¿™ä¸ªè¿›ç¨‹çš„å¯åŠ¨è€Œåˆ›å»ºï¼Œè¿™ä¸ªçº¿ç¨‹ç§°ä¸ºè¯¥è¿›ç¨‹çš„ä¸»çº¿ç¨‹ã€‚å½“ç„¶ï¼Œä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚è¿™äº›çº¿ç¨‹éƒ½æ˜¯ç”±å½“å‰è¿›ç¨‹ä¸­å·²å­˜åœ¨çš„çº¿ç¨‹åˆ›å»ºå‡ºæ¥çš„ï¼Œåˆ›å»ºçš„æ–¹æ³•å°±æ˜¯è°ƒç”¨ç³»ç»Ÿè°ƒç”¨ï¼Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯è°ƒç”¨<br>pthread createå‡½æ•°ã€‚æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹çš„è¿›ç¨‹å¯ä»¥å¹¶å‘æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼Œå¹¶ä¸”å³ä½¿æŸä¸ªæˆ–æŸäº›ä»»åŠ¡è¢«é˜»å¡ï¼Œä¹Ÿä¸ä¼šå½±å“å…¶ä»–ä»»åŠ¡æ­£å¸¸æ‰§è¡Œï¼Œè¿™å¯ä»¥å¤§å¤§æ”¹å–„ç¨‹åºçš„å“åº”æ—¶é—´å’Œååé‡ã€‚å¦ä¸€æ–¹é¢ï¼Œçº¿ç¨‹ä¸å¯èƒ½ç‹¬ç«‹äºè¿›ç¨‹å­˜åœ¨ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸å¯èƒ½é€¾è¶Šå…¶æ‰€å±è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>çº¿ç¨‹çš„å®ç°æ¨¡å‹ä¸»è¦æœ‰3ä¸ªï¼Œåˆ†åˆ«æ˜¯:ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹ã€å†…æ ¸çº§çº¿ç¨‹æ¨¡å‹å’Œä¸¤çº§çº¿ç¨‹æ¨¡å‹ã€‚å®ƒä»¬ä¹‹é—´æœ€å¤§çš„å·®å¼‚å°±åœ¨äºçº¿ç¨‹ä¸å†…æ ¸è°ƒåº¦å®ä½“( Kernel Scheduling Entity,ç®€ç§°KSE)ä¹‹é—´çš„å¯¹åº”å…³ç³»ä¸Šã€‚é¡¾åæ€ä¹‰ï¼Œå†…æ ¸è°ƒåº¦å®ä½“å°±æ˜¯å¯ä»¥è¢«å†…æ ¸çš„è°ƒåº¦å™¨è°ƒåº¦çš„å¯¹è±¡ã€‚åœ¨å¾ˆå¤šæ–‡çŒ®å’Œä¹¦ä¸­ï¼Œå®ƒä¹Ÿç§°ä¸ºå†…æ ¸çº§çº¿ç¨‹ï¼Œæ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸çš„æœ€å°è°ƒåº¦å•å…ƒã€‚</p>
<h3 id="å†…æ ¸çº§çº¿ç¨‹æ¨¡å‹"><a href="#å†…æ ¸çº§çº¿ç¨‹æ¨¡å‹" class="headerlink" title="å†…æ ¸çº§çº¿ç¨‹æ¨¡å‹"></a>å†…æ ¸çº§çº¿ç¨‹æ¨¡å‹</h3><p>ç”¨æˆ·çº¿ç¨‹ä¸KSEæ˜¯1å¯¹1å…³ç³»(1:1)ã€‚å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€çš„çº¿ç¨‹åº“(å¦‚linuxçš„pthreadï¼ŒJavaçš„java.lang.Threadï¼ŒC++11çš„std::threadç­‰ç­‰)éƒ½æ˜¯å¯¹æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹ï¼ˆå†…æ ¸çº§çº¿ç¨‹ï¼‰çš„ä¸€å±‚å°è£…ï¼Œåˆ›å»ºå‡ºæ¥çš„æ¯ä¸ªçº¿ç¨‹ä¸ä¸€ä¸ªä¸åŒçš„KSEé™æ€å…³è”ï¼Œå› æ­¤å…¶è°ƒåº¦å®Œå…¨ç”±OSè°ƒåº¦å™¨æ¥åšã€‚è¿™ç§æ–¹å¼å®ç°ç®€å•ï¼Œç›´æ¥å€ŸåŠ©OSæä¾›çš„çº¿ç¨‹èƒ½åŠ›ï¼Œå¹¶ä¸”ä¸åŒç”¨æˆ·çº¿ç¨‹ä¹‹é—´ä¸€èˆ¬ä¹Ÿä¸ä¼šç›¸äº’å½±å“ã€‚ä½†å…¶åˆ›å»ºï¼Œé”€æ¯ä»¥åŠå¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ç­‰æ“ä½œéƒ½æ˜¯ç›´æ¥ç”±OSå±‚é¢äº²è‡ªæ¥åšï¼Œåœ¨éœ€è¦ä½¿ç”¨å¤§é‡çº¿ç¨‹çš„åœºæ™¯ä¸‹å¯¹OSçš„æ€§èƒ½å½±å“ä¼šå¾ˆå¤§ã€‚æ¯ä¸ªçº¿ç¨‹ç”±å†…æ ¸è°ƒåº¦å™¨ç‹¬ç«‹çš„è°ƒåº¦ï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªçº¿ç¨‹é˜»å¡åˆ™ä¸å½±å“å…¶ä»–çš„çº¿ç¨‹ã€‚</p>
<p>ä¼˜ç‚¹ï¼šåœ¨å¤šæ ¸å¤„ç†å™¨çš„ç¡¬ä»¶çš„æ”¯æŒä¸‹ï¼Œå†…æ ¸ç©ºé—´çº¿ç¨‹æ¨¡å‹æ”¯æŒäº†çœŸæ­£çš„å¹¶è¡Œï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡åï¼Œå…è®¸å¦ä¸€ä¸ªçº¿ç¨‹ç»§ç»­æ‰§è¡Œï¼Œæ‰€ä»¥å¹¶å‘èƒ½åŠ›è¾ƒå¼ºã€‚</p>
<p>ç¼ºç‚¹ï¼šæ¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·çº§çº¿ç¨‹éƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªå†…æ ¸çº§çº¿ç¨‹ä¸å…¶å¯¹åº”ï¼Œè¿™æ ·åˆ›å»ºçº¿ç¨‹çš„å¼€é”€æ¯”è¾ƒå¤§ï¼Œä¼šå½±å“åˆ°åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚</p>
<h3 id="ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹"><a href="#ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹" class="headerlink" title="ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹"></a>ç”¨æˆ·çº§çº¿ç¨‹æ¨¡å‹</h3><p>ç”¨æˆ·çº¿ç¨‹ä¸KSEæ˜¯å¤šå¯¹1å…³ç³»(M:1)ï¼Œè¿™ç§çº¿ç¨‹çš„åˆ›å»ºï¼Œé”€æ¯ä»¥åŠå¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„åè°ƒç­‰æ“ä½œéƒ½æ˜¯ç”±ç”¨æˆ·è‡ªå·±å®ç°çš„çº¿ç¨‹åº“æ¥è´Ÿè´£ï¼Œå¯¹OSå†…æ ¸é€æ˜ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­æ‰€æœ‰åˆ›å»ºçš„çº¿ç¨‹éƒ½ä¸åŒä¸€ä¸ªKSEåœ¨è¿è¡Œæ—¶åŠ¨æ€å…³è”ã€‚ç°åœ¨æœ‰è®¸å¤šè¯­è¨€å®ç°çš„ <strong>åç¨‹</strong> åŸºæœ¬ä¸Šéƒ½å±äºè¿™ç§æ–¹å¼ã€‚è¿™ç§å®ç°æ–¹å¼ç›¸æ¯”å†…æ ¸çº§çº¿ç¨‹å¯ä»¥åšçš„å¾ˆè½»é‡çº§ï¼Œå¯¹ç³»ç»Ÿèµ„æºçš„æ¶ˆè€—ä¼šå°å¾ˆå¤šï¼Œå› æ­¤å¯ä»¥åˆ›å»ºçš„æ•°é‡ä¸ä¸Šä¸‹æ–‡åˆ‡æ¢æ‰€èŠ±è´¹çš„ä»£ä»·ä¹Ÿä¼šå°å¾—å¤šã€‚ä½†è¯¥æ¨¡å‹æœ‰ä¸ªè‡´å‘½çš„ç¼ºç‚¹ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æŸä¸ªç”¨æˆ·çº¿ç¨‹ä¸Šè°ƒç”¨é˜»å¡å¼ç³»ç»Ÿè°ƒç”¨(å¦‚ç”¨é˜»å¡æ–¹å¼readç½‘ç»œIO)ï¼Œé‚£ä¹ˆä¸€æ—¦KSEå› é˜»å¡è¢«å†…æ ¸è°ƒåº¦å‡ºCPUçš„è¯ï¼Œå‰©ä¸‹çš„æ‰€æœ‰å¯¹åº”çš„ç”¨æˆ·çº¿ç¨‹å…¨éƒ½ä¼šå˜ä¸ºé˜»å¡çŠ¶æ€ï¼ˆæ•´ä¸ªè¿›ç¨‹æŒ‚èµ·ï¼‰ã€‚<br>æ‰€ä»¥è¿™äº›è¯­è¨€çš„<strong>åç¨‹åº“</strong>ä¼šæŠŠè‡ªå·±ä¸€äº›é˜»å¡çš„æ“ä½œé‡æ–°å°è£…ä¸ºå®Œå…¨çš„éé˜»å¡å½¢å¼ï¼Œç„¶ååœ¨ä»¥å‰è¦é˜»å¡çš„ç‚¹ä¸Šï¼Œä¸»åŠ¨è®©å‡ºè‡ªå·±ï¼Œå¹¶é€šè¿‡æŸç§æ–¹å¼é€šçŸ¥æˆ–å”¤é†’å…¶ä»–å¾…æ‰§è¡Œçš„ç”¨æˆ·çº¿ç¨‹åœ¨è¯¥KSEä¸Šè¿è¡Œï¼Œä»è€Œé¿å…äº†å†…æ ¸è°ƒåº¦å™¨ç”±äºKSEé˜»å¡è€Œåšä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™æ ·æ•´ä¸ªè¿›ç¨‹ä¹Ÿä¸ä¼šè¢«é˜»å¡äº†ã€‚</p>
<p>ä¼˜ç‚¹ï¼š è¿™ç§æ¨¡å‹çš„å¥½å¤„æ˜¯çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢éƒ½å‘ç”Ÿåœ¨ç”¨æˆ·ç©ºé—´ï¼Œé¿å…çš„æ¨¡æ€åˆ‡æ¢ï¼ˆmode switchï¼‰ï¼Œä»è€Œå¯¹äºæ€§èƒ½æœ‰ç§¯æçš„å½±å“ã€‚</p>
<p>ç¼ºç‚¹ï¼šæ‰€æœ‰çš„çº¿ç¨‹åŸºäºä¸€ä¸ªå†…æ ¸è°ƒåº¦å®ä½“å³å†…æ ¸çº¿ç¨‹ï¼Œè¿™æ„å‘³ç€åªæœ‰ä¸€ä¸ªå¤„ç†å™¨å¯ä»¥è¢«åˆ©ç”¨ï¼Œåœ¨å¤šå¤„ç†å™¨ç¯å¢ƒä¸‹è¿™æ˜¯ä¸èƒ½å¤Ÿè¢«æ¥å—çš„ï¼Œæœ¬è´¨ä¸Šï¼Œç”¨æˆ·çº¿ç¨‹åªè§£å†³äº†å¹¶å‘é—®é¢˜ï¼Œä½†æ˜¯æ²¡æœ‰è§£å†³å¹¶è¡Œé—®é¢˜ã€‚å¦‚æœçº¿ç¨‹å› ä¸º I&#x2F;O æ“ä½œé™·å…¥äº†å†…æ ¸æ€ï¼Œå†…æ ¸æ€çº¿ç¨‹é˜»å¡ç­‰å¾… I&#x2F;O æ•°æ®ï¼Œåˆ™æ‰€æœ‰çš„çº¿ç¨‹éƒ½å°†ä¼šè¢«é˜»å¡ï¼Œç”¨æˆ·ç©ºé—´ä¹Ÿå¯ä»¥ä½¿ç”¨éé˜»å¡è€Œ I&#x2F;Oï¼Œä½†æ˜¯ä¸èƒ½é¿å…æ€§èƒ½åŠå¤æ‚åº¦é—®é¢˜ã€‚</p>
<h3 id="ä¸¤çº§çº¿ç¨‹æ¨¡å‹"><a href="#ä¸¤çº§çº¿ç¨‹æ¨¡å‹" class="headerlink" title="ä¸¤çº§çº¿ç¨‹æ¨¡å‹"></a>ä¸¤çº§çº¿ç¨‹æ¨¡å‹</h3><p>ç”¨æˆ·çº¿ç¨‹ä¸KSEæ˜¯å¤šå¯¹å¤šå…³ç³»(M:N)ï¼Œè¿™ç§å®ç°ç»¼åˆäº†å‰ä¸¤ç§æ¨¡å‹çš„ä¼˜ç‚¹ï¼Œä¸ºä¸€ä¸ªè¿›ç¨‹ä¸­åˆ›å»ºå¤šä¸ªKSEï¼Œå¹¶ä¸”çº¿ç¨‹å¯ä»¥ä¸ä¸åŒçš„KSEåœ¨è¿è¡Œæ—¶è¿›è¡ŒåŠ¨æ€å…³è”ï¼Œå½“æŸä¸ªKSEç”±äºå…¶ä¸Šå·¥ä½œçš„çº¿ç¨‹çš„é˜»å¡æ“ä½œè¢«å†…æ ¸è°ƒåº¦å‡ºCPUæ—¶ï¼Œå½“å‰ä¸å…¶å…³è”çš„å…¶ä½™ç”¨æˆ·çº¿ç¨‹å¯ä»¥é‡æ–°ä¸å…¶ä»–KSEå»ºç«‹å…³è”å…³ç³»ã€‚å½“ç„¶è¿™ç§åŠ¨æ€å…³è”æœºåˆ¶çš„å®ç°å¾ˆå¤æ‚ï¼Œä¹Ÿéœ€è¦ç”¨æˆ·è‡ªå·±å»å®ç°ï¼Œè¿™ç®—æ˜¯å®ƒçš„ä¸€ä¸ªç¼ºç‚¹å§ã€‚Goè¯­è¨€ä¸­çš„å¹¶å‘å°±æ˜¯ä½¿ç”¨çš„è¿™ç§å®ç°æ–¹å¼ï¼ŒGoä¸ºäº†å®ç°è¯¥æ¨¡å‹è‡ªå·±å®ç°äº†ä¸€ä¸ªè¿è¡Œæ—¶è°ƒåº¦å™¨æ¥è´Ÿè´£Goä¸­çš„â€çº¿ç¨‹â€ä¸KSEçš„åŠ¨æ€å…³è”ã€‚æ­¤æ¨¡å‹æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸º <strong>æ··åˆå‹çº¿ç¨‹æ¨¡å‹</strong>ï¼Œ<strong>å³ç”¨æˆ·è°ƒåº¦å™¨å®ç°ç”¨æˆ·çº¿ç¨‹åˆ°KSEçš„â€œè°ƒåº¦â€ï¼Œå†…æ ¸è°ƒåº¦å™¨å®ç°KSEåˆ°CPUä¸Šçš„è°ƒåº¦</strong>ã€‚</p>
<h2 id="Goå¹¶å‘è°ƒåº¦-G-P-Mæ¨¡å‹"><a href="#Goå¹¶å‘è°ƒåº¦-G-P-Mæ¨¡å‹" class="headerlink" title="Goå¹¶å‘è°ƒåº¦: G-P-Mæ¨¡å‹"></a>Goå¹¶å‘è°ƒåº¦: G-P-Mæ¨¡å‹</h2><p>åœ¨æ“ä½œç³»ç»Ÿæä¾›çš„å†…æ ¸çº¿ç¨‹ä¹‹ä¸Šï¼ŒGoæ­å»ºäº†ä¸€ä¸ªç‰¹æœ‰çš„ä¸¤çº§çº¿ç¨‹æ¨¡å‹ã€‚goroutineæœºåˆ¶å®ç°äº†M : Nçš„çº¿ç¨‹æ¨¡å‹ï¼Œgoroutineæœºåˆ¶æ˜¯åç¨‹ï¼ˆcoroutineï¼‰çš„ä¸€ç§å®ç°ï¼Œgolangå†…ç½®çš„è°ƒåº¦å™¨ï¼Œå¯ä»¥è®©å¤šæ ¸CPUä¸­æ¯ä¸ªCPUæ‰§è¡Œä¸€ä¸ªåç¨‹ã€‚</p>
<h3 id="è°ƒåº¦å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„"><a href="#è°ƒåº¦å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„" class="headerlink" title="è°ƒåº¦å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„"></a>è°ƒåº¦å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„</h3><p>æœ‰äº†ä¸Šé¢çš„è®¤è¯†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹çœŸæ­£çš„ä»‹ç»Goçš„å¹¶å‘æœºåˆ¶äº†ï¼Œå…ˆç”¨ä¸€æ®µä»£ç å±•ç¤ºä¸€ä¸‹åœ¨Goè¯­è¨€ä¸­æ–°å»ºä¸€ä¸ªâ€œçº¿ç¨‹â€(Goè¯­è¨€ä¸­ç§°ä¸ºGoroutine)çš„æ ·å­ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç”¨goå…³é”®å­—åŠ ä¸Šä¸€ä¸ªå‡½æ•°ï¼ˆè¿™é‡Œç”¨äº†åŒ¿åå‡½æ•°ï¼‰</span></span><br><span class="line"><span class="comment">// è°ƒç”¨å°±åšåˆ°äº†åœ¨ä¸€ä¸ªæ–°çš„â€œçº¿ç¨‹â€å¹¶å‘æ‰§è¡Œä»»åŠ¡</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123; </span><br><span class="line">    <span class="comment">// do something in one new goroutine</span></span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>

<p>ç†è§£goroutineæœºåˆ¶çš„åŸç†ï¼Œå…³é”®æ˜¯ç†è§£Goè¯­è¨€schedulerçš„å®ç°ã€‚</p>
<p>Goè¯­è¨€ä¸­æ”¯æ’‘æ•´ä¸ªschedulerå®ç°çš„ä¸»è¦æœ‰4ä¸ªé‡è¦ç»“æ„ï¼Œåˆ†åˆ«æ˜¯Mã€Gã€Pã€Schedï¼Œ å‰ä¸‰ä¸ªå®šä¹‰åœ¨runtime.hä¸­ï¼ŒSchedå®šä¹‰åœ¨proc.cä¸­ã€‚</p>
<ul>
<li>Schedç»“æ„å°±æ˜¯è°ƒåº¦å™¨ï¼Œå®ƒç»´æŠ¤æœ‰å­˜å‚¨Må’ŒGçš„é˜Ÿåˆ—ä»¥åŠè°ƒåº¦å™¨çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯ç­‰ã€‚</li>
<li>Mç»“æ„æ˜¯Machineï¼Œç³»ç»Ÿçº¿ç¨‹ï¼Œå®ƒç”±æ“ä½œç³»ç»Ÿç®¡ç†çš„ï¼Œgoroutineå°±æ˜¯è·‘åœ¨Mä¹‹ä¸Šçš„ï¼›Mæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ç»“æ„ï¼Œé‡Œé¢ç»´æŠ¤å°å¯¹è±¡å†…å­˜cacheï¼ˆmcacheï¼‰ã€å½“å‰æ‰§è¡Œçš„goroutineã€éšæœºæ•°å‘ç”Ÿå™¨ç­‰ç­‰éå¸¸å¤šçš„ä¿¡æ¯ã€‚</li>
<li>Pç»“æ„æ˜¯Processorï¼Œå¤„ç†å™¨ï¼Œå®ƒçš„ä¸»è¦ç”¨é€”å°±æ˜¯ç”¨æ¥æ‰§è¡Œgoroutineçš„ï¼Œå®ƒç»´æŠ¤äº†ä¸€ä¸ªgoroutineé˜Ÿåˆ—ï¼Œå³runqueueã€‚Processoræ˜¯è®©æˆ‘ä»¬ä»N:1è°ƒåº¦åˆ°M:Nè°ƒåº¦çš„é‡è¦éƒ¨åˆ†ã€‚</li>
<li>Gæ˜¯goroutineå®ç°çš„æ ¸å¿ƒç»“æ„ï¼Œå®ƒåŒ…å«äº†æ ˆï¼ŒæŒ‡ä»¤æŒ‡é’ˆï¼Œä»¥åŠå…¶ä»–å¯¹è°ƒåº¦goroutineå¾ˆé‡è¦çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å…¶é˜»å¡çš„channelã€‚</li>
</ul>
<blockquote>
<p>Processorçš„æ•°é‡æ˜¯åœ¨å¯åŠ¨æ—¶è¢«è®¾ç½®ä¸ºç¯å¢ƒå˜é‡GOMAXPROCSçš„å€¼ï¼Œæˆ–è€…é€šè¿‡è¿è¡Œæ—¶è°ƒç”¨å‡½æ•°GOMAXPROCS()è¿›è¡Œè®¾ç½®ã€‚Processoræ•°é‡å›ºå®šæ„å‘³ç€ä»»æ„æ—¶åˆ»åªæœ‰GOMAXPROCSä¸ªçº¿ç¨‹åœ¨è¿è¡Œgoä»£ç ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬åˆ†åˆ«ç”¨ä¸‰è§’å½¢ï¼ŒçŸ©å½¢å’Œåœ†å½¢è¡¨ç¤ºMachine Processorå’ŒGoroutineã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/moxing4.jpg" alt="moxing4"></p>
<p>åœ¨å•æ ¸å¤„ç†å™¨çš„åœºæ™¯ä¸‹ï¼Œæ‰€æœ‰goroutineè¿è¡Œåœ¨åŒä¸€ä¸ªMç³»ç»Ÿçº¿ç¨‹ä¸­ï¼Œæ¯ä¸€ä¸ªMç³»ç»Ÿçº¿ç¨‹ç»´æŠ¤ä¸€ä¸ªProcessorï¼Œä»»ä½•æ—¶åˆ»ï¼Œä¸€ä¸ªProcessorä¸­åªæœ‰ä¸€ä¸ªgoroutineï¼Œå…¶ä»–goroutineåœ¨runqueueä¸­ç­‰å¾…ã€‚ä¸€ä¸ªgoroutineè¿è¡Œå®Œè‡ªå·±çš„æ—¶é—´ç‰‡åï¼Œè®©å‡ºä¸Šä¸‹æ–‡ï¼Œå›åˆ°runqueueä¸­ã€‚ å¤šæ ¸å¤„ç†å™¨çš„åœºæ™¯ä¸‹ï¼Œä¸ºäº†è¿è¡Œgoroutinesï¼Œæ¯ä¸ªMç³»ç»Ÿçº¿ç¨‹ä¼šæŒæœ‰ä¸€ä¸ªProcessorã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/moxing5.jpg" alt="moxing5"></p>
<p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œschedulerä¼šæŒ‰ç…§ä¸Šé¢çš„æµç¨‹è¿›è¡Œè°ƒåº¦ï¼Œä½†æ˜¯çº¿ç¨‹ä¼šå‘ç”Ÿé˜»å¡ç­‰æƒ…å†µï¼Œçœ‹ä¸€ä¸‹goroutineå¯¹çº¿ç¨‹é˜»å¡ç­‰çš„å¤„ç†ã€‚</p>
<h3 id="çº¿ç¨‹é˜»å¡"><a href="#çº¿ç¨‹é˜»å¡" class="headerlink" title="çº¿ç¨‹é˜»å¡"></a>çº¿ç¨‹é˜»å¡</h3><p>å½“æ­£åœ¨è¿è¡Œçš„goroutineé˜»å¡çš„æ—¶å€™ï¼Œä¾‹å¦‚è¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œä¼šå†åˆ›å»ºä¸€ä¸ªç³»ç»Ÿçº¿ç¨‹ï¼ˆM1ï¼‰ï¼Œå½“å‰çš„Mçº¿ç¨‹æ”¾å¼ƒäº†å®ƒçš„Processorï¼ŒPè½¬åˆ°æ–°çš„çº¿ç¨‹ä¸­å»è¿è¡Œã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/moxing6.jpg" alt="moxing6"></p>
<h3 id="runqueueæ‰§è¡Œå®Œæˆ"><a href="#runqueueæ‰§è¡Œå®Œæˆ" class="headerlink" title="runqueueæ‰§è¡Œå®Œæˆ"></a>runqueueæ‰§è¡Œå®Œæˆ</h3><p>å½“å…¶ä¸­ä¸€ä¸ªProcessorçš„runqueueä¸ºç©ºï¼Œæ²¡æœ‰goroutineå¯ä»¥è°ƒåº¦ã€‚å®ƒä¼šä»å¦å¤–ä¸€ä¸ªä¸Šä¸‹æ–‡å·å–ä¸€åŠçš„goroutineã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/moxing7.jpg" alt="moxing7"></p>
<blockquote>
<p>å…¶å›¾ä¸­çš„Gï¼ŒPå’ŒMéƒ½æ˜¯Goè¯­è¨€è¿è¡Œæ—¶ç³»ç»Ÿï¼ˆå…¶ä¸­åŒ…æ‹¬å†…å­˜åˆ†é…å™¨ï¼Œå¹¶å‘è°ƒåº¦å™¨ï¼Œåƒåœ¾æ”¶é›†å™¨ç­‰ç»„ä»¶ï¼Œå¯ä»¥æƒ³è±¡ä¸ºJavaä¸­çš„JVMï¼‰æŠ½è±¡å‡ºæ¥æ¦‚å¿µå’Œæ•°æ®ç»“æ„å¯¹è±¡ï¼š<br>Gï¼šGoroutineçš„ç®€ç§°ï¼Œä¸Šé¢ç”¨goå…³é”®å­—åŠ å‡½æ•°è°ƒç”¨çš„ä»£ç å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªGå¯¹è±¡ï¼Œæ˜¯å¯¹ä¸€ä¸ªè¦å¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡çš„å°è£…ï¼Œä¹Ÿå¯ä»¥ç§°ä½œç”¨æˆ·æ€çº¿ç¨‹ã€‚å±äºç”¨æˆ·çº§èµ„æºï¼Œå¯¹OSé€æ˜ï¼Œå…·å¤‡è½»é‡çº§ï¼Œå¯ä»¥å¤§é‡åˆ›å»ºï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬ä½ç­‰ç‰¹ç‚¹ã€‚<br>Mï¼šMachineçš„ç®€ç§°ï¼Œåœ¨linuxå¹³å°ä¸Šæ˜¯ç”¨cloneç³»ç»Ÿè°ƒç”¨åˆ›å»ºçš„ï¼Œå…¶ä¸ç”¨linux pthreadåº“åˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åˆ©ç”¨ç³»ç»Ÿè°ƒç”¨åˆ›å»ºå‡ºæ¥çš„OSçº¿ç¨‹å®ä½“ã€‚Mçš„ä½œç”¨å°±æ˜¯æ‰§è¡ŒGä¸­åŒ…è£…çš„å¹¶å‘ä»»åŠ¡ã€‚<strong>Goè¿è¡Œæ—¶ç³»ç»Ÿä¸­çš„è°ƒåº¦å™¨çš„ä¸»è¦èŒè´£å°±æ˜¯å°†Gå…¬å¹³åˆç†çš„å®‰æ’åˆ°å¤šä¸ªMä¸Šå»æ‰§è¡Œ</strong>ã€‚å…¶å±äºOSèµ„æºï¼Œå¯åˆ›å»ºçš„æ•°é‡ä¸Šä¹Ÿå—é™äº†OSï¼Œé€šå¸¸æƒ…å†µä¸‹Gçš„æ•°é‡éƒ½å¤šäºæ´»è·ƒçš„Mçš„ã€‚<br>Pï¼šProcessorçš„ç®€ç§°ï¼Œé€»è¾‘å¤„ç†å™¨ï¼Œä¸»è¦ä½œç”¨æ˜¯ç®¡ç†Gå¯¹è±¡ï¼ˆæ¯ä¸ªPéƒ½æœ‰ä¸€ä¸ªGé˜Ÿåˆ—ï¼‰ï¼Œå¹¶ä¸ºGåœ¨Mä¸Šçš„è¿è¡Œæä¾›æœ¬åœ°åŒ–èµ„æºã€‚</p>
</blockquote>
<p>ä»ä¸¤çº§çº¿ç¨‹æ¨¡å‹æ¥çœ‹ï¼Œä¼¼ä¹å¹¶ä¸éœ€è¦Pçš„å‚ä¸ï¼Œæœ‰Gå’ŒMå°±å¯ä»¥äº†ï¼Œé‚£ä¸ºä»€ä¹ˆè¦åŠ å…¥Pè¿™ä¸ªä¸œä¸œå‘¢ï¼Ÿ<br>å…¶å®Goè¯­è¨€è¿è¡Œæ—¶ç³»ç»Ÿæ—©æœŸ(Go1.0)çš„å®ç°ä¸­å¹¶æ²¡æœ‰Pçš„æ¦‚å¿µï¼ŒGoä¸­çš„è°ƒåº¦å™¨ç›´æ¥å°†Gåˆ†é…åˆ°åˆé€‚çš„Mä¸Šè¿è¡Œã€‚ä½†è¿™æ ·å¸¦æ¥äº†å¾ˆå¤šé—®é¢˜ï¼Œä¾‹å¦‚ï¼Œä¸åŒçš„Gåœ¨ä¸åŒçš„Mä¸Šå¹¶å‘è¿è¡Œæ—¶å¯èƒ½éƒ½éœ€å‘ç³»ç»Ÿç”³è¯·èµ„æºï¼ˆå¦‚å †å†…å­˜ï¼‰ï¼Œç”±äºèµ„æºæ˜¯å…¨å±€çš„ï¼Œå°†ä¼šç”±äºèµ„æºç«äº‰é€ æˆå¾ˆå¤šç³»ç»Ÿæ€§èƒ½æŸè€—ï¼Œä¸ºäº†è§£å†³ç±»ä¼¼çš„é—®é¢˜ï¼Œåé¢çš„Goï¼ˆGo1.1ï¼‰è¿è¡Œæ—¶ç³»ç»ŸåŠ å…¥äº†Pï¼Œè®©På»ç®¡ç†Gå¯¹è±¡ï¼ŒMè¦æƒ³è¿è¡ŒGå¿…é¡»å…ˆä¸ä¸€ä¸ªPç»‘å®šï¼Œç„¶åæ‰èƒ½è¿è¡Œè¯¥Pç®¡ç†çš„Gã€‚è¿™æ ·å¸¦æ¥çš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨På¯¹è±¡ä¸­é¢„å…ˆç”³è¯·ä¸€äº›ç³»ç»Ÿèµ„æºï¼ˆæœ¬åœ°èµ„æºï¼‰ï¼ŒGéœ€è¦çš„æ—¶å€™å…ˆå‘è‡ªå·±çš„æœ¬åœ°Pç”³è¯·ï¼ˆæ— éœ€é”ä¿æŠ¤ï¼‰ï¼Œå¦‚æœä¸å¤Ÿç”¨æˆ–æ²¡æœ‰å†å‘å…¨å±€ç”³è¯·ï¼Œè€Œä¸”ä»å…¨å±€æ‹¿çš„æ—¶å€™ä¼šå¤šæ‹¿ä¸€éƒ¨åˆ†ï¼Œä»¥ä¾›åé¢é«˜æ•ˆçš„ä½¿ç”¨ã€‚å°±åƒç°åœ¨æˆ‘ä»¬å»æ”¿åºœåŠäº‹æƒ…ä¸€æ ·ï¼Œå…ˆå»æœ¬åœ°æ”¿åºœçœ‹èƒ½æå®šä¸ï¼Œå¦‚æœæä¸å®šå†å»ä¸­å¤®ï¼Œä»è€Œæä¾›åŠäº‹æ•ˆç‡ã€‚<br>è€Œä¸”ç”±äºPè§£è€¦äº†Gå’ŒMå¯¹è±¡ï¼Œè¿™æ ·å³ä½¿Mç”±äºè¢«å…¶ä¸Šæ­£åœ¨è¿è¡Œçš„Gé˜»å¡ä½ï¼Œå…¶ä½™ä¸è¯¥Må…³è”çš„Gä¹Ÿå¯ä»¥éšç€Pä¸€èµ·è¿ç§»åˆ°åˆ«çš„æ´»è·ƒçš„Mä¸Šç»§ç»­è¿è¡Œï¼Œä»è€Œè®©Gæ€»èƒ½åŠæ—¶æ‰¾åˆ°Må¹¶è¿è¡Œè‡ªå·±ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¹¶å‘èƒ½åŠ›ã€‚<br>Goè¿è¡Œæ—¶ç³»ç»Ÿé€šè¿‡æ„é€ G-P-Må¯¹è±¡æ¨¡å‹å®ç°äº†ä¸€å¥—ç”¨æˆ·æ€çš„å¹¶å‘è°ƒåº¦ç³»ç»Ÿï¼Œå¯ä»¥è‡ªå·±ç®¡ç†å’Œè°ƒåº¦è‡ªå·±çš„å¹¶å‘ä»»åŠ¡ï¼Œæ‰€ä»¥å¯ä»¥è¯´Goè¯­è¨€<strong>åŸç”Ÿæ”¯æŒå¹¶å‘</strong>ã€‚<strong>è‡ªå·±å®ç°çš„è°ƒåº¦å™¨è´Ÿè´£å°†å¹¶å‘ä»»åŠ¡åˆ†é…åˆ°ä¸åŒçš„å†…æ ¸çº¿ç¨‹ä¸Šè¿è¡Œï¼Œç„¶åå†…æ ¸è°ƒåº¦å™¨æ¥ç®¡å†…æ ¸çº¿ç¨‹åœ¨CPUä¸Šçš„æ‰§è¡Œä¸è°ƒåº¦ã€‚</strong></p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>Goè¿è¡Œæ—¶å®Œæ•´çš„è°ƒåº¦ç³»ç»Ÿæ˜¯å¾ˆå¤æ‚ï¼Œå¾ˆéš¾ç”¨ä¸€ç¯‡æ–‡ç« æè¿°çš„æ¸…æ¥šï¼Œè¿™é‡Œåªèƒ½ä»å®è§‚ä¸Šä»‹ç»ä¸€ä¸‹ï¼Œè®©å¤§å®¶æœ‰ä¸ªæ•´ä½“çš„è®¤è¯†ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Goroutine1</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">task1</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">go</span> task2()</span><br><span class="line">    <span class="keyword">go</span> task3()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªG(Goroutine1)å·²ç»é€šè¿‡Pè¢«å®‰æ’åˆ°äº†ä¸€ä¸ªMä¸Šæ­£åœ¨æ‰§è¡Œï¼Œåœ¨Goroutine1æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æˆ‘ä»¬åˆåˆ›å»ºä¸¤ä¸ªGï¼Œè¿™ä¸¤ä¸ªGä¼šè¢«é©¬ä¸Šæ”¾å…¥ä¸Goroutine1ç›¸åŒçš„Pçš„æœ¬åœ°Gä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œæ’é˜Ÿç­‰å¾…ä¸è¯¥Pç»‘å®šçš„Mçš„æ‰§è¡Œï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„ç»“æ„ï¼Œå¾ˆå¥½ç†è§£ã€‚ å…³é”®é—®é¢˜æ˜¯:</p>
<p><strong>a.å¦‚ä½•åœ¨ä¸€ä¸ªå¤šæ ¸å¿ƒç³»ç»Ÿä¸Šå°½é‡åˆç†åˆ†é…Gåˆ°å¤šä¸ªMä¸Šè¿è¡Œï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ï¼Œæé«˜å¹¶å‘èƒ½åŠ›å‘¢ï¼Ÿ</strong><br>å¦‚æœæˆ‘ä»¬åœ¨ä¸€ä¸ªGoroutineä¸­é€šè¿‡<strong>go</strong>å…³é”®å­—åˆ›å»ºäº†å¤§é‡Gï¼Œè¿™äº›Gè™½ç„¶æš‚æ—¶ä¼šè¢«æ”¾åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—, ä½†å¦‚æœè¿™æ—¶è¿˜æœ‰ç©ºé—²Pï¼ˆç³»ç»Ÿå†…Pçš„æ•°é‡é»˜è®¤ç­‰äºç³»ç»Ÿcpuæ ¸å¿ƒæ•°ï¼‰ï¼ŒGoè¿è¡Œæ—¶ç³»ç»Ÿå§‹ç»ˆèƒ½ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªï¼ˆé€šå¸¸ä¹Ÿåªæœ‰ä¸€ä¸ªï¼‰æ´»è·ƒçš„Mä¸ç©ºé—²Pç»‘å®šå»å„ç§Gé˜Ÿåˆ—å»å¯»æ‰¾å¯è¿è¡Œçš„Gä»»åŠ¡ï¼Œè¯¥ç§Mç§°ä¸º<strong>è‡ªæ—‹çš„M</strong>ã€‚ä¸€èˆ¬å¯»æ‰¾é¡ºåºä¸ºï¼šè‡ªå·±ç»‘å®šçš„Pçš„é˜Ÿåˆ—ï¼Œå…¨å±€é˜Ÿåˆ—ï¼Œç„¶åå…¶ä»–Pé˜Ÿåˆ—ã€‚å¦‚æœè‡ªå·±Pé˜Ÿåˆ—æ‰¾åˆ°å°±æ‹¿å‡ºæ¥å¼€å§‹è¿è¡Œï¼Œå¦åˆ™å»å…¨å±€é˜Ÿåˆ—çœ‹çœ‹ï¼Œç”±äºå…¨å±€é˜Ÿåˆ—éœ€è¦é”ä¿æŠ¤ï¼Œå¦‚æœé‡Œé¢æœ‰å¾ˆå¤šä»»åŠ¡ï¼Œä¼šè½¬ç§»ä¸€æ‰¹åˆ°æœ¬åœ°Pé˜Ÿåˆ—ä¸­ï¼Œé¿å…æ¯æ¬¡éƒ½å»ç«äº‰é”ã€‚å¦‚æœå…¨å±€é˜Ÿåˆ—è¿˜æ˜¯æ²¡æœ‰ï¼Œå°±è¦å¼€å§‹ç©ç‹ çš„äº†ï¼Œç›´æ¥ä»å…¶ä»–Pé˜Ÿåˆ—å·ä»»åŠ¡äº†ï¼ˆå·ä¸€åŠä»»åŠ¡å›æ¥ï¼‰ã€‚è¿™æ ·å°±ä¿è¯äº†åœ¨è¿˜æœ‰å¯è¿è¡Œçš„Gä»»åŠ¡çš„æƒ…å†µä¸‹ï¼Œæ€»æœ‰ä¸CPUæ ¸å¿ƒæ•°ç›¸ç­‰çš„M+Pç»„åˆ åœ¨æ‰§è¡ŒGä»»åŠ¡æˆ–åœ¨æ‰§è¡ŒGçš„è·¯ä¸Š(å¯»æ‰¾Gä»»åŠ¡)ã€‚</p>
<p><strong>b. å¦‚æœæŸä¸ªMåœ¨æ‰§è¡ŒGçš„è¿‡ç¨‹ä¸­è¢«Gä¸­çš„ç³»ç»Ÿè°ƒç”¨é˜»å¡äº†ï¼Œæ€ä¹ˆåŠï¼Ÿ</strong><br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™ä¸ªMå°†ä¼šè¢«å†…æ ¸è°ƒåº¦å™¨è°ƒåº¦å‡ºCPUå¹¶å¤„äºé˜»å¡çŠ¶æ€ï¼Œä¸è¯¥Må…³è”çš„å…¶ä»–Gå°±æ²¡æœ‰åŠæ³•ç»§ç»­æ‰§è¡Œäº†ï¼Œä½†Goè¿è¡Œæ—¶ç³»ç»Ÿçš„ä¸€ä¸ªç›‘æ§çº¿ç¨‹(sysmonçº¿ç¨‹)èƒ½æ¢æµ‹åˆ°è¿™æ ·çš„Mï¼Œå¹¶æŠŠä¸è¯¥Mç»‘å®šçš„På‰¥ç¦»ï¼Œå¯»æ‰¾å…¶ä»–ç©ºé—²æˆ–æ–°å»ºMæ¥ç®¡è¯¥Pï¼Œç„¶åç»§ç»­è¿è¡Œå…¶ä¸­çš„Gï¼Œå¤§è‡´è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ç„¶åç­‰åˆ°è¯¥Mä»é˜»å¡çŠ¶æ€æ¢å¤ï¼Œéœ€è¦é‡æ–°æ‰¾ä¸€ä¸ªç©ºé—²Pæ¥ç»§ç»­æ‰§è¡ŒåŸæ¥çš„Gï¼Œå¦‚æœè¿™æ—¶ç³»ç»Ÿæ­£å¥½æ²¡æœ‰ç©ºé—²çš„Pï¼Œå°±æŠŠåŸæ¥çš„Gæ”¾åˆ°å…¨å±€é˜Ÿåˆ—å½“ä¸­ï¼Œç­‰å¾…å…¶ä»–M+Pç»„åˆå‘æ˜å¹¶æ‰§è¡Œã€‚</p>
<p><strong>c. å¦‚æœæŸä¸€ä¸ªGåœ¨Mè¿è¡Œæ—¶é—´è¿‡é•¿ï¼Œæœ‰æ²¡æœ‰åŠæ³•åšæŠ¢å å¼è°ƒåº¦ï¼Œè®©è¯¥Mä¸Šçš„å…¶ä»–Gè·å¾—ä¸€å®šçš„è¿è¡Œæ—¶é—´ï¼Œä»¥ä¿è¯è°ƒåº¦ç³»ç»Ÿçš„å…¬å¹³æ€§?</strong><br>æˆ‘ä»¬çŸ¥é“linuxçš„å†…æ ¸è°ƒåº¦å™¨ä¸»è¦æ˜¯åŸºäºæ—¶é—´ç‰‡å’Œä¼˜å…ˆçº§åšè°ƒåº¦çš„ã€‚å¯¹äºç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹ï¼Œå†…æ ¸è°ƒåº¦å™¨ä¼šå°½é‡ä¿è¯æ¯ä¸ªçº¿ç¨‹éƒ½èƒ½è·å¾—ä¸€å®šçš„æ‰§è¡Œæ—¶é—´ã€‚ä¸ºäº†é˜²æ­¢æœ‰äº›çº¿ç¨‹â€é¥¿æ­»â€çš„æƒ…å†µï¼Œå†…æ ¸è°ƒåº¦å™¨ä¼šå‘èµ·æŠ¢å å¼è°ƒåº¦å°†é•¿æœŸè¿è¡Œçš„çº¿ç¨‹ä¸­æ–­å¹¶è®©å‡ºCPUèµ„æºï¼Œè®©å…¶ä»–çº¿ç¨‹è·å¾—æ‰§è¡Œæœºä¼šã€‚å½“ç„¶åœ¨Goçš„è¿è¡Œæ—¶è°ƒåº¦å™¨ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æŠ¢å æœºåˆ¶ï¼Œä½†å¹¶ä¸èƒ½ä¿è¯æŠ¢å èƒ½æˆåŠŸï¼Œå› ä¸ºGoè¿è¡Œæ—¶ç³»ç»Ÿå¹¶æ²¡æœ‰å†…æ ¸è°ƒåº¦å™¨çš„ä¸­æ–­èƒ½åŠ›ï¼Œå®ƒåªèƒ½é€šè¿‡å‘è¿è¡Œæ—¶é—´è¿‡é•¿çš„Gä¸­è®¾ç½®æŠ¢å flagçš„æ–¹æ³•æ¸©æŸ”çš„è®©è¿è¡Œçš„Gè‡ªå·±ä¸»åŠ¨è®©å‡ºMçš„æ‰§è¡Œæƒã€‚<br>è¯´åˆ°è¿™é‡Œå°±ä¸å¾—ä¸æä¸€ä¸‹Goroutineåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯ä»¥åŠ¨æ€æ‰©å±•è‡ªå·±çº¿ç¨‹æ ˆçš„èƒ½åŠ›ï¼Œå¯ä»¥ä»åˆå§‹çš„2KBå¤§å°æ‰©å±•åˆ°æœ€å¤§1Gï¼ˆ64bitç³»ç»Ÿä¸Šï¼‰ï¼Œå› æ­¤åœ¨æ¯æ¬¡è°ƒç”¨å‡½æ•°ä¹‹å‰éœ€è¦å…ˆè®¡ç®—è¯¥å‡½æ•°è°ƒç”¨éœ€è¦çš„æ ˆç©ºé—´å¤§å°ï¼Œç„¶åæŒ‰éœ€æ‰©å±•ï¼ˆè¶…è¿‡æœ€å¤§å€¼å°†å¯¼è‡´è¿è¡Œæ—¶å¼‚å¸¸ï¼‰ã€‚GoæŠ¢å å¼è°ƒåº¦çš„æœºåˆ¶å°±æ˜¯åˆ©ç”¨åœ¨åˆ¤æ–­è¦ä¸è¦æ‰©æ ˆçš„æ—¶å€™é¡ºä¾¿æŸ¥çœ‹ä»¥ä¸‹è‡ªå·±çš„æŠ¢å flagï¼Œå†³å®šæ˜¯å¦ç»§ç»­æ‰§è¡Œï¼Œè¿˜æ˜¯è®©å‡ºè‡ªå·±ã€‚<br>è¿è¡Œæ—¶ç³»ç»Ÿçš„ç›‘æ§çº¿ç¨‹ä¼šè®¡æ—¶å¹¶è®¾ç½®æŠ¢å flagåˆ°è¿è¡Œæ—¶é—´è¿‡é•¿çš„Gï¼Œç„¶åGåœ¨æœ‰å‡½æ•°è°ƒç”¨çš„æ—¶å€™ä¼šæ£€æŸ¥è¯¥æŠ¢å flagï¼Œå¦‚æœå·²è®¾ç½®å°±å°†è‡ªå·±æ”¾å…¥å…¨å±€é˜Ÿåˆ—ï¼Œè¿™æ ·è¯¥Mä¸Šå…³è”çš„å…¶ä»–Gå°±æœ‰æœºä¼šæ‰§è¡Œäº†ã€‚ä½†å¦‚æœæ­£åœ¨æ‰§è¡Œçš„Gæ˜¯ä¸ªå¾ˆè€—æ—¶çš„æ“ä½œä¸”æ²¡æœ‰ä»»ä½•å‡½æ•°è°ƒç”¨(å¦‚åªæ˜¯forå¾ªç¯ä¸­çš„è®¡ç®—æ“ä½œ)ï¼Œå³ä½¿æŠ¢å flagå·²ç»è¢«è®¾ç½®ï¼Œè¯¥Gè¿˜æ˜¯å°†ä¸€ç›´éœ¸å ç€å½“å‰Mç›´åˆ°æ‰§è¡Œå®Œè‡ªå·±çš„ä»»åŠ¡ã€‚</p>
<p>æ³¨ï¼šæœ¬æ–‡å‚è€ƒä»–äººåšå®¢è¿›è¡Œæ•´ç†</p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>ioutilåŒ…ä¸å¹¶å‘ç¼–ç¨‹åˆè¯†</title>
    <url>/2023/06/13/Go/16/</url>
    <content><![CDATA[<h1 id="ioutilåŒ…"><a href="#ioutilåŒ…" class="headerlink" title="ioutilåŒ…"></a>ioutilåŒ…</h1><p>é™¤äº†ioåŒ…å¯ä»¥è¯»å†™æ•°æ®ï¼ŒGoè¯­è¨€ä¸­è¿˜æä¾›äº†ä¸€ä¸ªè¾…åŠ©çš„å·¥å…·åŒ…å°±æ˜¯ioutilï¼Œé‡Œé¢çš„æ–¹æ³•è™½ç„¶ä¸å¤šï¼Œä½†æ˜¯éƒ½è¿˜è›®å¥½ç”¨çš„ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;io/ioutil&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¯¥åŒ…çš„ä»‹ç»åªæœ‰ä¸€å¥è¯ï¼šPackage ioutil implements some I&#x2F;O utility functionsã€‚</p>
<h2 id="ioutilåŒ…çš„æ–¹æ³•"><a href="#ioutilåŒ…çš„æ–¹æ³•" class="headerlink" title="ioutilåŒ…çš„æ–¹æ³•"></a>ioutilåŒ…çš„æ–¹æ³•</h2><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹é‡Œé¢çš„æ–¹æ³•ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Discard æ˜¯ä¸€ä¸ª io.Writer æ¥å£ï¼Œè°ƒç”¨å®ƒçš„ Write æ–¹æ³•å°†ä¸åšä»»ä½•äº‹æƒ…</span></span><br><span class="line"><span class="comment">// å¹¶ä¸”å§‹ç»ˆæˆåŠŸè¿”å›ã€‚</span></span><br><span class="line"><span class="keyword">var</span> Discard io.Writer = devNull(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ReadAll è¯»å– r ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œè¿”å›è¯»å–çš„æ•°æ®å’Œé‡åˆ°çš„é”™è¯¯ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœè¯»å–æˆåŠŸï¼Œåˆ™ err è¿”å› nilï¼Œè€Œä¸æ˜¯ EOFï¼Œå› ä¸º ReadAll å®šä¹‰ä¸ºè¯»å–</span></span><br><span class="line"><span class="comment">// æ‰€æœ‰æ•°æ®ï¼Œæ‰€ä»¥ä¸ä¼šæŠŠ EOF å½“åšé”™è¯¯å¤„ç†ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadAll</span><span class="params">(r io.Reader)</span></span> ([]<span class="type">byte</span>, <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ReadFile è¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œè¿”å›è¯»å–çš„æ•°æ®å’Œé‡åˆ°çš„é”™è¯¯ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœè¯»å–æˆåŠŸï¼Œåˆ™ err è¿”å› nilï¼Œè€Œä¸æ˜¯ EOF</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadFile</span><span class="params">(filename <span class="type">string</span>)</span></span> ([]<span class="type">byte</span>, <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// WriteFile å‘æ–‡ä»¶ä¸­å†™å…¥æ•°æ®ï¼Œå†™å…¥å‰ä¼šæ¸…ç©ºæ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šä»¥æŒ‡å®šçš„æƒé™åˆ›å»ºè¯¥æ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="comment">// è¿”å›é‡åˆ°çš„é”™è¯¯ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">WriteFile</span><span class="params">(filename <span class="type">string</span>, data []<span class="type">byte</span>, perm os.FileMode)</span></span> <span class="type">error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ReadDir è¯»å–æŒ‡å®šç›®å½•ä¸­çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶ï¼ˆä¸åŒ…æ‹¬å­ç›®å½•ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">// è¿”å›è¯»å–åˆ°çš„æ–‡ä»¶ä¿¡æ¯åˆ—è¡¨å’Œé‡åˆ°çš„é”™è¯¯ï¼Œåˆ—è¡¨æ˜¯ç»è¿‡æ’åºçš„ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadDir</span><span class="params">(dirname <span class="type">string</span>)</span></span> ([]os.FileInfo, <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// NopCloser å°† r åŒ…è£…ä¸ºä¸€ä¸ª ReadCloser ç±»å‹ï¼Œä½† Close æ–¹æ³•ä¸åšä»»ä½•äº‹æƒ…ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NopCloser</span><span class="params">(r io.Reader)</span></span> io.ReadCloser</span><br><span class="line"></span><br><span class="line"><span class="comment">// TempFile åœ¨ dir ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªä»¥ prefix ä¸ºå‰ç¼€çš„ä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶å°†å…¶ä»¥è¯»</span></span><br><span class="line"><span class="comment">// å†™æ¨¡å¼æ‰“å¼€ã€‚è¿”å›åˆ›å»ºçš„æ–‡ä»¶å¯¹è±¡å’Œé‡åˆ°çš„é”™è¯¯ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœ dir ä¸ºç©ºï¼Œåˆ™åœ¨é»˜è®¤çš„ä¸´æ—¶ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ï¼ˆå‚è§ os.TempDirï¼‰ï¼Œå¤šæ¬¡</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ä¼šåˆ›å»ºä¸åŒçš„ä¸´æ—¶æ–‡ä»¶ï¼Œè°ƒç”¨è€…å¯ä»¥é€šè¿‡ f.Name() è·å–æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ã€‚</span></span><br><span class="line"><span class="comment">// è°ƒç”¨æœ¬å‡½æ•°æ‰€åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶ï¼Œåº”è¯¥ç”±è°ƒç”¨è€…è‡ªå·±åˆ é™¤ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TempFile</span><span class="params">(dir, prefix <span class="type">string</span>)</span></span> (f *os.File, err <span class="type">error</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// TempDir åŠŸèƒ½åŒ TempFileï¼Œåªä¸è¿‡åˆ›å»ºçš„æ˜¯ç›®å½•ï¼Œè¿”å›ç›®å½•çš„å®Œæ•´è·¯å¾„ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TempDir</span><span class="params">(dir, prefix <span class="type">string</span>)</span></span> (name <span class="type">string</span>, err <span class="type">error</span>)</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		ioutilåŒ…ï¼š</span></span><br><span class="line"><span class="comment">			ReadFile()</span></span><br><span class="line"><span class="comment">			WriteFile()</span></span><br><span class="line"><span class="comment">			ReadDir()</span></span><br><span class="line"><span class="comment">			..</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.è¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰çš„æ•°æ®</span></span><br><span class="line">	<span class="comment">//fileName := &quot;main/1.txt&quot;</span></span><br><span class="line">	<span class="comment">//data, err := ioutil.ReadFile(fileName)</span></span><br><span class="line">	<span class="comment">////fmt.Println(err)</span></span><br><span class="line">	<span class="comment">////fmt.Println(data)</span></span><br><span class="line">	<span class="comment">//fmt.Println(string(data))</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.å†™å‡ºæ•°æ®(è¦†ç›–å†™)</span></span><br><span class="line">	<span class="comment">//fileName := &quot;main/1.txt&quot;</span></span><br><span class="line">	<span class="comment">//s1 := &quot;åºŠå‰æ˜æœˆå…‰ï¼Œåœ°ä¸Šé‹ä¸‰åŒ&quot;</span></span><br><span class="line">	<span class="comment">//err := ioutil.WriteFile(fileName, []byte(s1), os.ModePerm)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//3.ReadAll()</span></span><br><span class="line">	<span class="comment">//s2 := &quot;ç‹äºŒç‹—å’Œæå°èŠ±æ˜¯ä¸¤ä¸ªå¥½æœ‹å‹ï¼ŒRubyå°±æ˜¯æˆ‘ï¼Œä¹Ÿæ˜¯ä»–ä»¬çš„æœ‹å‹&quot;</span></span><br><span class="line">	<span class="comment">//r1 := strings.NewReader(s2)</span></span><br><span class="line">	<span class="comment">//data, err := ioutil.ReadAll(r1)</span></span><br><span class="line">	<span class="comment">//fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//fmt.Println(data)</span></span><br><span class="line">	<span class="comment">//fmt.Println(string(data))</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.ReadDir()ï¼Œè¯»å–ä¸€ä¸ªç›®å½•ä¸‹çš„å­å†…å®¹ï¼šå­æ–‡ä»¶å’Œå­ç›®å½•ï¼Œä½†æ˜¯åªèƒ½è¯»å–ä¸€å±‚</span></span><br><span class="line">	<span class="comment">//dirName := &quot;main&quot;</span></span><br><span class="line">	<span class="comment">//fileInfos, err := ioutil.ReadDir(dirName)</span></span><br><span class="line">	<span class="comment">//if err != nil &#123;</span></span><br><span class="line">	<span class="comment">//	fmt.Println(err)</span></span><br><span class="line">	<span class="comment">//	return</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(len(fileInfos))</span></span><br><span class="line">	<span class="comment">//for i := 0; i &lt; len(fileInfos); i++ &#123;</span></span><br><span class="line">	<span class="comment">//	//fmt.Printf(&quot;%T\n&quot;, fileInfos[i])</span></span><br><span class="line">	<span class="comment">//	fmt.Printf(&quot;ç¬¬ %d ä¸ªï¼šåç§°ï¼š%sï¼Œæ˜¯å¦æ˜¯ç›®å½•ï¼š%t\n&quot;, i, fileInfos[i].Name(), fileInfos[i].IsDir())</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//5.ä¸´æ—¶ç›®å½•å’Œä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">	dir, err := ioutil.TempDir(<span class="string">&quot;./&quot;</span>, <span class="string">&quot;Test&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> os.Remove(dir)</span><br><span class="line">	fmt.Println(dir)</span><br><span class="line"></span><br><span class="line">	file, err := ioutil.TempFile(dir, <span class="string">&quot;Test&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> os.Remove(file.Name())</span><br><span class="line">	fmt.Println(file.Name())</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éå†æ–‡ä»¶å¤¹"><a href="#éå†æ–‡ä»¶å¤¹" class="headerlink" title="éå†æ–‡ä»¶å¤¹"></a>éå†æ–‡ä»¶å¤¹</h2><p>å› ä¸ºæ–‡ä»¶å¤¹ä¸‹è¿˜æœ‰å­æ–‡ä»¶å¤¹ï¼Œè€ŒioutilåŒ…çš„ReadDir()åªèƒ½è·å–ä¸€å±‚ç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå·±å»è®¾è®¡ç®—æ³•æ¥å®ç°ï¼Œæœ€å®¹æ˜“å®ç°çš„æ€è·¯å°±æ˜¯ä½¿ç”¨é€’å½’ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	dirName := <span class="string">&quot;C:\\Users\\19393\\Desktop\\æ“ä½œç³»ç»Ÿ&quot;</span></span><br><span class="line">	readDir(dirName)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readDir</span><span class="params">(dirName <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">	fileInfos, err := ioutil.ReadDir(dirName)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(fileInfos); i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> fileInfos[i].IsDir() &#123;</span><br><span class="line">			dirName = dirName + <span class="string">&quot;\\&quot;</span> + fileInfos[i].Name()</span><br><span class="line">			readDir(dirName)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			fmt.Printf(<span class="string">&quot;æ–‡ä»¶å:%s\n&quot;</span>, fileInfos[i].Name())</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em><strong>è¯¥åŒ…ç›®å‰å·²å¼ƒç”¨</strong></em></p>
<h1 id="å¹¶å‘æ€§Concurrency"><a href="#å¹¶å‘æ€§Concurrency" class="headerlink" title="å¹¶å‘æ€§Concurrency"></a>å¹¶å‘æ€§Concurrency</h1><h2 id="å¤šä»»åŠ¡"><a href="#å¤šä»»åŠ¡" class="headerlink" title="å¤šä»»åŠ¡"></a>å¤šä»»åŠ¡</h2><p>ä»€ä¹ˆå«â€œå¤šä»»åŠ¡â€å‘¢ï¼Ÿç®€å•åœ°è¯´ï¼Œå°±æ˜¯æ“ä½œç³»ç»Ÿå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªä»»åŠ¡ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ ä¸€è¾¹åœ¨ç”¨æµè§ˆå™¨ä¸Šç½‘ï¼Œä¸€è¾¹åœ¨å¬MP3ï¼Œä¸€è¾¹åœ¨ç”¨Wordèµ¶ä½œä¸šï¼Œè¿™å°±æ˜¯å¤šä»»åŠ¡ï¼Œè‡³å°‘åŒæ—¶æœ‰3ä¸ªä»»åŠ¡æ­£åœ¨è¿è¡Œã€‚è¿˜æœ‰å¾ˆå¤šä»»åŠ¡æ‚„æ‚„åœ°åœ¨åå°åŒæ—¶è¿è¡Œç€ï¼Œåªæ˜¯æ¡Œé¢ä¸Šæ²¡æœ‰æ˜¾ç¤ºè€Œå·²ã€‚</p>
<p>CPUçš„é€Ÿåº¦å¤ªå¿«å•¦ã€‚ã€‚ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯å¹¶å‘"><a href="#ä»€ä¹ˆæ˜¯å¹¶å‘" class="headerlink" title="ä»€ä¹ˆæ˜¯å¹¶å‘"></a>ä»€ä¹ˆæ˜¯å¹¶å‘</h2><p>Goæ˜¯å¹¶å‘è¯­è¨€ï¼Œè€Œä¸æ˜¯å¹¶è¡Œè¯­è¨€ã€‚åœ¨è®¨è®ºå¦‚ä½•åœ¨Goä¸­è¿›è¡Œå¹¶å‘å¤„ç†ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆå¿…é¡»äº†è§£ä»€ä¹ˆæ˜¯å¹¶å‘ï¼Œä»¥åŠå®ƒä¸å¹¶è¡Œæ€§æœ‰ä»€ä¹ˆä¸åŒã€‚(Go is a concurrent language and not a parallel one. )</p>
<p><strong>å¹¶å‘æ€§Concurrencyæ˜¯åŒæ—¶å¤„ç†è®¸å¤šäº‹æƒ…çš„èƒ½åŠ›ã€‚</strong></p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä¸€ä¸ªäººåœ¨æ™¨è·‘ã€‚åœ¨æ™¨è·‘æ—¶ï¼Œä»–çš„é‹å¸¦æ¾äº†ã€‚ç°åœ¨è¿™ä¸ªäººåœæ­¢è·‘æ­¥ï¼Œç³»é‹å¸¦ï¼Œç„¶ååˆå¼€å§‹è·‘æ­¥ã€‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å¹¶å‘æ€§ç¤ºä¾‹ã€‚è¿™ä¸ªäººèƒ½å¤ŸåŒæ—¶å¤„ç†è·‘æ­¥å’Œç³»é‹å¸¦ï¼Œè¿™æ˜¯ä¸€ä¸ªäººèƒ½å¤ŸåŒæ—¶å¤„ç†å¾ˆå¤šäº‹æƒ…ã€‚</p>
<p>ä»€ä¹ˆæ˜¯å¹¶è¡Œæ€§parallelismï¼Œå®ƒä¸å¹¶å‘concurrencyæœ‰ä»€ä¹ˆä¸åŒ?<br>å¹¶è¡Œå°±æ˜¯åŒæ—¶åšå¾ˆå¤šäº‹æƒ…ã€‚è¿™å¬èµ·æ¥å¯èƒ½ä¸å¹¶å‘ç±»ä¼¼ï¼Œä½†å®é™…ä¸Šæ˜¯ä¸åŒçš„ã€‚</p>
<p>è®©æˆ‘ä»¬ç”¨åŒæ ·çš„æ…¢è·‘ä¾‹å­æ›´å¥½åœ°ç†è§£å®ƒã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸ªäººæ­£åœ¨æ…¢è·‘ï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒçš„æ‰‹æœºå¬éŸ³ä¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªäººä¸€è¾¹æ…¢è·‘ä¸€è¾¹å¬éŸ³ä¹ï¼Œé‚£å°±æ˜¯ä»–åŒæ—¶åœ¨åšå¾ˆå¤šäº‹æƒ…ã€‚è¿™å°±æ˜¯æ‰€è°“çš„å¹¶è¡Œæ€§(parallelism)ã€‚</p>
<p>å¹¶å‘æ€§å’Œå¹¶è¡Œæ€§â€”â€”<em>ä¸€ç§æŠ€æœ¯ä¸Šçš„è§‚ç‚¹</em>ã€‚<br>å‡è®¾æˆ‘ä»¬æ­£åœ¨ç¼–å†™ä¸€ä¸ªwebæµè§ˆå™¨ã€‚webæµè§ˆå™¨æœ‰å„ç§ç»„ä»¶ã€‚å…¶ä¸­ä¸¤ä¸ªæ˜¯webé¡µé¢å‘ˆç°åŒºåŸŸå’Œä¸‹è½½æ–‡ä»¶ä»internetä¸‹è½½çš„ä¸‹è½½å™¨ã€‚å‡è®¾æˆ‘ä»¬ä»¥è¿™æ ·çš„æ–¹å¼æ„å»ºäº†æµè§ˆå™¨çš„ä»£ç ï¼Œè¿™æ ·æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ‰§è¡Œã€‚å½“è¿™ä¸ªæµè§ˆå™¨è¿è¡Œåœ¨å•ä¸ªæ ¸å¤„ç†å™¨ä¸­æ—¶ï¼Œå¤„ç†å™¨å°†åœ¨æµè§ˆå™¨çš„ä¸¤ä¸ªç»„ä»¶ä¹‹é—´è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚å®ƒå¯èƒ½ä¼šä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ä¸€æ®µæ—¶é—´ï¼Œç„¶åå®ƒå¯èƒ½ä¼šåˆ‡æ¢åˆ°å‘ˆç°ç”¨æˆ·è¯·æ±‚çš„ç½‘é¡µçš„htmlã€‚è¿™å°±æ˜¯æ‰€è°“çš„å¹¶å‘æ€§ã€‚å¹¶å‘è¿›ç¨‹ä»ä¸åŒçš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„æ‰§è¡Œå‘¨æœŸé‡å ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸‹è½½å’Œå‘ˆç°ä»ä¸åŒçš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„æ‰§è¡Œé‡å ã€‚</p>
<p>å‡è®¾åŒä¸€æµè§ˆå™¨è¿è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ–‡ä»¶ä¸‹è½½ç»„ä»¶å’ŒHTMLå‘ˆç°ç»„ä»¶å¯èƒ½åŒæ—¶åœ¨ä¸åŒçš„å†…æ ¸ä¸­è¿è¡Œã€‚è¿™å°±æ˜¯æ‰€è°“çš„<strong>å¹¶è¡Œæ€§</strong>ã€‚</p>
<p>å¹¶è¡Œæ€§Parallelismä¸ä¼šæ€»æ˜¯å¯¼è‡´æ›´å¿«çš„æ‰§è¡Œæ—¶é—´ã€‚è¿™æ˜¯å› ä¸ºå¹¶è¡Œè¿è¡Œçš„ç»„ä»¶å¯èƒ½éœ€è¦ç›¸äº’é€šä¿¡ã€‚ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„æµè§ˆå™¨ä¸­ï¼Œå½“æ–‡ä»¶ä¸‹è½½å®Œæˆæ—¶ï¼Œåº”è¯¥å°†å…¶ä¼ é€’ç»™ç”¨æˆ·ï¼Œæ¯”å¦‚ä½¿ç”¨å¼¹å‡ºçª—å£ã€‚è¿™ç§é€šä¿¡å‘ç”Ÿåœ¨è´Ÿè´£ä¸‹è½½çš„ç»„ä»¶å’Œè´Ÿè´£å‘ˆç°ç”¨æˆ·ç•Œé¢çš„ç»„ä»¶ä¹‹é—´ã€‚è¿™ç§é€šä¿¡å¼€é”€åœ¨å¹¶å‘concurrent ç³»ç»Ÿä¸­å¾ˆä½ã€‚å½“ç»„ä»¶åœ¨å¤šä¸ªå†…æ ¸ä¸­å¹¶è¡Œconcurrent è¿è¡Œæ—¶ï¼Œè¿™ç§é€šä¿¡å¼€é”€å¾ˆé«˜ã€‚å› æ­¤ï¼Œå¹¶è¡Œç¨‹åºå¹¶ä¸æ€»æ˜¯å¯¼è‡´æ›´å¿«çš„æ‰§è¡Œæ—¶é—´!</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/t.png"></p>
<h2 id="è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹"><a href="#è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹" class="headerlink" title="è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹"></a>è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹</h2><h2 id="è¿›ç¨‹"><a href="#è¿›ç¨‹" class="headerlink" title="è¿›ç¨‹"></a>è¿›ç¨‹</h2><p>è¿›ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†ä¸­çš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œè¿‡ç¨‹ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºâ€œæ­£åœ¨æ‰§è¡Œçš„ç¨‹åºâ€ï¼Œå®ƒæ˜¯CPUèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹å•ä½ã€‚<br>è¿›ç¨‹ä¸€èˆ¬ç”±ç¨‹åºã€æ•°æ®é›†ã€è¿›ç¨‹æ§åˆ¶å—ä¸‰éƒ¨åˆ†ç»„æˆã€‚æˆ‘ä»¬ç¼–å†™çš„ç¨‹åºç”¨æ¥æè¿°è¿›ç¨‹è¦å®Œæˆå“ªäº›åŠŸèƒ½ä»¥åŠå¦‚ä½•å®Œæˆï¼›æ•°æ®é›†åˆ™æ˜¯ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€è¦ä½¿ç”¨çš„èµ„æºï¼›è¿›ç¨‹æ§åˆ¶å—ç”¨æ¥è®°å½•è¿›ç¨‹çš„å¤–éƒ¨ç‰¹å¾ï¼Œæè¿°è¿›ç¨‹çš„æ‰§è¡Œå˜åŒ–è¿‡ç¨‹ï¼Œç³»ç»Ÿå¯ä»¥åˆ©ç”¨å®ƒæ¥æ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ï¼Œå®ƒæ˜¯ç³»ç»Ÿæ„ŸçŸ¥è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ã€‚ <strong>è¿›ç¨‹çš„å±€é™æ˜¯åˆ›å»ºã€æ’¤é”€å’Œåˆ‡æ¢çš„å¼€é”€æ¯”è¾ƒå¤§ã€‚</strong></p>
<h2 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h2><p>çº¿ç¨‹æ˜¯åœ¨è¿›ç¨‹ä¹‹åå‘å±•å‡ºæ¥çš„æ¦‚å¿µã€‚ çº¿ç¨‹ä¹Ÿå«è½»é‡çº§è¿›ç¨‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºæœ¬çš„CPUæ‰§è¡Œå•å…ƒï¼Œä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„æœ€å°å•å…ƒï¼Œç”±çº¿ç¨‹IDã€ç¨‹åºè®¡æ•°å™¨ã€å¯„å­˜å™¨é›†åˆå’Œå †æ ˆå…±åŒç»„æˆã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ã€‚<br>çº¿ç¨‹çš„ä¼˜ç‚¹æ˜¯å‡å°äº†ç¨‹åºå¹¶å‘æ‰§è¡Œæ—¶çš„å¼€é”€ï¼Œæé«˜äº†æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ï¼Œç¼ºç‚¹æ˜¯çº¿ç¨‹æ²¡æœ‰è‡ªå·±çš„ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰åœ¨è¿è¡Œæ—¶å¿…ä¸å¯å°‘çš„èµ„æºï¼Œä½†åŒä¸€è¿›ç¨‹çš„å„çº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„ç³»ç»Ÿèµ„æºï¼Œå¦‚æœæŠŠè¿›ç¨‹æ¯”ä½œä¸€ä¸ªè½¦é—´ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±å¥½æ¯”æ˜¯è½¦é—´é‡Œé¢çš„å·¥äººã€‚ä¸è¿‡å¯¹äºæŸäº›ç‹¬å æ€§èµ„æºå­˜åœ¨é”æœºåˆ¶ï¼Œå¤„ç†ä¸å½“å¯èƒ½ä¼šäº§ç”Ÿâ€œæ­»é”â€ã€‚</p>
<h2 id="åç¨‹"><a href="#åç¨‹" class="headerlink" title="åç¨‹"></a>åç¨‹</h2><p>åç¨‹æ˜¯ä¸€ç§ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ï¼Œåˆç§°å¾®çº¿ç¨‹ï¼Œè‹±æ–‡åCoroutineï¼Œåç¨‹çš„è°ƒåº¦å®Œå…¨ç”±ç”¨æˆ·æ§åˆ¶ã€‚äººä»¬é€šå¸¸å°†åç¨‹å’Œå­ç¨‹åºï¼ˆå‡½æ•°ï¼‰æ¯”è¾ƒç€ç†è§£ã€‚<br>å­ç¨‹åºè°ƒç”¨æ€»æ˜¯ä¸€ä¸ªå…¥å£ï¼Œä¸€æ¬¡è¿”å›ï¼Œä¸€æ—¦é€€å‡ºå³å®Œæˆäº†å­ç¨‹åºçš„æ‰§è¡Œã€‚ </p>
<p><strong>ä¸ä¼ ç»Ÿçš„ç³»ç»Ÿçº§çº¿ç¨‹å’Œè¿›ç¨‹ç›¸æ¯”ï¼Œåç¨‹çš„æœ€å¤§ä¼˜åŠ¿åœ¨äºå…¶â€è½»é‡çº§â€ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºä¸Šç™¾ä¸‡ä¸ªè€Œä¸ä¼šå¯¼è‡´ç³»ç»Ÿèµ„æºè¡°ç«­ï¼Œè€Œçº¿ç¨‹å’Œè¿›ç¨‹é€šå¸¸æœ€å¤šä¹Ÿä¸èƒ½è¶…è¿‡1ä¸‡çš„ã€‚è¿™ä¹Ÿæ˜¯åç¨‹ä¹Ÿå«è½»é‡çº§çº¿ç¨‹çš„åŸå› ã€‚</strong></p>
<blockquote>
<p>åç¨‹ä¸å¤šçº¿ç¨‹ç›¸æ¯”ï¼Œå…¶ä¼˜åŠ¿ä½“ç°åœ¨ï¼šåç¨‹çš„æ‰§è¡Œæ•ˆç‡æé«˜ã€‚å› ä¸ºå­ç¨‹åºåˆ‡æ¢ä¸æ˜¯çº¿ç¨‹åˆ‡æ¢ï¼Œè€Œæ˜¯ç”±ç¨‹åºè‡ªèº«æ§åˆ¶ï¼Œå› æ­¤ï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œå’Œå¤šçº¿ç¨‹æ¯”ï¼Œçº¿ç¨‹æ•°é‡è¶Šå¤šï¼Œåç¨‹çš„æ€§èƒ½ä¼˜åŠ¿å°±è¶Šæ˜æ˜¾ã€‚</p>
</blockquote>
<p><strong>Goè¯­è¨€å¯¹äºå¹¶å‘çš„å®ç°æ˜¯é åç¨‹ï¼ŒGoroutine</strong></p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>goçš„åŸºæœ¬ä»‹ç»</title>
    <url>/2023/06/01/Go/2/</url>
    <content><![CDATA[<h2 id="Goçš„ç‰¹ç‚¹"><a href="#Goçš„ç‰¹ç‚¹" class="headerlink" title="Goçš„ç‰¹ç‚¹"></a>Goçš„ç‰¹ç‚¹</h2><ul>
<li>é«˜æ€§èƒ½ï¼Œè¯¥å¹¶å‘</li>
<li>éƒ¨ç½²ç®€å•ï¼Œå­¦ä¹ ç®€å•</li>
<li>ä¸°å¯Œçš„æ ‡å‡†åº“</li>
<li>å®Œå–„çš„å·¥å…·é“¾</li>
<li>é™æ€é“¾æ¥</li>
<li>å¿«é€Ÿç¼–è¯‘</li>
<li>è·¨å¹³å°</li>
<li>åƒåœ¾å›æ”¶</li>
</ul>
<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  fmt.Println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Goæ˜¯ä¸€é—¨ç¼–è¯‘å‹è¯­è¨€ï¼ŒGoè¯­è¨€çš„å·¥å…·é“¾å°†æºä»£ç åŠå…¶ä¾èµ–è½¬æ¢æˆè®¡ç®—æœºçš„æœºå™¨æŒ‡ä»¤ï¼ˆé™æ€ç¼–è¯‘ï¼‰ã€‚Goè¯­è¨€æä¾›çš„å·¥å…·éƒ½é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„å‘½ä»¤<code>go</code>è°ƒç”¨ï¼Œ<code>go</code>å‘½ä»¤æœ‰ä¸€ç³»åˆ—å­å‘½ä»¤ã€‚æœ€ç®€å•çš„ä¸€ä¸ªå­å‘½ä»¤å°±æ˜¯runã€‚è¿™ä¸ªå‘½ä»¤ç¼–è¯‘ä¸€ä¸ªæˆ–å¤šä¸ªä»¥.goç»“å°¾çš„æºæ–‡ä»¶ï¼Œé“¾æ¥åº“æ–‡ä»¶ï¼Œå¹¶è¿è¡Œæœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚è¦æƒ³è¿è¡Œä¸Šè¿°ç¨‹åºï¼Œå‘½ä»¤è¡Œè¿›å…¥å…¶ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go run helloworld.go</span></span><br></pre></td></tr></table></figure>

<p>Goè¯­è¨€åŸç”Ÿæ”¯æŒUnicodeï¼Œå®ƒå¯ä»¥å¤„ç†å…¨ä¸–ç•Œä»»ä½•è¯­è¨€çš„æ–‡æœ¬ã€‚</p>
<p>å¦‚æœä¸åªæ˜¯ä¸€æ¬¡æ€§å®éªŒï¼Œå¹¶ä¸”å¸Œæœ›èƒ½å¤Ÿç¼–è¯‘è¿™ä¸ªç¨‹åºï¼Œä¿å­˜ç¼–è¯‘ç»“æœä»¥å¤‡å°†æ¥ä¹‹ç”¨ã€‚å¯ä»¥ç”¨buildå­å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go build helloworld.go</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‘½ä»¤ç”Ÿæˆä¸€ä¸ªåä¸º<code>helloworld</code>çš„<em><strong>å¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆWindowsç³»ç»Ÿä¸‹ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æ˜¯helloworld.exeï¼‰ï¼Œä¹‹åå¯ä»¥éšæ—¶è¿è¡Œå®ƒ</strong></em>ï¼ˆåœ¨Windowsç³»ç»Ÿä¸‹åœ¨å‘½ä»¤è¡Œç›´æ¥è¾“å…¥helloworld.exeå‘½ä»¤è¿è¡Œï¼‰ï¼Œä¸éœ€ä»»ä½•å¤„ç†ï¼ˆå› ä¸ºé™æ€ç¼–è¯‘ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒåœ¨ç³»ç»Ÿåº“æ›´æ–°çš„æ—¶å€™å†²çªï¼Œ<em><strong>pythonä¹Ÿæœ‰ç›¸å…³çš„åº“<code>pyinstaller</code>å°†ç¨‹åºè½¬ä¸ºå¯æ‰§è¡Œæ–‡ä»¶</strong></em>ï¼‰ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./helloworld</span></span><br><span class="line">hello world </span><br></pre></td></tr></table></figure>

<h2 id="Goçš„ç®€ä»‹-æŒºæœ‰æ„æ€çš„ï¼Œå»ºè®®çœ‹çœ‹"><a href="#Goçš„ç®€ä»‹-æŒºæœ‰æ„æ€çš„ï¼Œå»ºè®®çœ‹çœ‹" class="headerlink" title="Goçš„ç®€ä»‹(æŒºæœ‰æ„æ€çš„ï¼Œå»ºè®®çœ‹çœ‹)"></a>Goçš„ç®€ä»‹(æŒºæœ‰æ„æ€çš„ï¼Œå»ºè®®çœ‹çœ‹)</h2><p>â€‹		Goè¯­è¨€çš„ä»£ç é€šè¿‡<em><strong>åŒ…</strong></em>ï¼ˆpackageï¼‰ç»„ç»‡ï¼ŒåŒ…ç±»ä¼¼äºå…¶å®ƒè¯­è¨€é‡Œçš„åº“ï¼ˆlibrariesï¼‰æˆ–è€…æ¨¡å—ï¼ˆmodulesï¼‰ã€‚ä¸€ä¸ªåŒ…ç”±ä½äºå•ä¸ªç›®å½•ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ª.goæºä»£ç æ–‡ä»¶ç»„æˆï¼Œç›®å½•å®šä¹‰åŒ…çš„ä½œç”¨ã€‚æ¯ä¸ªæºæ–‡ä»¶éƒ½ä»¥ä¸€æ¡<code>package</code>å£°æ˜è¯­å¥å¼€å§‹ï¼Œä¸Šè¿°ä¾‹å­é‡Œå°±æ˜¯<code>package main</code>ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶å±äºå“ªä¸ªåŒ…ï¼Œç´§è·Ÿç€ä¸€ç³»åˆ—å¯¼å…¥ï¼ˆimportï¼‰çš„åŒ…ï¼Œä¹‹åæ˜¯å­˜å‚¨åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œçš„ç¨‹åºè¯­å¥ã€‚</p>
<p>â€‹		Goçš„æ ‡å‡†åº“æä¾›äº†100å¤šä¸ªåŒ…ï¼Œä»¥æ”¯æŒå¸¸è§åŠŸèƒ½ï¼Œå¦‚è¾“å…¥ã€è¾“å‡ºã€æ’åºä»¥åŠæ–‡æœ¬å¤„ç†ã€‚æ¯”å¦‚<code>fmt</code>åŒ…ï¼Œå°±å«æœ‰æ ¼å¼åŒ–è¾“å‡ºã€æ¥æ”¶è¾“å…¥çš„å‡½æ•°ã€‚<code>Println</code>æ˜¯å…¶ä¸­ä¸€ä¸ªåŸºç¡€å‡½æ•°ï¼Œå¯ä»¥æ‰“å°ä»¥ç©ºæ ¼é—´éš”çš„ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼Œå¹¶åœ¨æœ€åæ·»åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œä»è€Œè¾“å‡ºä¸€æ•´è¡Œã€‚</p>
<p>â€‹		<strong><code>	main</code>åŒ…æ¯”è¾ƒç‰¹æ®Šã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªç‹¬ç«‹å¯æ‰§è¡Œçš„ç¨‹åºï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåº“ã€‚åœ¨<code>main</code>é‡Œçš„<code>main</code> <em>å‡½æ•°</em> ä¹Ÿå¾ˆç‰¹æ®Šï¼Œå®ƒæ˜¯æ•´ä¸ªç¨‹åºæ‰§è¡Œæ—¶çš„å…¥å£ï¼ˆCç³»è¯­è¨€ç±»ä¼¼ï¼‰</strong>ã€‚<code>main</code>å‡½æ•°æ‰€åšçš„äº‹æƒ…å°±æ˜¯ç¨‹åºåšçš„ã€‚å½“ç„¶äº†ï¼Œ<code>main</code>å‡½æ•°ä¸€èˆ¬è°ƒç”¨å…¶å®ƒåŒ…é‡Œçš„å‡½æ•°å®Œæˆå¾ˆå¤šå·¥ä½œï¼ˆä¾‹å¦‚ï¼š<code>fmt.Println</code>ï¼‰ã€‚</p>
<ul>
<li><p>å¿…é¡»å‘Šè¯‰ç¼–è¯‘å™¨æºæ–‡ä»¶éœ€è¦å“ªäº›åŒ…ï¼Œè¿™å°±æ˜¯è·Ÿéšåœ¨<code>package</code>å£°æ˜åé¢çš„<code>import</code>å£°æ˜æ‰®æ¼”çš„è§’è‰²ã€‚hello worldä¾‹å­åªç”¨åˆ°äº†ä¸€ä¸ªåŒ…ï¼Œå¤§å¤šæ•°ç¨‹åºéœ€è¦å¯¼å…¥å¤šä¸ªåŒ…ã€‚</p>
</li>
<li><p>å¿…é¡»æ°å½“å¯¼å…¥éœ€è¦çš„åŒ…ï¼Œç¼ºå°‘äº†å¿…è¦çš„åŒ…æˆ–è€…å¯¼å…¥äº†ä¸éœ€è¦çš„åŒ…ï¼Œç¨‹åºéƒ½æ— æ³•ç¼–è¯‘é€šè¿‡ã€‚<em><strong>è¿™é¡¹ä¸¥æ ¼è¦æ±‚é¿å…äº†ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­å¼•å…¥æœªä½¿ç”¨çš„åŒ…</strong></em>ï¼ˆ<em><strong>Goè¯­è¨€ç¼–è¯‘è¿‡ç¨‹æ²¡æœ‰è­¦å‘Šä¿¡æ¯</strong></em>ï¼‰ã€‚</p>
<p>  <code>import</code>å£°æ˜å¿…é¡»è·Ÿåœ¨æ–‡ä»¶çš„<code>package</code>å£°æ˜ä¹‹åã€‚éšåï¼Œåˆ™æ˜¯ç»„æˆç¨‹åºçš„å‡½æ•°ã€å˜é‡ã€å¸¸é‡ã€ç±»å‹çš„å£°æ˜è¯­å¥ï¼ˆåˆ†åˆ«ç”±å…³é”®å­—<code>func</code>ã€<code>var</code>ã€<code>const</code>ã€<code>type</code>å®šä¹‰ï¼‰ã€‚è¿™äº›å†…å®¹çš„å£°æ˜é¡ºåºå¹¶ä¸é‡è¦ï¼ˆæœ€å¥½æŒ‰ç…§è§„èŒƒè¦æ±‚è‡ªå·±ï¼‰ã€‚ä¸Šè¿°ä¾‹å­çš„ç¨‹åºå·²ç»å°½å¯èƒ½çŸ­äº†ï¼Œåªå£°æ˜äº†ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸­åªè°ƒç”¨äº†ä¸€ä¸ªå…¶ä»–å‡½æ•°ã€‚ä¸ºäº†èŠ‚çœç¯‡å¹…ï¼Œæœ‰äº›æ—¶å€™ç¤ºä¾‹ç¨‹åºä¼šçœç•¥<code>package</code>å’Œ<code>import</code>å£°æ˜ï¼Œä½†æ˜¯ï¼Œè¿™äº›å£°æ˜åœ¨æºä»£ç é‡Œæœ‰ï¼Œå¹¶ä¸”å¿…é¡»å¾—æœ‰æ‰èƒ½ç¼–è¯‘ã€‚</p>
<p>  ä¸€ä¸ªå‡½æ•°çš„å£°æ˜ç”±<code>func</code>å…³é”®å­—ã€å‡½æ•°åã€å‚æ•°åˆ—è¡¨ã€è¿”å›å€¼åˆ—è¡¨ï¼ˆä¸Šè¿°ä¾‹å­é‡Œçš„<code>main</code>å‡½æ•°å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼éƒ½æ˜¯ç©ºçš„ï¼‰ä»¥åŠåŒ…å«åœ¨å¤§æ‹¬å·é‡Œçš„å‡½æ•°ä½“ç»„æˆã€‚</p>
<p>  Goè¯­è¨€<em><strong>ä¸éœ€è¦åœ¨è¯­å¥æˆ–è€…å£°æ˜çš„æœ«å°¾æ·»åŠ åˆ†å·</strong></em>ï¼Œé™¤éä¸€è¡Œä¸Šæœ‰å¤šæ¡è¯­å¥ã€‚å®é™…ä¸Šï¼Œç¼–è¯‘å™¨<em><strong>ä¼šä¸»åŠ¨æŠŠç‰¹å®šç¬¦å·åçš„æ¢è¡Œç¬¦è½¬æ¢ä¸ºåˆ†å·</strong></em>ï¼Œå› æ­¤<em><strong>æ¢è¡Œç¬¦æ·»åŠ çš„ä½ç½®ä¼šå½±å“Goä»£ç çš„æ­£ç¡®è§£æ</strong></em>ï¼ˆæ¯”å¦‚è¡Œæœ«æ˜¯æ ‡è¯†ç¬¦ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€è™šæ•°ã€å­—ç¬¦æˆ–å­—ç¬¦ä¸²æ–‡å­—ã€å…³é”®å­—<code>break</code>ã€<code>continue</code>ã€<code>fallthrough</code>æˆ–<code>return</code>ä¸­çš„ä¸€ä¸ªã€è¿ç®—ç¬¦å’Œåˆ†éš”ç¬¦<code>++</code>ã€<code>--</code>ã€<code>)</code>ã€<code>]</code>æˆ–<code>&#125;</code>ä¸­çš„ä¸€ä¸ªï¼‰ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡½æ•°çš„å·¦æ‹¬å·<code>&#123;</code>å¿…é¡»å’Œ<code>func</code>å‡½æ•°å£°æ˜åœ¨åŒä¸€è¡Œä¸Šï¼Œä¸”ä½äºæœ«å°¾ï¼Œä¸èƒ½ç‹¬å ä¸€è¡Œï¼Œè€Œåœ¨è¡¨è¾¾å¼<code>x + y</code>ä¸­ï¼Œå¯åœ¨<code>+</code>åæ¢è¡Œï¼Œä¸èƒ½åœ¨<code>+</code>å‰æ¢è¡Œï¼ˆä»¥+ç»“å°¾çš„è¯ä¸ä¼šè¢«æ’å…¥åˆ†å·åˆ†éš”ç¬¦ï¼Œä½†æ˜¯ä»¥xç»“å°¾çš„è¯åˆ™ä¼šè¢«åˆ†å·åˆ†éš”ç¬¦ï¼Œä»è€Œå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼‰</p>
</li>
</ul>
<h2 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h2><h3 id="go-clean"><a href="#go-clean" class="headerlink" title="go clean"></a><strong>go clean</strong></h3><p>go clean å‘½ä»¤æ˜¯ç”¨æ¥ç§»é™¤å½“å‰æºç åŒ…é‡Œé¢ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶åŒ…æ‹¬</p>
<ul>
<li>_obj&#x2F; æ—§çš„objectç›®å½•ï¼Œç”±Makefilesé—ç•™</li>
<li>_test&#x2F; æ—§çš„testç›®å½•ï¼Œç”±Makefilesé—ç•™</li>
<li>_testmain.go æ—§çš„gotestæ–‡ä»¶ï¼Œç”±Makefilesé—ç•™</li>
<li>test.out æ—§çš„testè®°å½•ï¼Œç”±Makefilesé—ç•™</li>
<li>build.out æ—§çš„testè®°å½•ï¼Œç”±Makefilesé—ç•™</li>
<li>*.[568ao] objectæ–‡ä»¶ï¼Œç”±Makefilesé—ç•™</li>
<li>DIR(.exe) ç”± go build äº§ç”Ÿ</li>
<li>DIR.test(.exe) ç”± go test -c äº§ç”Ÿ</li>
<li>MAINFILE(.exe) ç”± go build MAINFILE.goäº§ç”Ÿ</li>
</ul>
<h3 id="go-test"><a href="#go-test" class="headerlink" title="go test"></a><strong>go test</strong></h3><p>go test å‘½ä»¤ï¼Œä¼šè‡ªåŠ¨è¯»å–æºç ç›®å½•ä¸‹é¢åä¸º*_test.goçš„æ–‡ä»¶ï¼Œç”Ÿæˆå¹¶è¿è¡Œæµ‹è¯•ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œä¸éœ€è¦ä»»ä½•çš„å‚æ•°ï¼Œå®ƒä¼šè‡ªåŠ¨æŠŠä½ æºç åŒ…ä¸‹é¢æ‰€æœ‰testæ–‡ä»¶æµ‹è¯•å®Œæ¯•ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å¸¦ä¸Šå‚æ•°ï¼Œè¯¦æƒ…è¯·å‚è€ƒgo help testflag</p>
<h3 id="go-doc"><a href="#go-doc" class="headerlink" title="go doc"></a><strong>go doc</strong></h3><p>go doc å‘½ä»¤å…¶å®å°±æ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„æ–‡æ¡£å·¥å…·ã€‚</p>
<p>å¦‚ä½•æŸ¥çœ‹ç›¸åº”packageçš„æ–‡æ¡£å‘¢ï¼Ÿ ä¾‹å¦‚builtinåŒ…ï¼Œé‚£ä¹ˆæ‰§è¡Œgo doc builtinï¼›å¦‚æœæ˜¯httpåŒ…ï¼Œé‚£ä¹ˆæ‰§è¡Œgo doc net&#x2F;httpï¼›æŸ¥çœ‹æŸä¸€ä¸ªåŒ…é‡Œé¢çš„å‡½æ•°ï¼Œé‚£ä¹ˆæ‰§è¡Œgo doc fmt Printfï¼›ä¹Ÿå¯ä»¥æŸ¥çœ‹ç›¸åº”çš„ä»£ç ï¼Œæ‰§è¡Œgo doc -src fmt Printfï¼›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹net/httpåŒ…</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go doc net/http</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹timeåŒ…</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go doc time</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æŸä¸ªåŒ…é‡Œçš„æŒ‡å®šå‡½æ•°</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go doc <span class="built_in">fmt</span> Printf</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å‘½ä»¤åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ go doc -http&#x3D;:ç«¯å£å·ï¼Œæ¯”å¦‚godoc -http&#x3D;:8080ã€‚ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€127.0.0.1:8080ï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸€ä¸ªgolang.orgçš„æœ¬åœ°copyç‰ˆæœ¬ï¼Œé€šè¿‡å®ƒä½ å¯ä»¥æŸ¥è¯¢pkgæ–‡æ¡£ç­‰å…¶å®ƒå†…å®¹ã€‚å¦‚æœä½ è®¾ç½®äº†GOPATHï¼Œåœ¨pkgåˆ†ç±»ä¸‹ï¼Œä¸ä½†ä¼šåˆ—å‡ºæ ‡å‡†åŒ…çš„æ–‡æ¡£ï¼Œè¿˜ä¼šåˆ—å‡ºä½ æœ¬åœ°GOPATHä¸­æ‰€æœ‰é¡¹ç›®çš„ç›¸å…³æ–‡æ¡£ï¼Œè¿™å¯¹äºç»å¸¸è¢«é™åˆ¶è®¿é—®çš„ç”¨æˆ·æ¥è¯´æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">godoc -http=:9527</span></span><br></pre></td></tr></table></figure>

<hr>
<p>go fix ç”¨æ¥ä¿®å¤ä»¥å‰è€ç‰ˆæœ¬çš„ä»£ç åˆ°æ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚go1ä¹‹å‰è€ç‰ˆæœ¬çš„ä»£ç è½¬åŒ–åˆ°go1</p>
<p>go version æŸ¥çœ‹goå½“å‰çš„ç‰ˆæœ¬</p>
<p>go env æŸ¥çœ‹å½“å‰goçš„ç¯å¢ƒå˜é‡</p>
<p>go list åˆ—å‡ºå½“å‰å…¨éƒ¨å®‰è£…çš„package</p>
<h2 id="gofmtå’Œgoimportsçš„é…ç½®"><a href="#gofmtå’Œgoimportsçš„é…ç½®" class="headerlink" title="gofmtå’Œgoimportsçš„é…ç½®"></a><code>gofmt</code>å’Œ<code>goimports</code>çš„é…ç½®</h2><p>â€‹		<em><strong>Goè¯­è¨€åœ¨ä»£ç æ ¼å¼ä¸Šé‡‡å–äº†å¾ˆå¼ºç¡¬çš„æ€åº¦</strong></em>ã€‚<code>gofmt</code>å·¥å…·æŠŠä»£ç æ ¼å¼åŒ–ä¸ºæ ‡å‡†æ ¼å¼ï¼ˆè¿™ä¸ªæ ¼å¼åŒ–å·¥å…·æ²¡æœ‰ä»»ä½•å¯ä»¥è°ƒæ•´ä»£ç æ ¼å¼çš„å‚æ•°ï¼ŒGoè¯­è¨€å°±æ˜¯è¿™ä¹ˆä»»æ€§ï¼‰ï¼Œå¹¶ä¸”<code>go</code>å·¥å…·ä¸­çš„<code>fmt</code>å­å‘½ä»¤ä¼šå¯¹æŒ‡å®šåŒ…ï¼Œå¦åˆ™é»˜è®¤ä¸ºå½“å‰ç›®å½•ä¸­æ‰€æœ‰.goæºæ–‡ä»¶åº”ç”¨<code>gofmt</code>å‘½ä»¤ã€‚æˆ‘ä»¬åº”è¯¥å…»æˆæ ¼å¼åŒ–è‡ªå·±çš„ä»£ç çš„ä¹ æƒ¯ã€‚ä»¥æ³•ä»¤æ–¹å¼è§„å®šæ ‡å‡†çš„ä»£ç æ ¼å¼å¯ä»¥é¿å…æ— å°½çš„æ— æ„ä¹‰çš„çç¢äº‰æ‰§å¯¼è‡´äº†Goè¯­è¨€çš„<a href="https://baike.baidu.com/item/Tiobe/2830870?fr=aladdin"><code>TIOBE</code></a>æ’åè¾ƒä½ï¼Œäº‰è®®çš„è¯é¢˜è¾ƒå°‘ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œè¿™æ ·å¯ä»¥åšå¤šç§è‡ªåŠ¨æºç è½¬æ¢ï¼Œå¦‚æœæ”¾ä»»Goè¯­è¨€ä»£ç æ ¼å¼ï¼Œè¿™äº›è½¬æ¢å°±ä¸å¤§å¯èƒ½äº†ã€‚</p>
<p>å¾ˆå¤šæ–‡æœ¬ç¼–è¾‘å™¨éƒ½å¯ä»¥é…ç½®ä¸ºä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨æ‰§è¡Œ<code>gofmt</code>ï¼Œè¿™æ ·æºä»£ç æ€»ä¼šè¢«æ°å½“åœ°æ ¼å¼åŒ–ï¼Œ<code>gofmt</code>åŒ…å«åœ¨æ ‡å‡†çš„åˆ†å‘åŒ…ä¸­ã€‚è¿˜æœ‰ä¸ªç›¸å…³çš„å·¥å…·ï¼Œ<code>goimports</code>ï¼Œå¯ä»¥æ ¹æ®ä»£ç éœ€è¦ï¼Œè‡ªåŠ¨åœ°æ·»åŠ æˆ–åˆ é™¤<code>import</code>å£°æ˜ã€‚è¿™ä¸ªå·¥å…·å¹¶æ²¡æœ‰åŒ…å«åœ¨æ ‡å‡†çš„åˆ†å‘åŒ…ä¸­ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤åœ¨åœ¨<code>goland</code>ä¸­åœ¨ä»»æ„ä¸€ä¸ªé¡¹ç›®çš„ç»ˆç«¯æ‰§è¡Œï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">go</span> get -v golang.org/x/tools/cmd/goimports</span><br></pre></td></tr></table></figure>


<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df0d744ab4bc4f0f9204e4f4d0eb0a90~tplv-k3u1fbpfcp-watermark.image" alt="image-20230513220732135.png"></p>
<p>è¿›å…¥<code>GOPATH</code>(Goè¯­è¨€å®‰è£…ç›®å½•)ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…<code>goimports</code>,æ²¡æœ‰åŠ ç‰ˆæœ¬å·ä¼šæŠ¥é”™</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> install golang.org/x/tools/cmd/goimports@latest</span><br></pre></td></tr></table></figure>

<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cdc5eae7c83743338f84058f08c881ca~tplv-k3u1fbpfcp-watermark.image" alt="image-20230513221248033.png"></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>GOPATH/bin </code>ç›®å½•ä¸‹çœ‹åˆ° <code>goimports.exe</code></p>
<p>ç„¶ååœ¨<code>goland</code>çš„è®¾ç½®ä¸­ç‚¹å‡»å·¥å…·&gt;File Watcher</p>
<p>æ·»åŠ <code>gofmt</code>å’Œ<code>goimports</code></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2632d630f887491b9370e03f4b43b1ba~tplv-k3u1fbpfcp-watermark.image" alt="image-20230513221553805.png"></p>
<p><code>goimports.exe</code>åœ¨<code>GOPATH/bin </code>ç›®å½•ä¸‹,å…¶å®<code>goland</code>èƒ½å¤Ÿè‡ªåŠ¨æ‰¾åˆ°å®ƒ</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cc409d417dc34f17a299b7e35691e9d6~tplv-k3u1fbpfcp-watermark.image" alt="image-20230513221658244.png"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c31c5998d814a3f9e30de7b2b7c91af~tplv-k3u1fbpfcp-watermark.image" alt="image-20230513221724453.png"></p>
<p>ç‚¹å‡»ç¡®å®šï¼Œ<code>gofmt</code>å’Œ<code>goimports</code>é…ç½®æˆåŠŸ</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://juejin.cn/post/7232689996821495865">Goçš„åŸºæœ¬ä»‹ç»ï¼ˆé™„gofmtå’Œgoimportsé…ç½®ï¼‰|é’è®­è¥ç¬”è®° - æ˜é‡‘ (juejin.cn)</a></p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>å˜é‡ä¸å¸¸é‡</title>
    <url>/2023/06/01/Go/4/</url>
    <content><![CDATA[<h1 id="åŸºæœ¬è¯­æ³•â€”â€”å˜é‡var"><a href="#åŸºæœ¬è¯­æ³•â€”â€”å˜é‡var" class="headerlink" title="åŸºæœ¬è¯­æ³•â€”â€”å˜é‡var"></a>åŸºæœ¬è¯­æ³•â€”â€”å˜é‡var</h1><h2 id="å˜é‡çš„ä½¿ç”¨"><a href="#å˜é‡çš„ä½¿ç”¨" class="headerlink" title="å˜é‡çš„ä½¿ç”¨"></a>å˜é‡çš„ä½¿ç”¨</h2><h3 id="ä»€ä¹ˆæ˜¯å˜é‡"><a href="#ä»€ä¹ˆæ˜¯å˜é‡" class="headerlink" title="ä»€ä¹ˆæ˜¯å˜é‡"></a>ä»€ä¹ˆæ˜¯å˜é‡</h3><p>å˜é‡æ˜¯ä¸ºå­˜å‚¨ç‰¹å®šç±»å‹çš„å€¼è€Œæä¾›ç»™å†…å­˜ä½ç½®çš„åç§°ã€‚åœ¨goä¸­å£°æ˜å˜é‡æœ‰å¤šç§è¯­æ³•ã€‚</p>
<p>æ‰€ä»¥å˜é‡çš„æœ¬è´¨å°±æ˜¯ä¸€å°å—å†…å­˜ï¼Œç”¨äºå­˜å‚¨æ•°æ®ï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ•°å€¼å¯ä»¥æ”¹å˜</p>
<h3 id="å£°æ˜å˜é‡"><a href="#å£°æ˜å˜é‡" class="headerlink" title="å£°æ˜å˜é‡"></a>å£°æ˜å˜é‡</h3><p>varåç§°ç±»å‹æ˜¯å£°æ˜å•ä¸ªå˜é‡çš„è¯­æ³•ã€‚</p>
<blockquote>
<p>ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆ</p>
</blockquote>
<p>å£°æ˜ä¸€ä¸ªå˜é‡</p>
<p>ç¬¬ä¸€ç§ï¼ŒæŒ‡å®šå˜é‡ç±»å‹ï¼Œå£°æ˜åè‹¥ä¸èµ‹å€¼ï¼Œä½¿ç”¨<em><strong>é»˜è®¤å€¼</strong></em></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">type</span></span><br><span class="line">name = value</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§ï¼Œæ ¹æ®å€¼è‡ªè¡Œåˆ¤å®šå˜é‡ç±»å‹(ç±»å‹æ¨æ–­Type inference)</p>
<p>å¦‚æœä¸€ä¸ªå˜é‡æœ‰ä¸€ä¸ªåˆå§‹å€¼ï¼ŒGoå°†è‡ªåŠ¨èƒ½å¤Ÿä½¿ç”¨åˆå§‹å€¼æ¥æ¨æ–­è¯¥å˜é‡çš„ç±»å‹ã€‚å› æ­¤ï¼Œå¦‚æœå˜é‡å…·æœ‰åˆå§‹å€¼ï¼Œåˆ™å¯ä»¥çœç•¥å˜é‡å£°æ˜ä¸­çš„ç±»å‹ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = value</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ç§ï¼Œçœç•¥var, æ³¨æ„ :&#x3D;å·¦ä¾§çš„å˜é‡ä¸åº”è¯¥æ˜¯å·²ç»å£°æ˜è¿‡çš„(å¤šä¸ªå˜é‡åŒæ—¶å£°æ˜æ—¶ï¼Œè‡³å°‘ä¿è¯ä¸€ä¸ªæ˜¯æ–°å˜é‡)ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯(ç®€çŸ­å£°æ˜)</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">name := value</span><br><span class="line"><span class="comment">// ä¾‹å¦‚</span></span><br><span class="line"><span class="keyword">var</span> a <span class="type">int</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">10</span></span><br><span class="line">c : = <span class="number">10</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ç§æ–¹å¼å®ƒåªèƒ½è¢«ç”¨åœ¨å‡½æ•°ä½“å†…ï¼Œè€Œä¸å¯ä»¥ç”¨äºå…¨å±€å˜é‡çš„å£°æ˜ä¸èµ‹å€¼</p>
</blockquote>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;Hello&quot;</span></span><br><span class="line"><span class="keyword">var</span> b <span class="type">string</span> = <span class="string">&quot;World&quot;</span></span><br><span class="line"><span class="keyword">var</span> c <span class="type">bool</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">println</span>(a, b, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hello World false</span><br></pre></td></tr></table></figure>

<h4 id="å¤šå˜é‡å£°æ˜"><a href="#å¤šå˜é‡å£°æ˜" class="headerlink" title="å¤šå˜é‡å£°æ˜"></a>å¤šå˜é‡å£°æ˜</h4><p>ç¬¬ä¸€ç§ï¼Œä»¥é€—å·åˆ†éš”ï¼Œå£°æ˜ä¸èµ‹å€¼åˆ†å¼€ï¼Œè‹¥ä¸èµ‹å€¼ï¼Œå­˜åœ¨é»˜è®¤å€¼</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name1, name2, name3 <span class="keyword">type</span></span><br><span class="line">name1, name2, name3 = v1, v2, v3</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§ï¼Œç›´æ¥èµ‹å€¼ï¼Œä¸‹é¢çš„å˜é‡ç±»å‹å¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name1, name2, name3 = v1, v2, v3</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ç§ï¼Œé›†åˆç±»å‹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    name1 type1</span><br><span class="line">    name2 type2</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>å¦‚æœåœ¨ç›¸åŒçš„ä»£ç å—ä¸­ï¼Œæˆ‘ä»¬ä¸å¯ä»¥å†æ¬¡å¯¹äºç›¸åŒåç§°çš„å˜é‡ä½¿ç”¨åˆå§‹åŒ–å£°æ˜ï¼Œä¾‹å¦‚ï¼ša :&#x3D; 20 å°±æ˜¯ä¸è¢«å…è®¸çš„ï¼Œç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ no new variables on left side of :&#x3D;ï¼Œä½†æ˜¯ a &#x3D; 20 æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºè¿™æ˜¯ç»™ç›¸åŒçš„å˜é‡èµ‹äºˆä¸€ä¸ªæ–°çš„å€¼ã€‚</p>
<p>å¦‚æœä½ åœ¨å®šä¹‰å˜é‡ a ä¹‹å‰ä½¿ç”¨å®ƒï¼Œåˆ™ä¼šå¾—åˆ°ç¼–è¯‘é”™è¯¯ undefined: aã€‚å¦‚æœä½ å£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡å´æ²¡æœ‰åœ¨ç›¸åŒçš„ä»£ç å—ä¸­ä½¿ç”¨å®ƒï¼ŒåŒæ ·ä¼šå¾—åˆ°ç¼–è¯‘é”™è¯¯ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­å½“ä¸­çš„å˜é‡ aï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">string</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;hello, world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°è¯•ç¼–è¯‘è¿™æ®µä»£ç å°†å¾—åˆ°é”™è¯¯ a declared and not used</p>
<p>æ­¤å¤–ï¼Œå•çº¯åœ°ç»™ a èµ‹å€¼ä¹Ÿæ˜¯ä¸å¤Ÿçš„ï¼Œè¿™ä¸ªå€¼å¿…é¡»è¢«ä½¿ç”¨</p>
<p>åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼Œå·²å­˜åœ¨åŒåçš„å˜é‡ï¼Œåˆ™ä¹‹åçš„å£°æ˜åˆå§‹åŒ–ï¼Œåˆ™é€€åŒ–ä¸ºèµ‹å€¼æ“ä½œã€‚ä½†è¿™ä¸ªå‰ææ˜¯ï¼Œæœ€å°‘è¦æœ‰ä¸€ä¸ªæ–°çš„å˜é‡è¢«å®šä¹‰ï¼Œä¸”åœ¨åŒä¸€ä½œç”¨åŸŸï¼Œä¾‹å¦‚ï¼Œä¸‹é¢çš„yå°±æ˜¯æ–°å®šä¹‰çš„å˜é‡</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">140</span></span><br><span class="line">	fmt.Println(&amp;x)</span><br><span class="line">	x, y := <span class="number">200</span>, <span class="string">&quot;abc&quot;</span></span><br><span class="line">	fmt.Println(&amp;x, x)</span><br><span class="line">	fmt.Print(y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0xc04200a2b0</span><br><span class="line">0xc04200a2b0 200</span><br><span class="line">abc</span><br></pre></td></tr></table></figure>

<h1 id="åŸºæœ¬è¯­æ³•â€”â€”å¸¸é‡constant"><a href="#åŸºæœ¬è¯­æ³•â€”â€”å¸¸é‡constant" class="headerlink" title="åŸºæœ¬è¯­æ³•â€”â€”å¸¸é‡constant"></a>åŸºæœ¬è¯­æ³•â€”â€”å¸¸é‡constant</h1><h2 id="å¸¸é‡çš„ä½¿ç”¨"><a href="#å¸¸é‡çš„ä½¿ç”¨" class="headerlink" title="å¸¸é‡çš„ä½¿ç”¨"></a>å¸¸é‡çš„ä½¿ç”¨</h2><h3 id="å¸¸é‡å£°æ˜"><a href="#å¸¸é‡å£°æ˜" class="headerlink" title="å¸¸é‡å£°æ˜"></a>å¸¸é‡å£°æ˜</h3><p>å¸¸é‡æ˜¯ä¸€ä¸ªç®€å•å€¼çš„æ ‡è¯†ç¬¦ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œä¸ä¼šè¢«ä¿®æ”¹çš„é‡ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> identifier [<span class="keyword">type</span>] = value</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ˜¾å¼ç±»å‹å®šä¹‰ï¼š </span></span><br><span class="line"><span class="keyword">const</span> b <span class="type">string</span> = <span class="string">&quot;abc&quot;</span></span><br><span class="line"><span class="comment">//éšå¼ç±»å‹å®šä¹‰ï¼š</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&quot;abc&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">const</span> LENGTH <span class="type">int</span> = <span class="number">10</span></span><br><span class="line">   <span class="keyword">const</span> WIDTH <span class="type">int</span> = <span class="number">5</span>   </span><br><span class="line">   <span class="keyword">var</span> area <span class="type">int</span></span><br><span class="line">   <span class="keyword">const</span> a, b, c = <span class="number">1</span>, <span class="literal">false</span>, <span class="string">&quot;str&quot;</span> <span class="comment">//å¤šé‡èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">   area = LENGTH * WIDTH</span><br><span class="line">   fmt.Printf(<span class="string">&quot;é¢ç§¯ä¸º : %d&quot;</span>, area)</span><br><span class="line">   <span class="built_in">println</span>()</span><br><span class="line">   <span class="built_in">println</span>(a, b, c)   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é¢ç§¯ä¸º : 50</span><br><span class="line">1 false str</span><br></pre></td></tr></table></figure>

<p>å¸¸é‡å¯ä»¥ä½œä¸ºæšä¸¾ï¼Œå¸¸é‡ç»„</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    Unknown = <span class="number">0</span></span><br><span class="line">    Female = <span class="number">1</span></span><br><span class="line">    Male = <span class="number">2</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>å¸¸é‡ç»„ä¸­å¦‚ä¸æŒ‡å®šç±»å‹å’Œåˆå§‹åŒ–å€¼ï¼Œåˆ™ä¸ä¸Šä¸€è¡Œéç©ºå¸¸é‡å³å€¼ç›¸åŒ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">const</span> (</span><br><span class="line">		x <span class="type">uint16</span> = <span class="number">16</span></span><br><span class="line">		y</span><br><span class="line">		s = <span class="string">&quot;abc&quot;</span></span><br><span class="line">		z</span><br><span class="line">	)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%v\n&quot;</span>, y, y)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%v\n&quot;</span>, z, z)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">uint16,16</span><br><span class="line">string,abc</span><br></pre></td></tr></table></figure>

<p>å¸¸é‡çš„æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li><p>å¸¸é‡ä¸­çš„æ•°æ®ç±»å‹åªå¯ä»¥æ˜¯å¸ƒå°”å‹ã€æ•°å­—å‹ï¼ˆæ•´æ•°å‹ã€æµ®ç‚¹å‹å’Œå¤æ•°ï¼‰å’Œå­—ç¬¦ä¸²å‹</p>
</li>
<li><p><em><strong>ä¸æ›¾ä½¿ç”¨çš„å¸¸é‡ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œæ˜¯ä¸ä¼šæŠ¥é”™çš„</strong></em></p>
</li>
<li><p>æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ—¶å€™ï¼Œå¿…é¡»ç¡®ä¿å¸¸é‡å·¦å³å€¼ç±»å‹ä¸€è‡´ï¼Œéœ€è¦æ—¶å¯åšæ˜¾ç¤ºç±»å‹è½¬æ¢ã€‚è¿™ä¸å˜é‡å°±ä¸ä¸€æ ·äº†ï¼Œå˜é‡æ˜¯å¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹å€¼</p>
</li>
</ul>
<h3 id="iotaå…³é”®å­—"><a href="#iotaå…³é”®å­—" class="headerlink" title="iotaå…³é”®å­—"></a>iotaå…³é”®å­—</h3><p>iotaï¼Œç‰¹æ®Šå¸¸é‡ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯ä»¥è¢«ç¼–è¯‘å™¨ä¿®æ”¹çš„å¸¸é‡</p>
<p>iota å¯ä»¥è¢«ç”¨ä½œæšä¸¾å€¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    a = <span class="literal">iota</span></span><br><span class="line">    b = <span class="literal">iota</span></span><br><span class="line">    c = <span class="literal">iota</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ª iota ç­‰äº 0ï¼Œæ¯å½“ iota åœ¨æ–°çš„ä¸€è¡Œè¢«ä½¿ç”¨æ—¶ï¼Œå®ƒçš„å€¼éƒ½ä¼šè‡ªåŠ¨åŠ  1ï¼›æ‰€ä»¥ a&#x3D;0, b&#x3D;1, c&#x3D;2 å¯ä»¥ç®€å†™ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    a = <span class="literal">iota</span></span><br><span class="line">    b</span><br><span class="line">    c</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>iota ç”¨æ³•</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">const</span> (</span><br><span class="line">            a = <span class="literal">iota</span>   <span class="comment">//0</span></span><br><span class="line">            b          <span class="comment">//1</span></span><br><span class="line">            c          <span class="comment">//2</span></span><br><span class="line">            d = <span class="string">&quot;ha&quot;</span>   <span class="comment">//ç‹¬ç«‹å€¼ï¼Œiota += 1</span></span><br><span class="line">            e          <span class="comment">//&quot;ha&quot;   iota += 1</span></span><br><span class="line">            f = <span class="number">100</span>    <span class="comment">//iota +=1</span></span><br><span class="line">            g          <span class="comment">//100  iota +=1</span></span><br><span class="line">            h = <span class="literal">iota</span>   <span class="comment">//7,æ¢å¤è®¡æ•°</span></span><br><span class="line">            i          <span class="comment">//8</span></span><br><span class="line">    )</span><br><span class="line">    fmt.Println(a,b,c,d,e,f,g,h,i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0 1 2 ha ha 100 100 7 8</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸­æ–­iotaè‡ªå¢ï¼Œåˆ™å¿…é¡»æ˜¾å¼æ¢å¤ã€‚ä¸”åç»­è‡ªå¢å€¼æŒ‰è¡Œåºé€’å¢</p>
<p>è‡ªå¢é»˜è®¤æ˜¯intç±»å‹ï¼Œå¯ä»¥è‡ªè¡Œè¿›è¡Œæ˜¾ç¤ºæŒ‡å®šç±»å‹</p>
<p>æ•°å­—å¸¸é‡ä¸ä¼šåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œæ— é¡»åƒå˜é‡é‚£æ ·é€šè¿‡å†…å­˜å¯»å€æ¥å–å€¼ï¼Œå› æ­¤æ— æ³•è·å–åœ°å€</p>
<h1 id="å˜é‡ä¸å¸¸é‡çš„ç¤ºä¾‹"><a href="#å˜é‡ä¸å¸¸é‡çš„ç¤ºä¾‹" class="headerlink" title="å˜é‡ä¸å¸¸é‡çš„ç¤ºä¾‹"></a>å˜é‡ä¸å¸¸é‡çš„ç¤ºä¾‹</h1><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> a = <span class="string">&quot;initial&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> b, c <span class="type">int</span> = <span class="number">1</span>, <span class="number">2</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> d = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> e <span class="type">float64</span></span><br><span class="line"></span><br><span class="line">	f := <span class="type">float32</span>(e)</span><br><span class="line"></span><br><span class="line">	g := a + <span class="string">&quot;foo&quot;</span></span><br><span class="line">	fmt.Println(a, b, c, d, e, f) <span class="comment">// initial 1 2 true 0 0</span></span><br><span class="line">	fmt.Println(g)                <span class="comment">// initialapple</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">const</span> s <span class="type">string</span> = <span class="string">&quot;constant&quot;</span></span><br><span class="line">	<span class="keyword">const</span> h = <span class="number">500000000</span></span><br><span class="line">	<span class="keyword">const</span> i = <span class="number">3e20</span> / h</span><br><span class="line">	fmt.Println(s, h, i, math.Sin(h), math.Sin(i))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">initial 1 2 true 0 0</span><br><span class="line">initialfoo</span><br><span class="line">constant 500000000 6e+11 -0.28470407323754404 0.7591864109375384</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç±»å‹ä¸è¾“å…¥è¾“å‡º</title>
    <url>/2023/06/02/Go/5/</url>
    <content><![CDATA[<h1 id="åŸºæœ¬è¯­æ³•â€”â€”æ•°æ®ç±»å‹"><a href="#åŸºæœ¬è¯­æ³•â€”â€”æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬è¯­æ³•â€”â€”æ•°æ®ç±»å‹"></a>åŸºæœ¬è¯­æ³•â€”â€”æ•°æ®ç±»å‹</h1><h2 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h2><p>ä»¥ä¸‹æ˜¯goä¸­å¯ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹</p>
<p><a href="https://smms.app/image/mkKRra8JejXWM4V" target="_blank"><img src="https://s2.loli.net/2023/06/02/mkKRra8JejXWM4V.jpg" ></a></p>
<h3 id="å¸ƒå°”å‹bool"><a href="#å¸ƒå°”å‹bool" class="headerlink" title="å¸ƒå°”å‹bool"></a>å¸ƒå°”å‹bool</h3><p>å¸ƒå°”å‹çš„å€¼åªå¯ä»¥æ˜¯å¸¸é‡ true æˆ–è€… falseã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼švar b bool &#x3D; true</p>
<h3 id="æ•°å€¼å‹"><a href="#æ•°å€¼å‹" class="headerlink" title="æ•°å€¼å‹"></a>æ•°å€¼å‹</h3><p><strong>1ã€</strong>æ•´æ•°å‹</p>
<ul>
<li><p>int8<br>æœ‰ç¬¦å· 8 ä½æ•´å‹ (-128 åˆ° 127)<br>é•¿åº¦ï¼š8bit</p>
</li>
<li><p>int16<br>æœ‰ç¬¦å· 16 ä½æ•´å‹ (-32768 åˆ° 32767)</p>
</li>
<li><p>int32<br>æœ‰ç¬¦å· 32 ä½æ•´å‹ (-2147483648 åˆ° 2147483647)</p>
</li>
<li><p>int64<br>æœ‰ç¬¦å· 64 ä½æ•´å‹ (-9223372036854775808 åˆ° 9223372036854775807)</p>
</li>
<li><p>uint8<br>æ— ç¬¦å· 8 ä½æ•´å‹ (0 åˆ° 255)<br>8ä½éƒ½ç”¨äºè¡¨ç¤ºæ•°å€¼ï¼š</p>
</li>
<li><p>uint16<br>æ— ç¬¦å· 16 ä½æ•´å‹ (0 åˆ° 65535)</p>
</li>
<li><p>uint32<br>æ— ç¬¦å· 32 ä½æ•´å‹ (0 åˆ° 4294967295)</p>
</li>
<li><p>uint64<br>æ— ç¬¦å· 64 ä½æ•´å‹ (0 åˆ° 18446744073709551615)</p>
</li>
</ul>
<blockquote>
<p>intå’Œuint:æ ¹æ®åº•å±‚å¹³å°ï¼Œè¡¨ç¤º32æˆ–64ä½æ•´æ•°ã€‚é™¤ééœ€è¦ä½¿ç”¨ç‰¹å®šå¤§å°çš„æ•´æ•°ï¼Œå¦åˆ™é€šå¸¸åº”è¯¥ä½¿ç”¨intæ¥è¡¨ç¤ºæ•´æ•°ã€‚<br>å¤§å°:32ä½ç³»ç»Ÿ32ä½ï¼Œ64ä½ç³»ç»Ÿ64ä½ã€‚<br>èŒƒå›´:-2147483648åˆ°2147483647çš„32ä½ç³»ç»Ÿå’Œ-9223372036854775808åˆ°9223372036854775807çš„64ä½ç³»ç»Ÿã€‚</p>
</blockquote>
<p><strong>2ã€æµ®ç‚¹å‹</strong></p>
<ul>
<li><p>float32</p>
<p>IEEE-754 32ä½æµ®ç‚¹å‹æ•°</p>
</li>
<li><p>float64</p>
<p>IEEE-754 64ä½æµ®ç‚¹å‹æ•°</p>
</li>
<li><p>complex64</p>
<p>32 ä½å®æ•°å’Œè™šæ•°</p>
</li>
<li><p>complex128</p>
<p>64 ä½å®æ•°å’Œè™šæ•°</p>
</li>
</ul>
<p><strong>3ã€å…¶ä»–</strong></p>
<ul>
<li><p>byte</p>
<p>ç±»ä¼¼ uint8</p>
</li>
<li><p>rune</p>
<p>ç±»ä¼¼ int32</p>
</li>
<li><p>uint</p>
<p>32 æˆ– 64 ä½</p>
</li>
<li><p>int</p>
<p>ä¸ uint ä¸€æ ·å¤§å°</p>
</li>
<li><p>uintptr</p>
<p>æ— ç¬¦å·æ•´å‹ï¼Œç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆ</p>
</li>
</ul>
<h3 id="å­—ç¬¦ä¸²å‹"><a href="#å­—ç¬¦ä¸²å‹" class="headerlink" title="å­—ç¬¦ä¸²å‹"></a>å­—ç¬¦ä¸²å‹</h3><p>å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸²å›ºå®šé•¿åº¦çš„å­—ç¬¦è¿æ¥èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚Goçš„å­—ç¬¦ä¸²æ˜¯ç”±å•ä¸ªå­—èŠ‚è¿æ¥èµ·æ¥çš„ã€‚Goè¯­è¨€çš„å­—ç¬¦ä¸²çš„å­—èŠ‚ä½¿ç”¨UTF-8ç¼–ç æ ‡è¯†Unicodeæ–‡æœ¬</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str <span class="type">string</span></span><br><span class="line">str = <span class="string">&quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="æ•°æ®ç±»å‹è½¬æ¢ï¼šType-Convert"><a href="#æ•°æ®ç±»å‹è½¬æ¢ï¼šType-Convert" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢ï¼šType Convert"></a>æ•°æ®ç±»å‹è½¬æ¢ï¼šType Convert</h3><p>è¯­æ³•æ ¼å¼ï¼šType(Value)</p>
<p>å¸¸æ•°ï¼šåœ¨æœ‰éœ€è¦çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è½¬å‹</p>
<p>å˜é‡ï¼šéœ€è¦æ‰‹åŠ¨è½¬å‹	T(V)</p>
<p>æ³¨æ„ç‚¹ï¼šå…¼å®¹ç±»å‹å¯ä»¥è½¬æ¢</p>
<h2 id="å¤åˆç±»å‹-æ´¾ç”Ÿç±»å‹"><a href="#å¤åˆç±»å‹-æ´¾ç”Ÿç±»å‹" class="headerlink" title="å¤åˆç±»å‹(æ´¾ç”Ÿç±»å‹)"></a>å¤åˆç±»å‹(æ´¾ç”Ÿç±»å‹)</h2><p>1ã€æŒ‡é’ˆç±»å‹ï¼ˆPointerï¼‰<br>2ã€æ•°ç»„ç±»å‹<br>3ã€ç»“æ„åŒ–ç±»å‹(struct)<br>4ã€Channel ç±»å‹<br>5ã€å‡½æ•°ç±»å‹<br>6ã€åˆ‡ç‰‡ç±»å‹<br>7ã€æ¥å£ç±»å‹ï¼ˆinterfaceï¼‰<br>8ã€Map ç±»å‹</p>
<h1 id="é”®ç›˜è¾“å…¥å’Œæ‰“å°è¾“å‡º"><a href="#é”®ç›˜è¾“å…¥å’Œæ‰“å°è¾“å‡º" class="headerlink" title="é”®ç›˜è¾“å…¥å’Œæ‰“å°è¾“å‡º"></a>é”®ç›˜è¾“å…¥å’Œæ‰“å°è¾“å‡º</h1><h2 id="æ‰“å°è¾“å‡º"><a href="#æ‰“å°è¾“å‡º" class="headerlink" title="æ‰“å°è¾“å‡º"></a>æ‰“å°è¾“å‡º</h2><h3 id="fmtåŒ…"><a href="#fmtåŒ…" class="headerlink" title="fmtåŒ…"></a>fmtåŒ…</h3><p>fmtåŒ…å®ç°äº†ç±»ä¼¼Cè¯­è¨€printfå’Œscanfçš„æ ¼å¼åŒ–I&#x2F;Oã€‚æ ¼å¼åŒ–verbï¼ˆâ€™verbâ€™ï¼‰æºè‡ªCè¯­è¨€ä½†æ›´ç®€å•ã€‚</p>
<p>è¯¦è§å®˜ç½‘fmtçš„APIï¼š<a href="https://golang.google.cn/pkg/fmt/">https://golang.google.cn/pkg/fmt/</a></p>
<h3 id="å¯¼å…¥åŒ…"><a href="#å¯¼å…¥åŒ…" class="headerlink" title="å¯¼å…¥åŒ…"></a>å¯¼å…¥åŒ…</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="å¸¸ç”¨æ‰“å°å‡½æ•°"><a href="#å¸¸ç”¨æ‰“å°å‡½æ•°" class="headerlink" title="å¸¸ç”¨æ‰“å°å‡½æ•°"></a>å¸¸ç”¨æ‰“å°å‡½æ•°</h3><p><strong>æ‰“å°ï¼š</strong></p>
<p><a href="https://golang.google.cn/pkg/fmt/#Print">func Print(a â€¦interface{}) (n int, err error)</a></p>
<p><strong>æ ¼å¼åŒ–æ‰“å°ï¼š</strong></p>
<p><a href="https://golang.google.cn/pkg/fmt/#Printf">func Printf(format string, a â€¦interface{}) (n int, err error)</a></p>
<p><strong>æ‰“å°åæ¢è¡Œ</strong></p>
<p><a href="https://golang.google.cn/pkg/fmt/#Println">func Println(a â€¦interface{}) (n int, err error)</a></p>
<p>æ ¼å¼åŒ–æ‰“å°ä¸­çš„å¸¸ç”¨å ä½ç¬¦ï¼š</p>
<blockquote>
<p>æ ¼å¼åŒ–æ‰“å°å ä½ç¬¦ï¼š<br>            %v,åŸæ ·è¾“å‡º<br>            %Tï¼Œæ‰“å°ç±»å‹<br>            %t,boolç±»å‹<br>            %sï¼Œå­—ç¬¦ä¸²<br>            %fï¼Œæµ®ç‚¹<br>            %dï¼Œ10è¿›åˆ¶çš„æ•´æ•°<br>            %bï¼Œ2è¿›åˆ¶çš„æ•´æ•°<br>            %oï¼Œ8è¿›åˆ¶<br>            %xï¼Œ%Xï¼Œ16è¿›åˆ¶<br>                %xï¼š0-9ï¼Œa-f<br>                %Xï¼š0-9ï¼ŒA-F<br>            %cï¼Œæ‰“å°å­—ç¬¦<br>            %pï¼Œæ‰“å°åœ°å€</p>
</blockquote>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">100</span>           <span class="comment">//int</span></span><br><span class="line">	b := <span class="number">3.14</span>          <span class="comment">//float64</span></span><br><span class="line">	c := <span class="literal">true</span>          <span class="comment">// bool</span></span><br><span class="line">	d := <span class="string">&quot;Hello World&quot;</span> <span class="comment">//string</span></span><br><span class="line">	e := <span class="string">`Ruby`</span>        <span class="comment">//string</span></span><br><span class="line">	f := <span class="string">&#x27;A&#x27;</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%b\n&quot;</span>, a, a)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%f\n&quot;</span>, b, b)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%t\n&quot;</span>, c, c)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%s\n&quot;</span>, d, d)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%s\n&quot;</span>, e, e)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T,%d,%c\n&quot;</span>, f, f, f)</span><br><span class="line">	fmt.Println(<span class="string">&quot;-----------------------&quot;</span>)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, a)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, b)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, c)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, d)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, e)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, f)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int,1100100</span><br><span class="line">float64,3.140000</span><br><span class="line">bool,true</span><br><span class="line">string,Hello World</span><br><span class="line">string,Ruby</span><br><span class="line">int32,65,A</span><br><span class="line">-----------------------</span><br><span class="line">100</span><br><span class="line">3.14</span><br><span class="line">true</span><br><span class="line">Hello World</span><br><span class="line">Ruby</span><br><span class="line">65</span><br></pre></td></tr></table></figure>



<h2 id="é”®ç›˜è¾“å…¥"><a href="#é”®ç›˜è¾“å…¥" class="headerlink" title="é”®ç›˜è¾“å…¥"></a>é”®ç›˜è¾“å…¥</h2><h3 id="fmtåŒ…è¯»å–é”®ç›˜è¾“å…¥"><a href="#fmtåŒ…è¯»å–é”®ç›˜è¾“å…¥" class="headerlink" title="fmtåŒ…è¯»å–é”®ç›˜è¾“å…¥"></a>fmtåŒ…è¯»å–é”®ç›˜è¾“å…¥</h3><p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><a href="https://golang.google.cn/pkg/fmt/#Scan">func Scan(a â€¦interface{}) (n int, err error)</a></li>
</ul>
<p>â€‹		Scan ä»æ ‡å‡†è¾“å…¥æ‰«ææ–‡æœ¬ï¼Œè¯»å–ç”± <strong>ç©ºç™½ç¬¦</strong> åˆ†éš”çš„å€¼åˆ†åˆ«ä¿å­˜åˆ°æœ¬å‡½æ•°çš„å‚æ•°ä¸­ã€‚ï¼ˆæ¢è¡Œç¬¦ä¹Ÿè¢«è§†ä¸ºç©ºç™½ç¬¦ï¼‰</p>
<ul>
<li><p><a href="https://golang.google.cn/pkg/fmt/#Scanf">func Scanf(format string, a â€¦interface{}) (n int, err error)</a></p>
<p>Scanfä»æ ‡å‡†è¾“å…¥æ‰«ææ–‡æœ¬ï¼ŒæŒ‰ç…§ format å‚æ•°æŒ‡å®šçš„æ ¼å¼å»è¯»å–ç”±ç©ºç™½ç¬¦åˆ†éš”çš„å€¼ä¿å­˜åˆ°ä¼ é€’ç»™æœ¬å‡½æ•°çš„å‚æ•°ä¸­ã€‚</p>
</li>
<li><p><a href="https://golang.google.cn/pkg/fmt/#Scanln">func Scanln(a â€¦interface{}) (n int, err error)</a></p>
<p>Scanlnç±»ä¼¼Scanï¼Œå®ƒåœ¨é‡åˆ°æ¢è¡Œæ—¶åœæ­¢æ‰«æã€‚æœ€åä¸€ä¸ªæ•°æ®åé¢å¿…é¡»æœ‰æ¢è¡Œæˆ–è€…åˆ°è¾¾ç»“æŸä½ç½®ã€‚</p>
</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> x <span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> y <span class="type">float64</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œä¸€ä¸ªæµ®ç‚¹ç±»å‹ï¼š&quot;</span>)</span><br><span class="line">	fmt.Scanln(&amp;x,&amp;y)<span class="comment">//è¯»å–é”®ç›˜çš„è¾“å…¥ï¼Œé€šè¿‡æ“ä½œåœ°å€ï¼Œèµ‹å€¼ç»™xå’Œy   é˜»å¡å¼</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;xçš„æ•°å€¼ï¼š%dï¼Œyçš„æ•°å€¼ï¼š%f\n&quot;</span>,x,y)</span><br><span class="line"></span><br><span class="line">	fmt.Scanf(<span class="string">&quot;%d,%f&quot;</span>,&amp;x,&amp;y)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;x:%d,y:%f\n&quot;</span>,x,y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œä¸€ä¸ªæµ®ç‚¹ç±»å‹ï¼š</span><br><span class="line">100 3.14</span><br><span class="line">xçš„æ•°å€¼ï¼š100ï¼Œyçš„æ•°å€¼ï¼š3.140000</span><br><span class="line">100,5.20</span><br><span class="line">x:100,y:5.200000</span><br></pre></td></tr></table></figure>

<h3 id="bufioåŒ…è¯»å–"><a href="#bufioåŒ…è¯»å–" class="headerlink" title="bufioåŒ…è¯»å–"></a>bufioåŒ…è¯»å–</h3><p><a href="https://golang.google.cn/pkg/bufio/">https://golang.google.cn/pkg/bufio/</a></p>
<p>bufioåŒ…ä¸­éƒ½æ˜¯IOæ“ä½œçš„æ–¹æ³•ï¼š</p>
<p>å…ˆåˆ›å»ºReaderå¯¹è±¡,ç„¶åå°±å¯ä»¥å„ç§è¯»å–äº†ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š&quot;</span>)</span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	s1, _ := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;è¯»åˆ°çš„æ•°æ®ï¼š&quot;</span>, s1)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæ•ˆæœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</span><br><span class="line">hello wxy</span><br><span class="line">è¯»åˆ°çš„æ•°æ®ï¼š hello wxy</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<ul>
<li><code>reader := bufio.NewReader(os.Stdin)</code>ï¼šè¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªç”¨äºè¯»å–ç”¨æˆ·è¾“å…¥çš„è¯»å–å™¨ã€‚<code>bufio.NewReader</code> å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•° <code>os.Stdin</code>ï¼Œå®ƒè¡¨ç¤ºæ ‡å‡†è¾“å…¥ï¼ˆé€šå¸¸æ˜¯é”®ç›˜è¾“å…¥ï¼‰ã€‚<code>reader</code> æ˜¯ä¸€ä¸ªè¯»å–å™¨å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥è¯»å–ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚</li>
<li><code>s1, _ := reader.ReadString(&#39;\n&#39;)</code>ï¼šè¿™è¡Œä»£ç ä½¿ç”¨è¯»å–å™¨ <code>reader</code> ä»æ ‡å‡†è¾“å…¥è¯»å–å­—ç¬¦ä¸²ï¼Œç›´åˆ°é‡åˆ°æ¢è¡Œç¬¦ (<code>&#39;\n&#39;</code>) ä¸ºæ­¢ã€‚å®ƒå°†è¯»å–çš„å­—ç¬¦ä¸²èµ‹å€¼ç»™å˜é‡ <code>s1</code>ã€‚æ³¨æ„ï¼Œè¿™é‡Œä½¿ç”¨äº† <code>_</code>ï¼ˆä¸‹åˆ’çº¿ï¼‰æ¥å¿½ç•¥å‡½æ•°çš„ç¬¬äºŒä¸ªè¿”å›å€¼ï¼ˆè¡¨ç¤ºå¯èƒ½çš„é”™è¯¯ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å…³å¿ƒé”™è¯¯å¤„ç†ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>goçš„ç¼–ç è§„èŒƒ</title>
    <url>/2023/06/01/Go/3/</url>
    <content><![CDATA[<h1 id="ç¼–ç è§„èŒƒ"><a href="#ç¼–ç è§„èŒƒ" class="headerlink" title="ç¼–ç è§„èŒƒ"></a>ç¼–ç è§„èŒƒ</h1><p>æœ¬è§„èŒƒæ—¨åœ¨ä¸ºæ—¥å¸¸Goé¡¹ç›®å¼€å‘æä¾›ä¸€ä¸ªä»£ç çš„è§„èŒƒæŒ‡å¯¼ï¼Œæ–¹ä¾¿å›¢é˜Ÿå½¢æˆä¸€ä¸ªç»Ÿä¸€çš„ä»£ç é£æ ¼ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œè§„èŒƒæ€§å’Œç»Ÿä¸€æ€§ã€‚æœ¬è§„èŒƒå°†ä»å‘½åè§„èŒƒï¼Œæ³¨é‡Šè§„èŒƒï¼Œä»£ç é£æ ¼å’Œ Go è¯­è¨€æä¾›çš„å¸¸ç”¨çš„å·¥å…·è¿™å‡ ä¸ªæ–¹é¢åšä¸€ä¸ªè¯´æ˜ã€‚è¯¥è§„èŒƒå‚è€ƒäº† go è¯­è¨€å®˜æ–¹ä»£ç çš„é£æ ¼åˆ¶å®šã€‚</p>
<h2 id="å‘½åè§„èŒƒ"><a href="#å‘½åè§„èŒƒ" class="headerlink" title="å‘½åè§„èŒƒ"></a>å‘½åè§„èŒƒ</h2><p>å‘½åæ˜¯ä»£ç è§„èŒƒä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œç»Ÿä¸€çš„å‘½åè§„åˆ™æœ‰åˆ©äºæé«˜çš„ä»£ç çš„å¯è¯»æ€§ï¼Œå¥½çš„å‘½åä»…ä»…é€šè¿‡å‘½åå°±å¯ä»¥è·å–åˆ°è¶³å¤Ÿå¤šçš„ä¿¡æ¯ã€‚</p>
<p>Goåœ¨å‘½åæ—¶ä»¥å­—æ¯aåˆ°Zæˆ–aåˆ°Zæˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼Œåé¢è·Ÿç€é›¶æˆ–æ›´å¤šçš„å­—æ¯ã€ä¸‹åˆ’çº¿å’Œæ•°å­—(0åˆ°9)ã€‚Goä¸å…è®¸åœ¨å‘½åæ—¶ä¸­ä½¿ç”¨@ã€$å’Œ%ç­‰æ ‡ç‚¹ç¬¦å·ã€‚Goæ˜¯ä¸€ç§åŒºåˆ†å¤§å°å†™çš„ç¼–ç¨‹è¯­è¨€ã€‚å› æ­¤ï¼ŒManpowerå’Œmanpoweræ˜¯ä¸¤ä¸ªä¸åŒçš„å‘½åã€‚</p>
<blockquote>
<ol>
<li>å½“å‘½åï¼ˆåŒ…æ‹¬å¸¸é‡ã€å˜é‡ã€ç±»å‹ã€å‡½æ•°åã€ç»“æ„å­—æ®µç­‰ç­‰ï¼‰ä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¤´ï¼Œå¦‚ï¼šGroup1ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ç§å½¢å¼çš„æ ‡è¯†ç¬¦çš„å¯¹è±¡å°±<strong>å¯ä»¥è¢«å¤–éƒ¨åŒ…çš„ä»£ç æ‰€ä½¿ç”¨</strong>ï¼ˆå®¢æˆ·ç«¯ç¨‹åºéœ€è¦å…ˆå¯¼å…¥è¿™ä¸ªåŒ…ï¼‰ï¼Œè¿™è¢«ç§°ä¸ºå¯¼å‡ºï¼ˆåƒé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ publicï¼‰ï¼›</li>
<li><strong>å‘½åå¦‚æœä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å¯¹åŒ…å¤–æ˜¯ä¸å¯è§çš„ï¼Œä½†æ˜¯ä»–ä»¬åœ¨æ•´ä¸ªåŒ…çš„å†…éƒ¨æ˜¯å¯è§å¹¶ä¸”å¯ç”¨çš„</strong>ï¼ˆåƒé¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„ private ï¼‰</li>
</ol>
</blockquote>
<h3 id="åŒ…å‘½åï¼špackage"><a href="#åŒ…å‘½åï¼špackage" class="headerlink" title="åŒ…å‘½åï¼špackage"></a>åŒ…å‘½åï¼špackage</h3><p>ä¿æŒpackageçš„åå­—å’Œç›®å½•ä¿æŒä¸€è‡´ï¼Œå°½é‡é‡‡å–æœ‰æ„ä¹‰çš„åŒ…åï¼Œç®€çŸ­ï¼Œæœ‰æ„ä¹‰ï¼Œå°½é‡å’Œæ ‡å‡†åº“ä¸è¦å†²çªã€‚åŒ…ååº”è¯¥ä¸º<strong>å°å†™</strong>å•è¯ï¼Œä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿æˆ–è€…æ··åˆå¤§å°å†™ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> demo</span><br><span class="line"><span class="keyword">package</span> main</span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶å‘½å"><a href="#æ–‡ä»¶å‘½å" class="headerlink" title="æ–‡ä»¶å‘½å"></a>æ–‡ä»¶å‘½å</h3><p>å°½é‡é‡‡å–æœ‰æ„ä¹‰çš„æ–‡ä»¶åï¼Œç®€çŸ­ï¼Œæœ‰æ„ä¹‰ï¼Œåº”è¯¥ä¸º<strong>å°å†™</strong>å•è¯ï¼Œä½¿ç”¨<strong>ä¸‹åˆ’çº¿</strong>åˆ†éš”å„ä¸ªå•è¯ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">my_test.<span class="keyword">go</span></span><br></pre></td></tr></table></figure>

<h3 id="ç»“æ„ä½“å‘½å"><a href="#ç»“æ„ä½“å‘½å" class="headerlink" title="ç»“æ„ä½“å‘½å"></a>ç»“æ„ä½“å‘½å</h3><ul>
<li><p>é‡‡ç”¨é©¼å³°å‘½åæ³•ï¼Œé¦–å­—æ¯æ ¹æ®è®¿é—®æ§åˆ¶å¤§å†™æˆ–è€…å°å†™</p>
</li>
<li><p>struct ç”³æ˜å’Œåˆå§‹åŒ–æ ¼å¼é‡‡ç”¨å¤šè¡Œï¼Œä¾‹å¦‚ä¸‹é¢ï¼š</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤šè¡Œç”³æ˜</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span>&#123;</span><br><span class="line">    Username  <span class="type">string</span></span><br><span class="line">    Email     <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¤šè¡Œåˆå§‹åŒ–</span></span><br><span class="line">u := User&#123;</span><br><span class="line">    Username: <span class="string">&quot;astaxie&quot;</span>,</span><br><span class="line">    Email:    <span class="string">&quot;astaxie@gmail.com&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ¥å£å‘½å"><a href="#æ¥å£å‘½å" class="headerlink" title="æ¥å£å‘½å"></a>æ¥å£å‘½å</h3><ul>
<li>å‘½åè§„åˆ™åŸºæœ¬å’Œä¸Šé¢çš„ç»“æ„ä½“ç±»å‹ä¿æŒä¸€è‡´ã€‚</li>
<li>å•ä¸ªå‡½æ•°çš„ç»“æ„åä»¥ â€œerâ€ ä½œä¸ºåç¼€ï¼Œä¾‹å¦‚ Reader , Writer ã€‚</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> &#123;</span><br><span class="line">        Read(p []<span class="type">byte</span>) (n <span class="type">int</span>, err <span class="type">error</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å˜é‡å‘½å"><a href="#å˜é‡å‘½å" class="headerlink" title="å˜é‡å‘½å"></a>å˜é‡å‘½å</h3><ul>
<li>å’Œç»“æ„ä½“ç±»ä¼¼ï¼Œå˜é‡åç§°ä¸€èˆ¬éµå¾ªé©¼å³°æ³•ï¼Œé¦–å­—æ¯æ ¹æ®è®¿é—®æ§åˆ¶åŸåˆ™å¤§å†™æˆ–è€…å°å†™ï¼Œä½†é‡åˆ°ç‰¹æœ‰åè¯æ—¶ï¼Œéœ€è¦éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š <ul>
<li>å¦‚æœå˜é‡ä¸ºç§æœ‰ï¼Œä¸”ç‰¹æœ‰åè¯ä¸ºé¦–ä¸ªå•è¯ï¼Œåˆ™ä½¿ç”¨å°å†™ï¼Œå¦‚ apiClient</li>
<li>å…¶å®ƒæƒ…å†µéƒ½åº”å½“ä½¿ç”¨è¯¥åè¯åŸæœ‰çš„å†™æ³•ï¼Œå¦‚ APIClientã€repoIDã€UserID</li>
<li>é”™è¯¯ç¤ºä¾‹ï¼šUrlArrayï¼Œåº”è¯¥å†™æˆ urlArray æˆ–è€… URLArray</li>
</ul>
</li>
<li>è‹¥å˜é‡ç±»å‹ä¸º bool ç±»å‹ï¼Œåˆ™åç§°åº”ä»¥ has, is, can æˆ– allow å¼€å¤´</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> isExist <span class="type">bool</span></span><br><span class="line"><span class="keyword">var</span> hasConflict <span class="type">bool</span></span><br><span class="line"><span class="keyword">var</span> canManage <span class="type">bool</span></span><br><span class="line"><span class="keyword">var</span> allowGitHook <span class="type">bool</span></span><br></pre></td></tr></table></figure>

<h3 id="å¸¸é‡å‘½å"><a href="#å¸¸é‡å‘½å" class="headerlink" title="å¸¸é‡å‘½å"></a>å¸¸é‡å‘½å</h3><p>å¸¸é‡å‡éœ€ä½¿ç”¨å…¨éƒ¨å¤§å†™å­—æ¯ç»„æˆï¼Œå¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†è¯</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> APP_VER = <span class="string">&quot;1.0&quot;</span></span><br></pre></td></tr></table></figure>


<p>å¦‚æœæ˜¯æšä¸¾ç±»å‹çš„å¸¸é‡ï¼Œéœ€è¦å…ˆåˆ›å»ºç›¸åº”ç±»å‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Scheme <span class="type">string</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    HTTP  Scheme = <span class="string">&quot;http&quot;</span></span><br><span class="line">    HTTPS Scheme = <span class="string">&quot;https&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h3><p>ä¸‹é¢çš„åˆ—è¡¨æ˜¾ç¤ºäº†Goä¸­çš„ä¿ç•™å­—ã€‚è¿™äº›ä¿ç•™å­—ä¸èƒ½ç”¨ä½œå¸¸é‡æˆ–å˜é‡æˆ–ä»»ä½•å…¶ä»–æ ‡è¯†ç¬¦åç§°ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/24fd930b2dd64516845b351960d1df8b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt="guanjianzi"></p>
<h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>Goæä¾›Cé£æ ¼çš„<code>/* */</code>å—æ³¨é‡Šå’ŒC ++é£æ ¼çš„<code>//</code>è¡Œæ³¨é‡Šã€‚è¡Œæ³¨é‡Šæ˜¯å¸¸æ€ï¼›å—æ³¨é‡Šä¸»è¦æ˜¾ç¤ºä¸ºåŒ…æ³¨é‡Šï¼Œä½†åœ¨è¡¨è¾¾å¼ä¸­å¾ˆæœ‰ç”¨æˆ–ç¦ç”¨å¤§é‡ä»£ç ã€‚</p>
<ul>
<li>å•è¡Œæ³¨é‡Šæ˜¯æœ€å¸¸è§çš„æ³¨é‡Šå½¢å¼ï¼Œä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ä»¥ &#x2F;&#x2F; å¼€å¤´çš„å•è¡Œæ³¨é‡Š</li>
<li>å¤šè¡Œæ³¨é‡Šä¹Ÿå«å—æ³¨é‡Šï¼Œå‡å·²ä»¥ &#x2F;* å¼€å¤´ï¼Œå¹¶ä»¥ *&#x2F; ç»“å°¾ï¼Œä¸”ä¸å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œå¤šè¡Œæ³¨é‡Šä¸€èˆ¬ç”¨äºåŒ…çš„æ–‡æ¡£æè¿°æˆ–æ³¨é‡Šæˆå—çš„ä»£ç ç‰‡æ®µ</li>
</ul>
<p>go è¯­è¨€è‡ªå¸¦çš„ godoc å·¥å…·å¯ä»¥æ ¹æ®æ³¨é‡Šç”Ÿæˆæ–‡æ¡£ï¼Œç”Ÿæˆå¯ä»¥è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„ç½‘ç«™ï¼ˆ golang.org å°±æ˜¯ä½¿ç”¨ godoc å·¥å…·ç›´æ¥ç”Ÿæˆçš„ï¼‰ï¼Œæ³¨é‡Šçš„è´¨é‡å†³å®šäº†ç”Ÿæˆçš„æ–‡æ¡£çš„è´¨é‡ã€‚æ¯ä¸ªåŒ…éƒ½åº”è¯¥æœ‰ä¸€ä¸ªåŒ…æ³¨é‡Šï¼Œåœ¨packageå­å¥ä¹‹å‰æœ‰ä¸€ä¸ªå—æ³¨é‡Šã€‚å¯¹äºå¤šæ–‡ä»¶åŒ…ï¼ŒåŒ…æ³¨é‡Šåªéœ€è¦å­˜åœ¨äºä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä»»ä½•ä¸€ä¸ªéƒ½å¯ä»¥ã€‚åŒ…è¯„è®ºåº”è¯¥ä»‹ç»åŒ…ï¼Œå¹¶æä¾›ä¸æ•´ä¸ªåŒ…ç›¸å…³çš„ä¿¡æ¯ã€‚å®ƒå°†é¦–å…ˆå‡ºç°åœ¨<code>godoc</code>é¡µé¢ä¸Šï¼Œå¹¶åº”è®¾ç½®ä¸‹é¢çš„è¯¦ç»†æ–‡æ¡£ã€‚</p>
<p>è¯¦ç»†çš„å¦‚ä½•å†™æ³¨é‡Šå¯ä»¥<br>å‚è€ƒï¼š<a href="http://golang.org/doc/effective_go.html#commentary">http://golang.org/doc/effective_go.html#commentary</a></p>
<h3 id="åŒ…æ³¨é‡Š"><a href="#åŒ…æ³¨é‡Š" class="headerlink" title="åŒ…æ³¨é‡Š"></a>åŒ…æ³¨é‡Š</h3><p>æ¯ä¸ªåŒ…éƒ½åº”è¯¥æœ‰ä¸€ä¸ªåŒ…æ³¨é‡Šï¼Œä¸€ä¸ªä½äºpackageå­å¥ä¹‹å‰çš„å—æ³¨é‡Šæˆ–è¡Œæ³¨é‡Šã€‚åŒ…å¦‚æœæœ‰å¤šä¸ªgoæ–‡ä»¶ï¼Œåªéœ€è¦å‡ºç°åœ¨ä¸€ä¸ªgoæ–‡ä»¶ä¸­ï¼ˆä¸€èˆ¬æ˜¯å’ŒåŒ…åŒåçš„æ–‡ä»¶ï¼‰å³å¯ã€‚ åŒ…æ³¨é‡Šåº”è¯¥åŒ…å«ä¸‹é¢åŸºæœ¬ä¿¡æ¯(è¯·ä¸¥æ ¼æŒ‰ç…§è¿™ä¸ªé¡ºåºï¼Œç®€ä»‹ï¼Œåˆ›å»ºäººï¼Œåˆ›å»ºæ—¶é—´ï¼‰ï¼š</p>
<ul>
<li>åŒ…çš„åŸºæœ¬ç®€ä»‹ï¼ˆåŒ…åï¼Œç®€ä»‹ï¼‰</li>
<li>åˆ›å»ºè€…ï¼Œæ ¼å¼ï¼š åˆ›å»ºäººï¼š rtx å</li>
<li>åˆ›å»ºæ—¶é—´ï¼Œæ ¼å¼ï¼šåˆ›å»ºæ—¶é—´ï¼š yyyyMMdd</li>
</ul>
<p>ä¾‹å¦‚ util åŒ…çš„æ³¨é‡Šç¤ºä¾‹å¦‚ä¸‹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// util åŒ…ï¼Œ è¯¥åŒ…åŒ…å«äº†é¡¹ç›®å…±ç”¨çš„ä¸€äº›å¸¸é‡ï¼Œå°è£…äº†é¡¹ç›®ä¸­ä¸€äº›å…±ç”¨å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">// åˆ›å»ºäººï¼š wxy</span></span><br><span class="line"><span class="comment">// åˆ›å»ºæ—¶é—´ï¼š 20230601</span></span><br></pre></td></tr></table></figure>

<h3 id="ç»“æ„ï¼ˆæ¥å£ï¼‰æ³¨é‡Š"><a href="#ç»“æ„ï¼ˆæ¥å£ï¼‰æ³¨é‡Š" class="headerlink" title="ç»“æ„ï¼ˆæ¥å£ï¼‰æ³¨é‡Š"></a>ç»“æ„ï¼ˆæ¥å£ï¼‰æ³¨é‡Š</h3><p>æ¯ä¸ªè‡ªå®šä¹‰çš„ç»“æ„ä½“æˆ–è€…æ¥å£éƒ½åº”è¯¥æœ‰æ³¨é‡Šè¯´æ˜ï¼Œè¯¥æ³¨é‡Šå¯¹ç»“æ„è¿›è¡Œç®€è¦ä»‹ç»ï¼Œæ”¾åœ¨ç»“æ„ä½“å®šä¹‰çš„å‰ä¸€è¡Œï¼Œæ ¼å¼ä¸ºï¼š ç»“æ„ä½“åï¼Œ ç»“æ„ä½“è¯´æ˜ã€‚åŒæ—¶ç»“æ„ä½“å†…çš„æ¯ä¸ªæˆå‘˜å˜é‡éƒ½è¦æœ‰è¯´æ˜ï¼Œè¯¥è¯´æ˜æ”¾åœ¨æˆå‘˜å˜é‡çš„åé¢ï¼ˆæ³¨æ„å¯¹é½ï¼‰ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// User ï¼Œ ç”¨æˆ·å¯¹è±¡ï¼Œå®šä¹‰äº†ç”¨æˆ·çš„åŸºç¡€ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span>&#123;</span><br><span class="line">    Username  <span class="type">string</span> <span class="comment">// ç”¨æˆ·å</span></span><br><span class="line">    Email     <span class="type">string</span> <span class="comment">// é‚®ç®±</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰æ³¨é‡Š"><a href="#å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰æ³¨é‡Š" class="headerlink" title="å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰æ³¨é‡Š"></a>å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰æ³¨é‡Š</h3><p>æ¯ä¸ªå‡½æ•°ï¼Œæˆ–è€…æ–¹æ³•ï¼ˆç»“æ„ä½“æˆ–è€…æ¥å£ä¸‹çš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼‰éƒ½åº”è¯¥æœ‰æ³¨é‡Šè¯´æ˜ï¼Œå‡½æ•°çš„æ³¨é‡Šåº”è¯¥åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢ï¼ˆä¸¥æ ¼æŒ‰ç…§æ­¤é¡ºåºæ’°å†™ï¼‰ï¼š</p>
<ul>
<li>ç®€è¦è¯´æ˜ï¼Œæ ¼å¼è¯´æ˜ï¼šä»¥å‡½æ•°åå¼€å¤´ï¼Œâ€œï¼Œâ€åˆ†éš”è¯´æ˜éƒ¨åˆ†</li>
<li>å‚æ•°åˆ—è¡¨ï¼šæ¯è¡Œä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°åå¼€å¤´ï¼Œâ€œï¼Œâ€åˆ†éš”è¯´æ˜éƒ¨åˆ†</li>
<li>è¿”å›å€¼ï¼š æ¯è¡Œä¸€ä¸ªè¿”å›å€¼</li>
</ul>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// NewtAttrModel ï¼Œ å±æ€§æ•°æ®å±‚æ“ä½œç±»çš„å·¥å‚æ–¹æ³•</span></span><br><span class="line"><span class="comment">// å‚æ•°ï¼š</span></span><br><span class="line"><span class="comment">//      ctx ï¼š ä¸Šä¸‹æ–‡ä¿¡æ¯</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼š</span></span><br><span class="line"><span class="comment">//      å±æ€§æ“ä½œç±»æŒ‡é’ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewAttrModel</span><span class="params">(ctx *common.Context)</span></span> *AttrModel &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä»£ç é€»è¾‘æ³¨é‡Š"><a href="#ä»£ç é€»è¾‘æ³¨é‡Š" class="headerlink" title="ä»£ç é€»è¾‘æ³¨é‡Š"></a>ä»£ç é€»è¾‘æ³¨é‡Š</h3><p>å¯¹äºä¸€äº›å…³é”®ä½ç½®çš„ä»£ç é€»è¾‘ï¼Œæˆ–è€…å±€éƒ¨è¾ƒä¸ºå¤æ‚çš„é€»è¾‘ï¼Œéœ€è¦æœ‰ç›¸åº”çš„é€»è¾‘è¯´æ˜ï¼Œæ–¹ä¾¿å…¶ä»–å¼€å‘è€…é˜…è¯»è¯¥æ®µä»£ç ï¼Œå®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä» Redis ä¸­æ‰¹é‡è¯»å–å±æ€§ï¼Œå¯¹äºæ²¡æœ‰è¯»å–åˆ°çš„ id ï¼Œ è®°å½•åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œå‡†å¤‡ä» DB ä¸­è¯»å–</span></span><br><span class="line">xxxxx</span><br><span class="line">xxxxxxx</span><br><span class="line">xxxxxxx</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨é‡Šé£æ ¼"><a href="#æ³¨é‡Šé£æ ¼" class="headerlink" title="æ³¨é‡Šé£æ ¼"></a>æ³¨é‡Šé£æ ¼</h3><p>ç»Ÿä¸€ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šï¼Œå¯¹äºä¸­è‹±æ–‡å­—ç¬¦ä¹‹é—´ä¸¥æ ¼ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œ è¿™ä¸ªä¸ä»…ä»…æ˜¯ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´ï¼Œè‹±æ–‡å’Œä¸­æ–‡æ ‡ç‚¹ä¹‹é—´ä¹Ÿéƒ½è¦ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä» Redis ä¸­æ‰¹é‡è¯»å–å±æ€§ï¼Œå¯¹äºæ²¡æœ‰è¯»å–åˆ°çš„ id ï¼Œ è®°å½•åˆ°ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œå‡†å¤‡ä» DB ä¸­è¯»å–</span></span><br></pre></td></tr></table></figure>


<p>ä¸Šé¢ Redis ã€ id ã€ DB å’Œå…¶ä»–ä¸­æ–‡å­—ç¬¦ä¹‹é—´éƒ½æ˜¯ç”¨äº†ç©ºæ ¼åˆ†éš”ã€‚ </p>
<ul>
<li>å»ºè®®å…¨éƒ¨ä½¿ç”¨å•è¡Œæ³¨é‡Š</li>
<li>å’Œä»£ç çš„è§„èŒƒä¸€æ ·ï¼Œå•è¡Œæ³¨é‡Šä¸è¦è¿‡é•¿ï¼Œç¦æ­¢è¶…è¿‡ 120 å­—ç¬¦ã€‚</li>
</ul>
<h2 id="ä»£ç é£æ ¼"><a href="#ä»£ç é£æ ¼" class="headerlink" title="ä»£ç é£æ ¼"></a>ä»£ç é£æ ¼</h2><h3 id="ç¼©è¿›å’ŒæŠ˜è¡Œ"><a href="#ç¼©è¿›å’ŒæŠ˜è¡Œ" class="headerlink" title="ç¼©è¿›å’ŒæŠ˜è¡Œ"></a>ç¼©è¿›å’ŒæŠ˜è¡Œ</h3><ul>
<li>ç¼©è¿›ç›´æ¥ä½¿ç”¨ gofmt å·¥å…·æ ¼å¼åŒ–å³å¯ï¼ˆgofmt æ˜¯ä½¿ç”¨ tab ç¼©è¿›çš„ï¼‰ï¼›</li>
<li>æŠ˜è¡Œæ–¹é¢ï¼Œä¸€è¡Œæœ€é•¿ä¸è¶…è¿‡120ä¸ªå­—ç¬¦ï¼Œè¶…è¿‡çš„è¯·ä½¿ç”¨æ¢è¡Œå±•ç¤ºï¼Œå°½é‡ä¿æŒæ ¼å¼ä¼˜é›…ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä½¿ç”¨Golandå¼€å‘å·¥å…·ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¿«æ·é”®ï¼šctrl+alt+Lï¼Œå³å¯ã€‚</p>
<h3 id="è¯­å¥çš„ç»“å°¾"><a href="#è¯­å¥çš„ç»“å°¾" class="headerlink" title="è¯­å¥çš„ç»“å°¾"></a>è¯­å¥çš„ç»“å°¾</h3><p>Goè¯­è¨€ä¸­æ˜¯ä¸éœ€è¦ç±»ä¼¼äºJavaéœ€è¦å†’å·ç»“å°¾ï¼Œé»˜è®¤ä¸€è¡Œå°±æ˜¯ä¸€æ¡æ•°æ®</p>
<p>å¦‚æœä½ æ‰“ç®—å°†å¤šä¸ªè¯­å¥å†™åœ¨åŒä¸€è¡Œï¼Œå®ƒä»¬åˆ™å¿…é¡»ä½¿ç”¨ <strong>;</strong> </p>
<h3 id="æ‹¬å·å’Œç©ºæ ¼"><a href="#æ‹¬å·å’Œç©ºæ ¼" class="headerlink" title="æ‹¬å·å’Œç©ºæ ¼"></a>æ‹¬å·å’Œç©ºæ ¼</h3><p>æ‹¬å·å’Œç©ºæ ¼æ–¹é¢ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ gofmt å·¥å…·æ ¼å¼åŒ–ï¼ˆgo ä¼šå¼ºåˆ¶å·¦å¤§æ‹¬å·ä¸æ¢è¡Œï¼Œæ¢è¡Œä¼šæŠ¥è¯­æ³•é”™è¯¯ï¼‰ï¼Œæ‰€æœ‰çš„è¿ç®—ç¬¦å’Œæ“ä½œæ•°ä¹‹é—´è¦ç•™ç©ºæ ¼ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®çš„æ–¹å¼</span></span><br><span class="line"><span class="keyword">if</span> a &gt; <span class="number">0</span> &#123;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// é”™è¯¯çš„æ–¹å¼</span></span><br><span class="line"><span class="keyword">if</span> a&gt;<span class="number">0</span>  <span class="comment">// a ï¼Œ0 å’Œ &gt; ä¹‹é—´åº”è¯¥ç©ºæ ¼</span></span><br><span class="line">&#123;       <span class="comment">// å·¦å¤§æ‹¬å·ä¸å¯ä»¥æ¢è¡Œï¼Œä¼šæŠ¥è¯­æ³•é”™è¯¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="import-è§„èŒƒ"><a href="#import-è§„èŒƒ" class="headerlink" title="import è§„èŒƒ"></a>import è§„èŒƒ</h3><p>importåœ¨å¤šè¡Œçš„æƒ…å†µä¸‹ï¼Œgoimportsä¼šè‡ªåŠ¨å¸®ä½ æ ¼å¼åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯è§„èŒƒä¸€ä¸‹importçš„ä¸€äº›è§„èŒƒï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å¼•å…¥äº†ä¸€ä¸ªpackageï¼Œè¿˜æ˜¯å»ºè®®é‡‡ç”¨å¦‚ä¸‹æ ¼å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ çš„åŒ…å¼•å…¥äº†ä¸‰ç§ç±»å‹çš„åŒ…ï¼Œæ ‡å‡†åº“åŒ…ï¼Œç¨‹åºå†…éƒ¨åŒ…ï¼Œç¬¬ä¸‰æ–¹åŒ…ï¼Œå»ºè®®é‡‡ç”¨å¦‚ä¸‹æ–¹å¼è¿›è¡Œç»„ç»‡ä½ çš„åŒ…ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;encoding/json&quot;</span></span><br><span class="line">    <span class="string">&quot;strings&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;myproject/models&quot;</span></span><br><span class="line">    <span class="string">&quot;myproject/controller&quot;</span></span><br><span class="line">    <span class="string">&quot;myproject/utils&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;github.com/astaxie/beego&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/go-sql-driver/mysql&quot;</span></span><br><span class="line">)   </span><br></pre></td></tr></table></figure>

<p>æœ‰é¡ºåºçš„å¼•å…¥åŒ…ï¼Œä¸åŒçš„ç±»å‹é‡‡ç”¨ç©ºæ ¼åˆ†ç¦»ï¼Œç¬¬ä¸€ç§æ˜¯æ ‡å‡†åº“ï¼Œç¬¬äºŒæ˜¯é¡¹ç›®åŒ…ï¼Œç¬¬ä¸‰æ˜¯ç¬¬ä¸‰æ–¹åŒ…ã€‚</p>
<p>åœ¨é¡¹ç›®ä¸­ä¸è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•å…¥åŒ…ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ˜¯ä¸å¥½çš„å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> â€œ../netâ€</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ˜¯æ­£ç¡®çš„åšæ³•</span></span><br><span class="line"><span class="keyword">import</span> â€œgithub.com/repo/proj/src/netâ€</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœæ˜¯å¼•å…¥æœ¬é¡¹ç›®ä¸­çš„å…¶ä»–åŒ…ï¼Œæœ€å¥½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚</p>
<h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><ul>
<li>é”™è¯¯å¤„ç†çš„åŸåˆ™å°±æ˜¯ä¸èƒ½ä¸¢å¼ƒä»»ä½•æœ‰è¿”å›errçš„è°ƒç”¨ï¼Œä¸è¦ä½¿ç”¨ _ ä¸¢å¼ƒï¼Œå¿…é¡»å…¨éƒ¨å¤„ç†ã€‚æ¥æ”¶åˆ°é”™è¯¯ï¼Œè¦ä¹ˆè¿”å›errï¼Œæˆ–è€…ä½¿ç”¨logè®°å½•ä¸‹æ¥</li>
<li>å°½æ—©returnï¼šä¸€æ—¦æœ‰é”™è¯¯å‘ç”Ÿï¼Œé©¬ä¸Šè¿”å›</li>
<li>å°½é‡ä¸è¦ä½¿ç”¨panicï¼Œé™¤éä½ çŸ¥é“ä½ åœ¨åšä»€ä¹ˆ</li>
<li>é”™è¯¯æè¿°å¦‚æœæ˜¯è‹±æ–‡å¿…é¡»ä¸ºå°å†™ï¼Œä¸éœ€è¦æ ‡ç‚¹ç»“å°¾</li>
<li>é‡‡ç”¨ç‹¬ç«‹çš„é”™è¯¯æµè¿›è¡Œå¤„ç†</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯å†™æ³•</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="comment">// error handling</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// normal code</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®å†™æ³•</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="comment">// error handling</span></span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// or continue, etc.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// normal code</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>å•å…ƒæµ‹è¯•æ–‡ä»¶åå‘½åè§„èŒƒä¸º example_test.go<br>æµ‹è¯•ç”¨ä¾‹çš„å‡½æ•°åç§°å¿…é¡»ä»¥ Test å¼€å¤´ï¼Œä¾‹å¦‚ï¼šTestExample<br>æ¯ä¸ªé‡è¦çš„å‡½æ•°éƒ½è¦é¦–å…ˆç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæµ‹è¯•ç”¨ä¾‹å’Œæ­£è§„ä»£ç ä¸€èµ·æäº¤æ–¹ä¾¿è¿›è¡Œå›å½’æµ‹è¯•</p>
<h2 id="å¸¸ç”¨å·¥å…·"><a href="#å¸¸ç”¨å·¥å…·" class="headerlink" title="å¸¸ç”¨å·¥å…·"></a>å¸¸ç”¨å·¥å…·</h2><p>ä¸Šé¢æåˆ°äº†å¾ˆè¿‡è§„èŒƒï¼Œ go è¯­è¨€æœ¬èº«åœ¨ä»£ç è§„èŒƒæ€§è¿™æ–¹é¢ä¹Ÿåšäº†å¾ˆå¤šåŠªåŠ›ï¼Œå¾ˆå¤šé™åˆ¶éƒ½æ˜¯å¼ºåˆ¶è¯­æ³•è¦æ±‚ï¼Œä¾‹å¦‚å·¦å¤§æ‹¬å·ä¸æ¢è¡Œï¼Œå¼•ç”¨çš„åŒ…æˆ–è€…å®šä¹‰çš„å˜é‡ä¸ä½¿ç”¨ä¼šæŠ¥é”™ï¼Œæ­¤å¤– go è¿˜æ˜¯æä¾›äº†å¾ˆå¤šå¥½ç”¨çš„å·¥å…·å¸®åŠ©æˆ‘ä»¬è¿›è¡Œä»£ç çš„è§„èŒƒï¼Œ</p>
<p><strong>gofmt</strong><br>å¤§éƒ¨åˆ†çš„æ ¼å¼é—®é¢˜å¯ä»¥é€šè¿‡gofmtè§£å†³ï¼Œ gofmt è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œä¿è¯æ‰€æœ‰çš„ go ä»£ç ä¸å®˜æ–¹æ¨èçš„æ ¼å¼ä¿æŒä¸€è‡´ï¼Œäºæ˜¯æ‰€æœ‰æ ¼å¼æœ‰å…³é—®é¢˜ï¼Œéƒ½ä»¥ gofmt çš„ç»“æœä¸ºå‡†ã€‚</p>
<p><strong>goimport</strong><br>æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½¿ç”¨ goimport ï¼Œè¯¥å·¥å…·åœ¨ gofmt çš„åŸºç¡€ä¸Šå¢åŠ äº†è‡ªåŠ¨åˆ é™¤å’Œå¼•å…¥åŒ….</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go get golang.org/x/tools/cmd/goimports</span></span><br></pre></td></tr></table></figure>

<p><em><strong>ä»¥ä¸Šä¸¤ç§å·¥å…·ä¸Šä¸€ç¯‡æ–‡ç« å·²ç»ä»‹ç»è¿‡æ€ä¹ˆé…ç½®</strong></em></p>
<p><strong>go vet</strong><br>vetå·¥å…·å¯ä»¥å¸®æˆ‘ä»¬é™æ€åˆ†ææˆ‘ä»¬çš„æºç å­˜åœ¨çš„å„ç§é—®é¢˜ï¼Œä¾‹å¦‚å¤šä½™çš„ä»£ç ï¼Œæå‰returnçš„é€»è¾‘ï¼Œstructçš„tagæ˜¯å¦ç¬¦åˆæ ‡å‡†ç­‰ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go get golang.org/x/tools/cmd/vet</span></span><br></pre></td></tr></table></figure>


<p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">go vet .</span></span><br></pre></td></tr></table></figure>















]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°ç»„&amp;åˆ‡ç‰‡&amp;é›†åˆ&amp;å­—ç¬¦ä¸²</title>
    <url>/2023/06/03/Go/7/</url>
    <content><![CDATA[<h1 id="æ•°ç»„-Array"><a href="#æ•°ç»„-Array" class="headerlink" title="æ•°ç»„(Array)"></a>æ•°ç»„(Array)</h1><h2 id="ä»€ä¹ˆæ˜¯æ•°ç»„"><a href="#ä»€ä¹ˆæ˜¯æ•°ç»„" class="headerlink" title="ä»€ä¹ˆæ˜¯æ•°ç»„"></a>ä»€ä¹ˆæ˜¯æ•°ç»„</h2><p>Go è¯­è¨€æä¾›äº†æ•°ç»„ç±»å‹çš„æ•°æ®ç»“æ„ã€‚<br>æ•°ç»„æ˜¯å…·æœ‰ç›¸åŒå”¯ä¸€ç±»å‹çš„ä¸€ç»„å·²ç¼–å·ä¸”é•¿åº¦å›ºå®šçš„æ•°æ®é¡¹åºåˆ—ï¼Œè¿™ç§ç±»å‹å¯ä»¥æ˜¯ä»»æ„çš„åŸå§‹ç±»å‹ä¾‹å¦‚æ•´å½¢ã€å­—ç¬¦ä¸²æˆ–è€…è‡ªå®šä¹‰ç±»å‹ã€‚</p>
<p>æ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ç´¢å¼•ï¼ˆä½ç½®ï¼‰æ¥è¯»å–ï¼ˆæˆ–è€…ä¿®æ”¹ï¼‰ï¼Œç´¢å¼•ä»0å¼€å§‹ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ ç´¢å¼•ä¸º 0ï¼Œç¬¬äºŒä¸ªç´¢å¼•ä¸º 1ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ•°ç»„çš„ä¸‹æ ‡å–å€¼èŒƒå›´æ˜¯ä»0å¼€å§‹ï¼Œåˆ°é•¿åº¦å‡1ã€‚</p>
<p>æ•°ç»„ä¸€æ—¦å®šä¹‰åï¼Œå¤§å°ä¸èƒ½æ›´æ”¹ã€‚</p>
<h2 id="æ•°ç»„çš„è¯­æ³•"><a href="#æ•°ç»„çš„è¯­æ³•" class="headerlink" title="æ•°ç»„çš„è¯­æ³•"></a>æ•°ç»„çš„è¯­æ³•</h2><p><strong>å£°æ˜å’Œåˆå§‹åŒ–æ•°ç»„</strong></p>
<p>éœ€è¦æŒ‡æ˜æ•°ç»„çš„å¤§å°å’Œå­˜å‚¨çš„æ•°æ®ç±»å‹ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> variable_name [SIZE] variable_type</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> balance [<span class="number">10</span>] <span class="type">float32</span></span><br><span class="line"><span class="keyword">var</span> balance = [<span class="number">5</span>]<span class="type">float32</span>&#123;<span class="number">1000.0</span>, <span class="number">2.0</span>, <span class="number">3.4</span>, <span class="number">7.0</span>, <span class="number">50.0</span>&#125;</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–æ•°ç»„ä¸­ {} ä¸­çš„å…ƒç´ ä¸ªæ•°ä¸èƒ½å¤§äº [] ä¸­çš„æ•°å­—ã€‚<br>å¦‚æœå¿½ç•¥ [] ä¸­çš„æ•°å­—ä¸è®¾ç½®æ•°ç»„å¤§å°ï¼ŒGo è¯­è¨€ä¼šæ ¹æ®å…ƒç´ çš„ä¸ªæ•°æ¥è®¾ç½®æ•°ç»„çš„å¤§å°ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> balance = []<span class="type">float32</span>&#123;<span class="number">1000.0</span>, <span class="number">2.0</span>, <span class="number">3.4</span>, <span class="number">7.0</span>, <span class="number">50.0</span>&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">balance[<span class="number">4</span>] = <span class="number">50.0</span></span><br></pre></td></tr></table></figure>

<p>æ•°ç»„çš„å…¶ä»–åˆ›å»ºæ–¹å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">4</span>] <span class="type">float32</span> <span class="comment">// ç­‰ä»·äºï¼švar arr2 = [4]float32&#123;&#125;</span></span><br><span class="line">fmt.Println(a) <span class="comment">// [0 0 0 0]</span></span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">5</span>] <span class="type">string</span>&#123;<span class="string">&quot;ruby&quot;</span>, <span class="string">&quot;ç‹äºŒç‹—&quot;</span>, <span class="string">&quot;rose&quot;</span>&#125;</span><br><span class="line">fmt.Println(b) <span class="comment">// [ruby ç‹äºŒç‹— rose  ]</span></span><br><span class="line"><span class="keyword">var</span> c = [<span class="number">5</span>] <span class="type">int</span>&#123;<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>&#125; <span class="comment">// byte</span></span><br><span class="line">fmt.Println(c) <span class="comment">// [65 66 67 68 69]</span></span><br><span class="line">d := [...] <span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;<span class="comment">// æ ¹æ®å…ƒç´ çš„ä¸ªæ•°ï¼Œè®¾ç½®æ•°ç»„çš„å¤§å°</span></span><br><span class="line">fmt.Println(d)<span class="comment">//[1 2 3 4 5]</span></span><br><span class="line">e := [<span class="number">5</span>] <span class="type">int</span>&#123;<span class="number">4</span>: <span class="number">100</span>&#125; <span class="comment">// [0 0 0 0 100]</span></span><br><span class="line">fmt.Println(e)</span><br><span class="line">f := [...] <span class="type">int</span>&#123;<span class="number">0</span>: <span class="number">1</span>, <span class="number">4</span>: <span class="number">1</span>, <span class="number">9</span>: <span class="number">1</span>&#125; <span class="comment">// [1 0 0 0 1 0 0 0 0 1]</span></span><br><span class="line">fmt.Println(f)</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<p><code>0: 1</code> è¡¨ç¤ºå°†ç´¢å¼•ä¸º 0 çš„ä½ç½®çš„å…ƒç´ åˆå§‹åŒ–ä¸º 1ï¼Œ<code>4: 1</code> è¡¨ç¤ºå°†ç´¢å¼•ä¸º 4 çš„ä½ç½®çš„å…ƒç´ åˆå§‹åŒ–ä¸º 1ï¼Œ<code>9: 1</code> è¡¨ç¤ºå°†ç´¢å¼•ä¸º 9 çš„ä½ç½®çš„å…ƒç´ åˆå§‹åŒ–ä¸º 1ã€‚å…¶ä½™ä½ç½®çš„å…ƒç´ å°†ä½¿ç”¨é»˜è®¤å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œå¯¹äºæ•´æ•°æ•°ç»„ï¼Œé»˜è®¤å€¼ä¸º 0ã€‚</p>
<p><strong>è®¿é—®æ•°ç»„å…ƒç´ </strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="type">float32</span> salary = balance[<span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> n [<span class="number">10</span>]<span class="type">int</span> <span class="comment">/* n æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•°ç»„ */</span></span><br><span class="line">   <span class="keyword">var</span> i,j <span class="type">int</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* ä¸ºæ•°ç»„ n åˆå§‹åŒ–å…ƒç´  */</span>         </span><br><span class="line">   <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      n[i] = i + <span class="number">100</span> <span class="comment">/* è®¾ç½®å…ƒç´ ä¸º i + 100 */</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* è¾“å‡ºæ¯ä¸ªæ•°ç»„å…ƒç´ çš„å€¼ */</span></span><br><span class="line">   <span class="keyword">for</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++ &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;Element[%d] = %d\n&quot;</span>, j, n[j] )</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Element[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">Element[<span class="number">1</span>] = <span class="number">101</span></span><br><span class="line">Element[<span class="number">2</span>] = <span class="number">102</span></span><br><span class="line">Element[<span class="number">3</span>] = <span class="number">103</span></span><br><span class="line">Element[<span class="number">4</span>] = <span class="number">104</span></span><br><span class="line">Element[<span class="number">5</span>] = <span class="number">105</span></span><br><span class="line">Element[<span class="number">6</span>] = <span class="number">106</span></span><br><span class="line">Element[<span class="number">7</span>] = <span class="number">107</span></span><br><span class="line">Element[<span class="number">8</span>] = <span class="number">108</span></span><br><span class="line">Element[<span class="number">9</span>] = <span class="number">109</span></span><br></pre></td></tr></table></figure>

<p><strong>æ•°ç»„çš„é•¿åº¦</strong></p>
<p>é€šè¿‡å°†æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ç»™lenå‡½æ•°ï¼Œå¯ä»¥è·å¾—æ•°ç»„çš„é•¿åº¦ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="type">float64</span>&#123;<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;length of a is&quot;</span>,<span class="built_in">len</span>(a))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">length of a is 4</span><br></pre></td></tr></table></figure>

<p>æ‚¨ç”šè‡³å¯ä»¥å¿½ç•¥å£°æ˜ä¸­æ•°ç»„çš„é•¿åº¦å¹¶å°†å…¶æ›¿æ¢ä¸ºâ€¦è®©ç¼–è¯‘å™¨ä¸ºä½ æ‰¾åˆ°é•¿åº¦ã€‚è¿™æ˜¯åœ¨ä¸‹é¢çš„ç¨‹åºä¸­å®Œæˆçš„ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="type">int</span>&#123;<span class="number">12</span>, <span class="number">78</span>, <span class="number">50</span>&#125; <span class="comment">// ... makes the compiler determine the length</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[12 78 50]</span><br></pre></td></tr></table></figure>

<p>éå†æ•°ç»„ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="type">float64</span>&#123;<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a); i++ &#123; <span class="comment">//looping from 0 to the length of the array</span></span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d th element of a is %.2f\n&quot;</span>, i, a[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0 th element of a is 67.70</span><br><span class="line">1 th element of a is 89.80</span><br><span class="line">2 th element of a is 21.00</span><br><span class="line">3 th element of a is 78.00</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨rangeéå†æ•°ç»„ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="type">float64</span>&#123;<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>&#125;</span><br><span class="line">    sum := <span class="type">float64</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> i, v := <span class="keyword">range</span> a &#123;<span class="comment">//range returns both the index and value</span></span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d the element of a is %.2f\n&quot;</span>, i, v)</span><br><span class="line">        sum += v</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;\nsum of all elements of a&quot;</span>,sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0 the element of a is 67.70</span><br><span class="line">1 the element of a is 89.80</span><br><span class="line">2 the element of a is 21.00</span><br><span class="line">3 the element of a is 78.00</span><br><span class="line"></span><br><span class="line">sum of all elements of a 256.5</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ‚¨åªéœ€è¦å€¼å¹¶å¸Œæœ›å¿½ç•¥ç´¢å¼•ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ä½¿ç”¨_ blankæ ‡è¯†ç¬¦æ›¿æ¢ç´¢å¼•æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> a &#123; <span class="comment">//ignores index  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h2><p>Go è¯­è¨€æ”¯æŒå¤šç»´æ•°ç»„ï¼Œä»¥ä¸‹ä¸ºå¸¸ç”¨çš„å¤šç»´æ•°ç»„å£°æ˜è¯­æ³•æ–¹å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> variable_name [SIZE1][SIZE2]...[SIZEN] variable_type</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> threedim [<span class="number">5</span>][<span class="number">10</span>][<span class="number">4</span>]<span class="type">int</span></span><br></pre></td></tr></table></figure>

<p>ä¸‰ç»´æ•°ç»„</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">a = [<span class="number">3</span>][<span class="number">4</span>]<span class="type">int</span>&#123;  </span><br><span class="line"> &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125; ,   <span class="comment">/*  ç¬¬ä¸€è¡Œç´¢å¼•ä¸º 0 */</span></span><br><span class="line"> &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125; ,   <span class="comment">/*  ç¬¬äºŒè¡Œç´¢å¼•ä¸º 1 */</span></span><br><span class="line"> &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>&#125;   <span class="comment">/*  ç¬¬ä¸‰è¡Œç´¢å¼•ä¸º 2 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> twoD [<span class="number">2</span>][<span class="number">3</span>]<span class="type">int</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">3</span>; j++ &#123;</span><br><span class="line">			twoD[i][j] = i + j</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;2d: &quot;</span>, twoD)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2d:  [[0 1 2] [1 2 3]]</span><br></pre></td></tr></table></figure>

<h2 id="æ•°ç»„æ˜¯å€¼ç±»å‹"><a href="#æ•°ç»„æ˜¯å€¼ç±»å‹" class="headerlink" title="æ•°ç»„æ˜¯å€¼ç±»å‹"></a>æ•°ç»„æ˜¯å€¼ç±»å‹</h2><p>Goä¸­çš„æ•°ç»„æ˜¯å€¼ç±»å‹ï¼Œè€Œä¸æ˜¯å¼•ç”¨ç±»å‹ã€‚è¿™æ„å‘³ç€å½“å®ƒä»¬è¢«åˆ†é…ç»™ä¸€ä¸ªæ–°å˜é‡æ—¶ï¼Œå°†æŠŠåŸå§‹æ•°ç»„çš„å‰¯æœ¬åˆ†é…ç»™æ–°å˜é‡ã€‚å¦‚æœå¯¹æ–°å˜é‡è¿›è¡Œäº†æ›´æ”¹ï¼Œåˆ™ä¸ä¼šåœ¨åŸå§‹æ•°ç»„ä¸­åæ˜ ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="type">string</span>&#123;<span class="string">&quot;USA&quot;</span>, <span class="string">&quot;China&quot;</span>, <span class="string">&quot;India&quot;</span>, <span class="string">&quot;Germany&quot;</span>, <span class="string">&quot;France&quot;</span>&#125;</span><br><span class="line">    b := a <span class="comment">// a copy of a is assigned to b</span></span><br><span class="line">    b[<span class="number">0</span>] = <span class="string">&quot;Singapore&quot;</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;a is &quot;</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;b is &quot;</span>, b) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a is [USA China India Germany France]  </span><br><span class="line">b is [Singapore China India Germany France] </span><br></pre></td></tr></table></figure>

<p>æ•°ç»„çš„å¤§å°æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ã€‚å› æ­¤[5]intå’Œ[25]intæ˜¯ä¸åŒçš„ç±»å‹ã€‚å› æ­¤ï¼Œæ•°ç»„ä¸èƒ½è¢«è°ƒæ•´å¤§å°ã€‚ä¸è¦æ‹…å¿ƒè¿™ä¸ªé™åˆ¶ï¼Œå› ä¸ºåˆ‡ç‰‡çš„å­˜åœ¨æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">5</span>, <span class="number">78</span>, <span class="number">8</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> b [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line">    b = a <span class="comment">//not possible since [3]int and [5]int are distinct types</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="åˆ‡ç‰‡-Slice"><a href="#åˆ‡ç‰‡-Slice" class="headerlink" title="åˆ‡ç‰‡(Slice)"></a>åˆ‡ç‰‡(Slice)</h1><h2 id="ä»€ä¹ˆæ˜¯åˆ‡ç‰‡"><a href="#ä»€ä¹ˆæ˜¯åˆ‡ç‰‡" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ‡ç‰‡"></a>ä»€ä¹ˆæ˜¯åˆ‡ç‰‡</h2><p><em><strong>Go è¯­è¨€åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„çš„æŠ½è±¡</strong></em>ã€‚<br>Go æ•°ç»„çš„é•¿åº¦ä¸å¯æ”¹å˜ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸­è¿™æ ·çš„é›†åˆå°±ä¸å¤ªé€‚ç”¨ï¼ŒGoä¸­æä¾›äº†ä¸€ç§çµæ´»ï¼ŒåŠŸèƒ½å¼ºæ‚çš„å†…ç½®ç±»å‹åˆ‡ç‰‡(â€œåŠ¨æ€æ•°ç»„â€),ä¸æ•°ç»„ç›¸æ¯”åˆ‡ç‰‡çš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œå¯ä»¥è¿½åŠ å…ƒç´ ï¼Œåœ¨è¿½åŠ æ—¶å¯èƒ½ä½¿åˆ‡ç‰‡çš„å®¹é‡å¢å¤§<br>åˆ‡ç‰‡æ˜¯ä¸€ç§æ–¹ä¾¿ã€çµæ´»ä¸”å¼ºå¤§çš„åŒ…è£…å™¨ã€‚åˆ‡ç‰‡æœ¬èº«æ²¡æœ‰ä»»ä½•æ•°æ®ã€‚å®ƒä»¬åªæ˜¯å¯¹ç°æœ‰æ•°ç»„çš„å¼•ç”¨ã€‚<br>åˆ‡ç‰‡ä¸æ•°ç»„ç›¸æ¯”ï¼Œä¸éœ€è¦è®¾å®šé•¿åº¦ï¼Œåœ¨[]ä¸­ä¸ç”¨è®¾å®šå€¼ï¼Œç›¸å¯¹æ¥è¯´æ¯”è¾ƒè‡ªç”±<br>ä»æ¦‚å¿µä¸Šé¢æ¥è¯´sliceåƒä¸€ä¸ªç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“åŒ…å«äº†ä¸‰ä¸ªå…ƒç´ ï¼š </p>
<blockquote>
<ol>
<li>æŒ‡é’ˆï¼ŒæŒ‡å‘æ•°ç»„ä¸­sliceæŒ‡å®šçš„å¼€å§‹ä½ç½®</li>
<li>é•¿åº¦ï¼Œå³sliceçš„é•¿åº¦</li>
<li>æœ€å¤§é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯sliceå¼€å§‹ä½ç½®åˆ°æ•°ç»„çš„æœ€åä½ç½®çš„é•¿åº¦</li>
</ol>
</blockquote>
<h2 id="åˆ‡ç‰‡çš„è¯­æ³•"><a href="#åˆ‡ç‰‡çš„è¯­æ³•" class="headerlink" title="åˆ‡ç‰‡çš„è¯­æ³•"></a>åˆ‡ç‰‡çš„è¯­æ³•</h2><p><strong>å®šä¹‰åˆ‡ç‰‡</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> identifier []<span class="keyword">type</span></span><br></pre></td></tr></table></figure>

<p>åˆ‡ç‰‡ä¸éœ€è¦è¯´æ˜é•¿åº¦ã€‚<br>æˆ–ä½¿ç”¨make()å‡½æ•°æ¥åˆ›å»ºåˆ‡ç‰‡:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> slice1 []<span class="keyword">type</span> = <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)</span><br><span class="line"><span class="comment">//ä¹Ÿå¯ä»¥ç®€å†™ä¸º</span></span><br><span class="line">slice1 := <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="built_in">make</span>([]T, length, capacity)</span><br></pre></td></tr></table></figure>

<p><strong>åˆå§‹åŒ–</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">s[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">s[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">s[<span class="number">2</span>] = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">s :=[] <span class="type">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125; </span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">s := arr[startIndex:endIndex] </span><br></pre></td></tr></table></figure>

<p>å°†arrä¸­ä»ä¸‹æ ‡startIndexåˆ°endIndex-1 ä¸‹çš„å…ƒç´ åˆ›å»ºä¸ºä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼ˆ<strong>å‰é—­åå¼€</strong>ï¼‰ï¼Œé•¿åº¦ä¸ºendIndex-startIndex</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">s := arr[startIndex:] </span><br></pre></td></tr></table></figure>

<p>ç¼ºçœendIndexæ—¶å°†è¡¨ç¤ºä¸€ç›´åˆ°arrçš„æœ€åä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">s := arr[:endIndex] </span><br></pre></td></tr></table></figure>

<p>ç¼ºçœstartIndexæ—¶å°†è¡¨ç¤ºä»arrçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [<span class="number">5</span>]<span class="type">int</span>&#123;<span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> b []<span class="type">int</span> = a[<span class="number">1</span>:<span class="number">4</span>] <span class="comment">//creates a slice from a[1] to a[3]</span></span><br><span class="line">    fmt.Println(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹åˆ‡ç‰‡"><a href="#ä¿®æ”¹åˆ‡ç‰‡" class="headerlink" title="ä¿®æ”¹åˆ‡ç‰‡"></a>ä¿®æ”¹åˆ‡ç‰‡</h2><p>sliceæ²¡æœ‰è‡ªå·±çš„ä»»ä½•æ•°æ®ã€‚å®ƒåªæ˜¯åº•å±‚æ•°ç»„çš„ä¸€ä¸ªè¡¨ç¤ºã€‚å¯¹sliceæ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½å°†åæ˜ åœ¨åº•å±‚æ•°ç»„ä¸­ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    darr := [...]<span class="type">int</span>&#123;<span class="number">57</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">82</span>, <span class="number">100</span>, <span class="number">78</span>, <span class="number">67</span>, <span class="number">69</span>, <span class="number">59</span>&#125;</span><br><span class="line">    dslice := darr[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="string">&quot;array before&quot;</span>,darr)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> dslice &#123;</span><br><span class="line">        dslice[i]++</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;array after&quot;</span>,darr) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>range</code> éå† <code>dslice</code> æ—¶è¿”å›çš„æ˜¯ç´¢å¼•ï¼Œè€Œä¸æ˜¯å€¼ã€‚åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„çš„å¼•ç”¨ï¼Œå› æ­¤<em><strong>ä¿®æ”¹åˆ‡ç‰‡çš„å€¼ä¹Ÿä¼šå½±å“åˆ°åŸå§‹æ•°ç»„</strong></em>ã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">array before [57 89 90 82 100 78 67 69 59]  </span><br><span class="line">array after [57 89 91 83 101 78 67 69 59]  </span><br></pre></td></tr></table></figure>

<p>å½“å¤šä¸ªç‰‡å…±äº«ç›¸åŒçš„åº•å±‚æ•°ç»„æ—¶ï¼Œæ¯ä¸ªå…ƒç´ æ‰€åšçš„æ›´æ”¹å°†åœ¨æ•°ç»„ä¸­åæ˜ å‡ºæ¥ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    numa := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">78</span>, <span class="number">79</span> ,<span class="number">80</span>&#125;</span><br><span class="line">    nums1 := numa[:] <span class="comment">//creates a slice which contains all elements of the array</span></span><br><span class="line">    nums2 := numa[:]</span><br><span class="line">    fmt.Println(<span class="string">&quot;array before change 1&quot;</span>,numa)</span><br><span class="line">    nums1[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;array after modification to slice nums1&quot;</span>, numa)</span><br><span class="line">    nums2[<span class="number">1</span>] = <span class="number">101</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;array after modification to slice nums2&quot;</span>, numa)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">array before change 1 [78 79 80]  </span><br><span class="line">array after modification to slice nums1 [100 79 80]  </span><br><span class="line">array after modification to slice nums2 [100 101 80]  </span><br></pre></td></tr></table></figure>

<h2 id="len-å’Œ-cap"><a href="#len-å’Œ-cap" class="headerlink" title="len() å’Œ cap()"></a>len() å’Œ cap()</h2><p>åˆ‡ç‰‡çš„é•¿åº¦æ˜¯åˆ‡ç‰‡ä¸­å…ƒç´ çš„æ•°é‡ã€‚åˆ‡ç‰‡çš„å®¹é‡æ˜¯ä»åˆ›å»ºåˆ‡ç‰‡çš„ç´¢å¼•å¼€å§‹çš„åº•å±‚æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡ã€‚</p>
<p>åˆ‡ç‰‡æ˜¯å¯ç´¢å¼•çš„ï¼Œå¹¶ä¸”å¯ä»¥ç”± len() æ–¹æ³•è·å–é•¿åº¦<br>åˆ‡ç‰‡æä¾›äº†è®¡ç®—å®¹é‡çš„æ–¹æ³• cap() å¯ä»¥æµ‹é‡åˆ‡ç‰‡æœ€é•¿å¯ä»¥è¾¾åˆ°å¤šå°‘</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> numbers = <span class="built_in">make</span>([]<span class="type">int</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">   printSlice(numbers)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>make([]int, 3, 5)</code> åˆ›å»ºäº†ä¸€ä¸ªåˆ‡ç‰‡ <code>numbers</code>ï¼Œé•¿åº¦ä¸º 3ï¼Œå®¹é‡ä¸º 5ã€‚<code>make</code> å‡½æ•°ç”¨äºåˆ›å»ºåˆ‡ç‰‡ã€æ˜ å°„å’Œé€šé“ï¼Œå¹¶æŒ‡å®šå®ƒä»¬çš„é•¿åº¦å’Œå®¹é‡ã€‚</p>
<p>è¿è¡Œç»“æœ:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="built_in">len</span>=<span class="number">3</span> <span class="built_in">cap</span>=<span class="number">5</span> slice=[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç©ºåˆ‡ç‰‡</strong></p>
<p>ä¸€ä¸ªåˆ‡ç‰‡åœ¨æœªåˆå§‹åŒ–ä¹‹å‰é»˜è®¤ä¸º nilï¼Œé•¿åº¦ä¸º 0</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> numbers []<span class="type">int</span></span><br><span class="line"></span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(numbers == <span class="literal">nil</span>)&#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;åˆ‡ç‰‡æ˜¯ç©ºçš„&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">len=0 cap=0 slice=[]</span><br><span class="line">åˆ‡ç‰‡æ˜¯ç©ºçš„</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/* åˆ›å»ºåˆ‡ç‰‡ */</span></span><br><span class="line">   numbers := []<span class="type">int</span>&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;   </span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å°åŸå§‹åˆ‡ç‰‡ */</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;numbers ==&quot;</span>, numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å°å­åˆ‡ç‰‡ä»ç´¢å¼•1(åŒ…å«) åˆ°ç´¢å¼•4(ä¸åŒ…å«)*/</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;numbers[1:4] ==&quot;</span>, numbers[<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* é»˜è®¤ä¸‹é™ä¸º 0*/</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;numbers[:3] ==&quot;</span>, numbers[:<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* é»˜è®¤ä¸Šé™ä¸º len(s)*/</span></span><br><span class="line">   fmt.Println(<span class="string">&quot;numbers[4:] ==&quot;</span>, numbers[<span class="number">4</span>:])</span><br><span class="line"></span><br><span class="line">   numbers1 := <span class="built_in">make</span>([]<span class="type">int</span>,<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">   printSlice(numbers1)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å°å­åˆ‡ç‰‡ä»ç´¢å¼•  0(åŒ…å«) åˆ°ç´¢å¼• 2(ä¸åŒ…å«) */</span></span><br><span class="line">   number2 := numbers[:<span class="number">2</span>]</span><br><span class="line">   printSlice(number2)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å°å­åˆ‡ç‰‡ä»ç´¢å¼• 2(åŒ…å«) åˆ°ç´¢å¼• 5(ä¸åŒ…å«) */</span></span><br><span class="line">   number3 := numbers[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">   printSlice(number3)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="built_in">len</span>=<span class="number">9</span> <span class="built_in">cap</span>=<span class="number">9</span> slice=[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line">numbers == [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line">numbers[<span class="number">1</span>:<span class="number">4</span>] == [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">numbers[:<span class="number">3</span>] == [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">numbers[<span class="number">4</span>:] == [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">0</span> <span class="built_in">cap</span>=<span class="number">5</span> slice=[]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">2</span> <span class="built_in">cap</span>=<span class="number">9</span> slice=[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">3</span> <span class="built_in">cap</span>=<span class="number">7</span> slice=[<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<p>åˆ‡ç‰‡çš„å®¹é‡ï¼ˆ<code>cap</code>ï¼‰æ˜¯æŒ‡åˆ‡ç‰‡çš„åº•å±‚æ•°ç»„ä¸­ä»åˆ‡ç‰‡çš„èµ·å§‹ä½ç½®åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´ æ•°é‡ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåˆ‡ç‰‡ <code>numbers</code> çš„å®¹é‡ä¸åº•å±‚æ•°ç»„çš„å®¹é‡ç›¸åŒï¼Œéƒ½æ˜¯ 9ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šåˆ‡ç‰‡çš„å®¹é‡ï¼ŒGoè¯­è¨€ä¼šé»˜è®¤å°†åˆ‡ç‰‡çš„å®¹é‡è®¾ç½®ä¸ºåº•å±‚æ•°ç»„ä¸­å‰©ä½™çš„å…ƒç´ æ•°é‡ã€‚<code>number2</code> çš„å®¹é‡æ˜¯ä»åˆ‡ç‰‡çš„èµ·å§‹ä½ç½®åˆ°åº•å±‚æ•°ç»„çš„æœ«å°¾ï¼Œå³å‰©ä½™çš„å…ƒç´ æ•°é‡ã€‚<code>number2</code> çš„å®¹é‡æ˜¯ 9ï¼Œä¸åº•å±‚æ•°ç»„çš„å®¹é‡ç›¸åŒã€‚<code>number3</code> çš„å®¹é‡æ˜¯ 7ï¼Œå› ä¸ºä»ç´¢å¼• 2 å¼€å§‹ï¼Œåº•å±‚æ•°ç»„ä¸­è¿˜æœ‰ 7 ä¸ªå…ƒç´ ã€‚</p>
<h2 id="append-å’Œ-copy"><a href="#append-å’Œ-copy" class="headerlink" title="append() å’Œ copy()"></a>append() å’Œ copy()</h2><p>append å‘sliceé‡Œé¢è¿½åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªå’Œsliceä¸€æ ·ç±»å‹çš„slice<br>copy å‡½æ•°copyä»æºsliceçš„srcä¸­å¤åˆ¶å…ƒç´ åˆ°ç›®æ ‡dstï¼Œå¹¶ä¸”è¿”å›å¤åˆ¶çš„å…ƒç´ çš„ä¸ªæ•°</p>
<p>appendå‡½æ•°ä¼šæ”¹å˜sliceæ‰€å¼•ç”¨çš„æ•°ç»„çš„å†…å®¹ï¼Œä»è€Œå½±å“åˆ°å¼•ç”¨åŒä¸€æ•°ç»„çš„å…¶å®ƒsliceã€‚ ä½†å½“sliceä¸­æ²¡æœ‰å‰©ä½™ç©ºé—´ï¼ˆå³(cap-len) &#x3D;&#x3D; 0ï¼‰æ—¶ï¼Œæ­¤æ—¶å°†åŠ¨æ€åˆ†é…æ–°çš„æ•°ç»„ç©ºé—´ã€‚è¿”å›çš„sliceæ•°ç»„æŒ‡é’ˆå°†æŒ‡å‘è¿™ä¸ªç©ºé—´ï¼Œè€ŒåŸæ•°ç»„çš„å†…å®¹å°†ä¿æŒä¸å˜ï¼›å…¶å®ƒå¼•ç”¨æ­¤æ•°ç»„çš„sliceåˆ™ä¸å—å½±å“</p>
<p>ä¸‹é¢çš„ä»£ç æè¿°äº†ä»æ‹·è´åˆ‡ç‰‡çš„ copy æ–¹æ³•å’Œå‘åˆ‡ç‰‡è¿½åŠ æ–°å…ƒç´ çš„ append æ–¹æ³•</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> numbers []<span class="type">int</span></span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* å…è®¸è¿½åŠ ç©ºåˆ‡ç‰‡ */</span></span><br><span class="line">   numbers = <span class="built_in">append</span>(numbers, <span class="number">0</span>)</span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* å‘åˆ‡ç‰‡æ·»åŠ ä¸€ä¸ªå…ƒç´  */</span></span><br><span class="line">   numbers = <span class="built_in">append</span>(numbers, <span class="number">1</span>)</span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* åŒæ—¶æ·»åŠ å¤šä¸ªå…ƒç´  */</span></span><br><span class="line">   numbers = <span class="built_in">append</span>(numbers, <span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* åˆ›å»ºåˆ‡ç‰‡ numbers1 æ˜¯ä¹‹å‰åˆ‡ç‰‡çš„ä¸¤å€å®¹é‡*/</span></span><br><span class="line">   numbers1 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(numbers), (<span class="built_in">cap</span>(numbers))*<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‹·è´ numbers çš„å†…å®¹åˆ° numbers1 */</span></span><br><span class="line">   <span class="built_in">copy</span>(numbers1,numbers)</span><br><span class="line">   printSlice(numbers1)   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">&quot;len=%d cap=%d slice=%v\n&quot;</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">len=0 cap=0 slice=[]</span><br><span class="line">len=1 cap=1 slice=[0]</span><br><span class="line">len=2 cap=2 slice=[0 1]</span><br><span class="line">len=5 cap=6 slice=[0 1 2 3 4]</span><br><span class="line">len=5 cap=12 slice=[0 1 2 3 4]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>numberså®¹é‡ä¸º6æ˜¯å› ä¸ºåœ¨åˆ†é…åº•å±‚æ•°ç»„æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®ç­–ç•¥è¿›è¡Œå†…å­˜åˆ†é…ï¼Œé€šå¸¸æ˜¯åˆ†é…æ¯”æ‰€éœ€å®¹é‡ç¨å¾®å¤šä¸€ç‚¹çš„å®¹é‡ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåº•å±‚æ•°ç»„çš„å®¹é‡è¢«åˆ†é…ä¸ºäº†6ã€‚</p>
<p>numbers1ä¸numbersä¸¤è€…ä¸å­˜åœ¨è”ç³»ï¼Œnumberså‘ç”Ÿå˜åŒ–æ—¶ï¼Œnumbers1æ˜¯ä¸ä¼šéšç€å˜åŒ–çš„ã€‚ä¹Ÿå°±æ˜¯è¯´copyæ–¹æ³•æ˜¯ä¸ä¼šå»ºç«‹ä¸¤ä¸ªåˆ‡ç‰‡çš„è”ç³»çš„</p>
</blockquote>
<h1 id="é›†åˆ-Map"><a href="#é›†åˆ-Map" class="headerlink" title="é›†åˆ(Map)"></a>é›†åˆ(Map)</h1><h2 id="ä»€ä¹ˆæ˜¯Map"><a href="#ä»€ä¹ˆæ˜¯Map" class="headerlink" title="ä»€ä¹ˆæ˜¯Map"></a>ä»€ä¹ˆæ˜¯Map</h2><p>mapæ˜¯Goä¸­çš„å†…ç½®ç±»å‹ï¼Œå®ƒå°†ä¸€ä¸ªå€¼ä¸ä¸€ä¸ªé”®å…³è”èµ·æ¥ã€‚å¯ä»¥ä½¿ç”¨ç›¸åº”çš„é”®æ£€ç´¢å€¼ã€‚</p>
<p>Map æ˜¯ä¸€ç§æ— åºçš„é”®å€¼å¯¹çš„é›†åˆã€‚Map æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯é€šè¿‡ key æ¥å¿«é€Ÿæ£€ç´¢æ•°æ®ï¼Œkey ç±»ä¼¼äºç´¢å¼•ï¼ŒæŒ‡å‘æ•°æ®çš„å€¼<br>Map æ˜¯ä¸€ç§é›†åˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åƒè¿­ä»£æ•°ç»„å’Œåˆ‡ç‰‡é‚£æ ·è¿­ä»£å®ƒã€‚ä¸è¿‡ï¼ŒMap æ˜¯æ— åºçš„ï¼Œæˆ‘ä»¬æ— æ³•å†³å®šå®ƒçš„è¿”å›é¡ºåºï¼Œè¿™æ˜¯å› ä¸º Map æ˜¯ä½¿ç”¨ hash è¡¨æ¥å®ç°çš„ï¼Œä¹Ÿæ˜¯å¼•ç”¨ç±»å‹</p>
<p>ä½¿ç”¨mapè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š </p>
<ul>
<li>mapæ˜¯æ— åºçš„ï¼Œæ¯æ¬¡æ‰“å°å‡ºæ¥çš„mapéƒ½ä¼šä¸ä¸€æ ·ï¼Œå®ƒä¸èƒ½é€šè¿‡indexè·å–ï¼Œè€Œå¿…é¡»é€šè¿‡keyè·å–</li>
<li>mapçš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯å’Œsliceä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹</li>
<li>å†…ç½®çš„lenå‡½æ•°åŒæ ·é€‚ç”¨äºmapï¼Œè¿”å›mapæ‹¥æœ‰çš„keyçš„æ•°é‡ </li>
<li>mapçš„keyå¯ä»¥æ˜¯æ‰€æœ‰å¯æ¯”è¾ƒçš„ç±»å‹ï¼Œå¦‚å¸ƒå°”å‹ã€æ•´æ•°å‹ã€æµ®ç‚¹å‹ã€å¤æ‚å‹ã€å­—ç¬¦ä¸²å‹â€¦â€¦ä¹Ÿå¯ä»¥é”®ã€‚</li>
</ul>
<h2 id="Mapçš„ä½¿ç”¨"><a href="#Mapçš„ä½¿ç”¨" class="headerlink" title="Mapçš„ä½¿ç”¨"></a>Mapçš„ä½¿ç”¨</h2><h3 id="ä½¿ç”¨make-åˆ›å»ºmap"><a href="#ä½¿ç”¨make-åˆ›å»ºmap" class="headerlink" title="ä½¿ç”¨make()åˆ›å»ºmap"></a>ä½¿ç”¨make()åˆ›å»ºmap</h3><p>å¯ä»¥ä½¿ç”¨å†…å»ºå‡½æ•° make ä¹Ÿå¯ä»¥ä½¿ç”¨ map å…³é”®å­—æ¥å®šä¹‰ Map:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* å£°æ˜å˜é‡ï¼Œé»˜è®¤ map æ˜¯ nil */</span></span><br><span class="line"><span class="keyword">var</span> map_variable <span class="keyword">map</span>[key_data_type]value_data_type</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨ make å‡½æ•° */</span></span><br><span class="line">map_variable = <span class="built_in">make</span>(<span class="keyword">map</span>[key_data_type]value_data_type)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">rating := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">float32</span> &#123;<span class="string">&quot;C&quot;</span>:<span class="number">5</span>, <span class="string">&quot;Go&quot;</span>:<span class="number">4.5</span>, <span class="string">&quot;Python&quot;</span>:<span class="number">4.5</span>, <span class="string">&quot;C++&quot;</span>:<span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸åˆå§‹åŒ– mapï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ª nil mapã€‚nil map ä¸èƒ½ç”¨æ¥å­˜æ”¾é”®å€¼å¯¹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> countryCapitalMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span></span><br><span class="line">   <span class="comment">/* åˆ›å»ºé›†åˆ */</span></span><br><span class="line">   countryCapitalMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* map æ’å…¥ key-value å¯¹ï¼Œå„ä¸ªå›½å®¶å¯¹åº”çš„é¦–éƒ½ */</span></span><br><span class="line">   countryCapitalMap[<span class="string">&quot;France&quot;</span>] = <span class="string">&quot;Paris&quot;</span></span><br><span class="line">   countryCapitalMap[<span class="string">&quot;Italy&quot;</span>] = <span class="string">&quot;Rome&quot;</span></span><br><span class="line">   countryCapitalMap[<span class="string">&quot;Japan&quot;</span>] = <span class="string">&quot;Tokyo&quot;</span></span><br><span class="line">   countryCapitalMap[<span class="string">&quot;India&quot;</span>] = <span class="string">&quot;New Delhi&quot;</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* ä½¿ç”¨ key è¾“å‡º map å€¼ */</span></span><br><span class="line">   <span class="keyword">for</span> country := <span class="keyword">range</span> countryCapitalMap &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Capital of&quot;</span>,country,<span class="string">&quot;is&quot;</span>,countryCapitalMap[country])</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* æŸ¥çœ‹å…ƒç´ åœ¨é›†åˆä¸­æ˜¯å¦å­˜åœ¨ */</span></span><br><span class="line">   captial, ok := countryCapitalMap[<span class="string">&quot;United States&quot;</span>]</span><br><span class="line">   <span class="comment">/* å¦‚æœ ok æ˜¯ true, åˆ™å­˜åœ¨ï¼Œå¦åˆ™ä¸å­˜åœ¨ */</span></span><br><span class="line">   <span class="keyword">if</span>(ok)&#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Capital of United States is&quot;</span>, captial)  </span><br><span class="line">   &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Capital of United States is not present&quot;</span>) </span><br><span class="line">   &#125;</span><br><span class="line">    </span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;A&quot;</span>, <span class="string">&quot;b&quot;</span>: <span class="string">&quot;B&quot;</span>&#125;</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">		fmt.Println(k, v) <span class="comment">// b 8; a A</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> k := <span class="keyword">range</span> m &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;key&quot;</span>, k) <span class="comment">// key a; key b</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Capital of France is Paris</span><br><span class="line">Capital of Italy is Rome</span><br><span class="line">Capital of Japan is Tokyo</span><br><span class="line">Capital of India is New Delhi</span><br><span class="line">Capital of United States is not present</span><br><span class="line">a A</span><br><span class="line">b B</span><br><span class="line">key a</span><br><span class="line">key b</span><br></pre></td></tr></table></figure>

<h3 id="delete-å‡½æ•°"><a href="#delete-å‡½æ•°" class="headerlink" title="delete() å‡½æ•°"></a>delete() å‡½æ•°</h3><p>delete(map, key) å‡½æ•°ç”¨äºåˆ é™¤é›†åˆçš„å…ƒç´ , å‚æ•°ä¸º map å’Œå…¶å¯¹åº”çš„ keyã€‚åˆ é™¤å‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;   </span><br><span class="line">   <span class="comment">/* åˆ›å»º map */</span></span><br><span class="line">   countryCapitalMap := <span class="keyword">map</span>[<span class="type">string</span>] <span class="type">string</span> &#123;<span class="string">&quot;France&quot;</span>:<span class="string">&quot;Paris&quot;</span>,<span class="string">&quot;Italy&quot;</span>:<span class="string">&quot;Rome&quot;</span>,<span class="string">&quot;Japan&quot;</span>:<span class="string">&quot;Tokyo&quot;</span>,<span class="string">&quot;India&quot;</span>:<span class="string">&quot;New Delhi&quot;</span>&#125;</span><br><span class="line">   </span><br><span class="line">   fmt.Println(<span class="string">&quot;åŸå§‹ map&quot;</span>)   </span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* æ‰“å° map */</span></span><br><span class="line">   <span class="keyword">for</span> country := <span class="keyword">range</span> countryCapitalMap &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Capital of&quot;</span>,country,<span class="string">&quot;is&quot;</span>,countryCapitalMap[country])</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* åˆ é™¤å…ƒç´  */</span></span><br><span class="line">   <span class="built_in">delete</span>(countryCapitalMap,<span class="string">&quot;France&quot;</span>);</span><br><span class="line">   fmt.Println(<span class="string">&quot;Entry for France is deleted&quot;</span>)  </span><br><span class="line">   </span><br><span class="line">   fmt.Println(<span class="string">&quot;åˆ é™¤å…ƒç´ å map&quot;</span>)   </span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* æ‰“å° map */</span></span><br><span class="line">   <span class="keyword">for</span> country := <span class="keyword">range</span> countryCapitalMap &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Capital of&quot;</span>,country,<span class="string">&quot;is&quot;</span>,countryCapitalMap[country])</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åŸå§‹ map</span><br><span class="line">Capital of France is Paris</span><br><span class="line">Capital of Italy is Rome</span><br><span class="line">Capital of Japan is Tokyo</span><br><span class="line">Capital of India is New Delhi</span><br><span class="line">Entry for France is deleted</span><br><span class="line">åˆ é™¤å…ƒç´ å map</span><br><span class="line">Capital of Italy is Rome</span><br><span class="line">Capital of Japan is Tokyo</span><br><span class="line">Capital of India is New Delhi</span><br></pre></td></tr></table></figure>

<h3 id="ok-idiom"><a href="#ok-idiom" class="headerlink" title="ok-idiom"></a>ok-idiom</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡keyè·å–mapä¸­å¯¹åº”çš„valueå€¼ã€‚è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">map</span>[key] </span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å½“keyå¦‚æœä¸å­˜åœ¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°è¯¥valueå€¼ç±»å‹çš„é»˜è®¤å€¼ï¼Œæ¯”å¦‚stringç±»å‹å¾—åˆ°ç©ºå­—ç¬¦ä¸²ï¼Œintç±»å‹å¾—åˆ°0ã€‚ä½†æ˜¯ç¨‹åºä¸ä¼šæŠ¥é”™ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ok-idiomè·å–å€¼ï¼Œå¯çŸ¥é“key&#x2F;valueæ˜¯å¦å­˜åœ¨</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">value, ok := <span class="keyword">map</span>[key] </span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	m[<span class="string">&quot;a&quot;</span>] = <span class="number">1</span></span><br><span class="line">	x, ok := m[<span class="string">&quot;b&quot;</span>]</span><br><span class="line">	fmt.Println(x, ok)</span><br><span class="line">	x, ok = m[<span class="string">&quot;a&quot;</span>]</span><br><span class="line">	fmt.Println(x, ok)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="literal">false</span></span><br><span class="line"><span class="number">1</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="mapçš„é•¿åº¦"><a href="#mapçš„é•¿åº¦" class="headerlink" title="mapçš„é•¿åº¦"></a>mapçš„é•¿åº¦</h3><p>ä½¿ç”¨lenå‡½æ•°å¯ä»¥ç¡®å®šmapçš„é•¿åº¦ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="built_in">len</span>(<span class="keyword">map</span>)  <span class="comment">// å¯ä»¥å¾—åˆ°mapçš„é•¿åº¦</span></span><br></pre></td></tr></table></figure>

<h3 id="mapæ˜¯å¼•ç”¨ç±»å‹"><a href="#mapæ˜¯å¼•ç”¨ç±»å‹" class="headerlink" title="mapæ˜¯å¼•ç”¨ç±»å‹"></a>mapæ˜¯å¼•ç”¨ç±»å‹</h3><p>ä¸åˆ‡ç‰‡ç›¸ä¼¼ï¼Œæ˜ å°„æ˜¯å¼•ç”¨ç±»å‹ã€‚å½“å°†æ˜ å°„åˆ†é…ç»™ä¸€ä¸ªæ–°å˜é‡æ—¶ï¼Œå®ƒä»¬éƒ½æŒ‡å‘ç›¸åŒçš„å†…éƒ¨æ•°æ®ç»“æ„ã€‚å› æ­¤ï¼Œä¸€ä¸ªçš„å˜åŒ–ä¼šåæ˜ å¦ä¸€ä¸ªã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    personSalary := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;</span><br><span class="line">        <span class="string">&quot;steve&quot;</span>: <span class="number">12000</span>,</span><br><span class="line">        <span class="string">&quot;jamie&quot;</span>: <span class="number">15000</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    personSalary[<span class="string">&quot;mike&quot;</span>] = <span class="number">9000</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Original person salary&quot;</span>, personSalary)</span><br><span class="line">    newPersonSalary := personSalary</span><br><span class="line">    newPersonSalary[<span class="string">&quot;mike&quot;</span>] = <span class="number">18000</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Person salary changed&quot;</span>, personSalary)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Original person salary map[steve:12000 jamie:15000 mike:9000]  </span><br><span class="line">Person salary changed map[steve:12000 jamie:15000 mike:18000] </span><br></pre></td></tr></table></figure>

<blockquote>
<p>mapä¸èƒ½ä½¿ç”¨&#x3D;&#x3D;æ“ä½œç¬¦è¿›è¡Œæ¯”è¾ƒã€‚&#x3D;&#x3D;åªèƒ½ç”¨æ¥æ£€æŸ¥mapæ˜¯å¦ä¸ºç©ºã€‚å¦åˆ™ä¼šæŠ¥é”™ï¼šinvalid operation: map1 &#x3D;&#x3D; map2 (map can only be comparedto nil)</p>
</blockquote>
<h1 id="å­—ç¬¦ä¸²-string"><a href="#å­—ç¬¦ä¸²-string" class="headerlink" title="å­—ç¬¦ä¸²(string)"></a>å­—ç¬¦ä¸²(string)</h1><h2 id="ä»€ä¹ˆæ˜¯string"><a href="#ä»€ä¹ˆæ˜¯string" class="headerlink" title="ä»€ä¹ˆæ˜¯string"></a>ä»€ä¹ˆæ˜¯string</h2><p>Goä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå­—èŠ‚çš„åˆ‡ç‰‡ã€‚å¯ä»¥é€šè¿‡å°†å…¶å†…å®¹å°è£…åœ¨â€œâ€ä¸­æ¥åˆ›å»ºå­—ç¬¦ä¸²ã€‚Goä¸­çš„å­—ç¬¦ä¸²æ˜¯Unicodeå…¼å®¹çš„ï¼Œå¹¶ä¸”æ˜¯UTF-8ç¼–ç çš„ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    name := <span class="string">&quot;Hello World&quot;</span></span><br><span class="line">    fmt.Println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="stringçš„ä½¿ç”¨"><a href="#stringçš„ä½¿ç”¨" class="headerlink" title="stringçš„ä½¿ç”¨"></a>stringçš„ä½¿ç”¨</h2><p>è®¿é—®å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªå­—èŠ‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s := <span class="string">&quot;Hello World&quot;</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%d &quot;</span>, s[i])</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%c &quot;</span>, s[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>%cï¼šç›¸åº”Unicodeç ç‚¹æ‰€è¡¨ç¤ºçš„å­—ç¬¦</p>
<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">72 101 108 108 111 32 87 111 114 108 100 </span><br><span class="line">H e l l o   W o r l d </span><br></pre></td></tr></table></figure>















]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¡ä»¶è¯­å¥ä¸å¾ªç¯è¯­å¥</title>
    <url>/2023/06/02/Go/6/</url>
    <content><![CDATA[<h1 id="ç¨‹åºçš„æµç¨‹ç»“æ„"><a href="#ç¨‹åºçš„æµç¨‹ç»“æ„" class="headerlink" title="ç¨‹åºçš„æµç¨‹ç»“æ„"></a>ç¨‹åºçš„æµç¨‹ç»“æ„</h1><p>ç¨‹åºçš„æµç¨‹æ§åˆ¶ç»“æ„ä¸€å…±æœ‰ä¸‰ç§ï¼šé¡ºåºç»“æ„ï¼Œé€‰æ‹©ç»“æ„ï¼Œå¾ªç¯ç»“æ„ã€‚</p>
<p>é¡ºåºç»“æ„ï¼šä»ä¸Šå‘ä¸‹ï¼Œé€è¡Œæ‰§è¡Œã€‚</p>
<p>é€‰æ‹©ç»“æ„ï¼šæ¡ä»¶æ»¡è¶³ï¼ŒæŸäº›ä»£ç æ‰ä¼šæ‰§è¡Œã€‚0-1æ¬¡</p>
<p>â€‹	åˆ†æ”¯è¯­å¥ï¼šifï¼Œswitchï¼Œselect</p>
<p>å¾ªç¯ç»“æ„ï¼šæ¡ä»¶æ»¡è¶³ï¼ŒæŸäº›ä»£ç ä¼šè¢«åå¤çš„æ‰§è¡Œå¤šæ¬¡ã€‚0-Næ¬¡</p>
<p>â€‹	å¾ªç¯è¯­å¥ï¼šfor</p>
<h1 id="æ¡ä»¶è¯­å¥"><a href="#æ¡ä»¶è¯­å¥" class="headerlink" title="æ¡ä»¶è¯­å¥"></a>æ¡ä»¶è¯­å¥</h1><h2 id="Ifè¯­å¥"><a href="#Ifè¯­å¥" class="headerlink" title="Ifè¯­å¥"></a>Ifè¯­å¥</h2><p>è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> å¸ƒå°”è¡¨è¾¾å¼ &#123;</span><br><span class="line">   <span class="comment">/* åœ¨å¸ƒå°”è¡¨è¾¾å¼ä¸º true æ—¶æ‰§è¡Œ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> å¸ƒå°”è¡¨è¾¾å¼ &#123;</span><br><span class="line">   <span class="comment">/* åœ¨å¸ƒå°”è¡¨è¾¾å¼ä¸º true æ—¶æ‰§è¡Œ */</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">/* åœ¨å¸ƒå°”è¡¨è¾¾å¼ä¸º false æ—¶æ‰§è¡Œ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> å¸ƒå°”è¡¨è¾¾å¼<span class="number">1</span> &#123;</span><br><span class="line">   <span class="comment">/* åœ¨å¸ƒå°”è¡¨è¾¾å¼1ä¸º true æ—¶æ‰§è¡Œ */</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> å¸ƒå°”è¡¨è¾¾å¼<span class="number">2</span>&#123;</span><br><span class="line">   <span class="comment">/* åœ¨å¸ƒå°”è¡¨è¾¾å¼1ä¸º false ,å¸ƒå°”è¡¨è¾¾å¼2ä¸ºtrueæ—¶æ‰§è¡Œ */</span></span><br><span class="line">&#125; <span class="keyword">else</span>&#123;</span><br><span class="line">   <span class="comment">/* åœ¨ä¸Šé¢ä¸¤ä¸ªå¸ƒå°”è¡¨è¾¾å¼éƒ½ä¸ºfalseæ—¶ï¼Œæ‰§è¡Œ*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/* å®šä¹‰å±€éƒ¨å˜é‡ */</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">10</span></span><br><span class="line"> </span><br><span class="line">   <span class="comment">/* ä½¿ç”¨ if è¯­å¥åˆ¤æ–­å¸ƒå°”è¡¨è¾¾å¼ */</span></span><br><span class="line">   <span class="keyword">if</span> a &lt; <span class="number">20</span> &#123;</span><br><span class="line">       <span class="comment">/* å¦‚æœæ¡ä»¶ä¸º true åˆ™æ‰§è¡Œä»¥ä¸‹è¯­å¥ */</span></span><br><span class="line">       fmt.Printf(<span class="string">&quot;a å°äº 20\n&quot;</span> )</span><br><span class="line">   &#125;</span><br><span class="line">   fmt.Printf(<span class="string">&quot;a çš„å€¼ä¸º : %d\n&quot;</span>, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå…¶ä¸­åŒ…å«ä¸€ä¸ªå¯é€‰çš„è¯­å¥ç»„ä»¶(åœ¨è¯„ä¼°æ¡ä»¶ä¹‹å‰æ‰§è¡Œ)ï¼Œåˆ™è¿˜æœ‰ä¸€ä¸ªå˜ä½“ã€‚å®ƒçš„è¯­æ³•æ˜¯</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> statement; condition &#123;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> condition&#123;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> <span class="number">7</span>%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;7 is even&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;7 is odd&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> <span class="number">8</span>%<span class="number">4</span> == <span class="number">0</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;8 is divisible by 4&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> num := <span class="number">9</span>; num &lt; <span class="number">0</span> &#123;</span><br><span class="line">		fmt.Println(num, <span class="string">&quot;is negative&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> num &lt; <span class="number">10</span> &#123;</span><br><span class="line">		fmt.Println(num, <span class="string">&quot;has 1 digit&quot;</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Println(num, <span class="string">&quot;has multiple digits&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œnumçš„å®šä¹‰åœ¨ifé‡Œï¼Œé‚£ä¹ˆåªèƒ½å¤Ÿåœ¨è¯¥if..elseè¯­å¥å—ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™çš„ã€‚</p>
</blockquote>
<h2 id="switchè¯­å¥ï¼šâ€œå¼€å…³â€"><a href="#switchè¯­å¥ï¼šâ€œå¼€å…³â€" class="headerlink" title="switchè¯­å¥ï¼šâ€œå¼€å…³â€"></a>switchè¯­å¥ï¼šâ€œå¼€å…³â€</h2><p>switchæ˜¯ä¸€ä¸ªæ¡ä»¶è¯­å¥ï¼Œå®ƒè®¡ç®—è¡¨è¾¾å¼å¹¶å°†å…¶ä¸å¯èƒ½åŒ¹é…çš„åˆ—è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶æ ¹æ®åŒ¹é…æ‰§è¡Œä»£ç å—ã€‚å®ƒå¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ç§æƒ¯ç”¨çš„æ–¹å¼æ¥å†™å¤šä¸ªif elseå­å¥ã€‚</p>
<p>switch è¯­å¥ç”¨äºåŸºäºä¸åŒæ¡ä»¶æ‰§è¡Œä¸åŒåŠ¨ä½œï¼Œæ¯ä¸€ä¸ª case åˆ†æ”¯éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä»ä¸Šç›´ä¸‹é€ä¸€æµ‹è¯•ï¼Œç›´åˆ°åŒ¹é…ä¸ºæ­¢ã€‚<br>switch è¯­å¥æ‰§è¡Œçš„è¿‡ç¨‹ä»ä¸Šè‡³ä¸‹ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…é¡¹ï¼ŒåŒ¹é…é¡¹åé¢ä¹Ÿ<em><strong>ä¸éœ€è¦å†åŠ break</strong></em>ã€‚</p>
<p><em><strong>è€Œå¦‚æœswitchæ²¡æœ‰è¡¨è¾¾å¼ï¼Œå®ƒä¼šåŒ¹é…true</strong></em></p>
<p><em>Goé‡Œé¢switché»˜è®¤ç›¸å½“äºæ¯ä¸ªcaseæœ€åå¸¦æœ‰break</em>ï¼ŒåŒ¹é…æˆåŠŸåä¸ä¼šè‡ªåŠ¨å‘ä¸‹æ‰§è¡Œå…¶ä»–caseï¼Œè€Œæ˜¯è·³å‡ºæ•´ä¸ªswitch, ä½†æ˜¯å¯ä»¥ä½¿ç”¨fallthroughå¼ºåˆ¶æ‰§è¡Œåé¢çš„caseä»£ç ã€‚</p>
<p>å˜é‡ var1 å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œè€Œ val1 å’Œ val2 åˆ™å¯ä»¥æ˜¯åŒç±»å‹çš„ä»»æ„å€¼ã€‚ç±»å‹ä¸è¢«å±€é™äºå¸¸é‡æˆ–æ•´æ•°ï¼Œä½†å¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹ï¼›æˆ–è€…æœ€ç»ˆç»“æœä¸ºç›¸åŒç±»å‹çš„è¡¨è¾¾å¼ã€‚<br>å¯ä»¥<strong>åŒæ—¶æµ‹è¯•å¤šä¸ªå¯èƒ½ç¬¦åˆæ¡ä»¶çš„å€¼ï¼Œä½¿ç”¨é€—å·åˆ†å‰²å®ƒä»¬</strong>ï¼Œä¾‹å¦‚ï¼šcase val1, val2, val3ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> var1 &#123;</span><br><span class="line">    <span class="keyword">case</span> val1:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">case</span> val2:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/* å®šä¹‰å±€éƒ¨å˜é‡ */</span></span><br><span class="line">	<span class="keyword">var</span> grade = <span class="string">&quot;B&quot;</span></span><br><span class="line">	<span class="keyword">var</span> marks = <span class="number">90</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> marks &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">90</span>:</span><br><span class="line">		grade = <span class="string">&quot;A&quot;</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">80</span>:</span><br><span class="line">		grade = <span class="string">&quot;B&quot;</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>:</span><br><span class="line">		grade = <span class="string">&quot;C&quot;</span> <span class="comment">//case åå¯ä»¥ç”±å¤šä¸ªæ•°å€¼</span></span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		grade = <span class="string">&quot;D&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> grade == <span class="string">&quot;A&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;ä¼˜ç§€!\n&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> grade == <span class="string">&quot;B&quot;</span>, grade == <span class="string">&quot;C&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;è‰¯å¥½\n&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> grade == <span class="string">&quot;D&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;åŠæ ¼\n&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> grade == <span class="string">&quot;F&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;ä¸åŠæ ¼\n&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;å·®\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;ä½ çš„ç­‰çº§æ˜¯ %s\n&quot;</span>, grade)</span><br><span class="line">    </span><br><span class="line">    t := time.Now()</span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> t.Hour() &lt; <span class="number">12</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;It&#x27;s before noon&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;It&#x27;s after noon&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¼˜ç§€!</span><br><span class="line">ä½ çš„ç­‰çº§æ˜¯ A</span><br><span class="line">It&#x27;s before noon</span><br></pre></td></tr></table></figure>



<h3 id="fallthrough"><a href="#fallthrough" class="headerlink" title="fallthrough"></a>fallthrough</h3><p>å¦‚éœ€è´¯é€šåç»­çš„caseï¼Œå°±æ·»åŠ fallthrough</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">switch</span> x := <span class="number">5</span>; x &#123;</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(x)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">		x += <span class="number">10</span></span><br><span class="line">		fmt.Println(x)</span><br><span class="line">		<span class="keyword">fallthrough</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">		x += <span class="number">20</span></span><br><span class="line">		fmt.Println(x)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">15</span><br><span class="line">35</span><br></pre></td></tr></table></figure>

<hr>
<p>è§£é‡Šï¼š</p>
<p>æ ¹æ®switchè¯­å¥çš„é€»è¾‘ï¼Œé¦–å…ˆä¼šæ‰§è¡Œdefaultåˆ†æ”¯ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ²¡æœ‰åœ¨defaultåˆ†æ”¯ä¸­å†™å…¥ä»»ä½•ä»£ç ï¼Œæ‰€ä»¥ä¼šç›´æ¥è·³è¿‡ã€‚åœ¨case 5åˆ†æ”¯çš„æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨äº†fallthroughå…³é”®å­—ã€‚fallthroughå…³é”®å­—çš„ä½œç”¨æ˜¯å¼ºåˆ¶æ‰§è¡Œä¸‹ä¸€ä¸ªcaseåˆ†æ”¯çš„ä»£ç ï¼Œè€Œä¸è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚</p>
<p>åœ¨<code>switch</code>è¯­å¥ä¸­ï¼Œ<code>default</code>ç”¨äºå¤„ç†æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•<code>case</code>çš„æƒ…å†µã€‚å½“<code>switch</code>è¡¨è¾¾å¼çš„å€¼ä¸æ‰€æœ‰çš„<code>case</code>éƒ½ä¸åŒ¹é…æ—¶ï¼Œç¨‹åºä¼šæ‰§è¡Œ<code>default</code>åˆ†æ”¯ä¸­çš„ä»£ç ã€‚</p>
<p><code>default</code>åˆ†æ”¯æ˜¯å¯é€‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥é€‰æ‹©æ˜¯å¦åœ¨<code>switch</code>è¯­å¥ä¸­åŒ…å«å®ƒã€‚å¦‚æœæ²¡æœ‰<code>default</code>åˆ†æ”¯ï¼Œè€Œä¸”æ²¡æœ‰ä»»ä½•ä¸€ä¸ª<code>case</code>åŒ¹é…åˆ°<code>switch</code>è¡¨è¾¾å¼çš„å€¼ï¼Œé‚£ä¹ˆ<code>switch</code>è¯­å¥å°†ä¸ä¼šæ‰§è¡Œä»»ä½•ä»£ç ã€‚</p>
<p><code>default</code>åˆ†æ”¯é€šå¸¸è¢«ç”¨ä½œæœ€åä¸€ä¸ªåˆ†æ”¯ï¼Œç”¨äºå¤„ç†ä¸å¸¸è§æˆ–è€…æ„å¤–çš„æƒ…å†µã€‚å®ƒå¯ä»¥ç”¨æ¥æä¾›ä¸€ä¸ªé»˜è®¤çš„å¤„ç†é€»è¾‘ï¼Œæˆ–è€…ç»™ç”¨æˆ·ä¸€ä¸ªé”™è¯¯æç¤ºã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº†<code>default</code>çš„ä½¿ç”¨ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	num := <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> num &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;å°æ•°&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;ä¸­æ•°&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;å¤§æ•°&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;æœªçŸ¥æ•°&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœ<code>num</code>çš„å€¼ä¸å±äº1åˆ°9ä¹‹é—´çš„ä»»ä½•ä¸€ä¸ªæ•°ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œ<code>default</code>åˆ†æ”¯ï¼Œå¹¶è¾“å‡ºâ€æœªçŸ¥æ•°â€ã€‚<code>default</code>åˆ†æ”¯å¯ä»¥ç”¨æ¥å¤„ç†ä¸€äº›è¾¹ç¼˜æƒ…å†µæˆ–è€…æœªé¢„æ–™åˆ°çš„æƒ…å†µï¼Œç¡®ä¿ç¨‹åºçš„å¥å£®æ€§ã€‚</p>
<hr>
<p><em>caseä¸­çš„è¡¨è¾¾å¼æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥çœç•¥ã€‚å¦‚æœè¯¥è¡¨è¾¾å¼è¢«çœç•¥ï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯switch trueï¼Œå¹¶ä¸”æ¯ä¸ªcaseè¡¨è¾¾å¼éƒ½è¢«è®¡ç®—ä¸ºtrueï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„ä»£ç å—</em>ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    num := <span class="number">75</span></span><br><span class="line">    <span class="keyword">switch</span> &#123; <span class="comment">// expression is omitted</span></span><br><span class="line">    <span class="keyword">case</span> num &gt;= <span class="number">0</span> &amp;&amp; num &lt;= <span class="number">50</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;num is greater than 0 and less than 50&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> num &gt;= <span class="number">51</span> &amp;&amp; num &lt;= <span class="number">100</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;num is greater than 51 and less than 100&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> num &gt;= <span class="number">101</span>:</span><br><span class="line">        fmt.Println(<span class="string">&quot;num is greater than 100&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">num is greater than 51 and less than 100</span><br></pre></td></tr></table></figure>

<blockquote>
<p>switchçš„æ³¨æ„äº‹é¡¹</p>
<ol>
<li>caseåçš„å¸¸é‡å€¼ä¸èƒ½é‡å¤</li>
<li>caseåå¯ä»¥æœ‰å¤šä¸ªå¸¸é‡å€¼</li>
<li>fallthroughåº”è¯¥æ˜¯æŸä¸ªcaseçš„æœ€åä¸€è¡Œã€‚å¦‚æœå®ƒå‡ºç°åœ¨ä¸­é—´çš„æŸä¸ªåœ°æ–¹ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
</ol>
</blockquote>
<h3 id="Type-Switch"><a href="#Type-Switch" class="headerlink" title="Type Switch"></a>Type Switch</h3><p>switch è¯­å¥è¿˜å¯ä»¥è¢«ç”¨äº type-switch æ¥åˆ¤æ–­æŸä¸ª interface å˜é‡ä¸­å®é™…å­˜å‚¨çš„å˜é‡ç±»å‹ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> x.(<span class="keyword">type</span>)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s);      </span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s); </span><br><span class="line">    <span class="comment">/* ä½ å¯ä»¥å®šä¹‰ä»»æ„ä¸ªæ•°çš„case */</span></span><br><span class="line">    <span class="keyword">default</span>: <span class="comment">/* å¯é€‰ */</span></span><br><span class="line">       statement(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">     </span><br><span class="line">   <span class="keyword">switch</span> i := x.(<span class="keyword">type</span>) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="literal">nil</span>:	  </span><br><span class="line">         fmt.Printf(<span class="string">&quot; x çš„ç±»å‹ :%T&quot;</span>,i)                </span><br><span class="line">      <span class="keyword">case</span> <span class="type">int</span>:	  </span><br><span class="line">         fmt.Printf(<span class="string">&quot;x æ˜¯ int å‹&quot;</span>)                       </span><br><span class="line">      <span class="keyword">case</span> <span class="type">float64</span>:</span><br><span class="line">         fmt.Printf(<span class="string">&quot;x æ˜¯ float64 å‹&quot;</span>)           </span><br><span class="line">      <span class="keyword">case</span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">float64</span>:</span><br><span class="line">         fmt.Printf(<span class="string">&quot;x æ˜¯ func(int) å‹&quot;</span>)                      </span><br><span class="line">      <span class="keyword">case</span> <span class="type">bool</span>, <span class="type">string</span>:</span><br><span class="line">         fmt.Printf(<span class="string">&quot;x æ˜¯ bool æˆ– string å‹&quot;</span> )       </span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         fmt.Printf(<span class="string">&quot;æœªçŸ¥å‹&quot;</span>)     </span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">x çš„ç±»å‹ :&lt;<span class="literal">nil</span>&gt;</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå˜é‡<code>x</code>çš„ç±»å‹è¢«å£°æ˜ä¸º<code>interface&#123;&#125;</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºæ¥å£ã€‚ç©ºæ¥å£å¯ä»¥è¡¨ç¤ºä»»æ„ç±»å‹çš„å€¼ï¼ŒåŒ…æ‹¬<code>nil</code>ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ç±»å‹æ–­è¨€<code>x.(type)</code>æ¥è·å–<code>x</code>çš„å…·ä½“ç±»å‹æ—¶ï¼Œå¦‚æœ<code>x</code>çš„å€¼æ˜¯<code>nil</code>ï¼Œé‚£ä¹ˆ<code>case nil</code>åˆ†æ”¯ä¼šåŒ¹é…æˆåŠŸã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>nil</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œè¡¨ç¤ºä¸€ä¸ªæŒ‡é’ˆç±»å‹æˆ–æ¥å£ç±»å‹çš„é›¶å€¼ï¼Œè¡¨ç¤ºè¯¥æŒ‡é’ˆæˆ–æ¥å£ä¸æŒ‡å‘ä»»ä½•å…·ä½“çš„å¯¹è±¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºä¸€ç§ç‰¹æ®Šçš„ç±»å‹ã€‚å› æ­¤ï¼Œ<code>case nil</code>åˆ†æ”¯è¢«ç”¨æ¥å¤„ç†<code>x</code>ä¸º<code>nil</code>çš„æƒ…å†µã€‚</p>
<h1 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h1><p>å¾ªç¯è¯­å¥è¡¨ç¤ºæ¡ä»¶æ»¡è¶³ï¼Œå¯ä»¥åå¤çš„æ‰§è¡ŒæŸæ®µä»£ç ã€‚</p>
<p>foræ˜¯å”¯ä¸€çš„å¾ªç¯è¯­å¥ã€‚(Goæ²¡æœ‰whileå¾ªç¯)</p>
<h2 id="forè¯­å¥"><a href="#forè¯­å¥" class="headerlink" title="forè¯­å¥"></a>forè¯­å¥</h2><p>è¯­æ³•ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for init; condition; post &#123; &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åˆå§‹åŒ–è¯­å¥åªæ‰§è¡Œä¸€æ¬¡ã€‚åœ¨åˆå§‹åŒ–å¾ªç¯ä¹‹åï¼Œå°†æ£€æŸ¥è¯¥æ¡ä»¶ã€‚å¦‚æœæ¡ä»¶è®¡ç®—ä¸ºtrueï¼Œé‚£ä¹ˆ{}ä¸­çš„å¾ªç¯ä½“å°†è¢«æ‰§è¡Œï¼Œç„¶åæ˜¯postè¯­å¥ã€‚postè¯­å¥å°†åœ¨å¾ªç¯çš„æ¯æ¬¡æˆåŠŸè¿­ä»£ä¹‹åæ‰§è¡Œã€‚åœ¨æ‰§è¡Œpostè¯­å¥ä¹‹åï¼Œè¯¥æ¡ä»¶å°†è¢«é‡æ–°æ£€æŸ¥ã€‚å¦‚æœå®ƒæ˜¯æ­£ç¡®çš„ï¼Œå¾ªç¯å°†ç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™å¾ªç¯ç»ˆæ­¢ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot; %d&quot;</span>,i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨forå¾ªç¯ä¸­å£°æ˜çš„å˜é‡ä»…åœ¨å¾ªç¯èŒƒå›´å†…å¯ç”¨ã€‚å› æ­¤ï¼Œiä¸èƒ½åœ¨å¤–éƒ¨è®¿é—®å¾ªç¯ã€‚</p>
</blockquote>
<p><strong>æ‰€æœ‰çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå³åˆå§‹åŒ–ã€æ¡ä»¶å’Œpostéƒ½æ˜¯å¯é€‰çš„ã€‚</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> condition &#123; &#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœä¸whileç›¸ä¼¼</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> &#123; &#125;</span><br></pre></td></tr></table></figure>

<p>æ•ˆæœä¸for(;;) ä¸€æ ·</p>
<p>for å¾ªç¯çš„ range æ ¼å¼å¯ä»¥å¯¹ sliceã€mapã€æ•°ç»„ã€å­—ç¬¦ä¸²ç­‰è¿›è¡Œè¿­ä»£å¾ªç¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for key, value := range oldMap &#123;</span><br><span class="line">    newMap[key] = value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">int</span> = <span class="number">9</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span></span><br><span class="line"></span><br><span class="line">   numbers := [<span class="number">6</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125; </span><br><span class="line"></span><br><span class="line">   <span class="comment">/* for å¾ªç¯ */</span></span><br><span class="line">   <span class="keyword">for</span> a := <span class="number">0</span>; a &lt; <span class="number">5</span>; a++ &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;a çš„å€¼ä¸º: %d\n&quot;</span>, a)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> a &lt; b &#123;</span><br><span class="line">      a++</span><br><span class="line">      fmt.Printf(<span class="string">&quot;a çš„å€¼ä¸º: %d\n&quot;</span>, a)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> i,x:= <span class="keyword">range</span> numbers &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;ç¬¬ %d ä½ x çš„å€¼ = %d\n&quot;</span>, i,x)</span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a çš„å€¼ä¸º: 0</span><br><span class="line">a çš„å€¼ä¸º: 1</span><br><span class="line">a çš„å€¼ä¸º: 2</span><br><span class="line">a çš„å€¼ä¸º: 3</span><br><span class="line">a çš„å€¼ä¸º: 4</span><br><span class="line">a çš„å€¼ä¸º: 1</span><br><span class="line">a çš„å€¼ä¸º: 2</span><br><span class="line">a çš„å€¼ä¸º: 3</span><br><span class="line">a çš„å€¼ä¸º: 4</span><br><span class="line">a çš„å€¼ä¸º: 5</span><br><span class="line">a çš„å€¼ä¸º: 6</span><br><span class="line">a çš„å€¼ä¸º: 7</span><br><span class="line">a çš„å€¼ä¸º: 8</span><br><span class="line">a çš„å€¼ä¸º: 9</span><br><span class="line">ç¬¬ 0 ä½ x çš„å€¼ = 1</span><br><span class="line">ç¬¬ 1 ä½ x çš„å€¼ = 2</span><br><span class="line">ç¬¬ 2 ä½ x çš„å€¼ = 3</span><br><span class="line">ç¬¬ 3 ä½ x çš„å€¼ = 5</span><br><span class="line">ç¬¬ 4 ä½ x çš„å€¼ = 0</span><br><span class="line">ç¬¬ 5 ä½ x çš„å€¼ = 0</span><br></pre></td></tr></table></figure>



<h3 id="å¤šå±‚forå¾ªç¯"><a href="#å¤šå±‚forå¾ªç¯" class="headerlink" title="å¤šå±‚forå¾ªç¯"></a>å¤šå±‚forå¾ªç¯</h3><p>forå¾ªç¯ä¸­åˆæœ‰å¾ªç¯åµŒå¥—ï¼Œå°±è¡¨ç¤ºå¤šå±‚å¾ªç¯äº†ã€‚</p>
<h2 id="è·³å‡ºå¾ªç¯çš„è¯­å¥"><a href="#è·³å‡ºå¾ªç¯çš„è¯­å¥" class="headerlink" title="è·³å‡ºå¾ªç¯çš„è¯­å¥"></a>è·³å‡ºå¾ªç¯çš„è¯­å¥</h2><h3 id="breakè¯­å¥"><a href="#breakè¯­å¥" class="headerlink" title="breakè¯­å¥"></a>breakè¯­å¥</h3><p>breakï¼šè·³å‡ºå¾ªç¯ä½“ã€‚breakè¯­å¥ç”¨äºåœ¨ç»“æŸå…¶æ­£å¸¸æ‰§è¡Œä¹‹å‰çªç„¶ç»ˆæ­¢forå¾ªç¯</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> i &gt; <span class="number">5</span> &#123;</span><br><span class="line">            <span class="keyword">break</span> <span class="comment">//loop is terminated if i &gt; 5</span></span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d &quot;</span>, i)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;\nline after for loop&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 2 3 4 5 </span><br><span class="line">line after for loop</span><br></pre></td></tr></table></figure>

<h3 id="continueè¯­å¥"><a href="#continueè¯­å¥" class="headerlink" title="continueè¯­å¥"></a>continueè¯­å¥</h3><p>continueï¼šè·³å‡ºä¸€æ¬¡å¾ªç¯ã€‚continueè¯­å¥ç”¨äºè·³è¿‡forå¾ªç¯çš„å½“å‰è¿­ä»£ã€‚åœ¨continueè¯­å¥åé¢çš„forå¾ªç¯ä¸­çš„æ‰€æœ‰ä»£ç å°†ä¸ä¼šåœ¨å½“å‰è¿­ä»£ä¸­æ‰§è¡Œã€‚å¾ªç¯å°†ç»§ç»­åˆ°ä¸‹ä¸€ä¸ªè¿­ä»£ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> i%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%d &quot;</span>, i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1 3 5 7 9 </span><br></pre></td></tr></table></figure>

<h3 id="gotoè¯­å¥"><a href="#gotoè¯­å¥" class="headerlink" title="gotoè¯­å¥"></a>gotoè¯­å¥</h3><p>gotoï¼šå¯ä»¥æ— æ¡ä»¶åœ°è½¬ç§»åˆ°è¿‡ç¨‹ä¸­æŒ‡å®šçš„è¡Œã€‚</p>
<p>è¯­æ³•ç»“æ„ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">goto</span> label;</span><br><span class="line">..</span><br><span class="line">..</span><br><span class="line">label: statement;</span><br></pre></td></tr></table></figure>

<p>â€‹												<a href="https://smms.app/image/ZUna3jv2o9h5xgN" target="_blank"><img src="https://s2.loli.net/2023/06/02/ZUna3jv2o9h5xgN.jpg" ></a></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/* å®šä¹‰å±€éƒ¨å˜é‡ */</span></span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/* å¾ªç¯ */</span></span><br><span class="line">LOOP:</span><br><span class="line">	<span class="keyword">for</span> a &lt; <span class="number">20</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> a == <span class="number">15</span> &#123;</span><br><span class="line">			<span class="comment">/* è·³è¿‡è¿­ä»£ */</span></span><br><span class="line">			a = a + <span class="number">1</span></span><br><span class="line">			<span class="keyword">goto</span> LOOP</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;açš„å€¼ä¸º : %d\n&quot;</span>, a)</span><br><span class="line">		a++</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">açš„å€¼ä¸º : 10</span><br><span class="line">açš„å€¼ä¸º : 11</span><br><span class="line">açš„å€¼ä¸º : 12</span><br><span class="line">açš„å€¼ä¸º : 13</span><br><span class="line">açš„å€¼ä¸º : 14</span><br><span class="line">açš„å€¼ä¸º : 16</span><br><span class="line">açš„å€¼ä¸º : 17</span><br><span class="line">açš„å€¼ä¸º : 18</span><br><span class="line">açš„å€¼ä¸º : 19</span><br></pre></td></tr></table></figure>

<p>ç»Ÿä¸€é”™è¯¯å¤„ç†<br>å¤šå¤„é”™è¯¯å¤„ç†å­˜åœ¨ä»£ç é‡å¤æ—¶æ˜¯éå¸¸æ£˜æ‰‹çš„ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">	err := firstCheckError()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">goto</span> onExit</span><br><span class="line">    &#125;</span><br><span class="line">    err = secondCheckError()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">goto</span> onExit</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;done&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">onExit:</span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    exitProcess()</span><br></pre></td></tr></table></figure>

<h2 id="ç”Ÿæˆéšæœºæ•°"><a href="#ç”Ÿæˆéšæœºæ•°" class="headerlink" title="ç”Ÿæˆéšæœºæ•°"></a>ç”Ÿæˆéšæœºæ•°</h2><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	num1 := rand.Int()</span><br><span class="line">	fmt.Println(num1)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		num := rand.Intn(<span class="number">10</span>)</span><br><span class="line">		fmt.Println(num)</span><br><span class="line">	&#125;</span><br><span class="line">	rand.Seed(<span class="number">1000</span>)</span><br><span class="line">	num2 := rand.Intn(<span class="number">10</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;---&gt;&quot;</span>, num2)</span><br><span class="line"></span><br><span class="line">	t1 := time.Now()</span><br><span class="line">	fmt.Println(t1)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, t1)</span><br><span class="line"></span><br><span class="line">	timeStamp1 := t1.Unix()</span><br><span class="line">	fmt.Println(timeStamp1)</span><br><span class="line"></span><br><span class="line">	timestamp2 := t1.UnixNano()</span><br><span class="line">	fmt.Println(timestamp2)</span><br><span class="line"></span><br><span class="line">	rand.Seed(time.Now().UnixNano())</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;---&gt;&quot;</span>, rand.Intn(<span class="number">100</span>))</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	num3 := rand.Intn(<span class="number">46</span>) + <span class="number">3</span></span><br><span class="line">	fmt.Println(num3)</span><br><span class="line">	num4 := rand.Intn(<span class="number">62</span>) + <span class="number">15</span></span><br><span class="line">	fmt.Println(num4)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2359980755445512729</span><br><span class="line">6</span><br><span class="line">0</span><br><span class="line">9</span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">---&gt; 5</span><br><span class="line">2023-06-02 12:00:50.6796224 +0800 CST m=+0.001542201</span><br><span class="line">time.Time</span><br><span class="line">1685678450</span><br><span class="line">1685678450679622400</span><br><span class="line">---&gt; 74</span><br><span class="line">---&gt; 79</span><br><span class="line">---&gt; 18</span><br><span class="line">---&gt; 21</span><br><span class="line">---&gt; 68</span><br><span class="line">---&gt; 41</span><br><span class="line">---&gt; 33</span><br><span class="line">---&gt; 31</span><br><span class="line">---&gt; 26</span><br><span class="line">---&gt; 37</span><br><span class="line">15</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<p>åœ¨éšæœºæ•°ç”Ÿæˆä¸­ï¼Œç§å­ï¼ˆseedï¼‰æ˜¯ç”¨äºåˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨çš„å€¼ã€‚ç§å­å†³å®šäº†éšæœºæ•°åºåˆ—çš„èµ·å§‹ç‚¹ã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œç›¸åŒç§å­ä¼šç”Ÿæˆç›¸åŒçš„éšæœºæ•°åºåˆ—ã€‚</p>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>rand.Seed()</code>æ–¹æ³•ç”¨äºè®¾ç½®éšæœºæ•°ç”Ÿæˆå™¨çš„ç§å­ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼åœ°è®¾ç½®ç§å­ï¼ŒGoè¯­è¨€çš„<code>math/rand</code>åŒ…é»˜è®¤ä½¿ç”¨ä¸€ä¸ªå›ºå®šçš„ç§å­ï¼Œè¿™æ„å‘³ç€æ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶éƒ½ä¼šç”Ÿæˆç›¸åŒçš„éšæœºæ•°åºåˆ—ã€‚è¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ã€‚</p>
<p>é€šè¿‡è°ƒç”¨<code>rand.Seed()</code>æ–¹æ³•å¹¶ä¼ å…¥ä¸€ä¸ªä¸åŒçš„ç§å­å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜éšæœºæ•°ç”Ÿæˆå™¨çš„èµ·å§‹ç‚¹ï¼Œä»è€Œäº§ç”Ÿä¸åŒçš„éšæœºæ•°åºåˆ—ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨å½“å‰æ—¶é—´çš„çº³ç§’çº§æ—¶é—´æˆ³ä½œä¸ºç§å­ï¼Œä»¥ç¡®ä¿æ¯æ¬¡è¿è¡Œç¨‹åºæ—¶éƒ½èƒ½ç”Ÿæˆä¸åŒçš„éšæœºæ•°åºåˆ—ã€‚</p>
<p>åœ¨ä»£ç ä¸­ï¼Œ<code>rand.Seed(1000)</code>å°†ç§å­è®¾ç½®ä¸ºå›ºå®šå€¼1000ï¼Œå› æ­¤åç»­ç”Ÿæˆçš„éšæœºæ•°åºåˆ—å°†å§‹ç»ˆç›¸åŒã€‚è€Œ<code>rand.Seed(time.Now().UnixNano())</code>ä½¿ç”¨å½“å‰æ—¶é—´çš„çº³ç§’çº§æ—¶é—´æˆ³ä½œä¸ºç§å­ï¼Œå¯ä»¥äº§ç”Ÿä¸åŒçš„éšæœºæ•°åºåˆ—ã€‚</p>
<p>ä½†æ˜¯<em><strong>è‡ªä»Go 1.2 0ä»¥æ¥,rand.Seedå°±å·²ç»è¢«å¼ƒç”¨äº†</strong></em>ï¼</p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡½æ•°ä¸defer</title>
    <url>/2023/06/04/Go/8/</url>
    <content><![CDATA[<h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><h2 id="ä»€ä¹ˆæ˜¯å‡½æ•°"><a href="#ä»€ä¹ˆæ˜¯å‡½æ•°" class="headerlink" title="ä»€ä¹ˆæ˜¯å‡½æ•°"></a>ä»€ä¹ˆæ˜¯å‡½æ•°</h2><p>å‡½æ•°æ˜¯æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä»£ç å—ã€‚</p>
<h2 id="å‡½æ•°çš„å£°æ˜"><a href="#å‡½æ•°çš„å£°æ˜" class="headerlink" title="å‡½æ•°çš„å£°æ˜"></a>å‡½æ•°çš„å£°æ˜</h2><p>go è¯­è¨€è‡³å°‘æœ‰ä¸€ä¸ª main å‡½æ•°</p>
<p>è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcName</span><span class="params">(parametername type1, parametername type2)</span></span> (output1 type1, output2 type2) &#123;</span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯å¤„ç†é€»è¾‘ä»£ç </span></span><br><span class="line"><span class="comment">//è¿”å›å¤šä¸ªå€¼</span></span><br><span class="line"><span class="keyword">return</span> value1, value2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>funcï¼šå‡½æ•°ç”± func å¼€å§‹å£°æ˜</li>
<li>funcNameï¼šå‡½æ•°åç§°ï¼Œå‡½æ•°åå’Œå‚æ•°åˆ—è¡¨ä¸€èµ·æ„æˆäº†å‡½æ•°ç­¾åã€‚</li>
<li>parametername typeï¼šå‚æ•°åˆ—è¡¨ï¼Œå‚æ•°å°±åƒä¸€ä¸ªå ä½ç¬¦ï¼Œå½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä½ å¯ä»¥å°†å€¼ä¼ é€’ç»™å‚æ•°ï¼Œè¿™ä¸ªå€¼è¢«ç§°ä¸ºå®é™…å‚æ•°ã€‚å‚æ•°åˆ—è¡¨æŒ‡å®šçš„æ˜¯å‚æ•°ç±»å‹ã€é¡ºåºã€åŠå‚æ•°ä¸ªæ•°ã€‚å‚æ•°æ˜¯å¯é€‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°ä¹Ÿå¯ä»¥ä¸åŒ…å«å‚æ•°ã€‚</li>
<li>output1 type1, output2 type2ï¼šè¿”å›ç±»å‹ï¼Œå‡½æ•°è¿”å›ä¸€åˆ—å€¼ã€‚return_types æ˜¯è¯¥åˆ—å€¼çš„æ•°æ®ç±»å‹ã€‚æœ‰äº›åŠŸèƒ½ä¸éœ€è¦è¿”å›å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹ return_types ä¸æ˜¯å¿…é¡»çš„ã€‚</li>
<li>ä¸Šé¢è¿”å›å€¼å£°æ˜äº†ä¸¤ä¸ªå˜é‡ output1 å’Œ output2ï¼Œå¦‚æœä½ ä¸æƒ³å£°æ˜ä¹Ÿå¯ä»¥ï¼Œç›´æ¥å°±ä¸¤ä¸ªç±»å‹ã€‚</li>
<li>å¦‚æœåªæœ‰ä¸€ä¸ªè¿”å›å€¼ä¸”ä¸å£°æ˜è¿”å›å€¼å˜é‡ï¼Œé‚£ä¹ˆä½ å¯ä»¥çœç•¥åŒ…æ‹¬è¿”å›å€¼çš„æ‹¬å·ï¼ˆå³ä¸€ä¸ªè¿”å›å€¼å¯ä»¥ä¸å£°æ˜è¿”å›ç±»å‹ï¼‰</li>
<li>å‡½æ•°ä½“ï¼šå‡½æ•°å®šä¹‰çš„ä»£ç é›†åˆã€‚</li>
</ul>
<h2 id="å‡½æ•°çš„ä½¿ç”¨"><a href="#å‡½æ•°çš„ä½¿ç”¨" class="headerlink" title="å‡½æ•°çš„ä½¿ç”¨"></a>å‡½æ•°çš„ä½¿ç”¨</h2><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="type">int</span>, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add2</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">exists</span><span class="params">(m <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>, k <span class="type">string</span>)</span></span> (v <span class="type">string</span>, ok <span class="type">bool</span>) &#123;</span><br><span class="line">	v, ok = m[k]</span><br><span class="line">	<span class="keyword">return</span> v, ok</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	res := add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">	fmt.Println(res) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">	v, ok := exists(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;a&quot;</span>: <span class="string">&quot;A&quot;</span>&#125;, <span class="string">&quot;a&quot;</span>)</span><br><span class="line">	fmt.Println(v, ok) <span class="comment">// A True</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3</span><br><span class="line">A true</span><br></pre></td></tr></table></figure>

<h2 id="å‡½æ•°çš„å‚æ•°"><a href="#å‡½æ•°çš„å‚æ•°" class="headerlink" title="å‡½æ•°çš„å‚æ•°"></a>å‡½æ•°çš„å‚æ•°</h2><h3 id="å‚æ•°çš„ä½¿ç”¨"><a href="#å‚æ•°çš„ä½¿ç”¨" class="headerlink" title="å‚æ•°çš„ä½¿ç”¨"></a>å‚æ•°çš„ä½¿ç”¨</h3><p>å½¢å¼å‚æ•°ï¼šå®šä¹‰å‡½æ•°æ—¶ï¼Œç”¨äºæ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„æ•°æ®ï¼Œå«åšå½¢å¼å‚æ•°ï¼Œç®€ç§°å½¢å‚ã€‚</p>
<p>å®é™…å‚æ•°ï¼šè°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼ ç»™å½¢å‚çš„å®é™…çš„æ•°æ®ï¼Œå«åšå®é™…å‚æ•°ï¼Œç®€ç§°å®å‚ã€‚</p>
<p>å‡½æ•°è°ƒç”¨ï¼š</p>
<p> Aï¼šå‡½æ•°åç§°å¿…é¡»åŒ¹é…</p>
<p> Bï¼šå®å‚ä¸å½¢å‚å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼šé¡ºåºï¼Œä¸ªæ•°ï¼Œç±»å‹</p>
<h3 id="å¯å˜å‚"><a href="#å¯å˜å‚" class="headerlink" title="å¯å˜å‚"></a>å¯å˜å‚</h3><p>Go å‡½æ•°æ”¯æŒå˜å‚ã€‚æ¥å—å˜å‚çš„å‡½æ•°æ˜¯æœ‰ç€ä¸å®šæ•°é‡çš„å‚æ•°çš„ã€‚ä¸ºäº†åšåˆ°è¿™ç‚¹ï¼Œé¦–å…ˆéœ€è¦å®šä¹‰å‡½æ•°ä½¿å…¶æ¥å—å˜å‚ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myfunc</span><span class="params">(arg ...<span class="type">int</span>)</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><code>arg ...int</code> å‘Šè¯‰ Go è¿™ä¸ªå‡½æ•°æ¥å—ä¸å®šæ•°é‡çš„å‚æ•°ã€‚æ³¨æ„ï¼Œè¿™äº›å‚æ•°çš„ç±»å‹å…¨éƒ¨æ˜¯ intã€‚åœ¨å‡½æ•°ä½“ä¸­ï¼Œå˜é‡ arg æ˜¯ä¸€ä¸ª int çš„ sliceï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> _, n := <span class="keyword">range</span> arg &#123;</span><br><span class="line">fmt.Printf(<span class="string">&quot;And the number is: %d\n&quot;</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å‚æ•°ä¼ é€’"><a href="#å‚æ•°ä¼ é€’" class="headerlink" title="å‚æ•°ä¼ é€’"></a>å‚æ•°ä¼ é€’</h3><p>go è¯­è¨€å‡½æ•°çš„å‚æ•°ä¹Ÿæ˜¯å­˜åœ¨<strong>å€¼ä¼ é€’</strong>å’Œ<strong>å¼•ç”¨ä¼ é€’</strong></p>
<p>å‡½æ•°è¿ç”¨åœºæ™¯</p>
<p><strong>å€¼ä¼ é€’</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">/* å£°æ˜å‡½æ•°å˜é‡ */</span></span><br><span class="line">   getSquareRoot := <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> math.Sqrt(x)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* ä½¿ç”¨å‡½æ•° */</span></span><br><span class="line">   fmt.Println(getSquareRoot(<span class="number">9</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å¼•ç”¨ä¼ é€’</strong></p>
<p>è¿™å°±ç‰µæ‰¯åˆ°äº†æ‰€è°“çš„æŒ‡é’ˆã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå˜é‡åœ¨å†…å­˜ä¸­æ˜¯å­˜æ”¾äºä¸€å®šåœ°å€ä¸Šçš„ï¼Œä¿®æ”¹å˜é‡å®é™…æ˜¯ä¿®æ”¹å˜é‡åœ°å€å¤„çš„å†…å­˜ã€‚</p>
<p>åªæœ‰ add1 å‡½æ•°çŸ¥é“ x å˜é‡æ‰€åœ¨çš„åœ°å€ï¼Œæ‰èƒ½ä¿®æ”¹ x å˜é‡çš„å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°† x æ‰€åœ¨åœ°å€ &amp; x ä¼ å…¥å‡½æ•°ï¼Œå¹¶å°†å‡½æ•°çš„å‚æ•°çš„ç±»å‹ç”± int æ”¹ä¸º * intï¼Œå³æ”¹ä¸ºæŒ‡é’ˆç±»å‹ï¼Œæ‰èƒ½åœ¨å‡½æ•°ä¸­ä¿®æ”¹ x å˜é‡çš„å€¼ã€‚æ­¤æ—¶å‚æ•°ä»ç„¶æ˜¯æŒ‰ copy ä¼ é€’çš„ï¼Œåªæ˜¯ copy çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å•çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ç°äº†å‚æ•°+1çš„æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add1</span><span class="params">(a *<span class="type">int</span>)</span></span> <span class="type">int</span> &#123; <span class="comment">// è¯·æ³¨æ„ï¼Œ</span></span><br><span class="line">	*a = *a + <span class="number">1</span> <span class="comment">// ä¿®æ”¹äº†açš„å€¼</span></span><br><span class="line">	<span class="keyword">return</span> *a   <span class="comment">// è¿”å›æ–°å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">3</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;x = &quot;</span>, x)    <span class="comment">// åº”è¯¥è¾“å‡º &quot;x = 3&quot;</span></span><br><span class="line">	x1 := add1(&amp;x)            <span class="comment">// è°ƒç”¨ add1(&amp;x) ä¼ xçš„åœ°å€</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;x+1 = &quot;</span>, x1) <span class="comment">// åº”è¯¥è¾“å‡º &quot;x+1 = 4&quot;</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;x = &quot;</span>, x)    <span class="comment">// åº”è¯¥è¾“å‡º &quot;x = 4&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x =  3</span><br><span class="line">x+1 =  4</span><br><span class="line">x =  4</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¼ æŒ‡é’ˆä½¿å¾—å¤šä¸ªå‡½æ•°èƒ½æ“ä½œåŒä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li>ä¼ æŒ‡é’ˆæ¯”è¾ƒè½»é‡çº§ (8bytes), åªæ˜¯ä¼ å†…å­˜åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æŒ‡é’ˆä¼ é€’ä½“ç§¯å¤§çš„ç»“æ„ä½“ã€‚å¦‚æœç”¨å‚æ•°å€¼ä¼ é€’çš„è¯ï¼Œåœ¨æ¯æ¬¡ copy ä¸Šé¢å°±ä¼šèŠ±è´¹ç›¸å¯¹è¾ƒå¤šçš„ç³»ç»Ÿå¼€é”€ï¼ˆå†…å­˜å’Œæ—¶é—´ï¼‰ã€‚æ‰€ä»¥å½“ä½ è¦ä¼ é€’å¤§çš„ç»“æ„ä½“çš„æ—¶å€™ï¼Œç”¨æŒ‡é’ˆæ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ã€‚</li>
<li><strong>Go è¯­è¨€ä¸­ sliceï¼Œmap è¿™ä¸‰ç§ç±»å‹çš„å®ç°æœºåˆ¶ç±»ä¼¼æŒ‡é’ˆ</strong>ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä¼ é€’ï¼Œè€Œä¸ç”¨å–åœ°å€åä¼ é€’æŒ‡é’ˆã€‚ï¼ˆæ³¨ï¼šè‹¥å‡½æ•°éœ€æ”¹å˜ slice çš„é•¿åº¦ï¼Œåˆ™ä»éœ€è¦å–åœ°å€ä¼ é€’æŒ‡é’ˆï¼‰</li>
</ul>
<h2 id="å‡½æ•°çš„è¿”å›å€¼"><a href="#å‡½æ•°çš„è¿”å›å€¼" class="headerlink" title="å‡½æ•°çš„è¿”å›å€¼"></a>å‡½æ•°çš„è¿”å›å€¼</h2><h3 id="ä»€ä¹ˆæ˜¯å‡½æ•°çš„è¿”å›å€¼"><a href="#ä»€ä¹ˆæ˜¯å‡½æ•°çš„è¿”å›å€¼" class="headerlink" title="ä»€ä¹ˆæ˜¯å‡½æ•°çš„è¿”å›å€¼"></a>ä»€ä¹ˆæ˜¯å‡½æ•°çš„è¿”å›å€¼</h3><p>ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨åï¼Œè¿”å›ç»™è°ƒç”¨å¤„çš„æ‰§è¡Œç»“æœï¼Œå«åšå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<p>è°ƒç”¨å¤„éœ€è¦ä½¿ç”¨å˜é‡æ¥æ”¶è¯¥ç»“æœ</p>
<h3 id="ä¸€ä¸ªå‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼"><a href="#ä¸€ä¸ªå‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼" class="headerlink" title="ä¸€ä¸ªå‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼"></a>ä¸€ä¸ªå‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼</h3><p>ä¸€ä¸ªå‡½æ•°å¯ä»¥æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥æœ‰è¿”å›å¤šä¸ªå€¼ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x, y <span class="type">string</span>)</span></span> (<span class="type">string</span>, <span class="type">string</span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> y, x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a, b := swap(<span class="string">&quot;Mahesh&quot;</span>, <span class="string">&quot;Kumar&quot;</span>)</span><br><span class="line">   fmt.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumAndProduct</span><span class="params">(A, B <span class="type">int</span>)</span></span> (add <span class="type">int</span>, Multiplied <span class="type">int</span>) &#123;</span><br><span class="line">add = A+B</span><br><span class="line">Multiplied = A*B</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç©ºç™½æ ‡è¯†ç¬¦"><a href="#ç©ºç™½æ ‡è¯†ç¬¦" class="headerlink" title="ç©ºç™½æ ‡è¯†ç¬¦"></a>ç©ºç™½æ ‡è¯†ç¬¦</h3><p>_æ˜¯ Go ä¸­çš„ç©ºç™½æ ‡è¯†ç¬¦ã€‚å®ƒå¯ä»¥ä»£æ›¿ä»»ä½•ç±»å‹çš„ä»»ä½•å€¼ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªç©ºç™½æ ‡è¯†ç¬¦çš„ç”¨æ³•ã€‚</p>
<p>æ¯”å¦‚ rectProps å‡½æ•°è¿”å›çš„ç»“æœæ˜¯é¢ç§¯å’Œå‘¨é•¿ï¼Œå¦‚æœæˆ‘ä»¬åªè¦é¢ç§¯ï¼Œä¸è¦å‘¨é•¿ï¼Œå°±å¯ä»¥ä½¿ç”¨ç©ºç™½æ ‡è¯†ç¬¦ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rectProps</span><span class="params">(length, width <span class="type">float64</span>)</span></span> (<span class="type">float64</span>, <span class="type">float64</span>) &#123;  </span><br><span class="line">    <span class="keyword">var</span> area = length * width</span><br><span class="line">    <span class="keyword">var</span> perimeter = (length + width) * <span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> area, perimeter</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    area, _ := rectProps(<span class="number">10.8</span>, <span class="number">5.6</span>) <span class="comment">// perimeter is discarded</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;Area %f &quot;</span>, area)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å˜é‡çš„ä½œç”¨åŸŸ"><a href="#å˜é‡çš„ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡çš„ä½œç”¨åŸŸ"></a>å˜é‡çš„ä½œç”¨åŸŸ</h2><p>ä½œç”¨åŸŸï¼šå˜é‡å¯ä»¥ä½¿ç”¨çš„èŒƒå›´ã€‚</p>
<h3 id="å±€éƒ¨å˜é‡"><a href="#å±€éƒ¨å˜é‡" class="headerlink" title="å±€éƒ¨å˜é‡"></a>å±€éƒ¨å˜é‡</h3><p>ä¸€ä¸ªå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œå°±å«åšå±€éƒ¨å˜é‡</p>
<p>å˜é‡åœ¨å“ªé‡Œå®šä¹‰ï¼Œå°±åªèƒ½åœ¨å“ªä¸ªèŒƒå›´ä½¿ç”¨ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œæˆ‘ä»¬è®¤ä¸ºå˜é‡å°±è¢«é”€æ¯äº†ã€‚</p>
<h3 id="å…¨å±€å˜é‡"><a href="#å…¨å±€å˜é‡" class="headerlink" title="å…¨å±€å˜é‡"></a>å…¨å±€å˜é‡</h3><p>ä¸€ä¸ªå‡½æ•°å¤–éƒ¨å®šä¹‰çš„å˜é‡ï¼Œå°±å«åšå…¨å±€å˜é‡</p>
<p>æ‰€æœ‰çš„å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨ï¼Œè€Œä¸”å…±äº«è¿™ä¸€ä»½æ•°æ®</p>
<h3 id="é€’å½’å‡½æ•°"><a href="#é€’å½’å‡½æ•°" class="headerlink" title="é€’å½’å‡½æ•°"></a>é€’å½’å‡½æ•°</h3><p>ä¸€ä¸ªå‡½æ•°è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå°±å«åšé€’å½’è°ƒç”¨ï¼Œä¸€ä¸ªé€’å½’å‡½æ•°ä¸€å®šè¦æœ‰å‡ºå£ï¼Œå¦åˆ™ä¼šé™·å…¥æ­»å¾ªç¯</p>
<h1 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h1><h2 id="å»¶è¿Ÿæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å»¶è¿Ÿæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å»¶è¿Ÿæ˜¯ä»€ä¹ˆï¼Ÿ"></a>å»¶è¿Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>å³å»¶è¿Ÿï¼ˆdeferï¼‰è¯­å¥ï¼Œå»¶è¿Ÿè¯­å¥è¢«ç”¨äºæ‰§è¡Œä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¹‹å‰ï¼Œå»¶è¿Ÿè¯­å¥è¿”å›ã€‚</p>
<h2 id="å»¶è¿Ÿå‡½æ•°"><a href="#å»¶è¿Ÿå‡½æ•°" class="headerlink" title="å»¶è¿Ÿå‡½æ•°"></a>å»¶è¿Ÿå‡½æ•°</h2><p>ä½ å¯ä»¥åœ¨å‡½æ•°ä¸­æ·»åŠ å¤šä¸ª defer è¯­å¥ã€‚å½“å‡½æ•°æ‰§è¡Œåˆ°æœ€åæ—¶ï¼Œè¿™äº› defer è¯­å¥ä¼šæŒ‰ç…§é€†åºæ‰§è¡Œï¼Œæœ€åè¯¥å‡½æ•°è¿”å›ã€‚ç‰¹åˆ«æ˜¯å½“ä½ åœ¨è¿›è¡Œä¸€äº›æ‰“å¼€èµ„æºçš„æ“ä½œæ—¶ï¼Œé‡åˆ°é”™è¯¯éœ€è¦æå‰è¿”å›ï¼Œåœ¨è¿”å›å‰ä½ éœ€è¦å…³é—­ç›¸åº”çš„èµ„æºï¼Œä¸ç„¶å¾ˆå®¹æ˜“é€ æˆèµ„æºæ³„éœ²ç­‰é—®é¢˜ã€‚</p>
<ul>
<li>å¦‚æœæœ‰å¾ˆå¤šè°ƒç”¨ deferï¼Œé‚£ä¹ˆ defer æ˜¯é‡‡ç”¨<code>åè¿›å…ˆå‡º</code>æ¨¡å¼</li>
<li>åœ¨ç¦»å¼€æ‰€åœ¨çš„æ–¹æ³•æ—¶ï¼Œæ‰§è¡Œï¼ˆæŠ¥é”™çš„æ—¶å€™ä¹Ÿä¼šæ‰§è¡Œï¼‰</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadWrite</span><span class="params">()</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    file.Open(<span class="string">&quot;file&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> file.Close()</span><br><span class="line">    <span class="keyword">if</span> failureX &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">if</span> failureY &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åæ‰æ‰§è¡Œ <code>file.Close()</code></p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">1</span></span><br><span class="line">	b := <span class="number">2</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(b)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">finished</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    fmt.Println(<span class="string">&quot;Finished finding largest&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largest</span><span class="params">(nums []<span class="type">int</span>)</span></span> &#123;  </span><br><span class="line">    <span class="keyword">defer</span> finished()    </span><br><span class="line">    fmt.Println(<span class="string">&quot;Started finding largest&quot;</span>)</span><br><span class="line">    max := nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        <span class="keyword">if</span> v &gt; max &#123;</span><br><span class="line">            max = v</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Largest number in&quot;</span>, nums, <span class="string">&quot;is&quot;</span>, max)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    nums := []<span class="type">int</span>&#123;<span class="number">78</span>, <span class="number">109</span>, <span class="number">2</span>, <span class="number">563</span>, <span class="number">300</span>&#125;</span><br><span class="line">    largest(nums)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Started finding largest  </span><br><span class="line">Largest number in [78 109 2 563 300] is 563  </span><br><span class="line">Finished finding largest </span><br></pre></td></tr></table></figure>

<h2 id="å»¶è¿Ÿæ–¹æ³•"><a href="#å»¶è¿Ÿæ–¹æ³•" class="headerlink" title="å»¶è¿Ÿæ–¹æ³•"></a>å»¶è¿Ÿæ–¹æ³•</h2><p>å»¶è¿Ÿå¹¶ä¸ä»…ä»…å±€é™äºå‡½æ•°ã€‚å»¶è¿Ÿä¸€ä¸ªæ–¹æ³•è°ƒç”¨ä¹Ÿæ˜¯å®Œå…¨åˆæ³•çš„ã€‚è®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå°ç¨‹åºæ¥æµ‹è¯•è¿™ä¸ªã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> &#123;</span><br><span class="line">	firstName <span class="type">string</span></span><br><span class="line">	lastName  <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p person)</span></span> fullName() &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%s %s&quot;</span>, p.firstName, p.lastName)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p := person&#123;</span><br><span class="line">		firstName: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">		lastName:  <span class="string">&quot;Smith&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> p.fullName()</span><br><span class="line">	fmt.Printf(<span class="string">&quot;Welcome &quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Welcome John Smith </span><br></pre></td></tr></table></figure>

<h2 id="å»¶è¿Ÿå‚æ•°"><a href="#å»¶è¿Ÿå‚æ•°" class="headerlink" title="å»¶è¿Ÿå‚æ•°"></a>å»¶è¿Ÿå‚æ•°</h2><p>å»¶è¿Ÿå‡½æ•°çš„å‚æ•°åœ¨æ‰§è¡Œå»¶è¿Ÿè¯­å¥æ—¶è¢«æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨æ‰§è¡Œå®é™…çš„å‡½æ•°è°ƒç”¨æ—¶æ‰§è¡Œã€‚</p>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printA</span><span class="params">(a <span class="type">int</span>)</span></span> &#123;  </span><br><span class="line">    fmt.Println(<span class="string">&quot;value of a in deferred function&quot;</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := <span class="number">5</span></span><br><span class="line">    <span class="keyword">defer</span> printA(a)</span><br><span class="line">    a = <span class="number">10</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;value of a before deferred function call&quot;</span>, a)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">value of a before deferred function call 10 </span><br><span class="line">value of a in deferred function 5 </span><br></pre></td></tr></table></figure>

<h2 id="å †æ ˆçš„æ¨è¿Ÿ"><a href="#å †æ ˆçš„æ¨è¿Ÿ" class="headerlink" title="å †æ ˆçš„æ¨è¿Ÿ"></a>å †æ ˆçš„æ¨è¿Ÿ</h2><p>å½“ä¸€ä¸ªå‡½æ•°æœ‰å¤šä¸ªå»¶è¿Ÿè°ƒç”¨æ—¶ï¼Œå®ƒä»¬è¢«æ·»åŠ åˆ°ä¸€ä¸ªå †æ ˆä¸­ï¼Œå¹¶åœ¨ Last In First Outï¼ˆLIFOï¼‰åè¿›å…ˆå‡ºçš„é¡ºåºä¸­æ‰§è¡Œã€‚</p>
<p>ç¼–å†™ä¸€ä¸ªå°ç¨‹åºï¼Œå®ƒä½¿ç”¨ä¸€å † defers æ‰“å°ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    name := <span class="string">&quot;Naveen&quot;</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;Orignal String: %s\n&quot;</span>, <span class="type">string</span>(name))</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Reversed String: &quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> []<span class="type">rune</span>(name) &#123;</span><br><span class="line">        <span class="keyword">defer</span> fmt.Printf(<span class="string">&quot;%c&quot;</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<p>åœ¨ Go è¯­è¨€ä¸­ï¼Œ<code>rune</code> æ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹åˆ«åï¼Œç”¨äºè¡¨ç¤º Unicode å­—ç¬¦ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ª 32 ä½çš„æ•´æ•°ï¼Œå¯ä»¥å­˜å‚¨ä»»ä½• Unicode ç ç‚¹çš„å€¼ã€‚åœ¨ Go ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ç”±ä¸€ç³»åˆ—çš„ Unicode å­—ç¬¦ç»„æˆçš„ã€‚æ¯ä¸ª Unicode å­—ç¬¦å¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚è¡¨ç¤ºã€‚ä½¿ç”¨ <code>rune </code>ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰å­—ç¬¦è€Œä¸æ˜¯å­—èŠ‚æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚<code>rune </code>ç±»å‹çš„ä¸»è¦ä½œç”¨æ˜¯å…è®¸æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ä¸­æŒ‰å­—ç¬¦è¿›è¡Œè¿­ä»£ã€ç´¢å¼•å’Œæ“ä½œã€‚å½“æˆ‘ä»¬éœ€è¦éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦æ—¶ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠå¤šå­—èŠ‚å­—ç¬¦ï¼ˆå¦‚ä¸­æ–‡ã€æ—¥æ–‡æˆ–ç‰¹æ®Šç¬¦å·ï¼‰çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>rune</code> ç±»å‹å¯ä»¥ç¡®ä¿æ­£ç¡®å¤„ç†æ¯ä¸ªå­—ç¬¦ã€‚åœ¨ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>[]rune(name)</code> å°†å­—ç¬¦ä¸² <code>name</code> è½¬æ¢ä¸ºä¸€ä¸ª <code>rune</code> åˆ‡ç‰‡ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æŒ‰å­—ç¬¦è¿­ä»£å¤„ç†å®ƒã€‚è¿™æ ·å¯ä»¥ç¡®ä¿é€†åºæ‰“å°å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œè€Œä¸ä»…ä»…æ˜¯æŒ‰å­—èŠ‚é€†åºæ‰“å°ã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Orignal String: Naveen </span><br><span class="line">Reversed String: neevaN </span><br></pre></td></tr></table></figure>

<h2 id="defer-æ³¨æ„ç‚¹"><a href="#defer-æ³¨æ„ç‚¹" class="headerlink" title="defer æ³¨æ„ç‚¹"></a>defer æ³¨æ„ç‚¹</h2><p>defer å‡½æ•°ï¼š<br>å½“å¤–å›´å‡½æ•°ä¸­çš„è¯­å¥æ­£å¸¸æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œåªæœ‰å…¶ä¸­æ‰€æœ‰çš„å»¶è¿Ÿå‡½æ•°éƒ½æ‰§è¡Œå®Œæ¯•ï¼Œå¤–å›´å‡½æ•°æ‰ä¼šçœŸæ­£çš„ç»“æŸæ‰§è¡Œã€‚<br>å½“æ‰§è¡Œå¤–å›´å‡½æ•°ä¸­çš„ return è¯­å¥æ—¶ï¼Œåªæœ‰å…¶ä¸­æ‰€æœ‰çš„å»¶è¿Ÿå‡½æ•°éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œå¤–å›´å‡½æ•°æ‰ä¼šçœŸæ­£è¿”å›ã€‚<br>å½“å¤–å›´å‡½æ•°ä¸­çš„ä»£ç å¼•å‘è¿è¡Œææ…Œæ—¶ï¼Œåªæœ‰å…¶ä¸­æ‰€æœ‰çš„å»¶è¿Ÿå‡½æ•°éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œè¯¥è¿è¡Œæ—¶ææ…Œæ‰ä¼šçœŸæ­£è¢«æ‰©å±•è‡³è°ƒç”¨å‡½æ•°ã€‚</p>
]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>æŒ‡é’ˆä¸ç»“æ„ä½“</title>
    <url>/2023/06/05/Go/9/</url>
    <content><![CDATA[<h1 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h1><h2 id="æŒ‡é’ˆçš„æ¦‚å¿µ"><a href="#æŒ‡é’ˆçš„æ¦‚å¿µ" class="headerlink" title="æŒ‡é’ˆçš„æ¦‚å¿µ"></a>æŒ‡é’ˆçš„æ¦‚å¿µ</h2><p>æŒ‡é’ˆæ˜¯å­˜å‚¨å¦ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€çš„å˜é‡ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå˜é‡æ˜¯ä¸€ç§ä½¿ç”¨æ–¹ä¾¿çš„å ä½ç¬¦ï¼Œç”¨äºå¼•ç”¨è®¡ç®—æœºå†…å­˜åœ°å€ã€‚</p>
<p>ä¸€ä¸ªæŒ‡é’ˆå˜é‡å¯ä»¥æŒ‡å‘ä»»ä½•ä¸€ä¸ªå€¼çš„å†…å­˜åœ°å€ã€‚</p>
<h2 id="è·å–å˜é‡çš„åœ°å€"><a href="#è·å–å˜é‡çš„åœ°å€" class="headerlink" title="è·å–å˜é‡çš„åœ°å€"></a>è·å–å˜é‡çš„åœ°å€</h2><p>Go è¯­è¨€çš„å–åœ°å€ç¬¦æ˜¯ &amp;ï¼Œæ”¾åˆ°ä¸€ä¸ªå˜é‡å‰ä½¿ç”¨å°±ä¼šè¿”å›ç›¸åº”å˜é‡çš„å†…å­˜åœ°å€ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">10</span>   </span><br><span class="line"></span><br><span class="line">   fmt.Printf(<span class="string">&quot;å˜é‡çš„åœ°å€: %x\n&quot;</span>, &amp;a  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å˜é‡çš„åœ°å€: 20818a220</span><br></pre></td></tr></table></figure>

<h2 id="å£°æ˜æŒ‡é’ˆ"><a href="#å£°æ˜æŒ‡é’ˆ" class="headerlink" title="å£°æ˜æŒ‡é’ˆ"></a>å£°æ˜æŒ‡é’ˆ</h2><p>å£°æ˜æŒ‡é’ˆï¼Œ*Tæ˜¯æŒ‡é’ˆå˜é‡çš„ç±»å‹ï¼Œå®ƒæŒ‡å‘Tç±»å‹çš„å€¼ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> var_name *<span class="keyword">var</span>-<span class="keyword">type</span></span><br></pre></td></tr></table></figure>

<p>var-type ä¸ºæŒ‡é’ˆç±»å‹ï¼Œvar_name ä¸ºæŒ‡é’ˆå˜é‡åï¼Œ* å·ç”¨äºæŒ‡å®šå˜é‡æ˜¯ä½œä¸ºä¸€ä¸ªæŒ‡é’ˆã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ip *<span class="type">int</span>        <span class="comment">/* æŒ‡å‘æ•´å‹*/</span></span><br><span class="line"><span class="keyword">var</span> fp *<span class="type">float32</span>    <span class="comment">/* æŒ‡å‘æµ®ç‚¹å‹ */</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span>= <span class="number">20</span>   <span class="comment">/* å£°æ˜å®é™…å˜é‡ */</span></span><br><span class="line">   <span class="keyword">var</span> ip *<span class="type">int</span>        <span class="comment">/* å£°æ˜æŒ‡é’ˆå˜é‡ */</span></span><br><span class="line"></span><br><span class="line">   ip = &amp;a  <span class="comment">/* æŒ‡é’ˆå˜é‡çš„å­˜å‚¨åœ°å€ */</span></span><br><span class="line"></span><br><span class="line">   fmt.Printf(<span class="string">&quot;a å˜é‡çš„åœ°å€æ˜¯: %x\n&quot;</span>, &amp;a  )</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æŒ‡é’ˆå˜é‡çš„å­˜å‚¨åœ°å€ */</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;ip å˜é‡çš„å­˜å‚¨åœ°å€: %x\n&quot;</span>, ip )</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* ä½¿ç”¨æŒ‡é’ˆè®¿é—®å€¼ */</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;*ip å˜é‡çš„å€¼: %d\n&quot;</span>, *ip )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">a å˜é‡çš„åœ°å€æ˜¯: <span class="number">20818</span>a220</span><br><span class="line">ip å˜é‡çš„å­˜å‚¨åœ°å€: <span class="number">20818</span>a220</span><br><span class="line">*ip å˜é‡çš„å€¼: <span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> name <span class="type">int8</span></span><br><span class="line"><span class="keyword">type</span> first <span class="keyword">struct</span> &#123;</span><br><span class="line">	a <span class="type">int</span></span><br><span class="line">	b <span class="type">bool</span></span><br><span class="line">	name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a = first&#123;<span class="number">1</span>, <span class="literal">false</span>, <span class="number">2</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> b *first = &amp;a</span><br><span class="line">	fmt.Println(a.b, a.a, a.name, &amp;a, b.a, &amp;b, (*b).a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">false 1 2 &amp;&#123;1 false 2&#125; 1 0xc042068018 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è·å–æŒ‡é’ˆåœ°å€åœ¨æŒ‡é’ˆå˜é‡å‰åŠ &amp;çš„æ–¹å¼</p>
</blockquote>
<h2 id="ç©ºæŒ‡é’ˆ"><a href="#ç©ºæŒ‡é’ˆ" class="headerlink" title="ç©ºæŒ‡é’ˆ"></a>ç©ºæŒ‡é’ˆ</h2><p><strong>Go ç©ºæŒ‡é’ˆ</strong><br>å½“ä¸€ä¸ªæŒ‡é’ˆè¢«å®šä¹‰åæ²¡æœ‰åˆ†é…åˆ°ä»»ä½•å˜é‡æ—¶ï¼Œå®ƒçš„å€¼ä¸º nilã€‚<br>nil æŒ‡é’ˆä¹Ÿç§°ä¸ºç©ºæŒ‡é’ˆã€‚<br>nilåœ¨æ¦‚å¿µä¸Šå’Œå…¶å®ƒè¯­è¨€çš„nullã€Noneã€nilã€NULLä¸€æ ·ï¼Œéƒ½æŒ‡ä»£é›¶å€¼æˆ–ç©ºå€¼ã€‚<br>ä¸€ä¸ªæŒ‡é’ˆå˜é‡é€šå¸¸ç¼©å†™ä¸º ptrã€‚</p>
<p>ç©ºæŒ‡é’ˆåˆ¤æ–­ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(ptr != <span class="literal">nil</span>)     <span class="comment">/* ptr ä¸æ˜¯ç©ºæŒ‡é’ˆ */</span></span><br><span class="line"><span class="keyword">if</span>(ptr == <span class="literal">nil</span>)    <span class="comment">/* ptr æ˜¯ç©ºæŒ‡é’ˆ */</span></span><br></pre></td></tr></table></figure>

<h2 id="è·å–æŒ‡é’ˆçš„å€¼"><a href="#è·å–æŒ‡é’ˆçš„å€¼" class="headerlink" title="è·å–æŒ‡é’ˆçš„å€¼"></a>è·å–æŒ‡é’ˆçš„å€¼</h2><p>è·å–ä¸€ä¸ªæŒ‡é’ˆæ„å‘³ç€è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„å˜é‡çš„å€¼ã€‚è¯­æ³•æ˜¯ï¼š*a</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main  </span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    b := <span class="number">255</span></span><br><span class="line">    a := &amp;b</span><br><span class="line">    fmt.Println(<span class="string">&quot;address of b is&quot;</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;value of b is&quot;</span>, *a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ“ä½œæŒ‡é’ˆæ”¹å˜å˜é‡çš„æ•°å€¼"><a href="#æ“ä½œæŒ‡é’ˆæ”¹å˜å˜é‡çš„æ•°å€¼" class="headerlink" title="æ“ä½œæŒ‡é’ˆæ”¹å˜å˜é‡çš„æ•°å€¼"></a>æ“ä½œæŒ‡é’ˆæ”¹å˜å˜é‡çš„æ•°å€¼</h2><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    b := <span class="number">255</span></span><br><span class="line">    a := &amp;b</span><br><span class="line">    fmt.Println(<span class="string">&quot;address of b is&quot;</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">&quot;value of b is&quot;</span>, *a)</span><br><span class="line">    *a++</span><br><span class="line">    fmt.Println(<span class="string">&quot;new value of b is&quot;</span>, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">address of b is 0x1040a124  </span><br><span class="line">value of b is 255  </span><br><span class="line">new value of b is 256  </span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨æŒ‡é’ˆä¼ é€’å‡½æ•°çš„å‚æ•°"><a href="#ä½¿ç”¨æŒ‡é’ˆä¼ é€’å‡½æ•°çš„å‚æ•°" class="headerlink" title="ä½¿ç”¨æŒ‡é’ˆä¼ é€’å‡½æ•°çš„å‚æ•°"></a>ä½¿ç”¨æŒ‡é’ˆä¼ é€’å‡½æ•°çš„å‚æ•°</h2><p>ç¤ºä¾‹ä»£ç </p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">change</span><span class="params">(val *<span class="type">int</span>)</span></span> &#123;  </span><br><span class="line">    *val = <span class="number">55</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := <span class="number">58</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;value of a before function call is&quot;</span>,a)</span><br><span class="line">    b := &amp;a</span><br><span class="line">    change(b)</span><br><span class="line">    fmt.Println(<span class="string">&quot;value of a after function call is&quot;</span>, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">value of a before function call is 58  </span><br><span class="line">value of a after function call is 55  </span><br></pre></td></tr></table></figure>

<p><strong>ä¸è¦å°†ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆä¼ é€’ç»™å‡½æ•°ã€‚ä½¿ç”¨åˆ‡ç‰‡ã€‚</strong></p>
<p>å‡è®¾æˆ‘ä»¬æƒ³å¯¹å‡½æ•°å†…çš„æ•°ç»„è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œå¹¶ä¸”å¯¹è°ƒç”¨è€…å¯ä»¥çœ‹åˆ°å‡½æ•°å†…çš„æ•°ç»„æ‰€åšçš„æ›´æ”¹ã€‚ä¸€ç§æ–¹æ³•æ˜¯å°†ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆä¼ é€’ç»™å‡½æ•°ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modify</span><span class="params">(arr *[3]<span class="type">int</span>)</span></span> &#123;  </span><br><span class="line">    (*arr)[<span class="number">0</span>] = <span class="number">90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>&#125;</span><br><span class="line">    modify(&amp;a)</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[90 90 91]</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modify</span><span class="params">(arr *[3]<span class="type">int</span>)</span></span> &#123;  </span><br><span class="line">    arr[<span class="number">0</span>] = <span class="number">90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>&#125;</span><br><span class="line">    modify(&amp;a)</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[90 90 91]</span><br></pre></td></tr></table></figure>

<p><strong>è™½ç„¶å°†æŒ‡é’ˆä¼ é€’ç»™ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‡½æ•°çš„å‚æ•°å¹¶å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œä½†è¿™å¹¶ä¸æ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„æƒ¯ç”¨æ–¹æ³•ã€‚æˆ‘ä»¬æœ‰åˆ‡ç‰‡ã€‚</strong></p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modify</span><span class="params">(sls []<span class="type">int</span>)</span></span> &#123;  </span><br><span class="line">    sls[<span class="number">0</span>] = <span class="number">90</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>&#125;</span><br><span class="line">    modify(a[:])</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[90 90 91]</span><br></pre></td></tr></table></figure>



<p>Goä¸æ”¯æŒæŒ‡é’ˆç®—æ³•ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">b := [...]<span class="type">int</span>&#123;<span class="number">109</span>, <span class="number">110</span>, <span class="number">111</span>&#125;</span><br><span class="line">p := &amp;b</span><br><span class="line">p++</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>nvalid operation: p++ (non-numeric type *[3]int)</p>
</blockquote>
<p><strong>æŒ‡é’ˆæ•°ç»„</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MAX <span class="type">int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   a := []<span class="type">int</span>&#123;<span class="number">10</span>,<span class="number">100</span>,<span class="number">200</span>&#125;</span><br><span class="line">   <span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; MAX; i++ &#123;</span><br><span class="line">      fmt.Printf(<span class="string">&quot;a[%d] = %d\n&quot;</span>, i, a[i] )</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">a[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">a[<span class="number">1</span>] = <span class="number">100</span></span><br><span class="line">a[<span class="number">2</span>] = <span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>æœ‰ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¿å­˜æ•°ç»„ï¼Œè¿™æ ·æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°æŒ‡é’ˆã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MAX <span class="type">int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := []<span class="type">int</span>&#123;<span class="number">10</span>, <span class="number">100</span>, <span class="number">200</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line">	<span class="keyword">var</span> ptr [MAX]*<span class="type">int</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i = <span class="number">0</span>; i &lt; MAX; i++ &#123;</span><br><span class="line">		ptr[i] = &amp;a[i] <span class="comment">/* æ•´æ•°åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆæ•°ç»„ */</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i = <span class="number">0</span>; i &lt; MAX; i++ &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;a[%d] = %d\n&quot;</span>, i, *ptr[i])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">a[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">a[<span class="number">1</span>] = <span class="number">100</span></span><br><span class="line">a[<span class="number">2</span>] = <span class="number">200</span></span><br></pre></td></tr></table></figure>

<h2 id="æŒ‡é’ˆçš„æŒ‡é’ˆ"><a href="#æŒ‡é’ˆçš„æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆçš„æŒ‡é’ˆ"></a>æŒ‡é’ˆçš„æŒ‡é’ˆ</h2><p><strong>æŒ‡é’ˆçš„æŒ‡é’ˆ</strong></p>
<p>å¦‚æœä¸€ä¸ªæŒ‡é’ˆå˜é‡å­˜æ”¾çš„åˆæ˜¯å¦ä¸€ä¸ªæŒ‡é’ˆå˜é‡çš„åœ°å€ï¼Œåˆ™ç§°è¿™ä¸ªæŒ‡é’ˆå˜é‡ä¸ºæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆå˜é‡ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr **<span class="type">int</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span></span><br><span class="line">   <span class="keyword">var</span> ptr *<span class="type">int</span></span><br><span class="line">   <span class="keyword">var</span> pptr **<span class="type">int</span></span><br><span class="line"></span><br><span class="line">   a = <span class="number">3000</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æŒ‡é’ˆ ptr åœ°å€ */</span></span><br><span class="line">   ptr = &amp;a</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æŒ‡å‘æŒ‡é’ˆ ptr åœ°å€ */</span></span><br><span class="line">   pptr = &amp;ptr</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* è·å– pptr çš„å€¼ */</span></span><br><span class="line">   fmt.Printf(<span class="string">&quot;å˜é‡ a = %d\n&quot;</span>, a )</span><br><span class="line">   fmt.Printf(<span class="string">&quot;æŒ‡é’ˆå˜é‡ *ptr = %d\n&quot;</span>, *ptr )</span><br><span class="line">   fmt.Printf(<span class="string">&quot;æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆå˜é‡ **pptr = %d\n&quot;</span>, **pptr)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å˜é‡ a = 3000</span><br><span class="line">æŒ‡é’ˆå˜é‡ *ptr = 3000</span><br><span class="line">æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆå˜é‡ **pptr = 3000</span><br></pre></td></tr></table></figure>

<p><strong>æŒ‡é’ˆä½œä¸ºå‡½æ•°å‚æ•°</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/* å®šä¹‰å±€éƒ¨å˜é‡ */</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="type">int</span> = <span class="number">100</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="type">int</span>= <span class="number">200</span></span><br><span class="line"></span><br><span class="line">   fmt.Printf(<span class="string">&quot;äº¤æ¢å‰ a çš„å€¼ : %d\n&quot;</span>, a )</span><br><span class="line">   fmt.Printf(<span class="string">&quot;äº¤æ¢å‰ b çš„å€¼ : %d\n&quot;</span>, b )</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* è°ƒç”¨å‡½æ•°ç”¨äºäº¤æ¢å€¼</span></span><br><span class="line"><span class="comment">   * &amp;a æŒ‡å‘ a å˜é‡çš„åœ°å€</span></span><br><span class="line"><span class="comment">   * &amp;b æŒ‡å‘ b å˜é‡çš„åœ°å€</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   swap(&amp;a, &amp;b);</span><br><span class="line"></span><br><span class="line">   fmt.Printf(<span class="string">&quot;äº¤æ¢å a çš„å€¼ : %d\n&quot;</span>, a )</span><br><span class="line">   fmt.Printf(<span class="string">&quot;äº¤æ¢å b çš„å€¼ : %d\n&quot;</span>, b )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x *<span class="type">int</span>, y *<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> temp <span class="type">int</span></span><br><span class="line">   temp = *x    <span class="comment">/* ä¿å­˜ x åœ°å€çš„å€¼ */</span></span><br><span class="line">   *x = *y      <span class="comment">/* å°† y èµ‹å€¼ç»™ x */</span></span><br><span class="line">   *y = temp    <span class="comment">/* å°† temp èµ‹å€¼ç»™ y */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">äº¤æ¢å‰ a çš„å€¼ : 100</span><br><span class="line">äº¤æ¢å‰ b çš„å€¼ : 200</span><br><span class="line">äº¤æ¢å a çš„å€¼ : 200</span><br><span class="line">äº¤æ¢å b çš„å€¼ : 100</span><br></pre></td></tr></table></figure>

<h1 id="ç»“æ„ä½“"><a href="#ç»“æ„ä½“" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h1><h2 id="ä»€ä¹ˆæ˜¯ç»“æ„ä½“"><a href="#ä»€ä¹ˆæ˜¯ç»“æ„ä½“" class="headerlink" title="ä»€ä¹ˆæ˜¯ç»“æ„ä½“"></a>ä»€ä¹ˆæ˜¯ç»“æ„ä½“</h2><p>Go è¯­è¨€ä¸­æ•°ç»„å¯ä»¥å­˜å‚¨åŒä¸€ç±»å‹çš„æ•°æ®ï¼Œä½†åœ¨ç»“æ„ä½“ä¸­æˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒé¡¹å®šä¹‰ä¸åŒçš„æ•°æ®ç±»å‹ã€‚<br>ç»“æ„ä½“æ˜¯ç”±ä¸€ç³»åˆ—å…·æœ‰ç›¸åŒç±»å‹æˆ–ä¸åŒç±»å‹çš„æ•°æ®æ„æˆçš„æ•°æ®é›†åˆã€‚</p>
<h2 id="ç»“æ„ä½“çš„å®šä¹‰å’Œåˆå§‹åŒ–"><a href="#ç»“æ„ä½“çš„å®šä¹‰å’Œåˆå§‹åŒ–" class="headerlink" title="ç»“æ„ä½“çš„å®šä¹‰å’Œåˆå§‹åŒ–"></a>ç»“æ„ä½“çš„å®šä¹‰å’Œåˆå§‹åŒ–</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> struct_variable_type <span class="keyword">struct</span> &#123;</span><br><span class="line">   member definition;</span><br><span class="line">   member definition;</span><br><span class="line">   ...</span><br><span class="line">   member definition;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€æ—¦å®šä¹‰äº†ç»“æ„ä½“ç±»å‹ï¼Œå®ƒå°±èƒ½ç”¨äºå˜é‡çš„å£°æ˜</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">variable_name := structure_variable_type &#123;value1, value2...valuen&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åˆå§‹åŒ–ç»“æ„ä½“</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.æŒ‰ç…§é¡ºåºæä¾›åˆå§‹åŒ–å€¼</span></span><br><span class="line">P := person&#123;<span class="string">&quot;Tom&quot;</span>, <span class="number">25</span>&#125;</span><br><span class="line"><span class="comment">// 2.é€šè¿‡field:valueçš„æ–¹å¼åˆå§‹åŒ–ï¼Œè¿™æ ·å¯ä»¥ä»»æ„é¡ºåº</span></span><br><span class="line">P := person&#123;age:<span class="number">24</span>, name:<span class="string">&quot;Tom&quot;</span>&#125;</span><br><span class="line"><span class="comment">// 3.newæ–¹å¼,æœªè®¾ç½®åˆå§‹å€¼çš„ï¼Œä¼šèµ‹äºˆç±»å‹çš„é»˜è®¤åˆå§‹å€¼</span></span><br><span class="line">p := <span class="built_in">new</span>(person)</span><br><span class="line">p.age=<span class="number">24</span></span><br></pre></td></tr></table></figure>

<h2 id="ç»“æ„ä½“çš„è®¿é—®"><a href="#ç»“æ„ä½“çš„è®¿é—®" class="headerlink" title="ç»“æ„ä½“çš„è®¿é—®"></a>ç»“æ„ä½“çš„è®¿é—®</h2><p>è®¿é—®ç»“æ„ä½“æˆå‘˜(è®¿é—®ç»“æ„çš„å„ä¸ªå­—æ®µ)</p>
<p>é€šè¿‡ç‚¹.æ“ä½œç¬¦ç”¨äºè®¿é—®ç»“æ„çš„å„ä¸ªå­—æ®µã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Books <span class="keyword">struct</span> &#123;</span><br><span class="line">   title <span class="type">string</span></span><br><span class="line">   author <span class="type">string</span></span><br><span class="line">   subject <span class="type">string</span></span><br><span class="line">   book_id <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> Book1 Books        <span class="comment">/* å£°æ˜ Book1 ä¸º Books ç±»å‹ */</span></span><br><span class="line">   <span class="keyword">var</span> Book2 Books        <span class="comment">/* å£°æ˜ Book2 ä¸º Books ç±»å‹ */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* book 1 æè¿° */</span></span><br><span class="line">   Book1.title = <span class="string">&quot;Go è¯­è¨€&quot;</span></span><br><span class="line">   Book1.author = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">   Book1.subject = <span class="string">&quot;Go è¯­è¨€æ•™ç¨‹&quot;</span></span><br><span class="line">   Book1.book_id = <span class="number">6495407</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* book 2 æè¿° */</span></span><br><span class="line">   Book2.title = <span class="string">&quot;Python æ•™ç¨‹&quot;</span></span><br><span class="line">   Book2.author = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">   Book2.subject = <span class="string">&quot;Python è¯­è¨€æ•™ç¨‹&quot;</span></span><br><span class="line">   Book2.book_id = <span class="number">6495700</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å° Book1 ä¿¡æ¯ */</span></span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 1 title : %s\n&quot;</span>, Book1.title)</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 1 author : %s\n&quot;</span>, Book1.author)</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 1 subject : %s\n&quot;</span>, Book1.subject)</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 1 book_id : %d\n&quot;</span>, Book1.book_id)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å° Book2 ä¿¡æ¯ */</span></span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 2 title : %s\n&quot;</span>, Book2.title)</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 2 author : %s\n&quot;</span>, Book2.author)</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 2 subject : %s\n&quot;</span>, Book2.subject)</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book 2 book_id : %d\n&quot;</span>, Book2.book_id)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book 1 title : Go è¯­è¨€</span><br><span class="line">Book 1 author : www.runoob.com</span><br><span class="line">Book 1 subject : Go è¯­è¨€æ•™ç¨‹</span><br><span class="line">Book 1 book_id : 6495407</span><br><span class="line">Book 2 title : Python æ•™ç¨‹</span><br><span class="line">Book 2 author : www.runoob.com</span><br><span class="line">Book 2 subject : Python è¯­è¨€æ•™ç¨‹</span><br><span class="line">Book 2 book_id : 6495700</span><br></pre></td></tr></table></figure>

<h2 id="ç»“æ„ä½“æŒ‡é’ˆ"><a href="#ç»“æ„ä½“æŒ‡é’ˆ" class="headerlink" title="ç»“æ„ä½“æŒ‡é’ˆ"></a>ç»“æ„ä½“æŒ‡é’ˆ</h2><p>æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªç»“æ„ä½“ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºæŒ‡å‘ç»“æ„çš„æŒ‡é’ˆã€‚</p>
<p><strong>ç»“æ„ä½“æŒ‡é’ˆ</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> struct_pointer *Books</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå®šä¹‰çš„æŒ‡é’ˆå˜é‡å¯ä»¥å­˜å‚¨ç»“æ„ä½“å˜é‡çš„åœ°å€ã€‚æŸ¥çœ‹ç»“æ„ä½“å˜é‡åœ°å€ï¼Œå¯ä»¥å°† &amp; ç¬¦å·æ”¾ç½®äºç»“æ„ä½“å˜é‡å‰</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">struct_pointer = &amp;Book1;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç»“æ„ä½“æŒ‡é’ˆè®¿é—®ç»“æ„ä½“æˆå‘˜ï¼Œä½¿ç”¨ â€œ.â€ æ“ä½œç¬¦</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">struct_pointer.title;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Books <span class="keyword">struct</span> &#123;</span><br><span class="line">   title <span class="type">string</span></span><br><span class="line">   author <span class="type">string</span></span><br><span class="line">   subject <span class="type">string</span></span><br><span class="line">   book_id <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> Book1 Books        <span class="comment">/* Declare Book1 of type Book */</span></span><br><span class="line">   <span class="keyword">var</span> Book2 Books        <span class="comment">/* Declare Book2 of type Book */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* book 1 æè¿° */</span></span><br><span class="line">   Book1.title = <span class="string">&quot;Go è¯­è¨€&quot;</span></span><br><span class="line">   Book1.author = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">   Book1.subject = <span class="string">&quot;Go è¯­è¨€æ•™ç¨‹&quot;</span></span><br><span class="line">   Book1.book_id = <span class="number">6495407</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* book 2 æè¿° */</span></span><br><span class="line">   Book2.title = <span class="string">&quot;Python æ•™ç¨‹&quot;</span></span><br><span class="line">   Book2.author = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">   Book2.subject = <span class="string">&quot;Python è¯­è¨€æ•™ç¨‹&quot;</span></span><br><span class="line">   Book2.book_id = <span class="number">6495700</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å° Book1 ä¿¡æ¯ */</span></span><br><span class="line">   printBook(&amp;Book1)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å° Book2 ä¿¡æ¯ */</span></span><br><span class="line">   printBook(&amp;Book2)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printBook</span><span class="params">( book *Books )</span></span> &#123;</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book title : %s\n&quot;</span>, book.title);</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book author : %s\n&quot;</span>, book.author);</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book subject : %s\n&quot;</span>, book.subject);</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book book_id : %d\n&quot;</span>, book.book_id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Book title : Go è¯­è¨€</span><br><span class="line">Book author : www.runoob.com</span><br><span class="line">Book subject : Go è¯­è¨€æ•™ç¨‹</span><br><span class="line">Book book_id : 6495407</span><br><span class="line">Book title : Python æ•™ç¨‹</span><br><span class="line">Book author : www.runoob.com</span><br><span class="line">Book subject : Python è¯­è¨€æ•™ç¨‹</span><br><span class="line">Book book_id : 6495700</span><br></pre></td></tr></table></figure>

<p>ç»“æ„ä½“å®ä¾‹åŒ–ä¹Ÿå¯ä»¥æ˜¯è¿™æ ·çš„</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Books <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s Books)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;data&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%v\n&quot;</span>, Books&#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<p>åœ¨<code>Books</code>ç±»å‹ä¸Šå®šä¹‰äº†ä¸€ä¸ª<code>String</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å…·æœ‰ä¸€ä¸ªæ¥æ”¶è€…<code>(s Books)</code>ï¼Œè¡¨ç¤ºå®ƒæ˜¯<code>Books</code>ç±»å‹çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²<code>&quot;data&quot;</code>ã€‚<code>Books&#123;&#125;</code>åˆ›å»ºäº†ä¸€ä¸ª<code>Books</code>ç±»å‹çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡<code>%v</code>æ‰“å°è¾“å‡ºã€‚ç”±äº<code>Books</code>ç±»å‹å®ç°äº†<code>String</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†è¢«è°ƒç”¨ï¼Œè¿”å›å­—ç¬¦ä¸²<code>&quot;data&quot;</code>ã€‚</p>
<h2 id="ç»“æ„ä½“çš„åŒ¿åå­—æ®µ"><a href="#ç»“æ„ä½“çš„åŒ¿åå­—æ®µ" class="headerlink" title="ç»“æ„ä½“çš„åŒ¿åå­—æ®µ"></a>ç»“æ„ä½“çš„åŒ¿åå­—æ®µ</h2><p><strong>ç»“æ„ä½“çš„åŒ¿åå­—æ®µ</strong></p>
<p>å¯ä»¥ç”¨å­—æ®µæ¥åˆ›å»ºç»“æ„ï¼Œè¿™äº›å­—æ®µåªåŒ…å«ä¸€ä¸ªæ²¡æœ‰å­—æ®µåçš„ç±»å‹ã€‚è¿™äº›å­—æ®µè¢«ç§°ä¸ºåŒ¿åå­—æ®µã€‚</p>
<p>åœ¨ç±»å‹ä¸­ï¼Œä½¿ç”¨ä¸å†™å­—æ®µåçš„æ–¹å¼ï¼Œä½¿ç”¨å¦ä¸€ä¸ªç±»å‹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> &#123;</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    weight <span class="type">int</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">    Human <span class="comment">// åŒ¿åå­—æ®µï¼Œé‚£ä¹ˆé»˜è®¤Studentå°±åŒ…å«äº†Humançš„æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">    speciality <span class="type">string</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªå­¦ç”Ÿ</span></span><br><span class="line">    mark := Student&#123;Human&#123;<span class="string">&quot;Mark&quot;</span>, <span class="number">25</span>, <span class="number">120</span>&#125;, <span class="string">&quot;Computer Science&quot;</span>&#125;</span><br><span class="line">    <span class="comment">// æˆ‘ä»¬è®¿é—®ç›¸åº”çš„å­—æ®µ</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;His name is &quot;</span>, mark.name)</span><br><span class="line">    fmt.Println(<span class="string">&quot;His age is &quot;</span>, mark.age)</span><br><span class="line">    fmt.Println(<span class="string">&quot;His weight is &quot;</span>, mark.weight)</span><br><span class="line">    fmt.Println(<span class="string">&quot;His speciality is &quot;</span>, mark.speciality)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹å¯¹åº”çš„å¤‡æ³¨ä¿¡æ¯</span></span><br><span class="line">    mark.speciality = <span class="string">&quot;AI&quot;</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Mark changed his speciality&quot;</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;His speciality is &quot;</span>, mark.speciality)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ä»–çš„å¹´é¾„ä¿¡æ¯</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Mark become old&quot;</span>)</span><br><span class="line">    mark.age = <span class="number">46</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;His age is&quot;</span>, mark.age)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ä»–çš„ä½“é‡ä¿¡æ¯</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Mark is not an athlet anymore&quot;</span>)</span><br><span class="line">    mark.weight += <span class="number">60</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;His weight is&quot;</span>, mark.weight)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">His name is  Mark</span><br><span class="line">His age is  25</span><br><span class="line">His weight is  120</span><br><span class="line">His speciality is  Computer Science</span><br><span class="line">Mark changed his speciality</span><br><span class="line">His speciality is  AI</span><br><span class="line">Mark become old</span><br><span class="line">His age is 46</span><br><span class="line">Mark is not an athlet anymore</span><br><span class="line">His weight is 180</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯ä»¥ä½¿ç”¨â€.â€çš„æ–¹å¼è¿›è¡Œè°ƒç”¨åŒ¿åå­—æ®µä¸­çš„å±æ€§å€¼</p>
<p>å®é™…å°±æ˜¯å­—æ®µçš„ç»§æ‰¿</p>
<p>å…¶ä¸­å¯ä»¥å°†åŒ¿åå­—æ®µç†è§£ä¸ºå­—æ®µåå’Œå­—æ®µç±»å‹éƒ½æ˜¯åŒä¸€ä¸ª</p>
<p>åŸºäºä¸Šé¢çš„ç†è§£ï¼Œæ‰€ä»¥å¯ä»¥<code>mark.Human = Human&#123;&quot;Marcus&quot;, 55, 220&#125; </code>å’Œ<code>mark.Human.age = 46</code></p>
<p>è‹¥å­˜åœ¨åŒ¿åå­—æ®µä¸­çš„å­—æ®µä¸éåŒ¿åå­—æ®µåå­—ç›¸åŒï¼Œåˆ™æœ€å¤–å±‚çš„ä¼˜å…ˆè®¿é—®ï¼Œå°±è¿‘åŸåˆ™</p>
</blockquote>
<p>é€šè¿‡åŒ¿åè®¿é—®å’Œä¿®æ”¹å­—æ®µç›¸å½“çš„æœ‰ç”¨ï¼Œä½†æ˜¯ä¸ä»…ä»…æ˜¯structå­—æ®µå“¦ï¼Œæ‰€æœ‰çš„å†…ç½®ç±»å‹å’Œè‡ªå®šä¹‰ç±»å‹éƒ½æ˜¯å¯ä»¥ä½œä¸ºåŒ¿åå­—æ®µçš„ã€‚</p>
<h2 id="ç»“æ„ä½“åµŒå¥—"><a href="#ç»“æ„ä½“åµŒå¥—" class="headerlink" title="ç»“æ„ä½“åµŒå¥—"></a>ç»“æ„ä½“åµŒå¥—</h2><p>åµŒå¥—çš„ç»“æ„ä½“<br>ä¸€ä¸ªç»“æ„ä½“å¯èƒ½åŒ…å«ä¸€ä¸ªå­—æ®µï¼Œè€Œè¿™ä¸ªå­—æ®µåè¿‡æ¥å°±æ˜¯ä¸€ä¸ªç»“æ„ä½“ã€‚è¿™äº›ç»“æ„è¢«ç§°ä¸ºåµŒå¥—ç»“æ„ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Address <span class="keyword">struct</span> &#123;  </span><br><span class="line">    city, state <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;  </span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    address Address</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">var</span> p Person</span><br><span class="line">    p.name = <span class="string">&quot;Naveen&quot;</span></span><br><span class="line">    p.age = <span class="number">50</span></span><br><span class="line">    p.address = Address &#123;</span><br><span class="line">        city: <span class="string">&quot;Chicago&quot;</span>,</span><br><span class="line">        state: <span class="string">&quot;Illinois&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Name:&quot;</span>, p.name)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Age:&quot;</span>,p.age)</span><br><span class="line">    fmt.Println(<span class="string">&quot;City:&quot;</span>,p.address.city)</span><br><span class="line">    fmt.Println(<span class="string">&quot;State:&quot;</span>,p.address.state)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æå‡å­—æ®µ"><a href="#æå‡å­—æ®µ" class="headerlink" title="æå‡å­—æ®µ"></a>æå‡å­—æ®µ</h2><p>åœ¨ç»“æ„ä½“ä¸­å±äºåŒ¿åç»“æ„ä½“çš„å­—æ®µç§°ä¸ºæå‡å­—æ®µï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥è¢«è®¿é—®ï¼Œå°±å¥½åƒå®ƒä»¬å±äºæ‹¥æœ‰åŒ¿åç»“æ„å­—æ®µçš„ç»“æ„ä¸€æ ·ã€‚ç†è§£è¿™ä¸ªå®šä¹‰æ˜¯ç›¸å½“å¤æ‚çš„ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Address <span class="keyword">struct</span> &#123;  </span><br><span class="line">    city, state <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> &#123;  </span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age  <span class="type">int</span></span><br><span class="line">    address Address</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">var</span> p Person</span><br><span class="line">    p.name = <span class="string">&quot;Naveen&quot;</span></span><br><span class="line">    p.age = <span class="number">50</span></span><br><span class="line">    p.Address = Address&#123;</span><br><span class="line">        city:  <span class="string">&quot;Chicago&quot;</span>,</span><br><span class="line">        state: <span class="string">&quot;Illinois&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Name:&quot;</span>, p.name)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Age:&quot;</span>, p.age)</span><br><span class="line">    fmt.Println(<span class="string">&quot;City:&quot;</span>, p.city) <span class="comment">//city is promoted field</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;State:&quot;</span>, p.state) <span class="comment">//state is promoted field</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Name: Naveen  </span><br><span class="line">Age: 50  </span><br><span class="line">City: Chicago  </span><br><span class="line">State: Illinois</span><br></pre></td></tr></table></figure>

<h2 id="å¯¼å‡ºç»“æ„ä½“å’Œå­—æ®µ"><a href="#å¯¼å‡ºç»“æ„ä½“å’Œå­—æ®µ" class="headerlink" title="å¯¼å‡ºç»“æ„ä½“å’Œå­—æ®µ"></a>å¯¼å‡ºç»“æ„ä½“å’Œå­—æ®µ</h2><p>å¦‚æœç»“æ„ä½“ç±»å‹ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªå¯¼å‡ºç±»å‹ï¼Œå¯ä»¥ä»å…¶ä»–åŒ…è®¿é—®å®ƒã€‚ç±»ä¼¼åœ°ï¼Œå¦‚æœç»“æ„ä½“çš„å­—æ®µä»¥å¤§å†™å¼€å¤´ï¼Œåˆ™å¯ä»¥ä»å…¶ä»–åŒ…è®¿é—®å®ƒä»¬ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<p>1.åœ¨computerç›®å½•ä¸‹ï¼Œåˆ›å»ºæ–‡ä»¶spec.go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> computer</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Spec <span class="keyword">struct</span> &#123; <span class="comment">//exported struct  </span></span><br><span class="line">    Maker <span class="type">string</span> <span class="comment">//exported field</span></span><br><span class="line">    model <span class="type">string</span> <span class="comment">//unexported field</span></span><br><span class="line">    Price <span class="type">int</span> <span class="comment">//exported field</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.åˆ›å»ºmain.go æ–‡ä»¶</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;structs/computer&quot;</span>  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">var</span> spec computer.Spec</span><br><span class="line">    spec.Maker = <span class="string">&quot;apple&quot;</span></span><br><span class="line">    spec.Price = <span class="number">50000</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Spec:&quot;</span>, spec)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Spec: &#123;apple  50000&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç»“æ„ä½“æ¯”è¾ƒ"><a href="#ç»“æ„ä½“æ¯”è¾ƒ" class="headerlink" title="ç»“æ„ä½“æ¯”è¾ƒ"></a>ç»“æ„ä½“æ¯”è¾ƒ</h2><p>ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œå¦‚æœæ¯ä¸ªå­—æ®µå…·æœ‰å¯æ¯”æ€§ï¼Œåˆ™æ˜¯å¯æ¯”è¾ƒçš„ã€‚å¦‚æœå®ƒä»¬å¯¹åº”çš„å­—æ®µç›¸ç­‰ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªç»“æ„ä½“å˜é‡æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> name <span class="keyword">struct</span> &#123;  </span><br><span class="line">    firstName <span class="type">string</span></span><br><span class="line">    lastName <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    name1 := name&#123;<span class="string">&quot;Steve&quot;</span>, <span class="string">&quot;Jobs&quot;</span>&#125;</span><br><span class="line">    name2 := name&#123;<span class="string">&quot;Steve&quot;</span>, <span class="string">&quot;Jobs&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">if</span> name1 == name2 &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;name1 and name2 are equal&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;name1 and name2 are not equal&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    name3 := name&#123;firstName:<span class="string">&quot;Steve&quot;</span>, lastName:<span class="string">&quot;Jobs&quot;</span>&#125;</span><br><span class="line">    name4 := name&#123;&#125;</span><br><span class="line">    name4.firstName = <span class="string">&quot;Steve&quot;</span></span><br><span class="line">    <span class="keyword">if</span> name3 == name4 &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;name3 and name4 are equal&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;name3 and name4 are not equal&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">name1 and name2 are equal  </span><br><span class="line">name3 and name4 are not equal  </span><br></pre></td></tr></table></figure>

<p><strong>å¦‚æœç»“æ„å˜é‡åŒ…å«çš„å­—æ®µæ˜¯ä¸å¯æ¯”è¾ƒçš„ï¼Œé‚£ä¹ˆç»“æ„å˜é‡æ˜¯ä¸å¯æ¯”è¾ƒçš„</strong></p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> image <span class="keyword">struct</span> &#123;  </span><br><span class="line">    data <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    image1 := image&#123;data: <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>&#123;</span><br><span class="line">        <span class="number">0</span>: <span class="number">155</span>,</span><br><span class="line">    &#125;&#125;</span><br><span class="line">    image2 := image&#123;data: <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>&#123;</span><br><span class="line">        <span class="number">0</span>: <span class="number">155</span>,</span><br><span class="line">    &#125;&#125;</span><br><span class="line">    <span class="keyword">if</span> image1 == image2 &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;image1 and image2 are equal&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>invalid operation: image1 == image2 (struct containing map[int]int cannot be compared)</code></p>
<h2 id="ç»“æ„ä½“ä½œä¸ºå‡½æ•°çš„å‚æ•°"><a href="#ç»“æ„ä½“ä½œä¸ºå‡½æ•°çš„å‚æ•°" class="headerlink" title="ç»“æ„ä½“ä½œä¸ºå‡½æ•°çš„å‚æ•°"></a>ç»“æ„ä½“ä½œä¸ºå‡½æ•°çš„å‚æ•°</h2><p>ç»“æ„ä½“ä½œä¸ºå‡½æ•°å‚æ•°ä½¿ç”¨</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">ackage main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Books <span class="keyword">struct</span> &#123;</span><br><span class="line">   title <span class="type">string</span></span><br><span class="line">   author <span class="type">string</span></span><br><span class="line">   subject <span class="type">string</span></span><br><span class="line">   book_id <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> Book1 Books        <span class="comment">/* å£°æ˜ Book1 ä¸º Books ç±»å‹ */</span></span><br><span class="line">   <span class="keyword">var</span> Book2 Books        <span class="comment">/* å£°æ˜ Book2 ä¸º Books ç±»å‹ */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* book 1 æè¿° */</span></span><br><span class="line">   Book1.title = <span class="string">&quot;Go è¯­è¨€&quot;</span></span><br><span class="line">   Book1.author = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">   Book1.subject = <span class="string">&quot;Go è¯­è¨€æ•™ç¨‹&quot;</span></span><br><span class="line">   Book1.book_id = <span class="number">6495407</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* book 2 æè¿° */</span></span><br><span class="line">   Book2.title = <span class="string">&quot;Python æ•™ç¨‹&quot;</span></span><br><span class="line">   Book2.author = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">   Book2.subject = <span class="string">&quot;Python è¯­è¨€æ•™ç¨‹&quot;</span></span><br><span class="line">   Book2.book_id = <span class="number">6495700</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å° Book1 ä¿¡æ¯ */</span></span><br><span class="line">   printBook(Book1)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* æ‰“å° Book2 ä¿¡æ¯ */</span></span><br><span class="line">   printBook(Book2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printBook</span><span class="params">( book Books )</span></span> &#123;</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book title : %s\n&quot;</span>, book.title);</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book author : %s\n&quot;</span>, book.author);</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book subject : %s\n&quot;</span>, book.subject);</span><br><span class="line">   fmt.Printf( <span class="string">&quot;Book book_id : %d\n&quot;</span>, book.book_id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç»“æ„ä½“æ–¹æ³•"><a href="#ç»“æ„ä½“æ–¹æ³•" class="headerlink" title="ç»“æ„ä½“æ–¹æ³•"></a>ç»“æ„ä½“æ–¹æ³•</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">	name     <span class="type">string</span></span><br><span class="line">	password <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u user)</span></span> checkPassword(password <span class="type">string</span>) <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> u.password == password</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *user)</span></span> resetPassword(password <span class="type">string</span>) &#123;</span><br><span class="line">	u.password = password</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := user&#123;name: <span class="string">&quot;wang&quot;</span>, password: <span class="string">&quot;1024&quot;</span>&#125;</span><br><span class="line">	a.resetPassword(<span class="string">&quot;2048&quot;</span>)</span><br><span class="line">	fmt.Println(a.checkPassword(<span class="string">&quot;2048&quot;</span>)) <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>makeã€newæ“ä½œ</strong></p>
<p>makeç”¨äºå†…å»ºç±»å‹ï¼ˆmapã€slice å’Œchannelï¼‰çš„å†…å­˜åˆ†é…ã€‚newç”¨äºå„ç§ç±»å‹çš„å†…å­˜åˆ†é…ã€‚<br>å†…å»ºå‡½æ•°newæœ¬è´¨ä¸Šè¯´è·Ÿå…¶å®ƒè¯­è¨€ä¸­çš„åŒåå‡½æ•°åŠŸèƒ½ä¸€æ ·ï¼šnew(T)åˆ†é…äº†é›¶å€¼å¡«å……çš„Tç±»å‹çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”è¿”å›å…¶åœ°å€ï¼Œå³ä¸€ä¸ª*Tç±»å‹çš„å€¼ã€‚ç”¨Goçš„æœ¯è¯­è¯´ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ–°åˆ†é…çš„ç±»å‹Tçš„é›¶å€¼ã€‚æœ‰ä¸€ç‚¹éå¸¸é‡è¦ï¼šnewè¿”å›æŒ‡é’ˆ</p>
<p>å†…å»ºå‡½æ•°make(T, args)ä¸new(T)æœ‰ç€ä¸åŒçš„åŠŸèƒ½ï¼Œmakeåªèƒ½åˆ›å»ºsliceã€mapå’Œchannelï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæœ‰åˆå§‹å€¼(éé›¶)çš„Tç±»å‹ï¼Œè€Œä¸æ˜¯*Tã€‚æœ¬è´¨æ¥è®²ï¼Œå¯¼è‡´è¿™ä¸‰ä¸ªç±»å‹æœ‰æ‰€ä¸åŒçš„åŸå› æ˜¯æŒ‡å‘æ•°æ®ç»“æ„çš„å¼•ç”¨åœ¨ä½¿ç”¨å‰å¿…é¡»è¢«åˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªsliceï¼Œæ˜¯ä¸€ä¸ªåŒ…å«æŒ‡å‘æ•°æ®ï¼ˆå†…éƒ¨arrayï¼‰çš„æŒ‡é’ˆã€é•¿åº¦å’Œå®¹é‡çš„ä¸‰é¡¹æè¿°ç¬¦ï¼›åœ¨è¿™äº›é¡¹ç›®è¢«åˆå§‹åŒ–ä¹‹å‰ï¼Œsliceä¸ºnilã€‚å¯¹äºsliceã€mapå’Œchannelæ¥è¯´ï¼Œmakeåˆå§‹åŒ–äº†å†…éƒ¨çš„æ•°æ®ç»“æ„ï¼Œå¡«å……é€‚å½“çš„å€¼ã€‚makeè¿”å›åˆå§‹åŒ–åçš„ï¼ˆéé›¶ï¼‰å€¼ã€‚</p>
<ul>
<li><code>new</code>ç”¨äºä»»ä½•ç±»å‹çš„å†…å­˜åˆ†é…ï¼Œè¿”å›çš„æ˜¯ç±»å‹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘æ–°åˆ†é…çš„é›¶å€¼å†…å­˜ç©ºé—´ã€‚</li>
<li><code>make</code>ä»…ç”¨äºåˆ‡ç‰‡ã€æ˜ å°„å’Œé€šé“çš„å†…å­˜åˆ†é…ï¼Œè¿”å›çš„æ˜¯ç»è¿‡åˆå§‹åŒ–åçš„éé›¶å€¼ã€‚</li>
</ul>
<h1 id="æŒ‡é’ˆä¸ç»“æ„ä½“ä¸¾ä¾‹"><a href="#æŒ‡é’ˆä¸ç»“æ„ä½“ä¸¾ä¾‹" class="headerlink" title="æŒ‡é’ˆä¸ç»“æ„ä½“ä¸¾ä¾‹"></a>æŒ‡é’ˆä¸ç»“æ„ä½“ä¸¾ä¾‹</h1><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> &#123;</span><br><span class="line">	name     <span class="type">string</span></span><br><span class="line">	password <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := user&#123;name: <span class="string">&quot;wang&quot;</span>, password: <span class="string">&quot;1024&quot;</span>&#125;</span><br><span class="line">	b := user&#123;<span class="string">&quot;wang&quot;</span>, <span class="string">&quot;1024&quot;</span>&#125;</span><br><span class="line">	c := user&#123;name: <span class="string">&quot;wang&quot;</span>&#125;</span><br><span class="line">	c.password = <span class="string">&quot;1024&quot;</span></span><br><span class="line">	<span class="keyword">var</span> d user</span><br><span class="line">	d.name = <span class="string">&quot;wang&quot;</span></span><br><span class="line">	d.password = <span class="string">&quot;1024&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(a, b, c, d)                 <span class="comment">// &#123;wang 1024&#125; &#123;wang 1024&#125; &#123;wang 1024&#125; &#123;wang 1024&#125;</span></span><br><span class="line">	fmt.Println(checkPassword(a, <span class="string">&quot;haha&quot;</span>))   <span class="comment">// false</span></span><br><span class="line">	fmt.Println(checkPassword2(&amp;a, <span class="string">&quot;haha&quot;</span>)) <span class="comment">// false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkPassword</span><span class="params">(u user, password <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> u.password == password</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkPassword2</span><span class="params">(u *user, password <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> u.password == password</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;wang 1024&#125; &#123;wang 1024&#125; &#123;wang 1024&#125; &#123;wang 1024&#125;</span><br><span class="line">false</span><br><span class="line">false</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>é’è®­è¥</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”µå¤§è½¯ä»¶æµ‹è¯•ï½ç¬¬ä¸€æ¬¡ä½œä¸š</title>
    <url>/2023/05/31/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/test1/</url>
    <content><![CDATA[<h2 id="ç¬¬ä¸€æ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ"><a href="#ç¬¬ä¸€æ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ" class="headerlink" title="ç¬¬ä¸€æ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ"></a>ç¬¬ä¸€æ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ</h2><h3 id="ç¬¬ä¸€é¢˜"><a href="#ç¬¬ä¸€é¢˜" class="headerlink" title="ç¬¬ä¸€é¢˜"></a>ç¬¬ä¸€é¢˜</h3><p>é’ˆå¯¹ç”µå­ç§‘æŠ€å¤§å­¦ä¿¡æ¯é—¨æˆ·çš„â€œå¯†ç æ‰¾å›â€ç•Œé¢çš„é‚®ç®±è¾“å…¥åŸŸè¿›è¡ŒéªŒè¯ï¼Œ é‡‡ç”¨ç­‰ä»·åˆ’åˆ†æ³•è®¾è®¡ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬å°½é‡å¤šçš„æ— æ•ˆç­‰ä»·ç±»ã€‚</p>
<p>ç­”:</p>
<p>æœ‰æ•ˆç­‰ä»·ç±»å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>(1)é‚®ç®±è¾“å…¥å­¦ç¬¦ä¸²æ ¼å¼<u>***@uestc.edu.cn</u>æˆ–<u>***@UESTC.EDU.CN</u>(*ä¸ºå­—æ¯æˆ–æ•°å­—)</p>
</blockquote>
<p>æ— æ•ˆç­‰ä»·ç±»:</p>
<blockquote>
<p>(2)*ä¸­å¸¦æœ‰éå­—æ¯æˆ–æ•°å­—çš„å…¶å®ƒå­—ç¬¦</p>
<p>(3)é‚®ç®±è¾“å…¥çš„å­—ç¬¦ä¸²ä¸­ç¼ºå°‘â€˜@â€™å­—ç¬¦</p>
<p>(4)é‚®ç®±è¾“å…¥çš„å­—ç¬¦ä¸²ä¸­æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªâ€˜@â€™å­—ç¬¦</p>
<p>(5)é‚®ç®±è¾“å…¥å­—ç¬¦ä¸²ä¸­â€˜@â€™å­—ç¬¦åä¸æ˜¯æ ‡å‡†çš„åŸŸåå­—æ®µ</p>
</blockquote>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">æµ‹è¯•ç”¨ä¾‹ç¼–å·</th>
<th>æµ‹è¯•ç”¨ä¾‹</th>
<th>è¦†ç›–ç­‰ä»·ç±»</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td><a href="mailto:&#x65;&#120;&#97;&#x6d;&#x70;&#x6c;&#x65;&#x40;&#117;&#x65;&#x73;&#x74;&#x63;&#46;&#101;&#x64;&#x75;&#46;&#x63;&#x6e;">&#x65;&#120;&#97;&#x6d;&#x70;&#x6c;&#x65;&#x40;&#117;&#x65;&#x73;&#x74;&#x63;&#46;&#101;&#x64;&#x75;&#46;&#x63;&#x6e;</a></td>
<td>(1)</td>
</tr>
<tr>
<td align="left">2</td>
<td>#<a href="mailto:&#101;&#x78;&#97;&#x6d;&#x70;&#x6c;&#101;&#x40;&#117;&#101;&#115;&#x74;&#99;&#46;&#101;&#100;&#117;&#x2e;&#x63;&#x6e;">&#101;&#x78;&#97;&#x6d;&#x70;&#x6c;&#101;&#x40;&#117;&#101;&#115;&#x74;&#99;&#46;&#101;&#100;&#117;&#x2e;&#x63;&#x6e;</a></td>
<td>(2)</td>
</tr>
<tr>
<td align="left">3</td>
<td>exampleuestc.edu.cn</td>
<td>(3)</td>
</tr>
<tr>
<td align="left">4</td>
<td>example@@uestc.edu.cn</td>
<td>(4)</td>
</tr>
<tr>
<td align="left">5</td>
<td>example@domaincom</td>
<td>(5)</td>
</tr>
</tbody></table>
<h3 id="ç¬¬äºŒé¢˜"><a href="#ç¬¬äºŒé¢˜" class="headerlink" title="ç¬¬äºŒé¢˜"></a>ç¬¬äºŒé¢˜</h3><p>ç»¼åˆè¿ç”¨è¾¹ç•Œå€¼æ–¹æ³•å’Œç­‰ä»·ç±»æ–¹æ³•ï¼Œé’ˆå¯¹ä¸‰è§’å½¢é—®é¢˜è®¾è®¡ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ã€‚å‡å®šè¾“å…¥ä¸‰ä¸ªæ•´æ•°ï¼ˆaã€bã€cï¼‰ä½œä¸ºè¾¹ï¼Œåˆ†åˆ«æ»¡è¶³ä¸€èˆ¬ä¸‰è§’å½¢ã€ç­‰è…°ä¸‰è§’å½¢å’Œç­‰è¾¹ä¸‰è§’å½¢ã€‚</p>
<p>1ï¼‰åˆ¤æ–­ä¸€èˆ¬ä¸‰è§’å½¢çš„æœ‰æ•ˆç­‰ä»·ç±»æ˜¯ä»€ä¹ˆ? åˆ¤æ–­ä¸€èˆ¬ä¸‰è§’å½¢çš„æ— æ•ˆç­‰ä»·ç±»æ˜¯ä»€ä¹ˆ?</p>
<p>2ï¼‰åˆ¤æ–­ç­‰è…°ä¸‰è§’å½¢çš„æœ‰æ•ˆç­‰ä»·ç±»æ˜¯ä»€ä¹ˆ? åˆ¤æ–­ç­‰è…°ä¸‰è§’å½¢çš„æ— æ•ˆç­‰ä»·ç±»æ˜¯ä»€ä¹ˆ?</p>
<p>3ï¼‰åˆ¤æ–­ç­‰è¾¹ä¸‰è§’å½¢çš„æœ‰æ•ˆç­‰ä»·ç±»æ˜¯ä»€ä¹ˆ? åˆ¤æ–­ç­‰è¾¹ä¸‰è§’å½¢çš„æ— æ•ˆç­‰ä»·ç±»æ˜¯ä»€ä¹ˆ?</p>
<p>ç­”ï¼š</p>
<p>ä¸‰è§’å½¢åˆ¤æ–­æ¡ä»¶å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>1)ä¸‰è§’å½¢çš„è¾¹é•¿å‡å¤§äº0</p>
<p>2)æ„æˆä¸€èˆ¬ä¸‰è§’å½¢çš„æ¡ä»¶ï¼šä»»æ„ä¸¤è¾¹ä¹‹å’Œå¤§äºç¬¬ä¸‰è¾¹</p>
<p>3)æ„æˆç­‰è…°ä¸‰è§’å½¢çš„æ¡ä»¶ï¼šä»»æ„ä¸¤è¾¹ç›¸ç­‰</p>
<p>4)æ„æˆç­‰è…°ä¸‰è§’å½¢çš„æ¡ä»¶ï¼šä¸‰æ¡è¾¹éƒ½ç›¸ç­‰</p>
</blockquote>
<p>(1)åˆ¤æ–­ä¸€èˆ¬ä¸‰è§’å½¢çš„æœ‰æ•ˆç­‰ä»·ç±»ä¸è¾¹ç•Œå€¼è§„åˆ™è®¾è®¡ï¼š</p>
<blockquote>
<p>(aâ‰¥0)âˆ§(bâ‰¥0)âˆ§(câ‰¥0)âˆ§((a+b)&gt;c)âˆ§((a+c)&gt;b)âˆ§((b+c)&gt;a)</p>
</blockquote>
<p>åˆ¤æ–­ä¸€èˆ¬ä¸‰è§’å½¢çš„æ— æ•ˆç­‰ä»·ç±»ä¸è¾¹ç•Œå€¼è§„åˆ™è®¾è®¡ï¼š</p>
<blockquote>
<p>â‘ (aâ‰¥0)âˆ§(bâ‰¥0)âˆ§(câ‰¥0)âˆ§(((a+b)â‰¤c)âˆ¨((a+c)â‰¤b)âˆ¨((b+c)â‰¤a))</p>
<p>â‘¡(aâ‰¤0)âˆ¨(bâ‰¤0)âˆ¨(câ‰¤0)</p>
</blockquote>
<p>(2)åˆ¤æ–­ç­‰è…°ä¸‰è§’å½¢çš„æœ‰æ•ˆç­‰ä»·ç±»ä¸è¾¹ç•Œå€¼è§„åˆ™è®¾è®¡ï¼š</p>
<blockquote>
<p>(aâ‰¥0)âˆ§(bâ‰¥0)âˆ§(câ‰¥0)âˆ§((a+b)&gt;c)âˆ§((a+c)&gt;b)âˆ§((b+c)&gt;a)âˆ§((a&#x3D;b)âˆ¨(b&#x3D;c)âˆ¨(a&#x3D;c))</p>
</blockquote>
<p>åˆ¤æ–­ç­‰è…°ä¸‰è§’å½¢çš„æ— æ•ˆç­‰ä»·ç±»ä¸è¾¹ç•Œå€¼è§„åˆ™è®¾è®¡ï¼š</p>
<blockquote>
<p>â‘ (a!&#x3D;b)âˆ§(b!&#x3D;c)âˆ§(c!&#x3D;a) </p>
<p>â‘¡(aâ‰¤0)âˆ¨(bâ‰¤0)âˆ¨(câ‰¤0)</p>
</blockquote>
<p>(3)åˆ¤æ–­ç­‰è¾¹ä¸‰è§’å½¢çš„æœ‰æ•ˆç­‰ä»·ç±»ä¸è¾¹ç•Œå€¼è§„åˆ™è®¾è®¡ï¼š</p>
<blockquote>
<p>(aâ‰¥0)âˆ§(bâ‰¥0)âˆ§(câ‰¥0)âˆ§((a+b)&gt;c)âˆ§((a+c)&gt;b)âˆ§((b+c)&gt;a)âˆ§(a&#x3D;b&#x3D;c)</p>
</blockquote>
<p>åˆ¤æ–­ç­‰è¾¹ä¸‰è§’å½¢çš„æ— æ•ˆç­‰ä»·ç±»ä¸è¾¹ç•Œå€¼è§„åˆ™è®¾è®¡ï¼š</p>
<blockquote>
<p>â‘ (a!&#x3D;b)</p>
<p>â‘¡(aâ‰¤0)âˆ¨(bâ‰¤0)âˆ¨(câ‰¤0)</p>
</blockquote>
<p>æµ‹è¯•ç”¨ä¾‹</p>
<table>
<thead>
<tr>
<th>æµ‹è¯•ç”¨ä¾‹ç¼–å·</th>
<th>æµ‹è¯•ç”¨ä¾‹è¾“å…¥(a,b,c)</th>
<th>é¢„æœŸç»“æœ</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(5,6,8)</td>
<td>ä¸€èˆ¬ä¸‰è§’å½¢</td>
</tr>
<tr>
<td>2</td>
<td>(5,6,5)</td>
<td>ç­‰è…°ä¸‰è§’å½¢</td>
</tr>
<tr>
<td>3</td>
<td>(5,5,5)</td>
<td>ç­‰è¾¹ä¸‰è§’å½¢</td>
</tr>
<tr>
<td>4</td>
<td>(5,0,5)</td>
<td>éä¸‰è§’å½¢</td>
</tr>
<tr>
<td>5</td>
<td>(2,2,5)</td>
<td>éä¸‰è§’å½¢</td>
</tr>
</tbody></table>
<h3 id="ç¬¬ä¸‰é¢˜"><a href="#ç¬¬ä¸‰é¢˜" class="headerlink" title="ç¬¬ä¸‰é¢˜"></a>ç¬¬ä¸‰é¢˜</h3><p>ç³»ç»Ÿçš„å¹´ã€æœˆã€æ—¥æ•°æ®ç”±Yã€Mã€Då•å…ƒæ¥å­˜å‚¨ç›¸åº”å€¼ï¼Œè‹¥è¦æµ‹è¯•NextDataï¼ˆY,M,Dï¼‰å‡½æ•°ï¼Œé‡‡ç”¨åˆ¤å®šè¡¨æ–¹æ³•è®¾è®¡ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>ç­”ï¼š</p>
<p>è¢«æµ‹å‡½æ•°åŠŸèƒ½ï¼šè¯¥ç¨‹åºè¾“å‡ºä¸ºè¾“å…¥æ—¥æœŸçš„ä¸‹ä¸€ä¸ªæ—¥æœŸã€‚</p>
<p>ä¾‹å¦‚ï¼šè¾“å…¥ä¸º2023å¹´4æœˆ2æ—¥ï¼Œå‡½æ•°è¾“å‡ºä¸º2023å¹´4æœˆ3æ—¥ã€‚</p>
<p>å‡½æ•°è¾“å…¥å˜é‡Yï¼ŒMï¼ŒDï¼Œå‡ä¸ºæ­£æ•´æ•°ï¼Œå¹¶æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p>
<p>1ï¼‰1900â‰¤Yâ‰¤2100</p>
<p>2ï¼‰1â‰¤Mâ‰¤12</p>
<p>3ï¼‰1â‰¤Dâ‰¤31</p>
<p>4ï¼‰èƒ½è¢« 400 æ•´é™¤ï¼Œæˆ–è€…èƒ½è¢«4æ•´é™¤ä½†ä¸èƒ½ 100 æ•´é™¤çš„éƒ¨æ˜¯é—°å¹´(366 å¤©)ï¼Œå…¶ä½™çš„å¹´ä»½å‡ä¸ºå¹³å¹´(365 å¤©)</p>
<table>
<thead>
<tr>
<th>è¾“å…¥å‚æ•°</th>
<th>æœ‰æ•ˆç­‰ä»·ç±»</th>
<th>æ— æ•ˆç­‰ä»·ç±»</th>
</tr>
</thead>
<tbody><tr>
<td>Y</td>
<td>1900â‰¤Yâ‰¤2100ï¼ŒY1é—°å¹´ï¼ŒY2å¹³å¹´</td>
<td>ï¼œ1900ï¼Œï¼2100ï¼Œéæ­£æ•´æ•°ï¼Œå…¶ä»–ç¬¦å·</td>
</tr>
<tr>
<td>M</td>
<td>1â‰¤Mâ‰¤12ï¼ŒM1{1,3,5,7,8,10}ï¼ŒM2{4,6,9,11}ï¼ŒM3{2}ï¼ŒM4{12}</td>
<td>&lt;1ï¼Œ&gt;12ï¼Œéæ­£æ•´æ•°ï¼Œå…¶ä»–ç¬¦å·</td>
</tr>
<tr>
<td>D</td>
<td>1â‰¤Dâ‰¤31ï¼ŒD1{1,27}ï¼ŒD2{28}ï¼ŒD3{29}ï¼ŒD4{30}ï¼ŒD5{31}</td>
<td>&lt;1ï¼Œ&gt;31ï¼ŒD6ï¼Œéæ­£æ•´æ•°ï¼Œå…¶ä»–ç¬¦å·</td>
</tr>
</tbody></table>
<p><em><strong>åˆ¤å®šè¡¨è®¾è®¡ï¼š</strong></em></p>
<p>ç»“æœï¼š</p>
<p>1ã€year,monthä¸å˜,day+1</p>
<p>2ã€yearä¸å˜,month+1,day&#x3D;1</p>
<p>3ã€year+1,month&#x3D;1,day&#x3D;1</p>
<p>4ã€é”™è¯¯çš„è¾“å…¥</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
</tr>
</thead>
<tbody><tr>
<td>Y</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
<td>Y1</td>
</tr>
<tr>
<td>M</td>
<td>M3</td>
<td>M3</td>
<td>M3</td>
<td>M1</td>
<td>M1</td>
<td>M1</td>
<td>M2</td>
<td>M2</td>
<td>M2</td>
<td>M4</td>
<td>M4</td>
<td>M4</td>
</tr>
<tr>
<td>D</td>
<td>D3</td>
<td>D2,D1</td>
<td>D4,D5</td>
<td>D5</td>
<td>D1,D2,D3,D4</td>
<td>D6</td>
<td>D4</td>
<td>D5,D6</td>
<td>D1,D2,D3</td>
<td>D5</td>
<td>D1,D2,D3,D4</td>
<td>D6</td>
</tr>
<tr>
<td>1</td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td>âˆš</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹</th>
<th>13</th>
<th>14</th>
<th>15</th>
<th>16</th>
<th>17</th>
<th>18</th>
<th>19</th>
<th>20</th>
<th>21</th>
<th>22</th>
<th>23</th>
<th>24</th>
</tr>
</thead>
<tbody><tr>
<td>Y</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
<td>Y2</td>
</tr>
<tr>
<td>M</td>
<td>M3</td>
<td>M3</td>
<td>M3</td>
<td>M1</td>
<td>M1</td>
<td>M1</td>
<td>M2</td>
<td>M2</td>
<td>M2</td>
<td>M4</td>
<td>M4</td>
<td>M4</td>
</tr>
<tr>
<td>D</td>
<td>D2</td>
<td>D1</td>
<td>D3,D4,D5</td>
<td>D5</td>
<td>D1,D2,D3,D4</td>
<td>D6</td>
<td>D4</td>
<td>D5,D6</td>
<td>D1,D2,D3</td>
<td>D5</td>
<td>D5</td>
<td>D6</td>
</tr>
<tr>
<td>1</td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td>âˆš</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
</tr>
</tbody></table>
<p>æµ‹è¯•ç”¨ä¾‹å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>Y</th>
<th>M</th>
<th>D</th>
<th>é¢„æœŸè¾“å‡º</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>2023</td>
<td>4</td>
<td>1</td>
<td>2023,4,2</td>
</tr>
<tr>
<td>2</td>
<td>2023</td>
<td>3</td>
<td>28</td>
<td>2023,3,29</td>
</tr>
<tr>
<td>3</td>
<td>2023</td>
<td>3</td>
<td>29</td>
<td>2023,3,30</td>
</tr>
<tr>
<td>4</td>
<td>2023</td>
<td>3</td>
<td>30</td>
<td>2023,3,31</td>
</tr>
<tr>
<td>5</td>
<td>2023</td>
<td>3</td>
<td>31</td>
<td>2023,4,1</td>
</tr>
<tr>
<td>6</td>
<td>2023</td>
<td>11</td>
<td>28</td>
<td>2023,11,29</td>
</tr>
<tr>
<td>7</td>
<td>2023</td>
<td>11</td>
<td>29</td>
<td>2023,11,30</td>
</tr>
<tr>
<td>8</td>
<td>2023</td>
<td>11</td>
<td>30</td>
<td>2023,12,1</td>
</tr>
<tr>
<td>9</td>
<td>2023</td>
<td>11</td>
<td>31</td>
<td>é”™è¯¯</td>
</tr>
<tr>
<td>10</td>
<td>2023</td>
<td>2</td>
<td>28</td>
<td>2023,3,1</td>
</tr>
<tr>
<td>11</td>
<td>2023</td>
<td>2</td>
<td>29</td>
<td>é”™è¯¯</td>
</tr>
<tr>
<td>12</td>
<td>2023</td>
<td>2</td>
<td>30</td>
<td>é”™è¯¯</td>
</tr>
<tr>
<td>13</td>
<td>2023</td>
<td>2</td>
<td>31</td>
<td>é”™è¯¯</td>
</tr>
<tr>
<td>14</td>
<td>2020</td>
<td>2</td>
<td>28</td>
<td>2020,2,29</td>
</tr>
<tr>
<td>15</td>
<td>2020</td>
<td>2</td>
<td>29</td>
<td>2020,3,1</td>
</tr>
<tr>
<td>16</td>
<td>2020</td>
<td>2</td>
<td>30</td>
<td>é”™è¯¯</td>
</tr>
<tr>
<td>17</td>
<td>2020</td>
<td>2</td>
<td>31</td>
<td>é”™è¯¯</td>
</tr>
<tr>
<td>18</td>
<td>2020</td>
<td>12</td>
<td>28</td>
<td>2020,12,29</td>
</tr>
<tr>
<td>19</td>
<td>2020</td>
<td>12</td>
<td>29</td>
<td>2020,12,30</td>
</tr>
<tr>
<td>20</td>
<td>2020</td>
<td>12</td>
<td>30</td>
<td>2020,12,31</td>
</tr>
<tr>
<td>21</td>
<td>2020</td>
<td>12</td>
<td>31</td>
<td>2021,1,1</td>
</tr>
</tbody></table>
<hr>
<p>ä¸ªäººè§‰å¾—ä»¥ä¸Šåˆ¤å®šè¡¨çš„è®¾è®¡æ¯”è¾ƒå¤æ‚ğŸ¥ºï¼Œä¸€èˆ¬å¾ˆéš¾æƒ³åˆ°è¿™ä¹ˆè¯¦ç»†ï¼Œæˆ‘è®¤ä¸ºä¸‹é¢çš„åˆ¤å®šè¡¨æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°ğŸ¤¡</p>
<table>
<thead>
<tr>
<th></th>
<th>åºå·</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody><tr>
<td>æ¡ä»¶</td>
<td>æ­£ç¡®è¾“å…¥å¹´Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>æ¡ä»¶</td>
<td>æ­£ç¡®è¾“å…¥æœˆM</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td>N</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>æ¡ä»¶</td>
<td>æ­£ç¡®è¾“å…¥æ—¥D</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>åŠ¨ä½œ</td>
<td>å‡½æ•°è¿è¡ŒæˆåŠŸ</td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>åŠ¨ä½œ</td>
<td>å‡½æ•°è¿è¡Œå¤±è´¥</td>
<td></td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
</tr>
</tbody></table>
<p>æµ‹è¯•ç”¨ä¾‹è¡¨çš„è¯å¯ä»¥æ¨¡ä»¿å‚è€ƒç­”æ¡ˆä¹¦å†™âœ</p>
<h3 id="ç¬¬å››é¢˜"><a href="#ç¬¬å››é¢˜" class="headerlink" title="ç¬¬å››é¢˜"></a>ç¬¬å››é¢˜</h3><p>é’ˆå¯¹æŸæœºæ„äººå‘˜ç®¡ç†çš„ä¸šåŠ¡è§„åˆ™éœ€æ±‚ï¼š</p>
<p>1ï¼‰å¹´è–ªåˆ¶å‘˜å·¥ï¼šä¸¥é‡è¿‡å¤±ï¼Œæ‰£å¹´ç»ˆé£é™©é‡‘çš„4%ï¼›è¿‡å¤±ï¼Œæ‰£å¹´ç»ˆé£é™©é‡‘çš„2%ã€‚</p>
<p>2ï¼‰éå¹´è–ªåˆ¶å‘˜å·¥ï¼šä¸¥é‡è¿‡å¤±ï¼Œæ‰£å½“æœˆè–ªèµ„çš„8%ï¼›è¿‡å¤±ï¼Œæ‰£å½“æœˆè–ªèµ„çš„4%ã€‚</p>
<p>è¯·ç»˜åˆ¶å‡ºå› æœå›¾å’Œåˆ¤å®šè¡¨ï¼Œå¹¶ç»™å‡ºç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>ç­”ï¼š</p>
<ul>
<li><p>å› æœåˆ†æ</p>
<p>åŸå› ï¼š</p>
<blockquote>
<p>C1ï¼šå¹´è–ªåˆ¶å‘˜å·¥</p>
<p>C3ï¼šä¸¥é‡è¿‡å¤±</p>
<p>C3ï¼šè¿‡å¤±</p>
</blockquote>
<p>ç»“æœï¼š</p>
<blockquote>
<p>e1ï¼šæ‰£å¹´ç»ˆé£é™©é‡‘çš„4%</p>
<p>e2ï¼šæ‰£å¹´ç»ˆé£é™©é‡‘çš„2%</p>
<p>e3ï¼šæ‰£æœˆè–ªèµ„çš„8%</p>
<p>e4ï¼šæ‰£æœˆè–ªèµ„çš„4%</p>
</blockquote>
</li>
<li><p>å› æœå›¾è®¾è®¡</p>
<p><img src="https://s2.loli.net/2023/05/31/7xV4hjUMqRTa3ky.png" alt="3HA4ZSM3_6U1BEFKKP_2H5U.png"></p>
</li>
<li><p>åˆ¤å®šè¡¨è®¾è®¡</p>
<table>
<thead>
<tr>
<th></th>
<th>åºå·</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody><tr>
<td>æ¡ä»¶</td>
<td>C1ï¼šå¹´è–ªåˆ¶å‘˜å·¥</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>æ¡ä»¶</td>
<td>C3ï¼šä¸¥é‡è¿‡å¤±</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>æ¡ä»¶</td>
<td>C3ï¼šè¿‡å¤±</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>ç»“æœ</td>
<td>e1ï¼šæ‰£å¹´ç»ˆé£é™©é‡‘çš„4%</td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ç»“æœ</td>
<td>e2ï¼šæ‰£å¹´ç»ˆé£é™©é‡‘çš„2%</td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ç»“æœ</td>
<td>e3ï¼šæ‰£æœˆè–ªèµ„çš„8%</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ç»“æœ</td>
<td>e4ï¼šæ‰£æœˆè–ªèµ„çš„4%</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
</tr>
<tr>
<td>ç»“æœ</td>
<td>ä¸æ“ä½œ</td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
</tr>
<tr>
<td>ç»“æœ</td>
<td>ä¸å¯èƒ½</td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
</li>
<li><p>æœ‰æ•ˆç­‰ä»·ç±»æµ‹è¯•ç”¨ä¾‹</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
</tr>
</thead>
<tbody><tr>
<td>TC1</td>
<td>å¹´è–ªåˆ¶å‘˜å·¥ï¼Œä¸¥é‡è¿‡å¤±</td>
<td>æ‰£å¹´ç»ˆé£é™©é‡‘çš„4%</td>
</tr>
<tr>
<td>TC2</td>
<td>å¹´è–ªåˆ¶å‘˜å·¥ï¼Œè¿‡å¤±</td>
<td>æ‰£å¹´ç»ˆé£é™©é‡‘çš„2%</td>
</tr>
<tr>
<td>TC3</td>
<td>éå¹´è–ªåˆ¶å‘˜å·¥ï¼Œä¸¥é‡è¿‡å¤±</td>
<td>æ‰£æœˆè–ªèµ„çš„8%</td>
</tr>
<tr>
<td>TC4</td>
<td>éå¹´è–ªåˆ¶å‘˜å·¥ï¼Œè¿‡å¤±</td>
<td>æ‰£æœˆè–ªèµ„çš„4%</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="ç¬¬äº”é¢˜"><a href="#ç¬¬äº”é¢˜" class="headerlink" title="ç¬¬äº”é¢˜"></a>ç¬¬äº”é¢˜</h3><p>æµ‹è¯•ä¸€ä¸ªç™»å½•é¡µé¢åœ¨ä¸åŒæµè§ˆå™¨å’Œè¯­è¨€ä¸‹çš„åŠŸèƒ½æ­£ç¡®æ€§ï¼Œå…¶è¾“å…¥æ¡ä»¶å¦‚ä¸‹:</p>
<p>1ï¼‰è¾“å…¥é¡¹ï¼ˆè´¦å·ã€å¯†ç ï¼‰</p>
<p>2ï¼‰æµè§ˆå™¨ï¼ˆIEã€chromeã€FireFoxã€360ï¼‰</p>
<p>3ï¼‰è¯­è¨€ï¼ˆä¸­æ–‡ã€è‹±æ–‡ï¼‰</p>
<p>è¯·é—®è¿›è¡Œå®Œæ•´ç»„åˆçš„å…¼å®¹æ€§æµ‹è¯•éœ€è¦å¤šå°‘ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Ÿé‡‡ç”¨æˆå¯¹ç»„åˆçš„å…¼å®¹æ€§æµ‹è¯•éœ€è¦å¤šå°‘ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Ÿç»™å‡ºæˆå¯¹ç»„åˆæµ‹è¯•ç”¨ä¾‹è¡¨ã€‚</p>
<p>ç­”ï¼š</p>
<p>å®Œæ•´ç»„åˆæµ‹è¯•æœ‰2x2X4x2&#x3D;32 ä¸ªï¼Œæˆå¯¹ç»„åˆæµ‹è¯•éœ€è¦8ä¸ªæµ‹è¯•ç”¨ä¾‹</p>
<p>æˆå¯¹ç»„åˆæµ‹è¯•ç”¨ä¾‹è¡¨</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹</th>
<th>è´¦å·</th>
<th>å¯†ç </th>
<th>æµè§ˆå™¨</th>
<th>è¯­è¨€</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ç©ºå€¼</td>
<td>ç©ºå€¼</td>
<td>IE</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>2</td>
<td>ç©ºå€¼</td>
<td>æœ‰å€¼</td>
<td>chrome</td>
<td>è‹±æ–‡</td>
</tr>
<tr>
<td>3</td>
<td>æœ‰å€¼</td>
<td>ç©ºå€¼</td>
<td>FireFox</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>4</td>
<td>æœ‰å€¼</td>
<td>æœ‰å€¼</td>
<td>360</td>
<td>è‹±æ–‡</td>
</tr>
<tr>
<td>5</td>
<td>ç©ºå€¼</td>
<td>ç©ºå€¼</td>
<td>360</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>6</td>
<td>ç©ºå€¼</td>
<td>æœ‰å€¼</td>
<td>FireFox</td>
<td>è‹±æ–‡</td>
</tr>
<tr>
<td>7</td>
<td>æœ‰å€¼</td>
<td>ç©ºå€¼</td>
<td>chrome</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>8</td>
<td>æœ‰å€¼</td>
<td>æœ‰å€¼</td>
<td>IE</td>
<td>è‹±æ–‡</td>
</tr>
</tbody></table>
<p><em><strong>ä»¥ä¸Šå†…å®¹æ¥è‡ªè€å¸ˆæä¾›çš„åŸç‰ˆç­”æ¡ˆï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£</strong></em>ğŸ˜†</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>è½¯ä»¶æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”µå¤§è½¯ä»¶æµ‹è¯•ï½ç¬¬äºŒæ¬¡ä½œä¸š</title>
    <url>/2023/05/31/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/test2/</url>
    <content><![CDATA[<h2 id="ç¬¬äºŒæ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ"><a href="#ç¬¬äºŒæ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ" class="headerlink" title="ç¬¬äºŒæ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ"></a>ç¬¬äºŒæ¬¡ä½œä¸šåŠå‚è€ƒç­”æ¡ˆ</h2><h3 id="ç¬¬ä¸€é¢˜"><a href="#ç¬¬ä¸€é¢˜" class="headerlink" title="ç¬¬ä¸€é¢˜"></a>ç¬¬ä¸€é¢˜</h3><p> åœ¨ä¸€ä¸ªå®¢æˆ·ä¿¡æ¯æŸ¥è¯¢ç•Œé¢ä¸­ï¼Œè¾“å…¥æ¡ä»¶æœ‰â€œå§“åâ€ã€â€œèº«ä»½è¯å·â€ã€â€œæ‰‹æœºâ€ï¼Œé‡‡ç”¨æ­£äº¤è¡¨æ–¹å¼è®¾è®¡è¯¥ç•Œé¢æŸ¥è¯¢åŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>ç­”ï¼š</p>
<p>é’ˆå¯¹æœ¬æµ‹è¯•æœ‰3ä¸ªè¾“å…¥æ¡ä»¶ï¼Œæ¯ä¸ªè¾“å…¥æœ‰2ç§å–å€¼æƒ…å†µï¼Œå¯ä»¥é€‰æ‹©Lâ‚„(2Â³)æ­£äº¤è¡¨ï¼Œå…¶æ­£äº¤è¡¨å€¼å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>å®éªŒæ•°\åˆ—å·</th>
<th>å§“å</th>
<th>èº«ä»½è¯å·</th>
<th>æ‰‹æœº</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th>æµ‹è¯•ç”¨ä¾‹&#x2F;æŸ¥è¯¢æ¡ä»¶</th>
<th>å§“å</th>
<th>èº«ä»½è¯å·</th>
<th>æ‰‹æœº</th>
</tr>
</thead>
<tbody><tr>
<td>æµ‹è¯•ç”¨ä¾‹1</td>
<td>å¡«å†™</td>
<td>å¡«å†™</td>
<td>å¡«å†™</td>
</tr>
<tr>
<td>æµ‹è¯•ç”¨ä¾‹2</td>
<td>å¡«å†™</td>
<td>ç©º</td>
<td>ç©º</td>
</tr>
<tr>
<td>æµ‹è¯•ç”¨ä¾‹3</td>
<td>ç©º</td>
<td>å¡«å†™</td>
<td>ç©º</td>
</tr>
<tr>
<td>æµ‹è¯•ç”¨ä¾‹4</td>
<td>ç©º</td>
<td>ç©º</td>
<td>å¡«å†™</td>
</tr>
</tbody></table>
<h3 id="ç¬¬äºŒé¢˜"><a href="#ç¬¬äºŒé¢˜" class="headerlink" title="ç¬¬äºŒé¢˜"></a>ç¬¬äºŒé¢˜</h3><p>æ ¹æ®å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç¨‹åºæµç¨‹å›¾ï¼Œåˆ†åˆ«ä½¿ç”¨è¯­å¥è¦†ç›–æµ‹è¯•ã€åˆ¤å®šè¦†ç›–æµ‹è¯•ã€æ¡ä»¶è¦†ç›–æµ‹è¯•å’Œè·¯å¾„è¦†ç›–æµ‹è¯•è¿›è¡Œæµ‹è¯•ç”¨ä¾‹è®¾è®¡ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/YaGS6fzEgLuwdKp.png"></p>
<p>ç­”ï¼š</p>
<p><em><strong>1ï¼‰è¯­å¥è¦†ç›–</strong></em></p>
<p>è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—è¢«æµ‹è¯•ç¨‹åºä¸­çš„æ¯æ¡å¯æ‰§è¡Œè¯­å¥è‡³å°‘è¢«æ‰§è¡Œä¸€æ¬¡ã€‚å…¶æµ‹è¯•ç”¨ä¾‹è¡¨å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–è¯­å¥</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(X,Y)&#x3D;(1,11)</td>
<td>(X,Y)&#x3D;(1,11)</td>
<td>X&gt;0 AND Y&gt;10;Y&#x3D;Y&#x2F;X;X&lt;-10 OR Y&lt;0</td>
</tr>
<tr>
<td>2</td>
<td>(X,Y)&#x3D;(0,-1)</td>
<td>(X,Y)&#x3D;(0,1)</td>
<td>X&gt;0 AND Y&gt;10;X&lt;-10 OR Y&lt;0;Y&#x3D;-(Y+X)</td>
</tr>
</tbody></table>
<p><em><strong>2ï¼‰åˆ¤å®šè¦†ç›–</strong></em></p>
<p>è®¾è®¡æµ‹è¯•ç”¨ä¾‹,ä½¿å¾—è¢«æµ‹è¯•ç¨‹åºä¸­çš„æ¯ä¸ªåˆ¤æ–­çš„â€çœŸâ€ã€â€å‡â€åˆ†æ”¯è‡³å°‘è¢«æ‰§è¡Œä¸€æ¬¡ã€‚è®¾X&gt;0 AND Y&gt;10ä¸ºåˆ¤å®šæ¡ä»¶Mï¼ŒX&lt;-10 OR Y&lt;0ä¸ºåˆ¤å®šæ¡ä»¶Nã€‚<br>è®¾è®¡çš„åˆ¤å®šè¦†ç›–æµ‹è¯•ç”¨ä¾‹å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–åˆ¤å®šæ¡ä»¶</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(X,Y)&#x3D;(1,11)</td>
<td>(X,Y)&#x3D;(1,11)</td>
<td>Mä¸ºçœŸï¼ŒNä¸ºå‡</td>
</tr>
<tr>
<td>2</td>
<td>(X,Y)&#x3D;(0,-1)</td>
<td>(X,Y)&#x3D;(0,1)</td>
<td>Mä¸ºå‡ï¼ŒNä¸ºçœŸ</td>
</tr>
</tbody></table>
<p><em><strong>3ï¼‰æ¡ä»¶è¦†ç›–</strong></em></p>
<p>è®¾è®¡æµ‹è¯•ç”¨ä¾‹,ä½¿å¾—è¢«æµ‹è¯•ç¨‹åºä¸­åˆ†æ”¯åˆ¤æ–­è¯­å¥ä¸­æ¯ä¸ªæ¡ä»¶çš„å¯èƒ½å€¼è‡³å°‘è¢«æ»¡è¶³ä¸€æ¬¡ã€‚<br>è®¾</p>
<blockquote>
<p>æ¡ä»¶X&gt;0:<br>å–çœŸæ—¶ä¸ºT1ï¼Œå–å‡æ—¶ä¸ºF1<br>æ¡ä»¶Y&gt;10:<br>å–çœŸæ—¶ä¸ºT2ï¼Œå–å‡æ—¶ä¸ºF2<br>æ¡ä»¶x&lt;-10:<br>å–çœŸæ—¶ä¸ºT3ï¼Œå–å‡æ—¶ä¸ºF3<br>æ¡ä»¶Y&lt;0:<br>å–çœŸæ—¶ä¸ºT4,å–å‡æ—¶ä¸º F4</p>
</blockquote>
<p>è®¾è®¡çš„æ¡ä»¶è¦†ç›–æµ‹è¯•ç”¨ä¾‹å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–æ¡ä»¶</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(X,Y)&#x3D;(1,-1)</td>
<td>(X,Y)&#x3D;(1,0)</td>
<td>T1ï¼ŒF2ï¼ŒF3ï¼ŒT4</td>
</tr>
<tr>
<td>2</td>
<td>(X,Y)&#x3D;(-11,11)</td>
<td>(X,Y)&#x3D;(-11,0)</td>
<td>F1ï¼ŒT2ï¼ŒT3ï¼ŒF4</td>
</tr>
</tbody></table>
<p><em><strong>4ï¼‰åŸºæœ¬è·¯å¾„è¦†ç›–</strong></em></p>
<p>è®¾è®¡æµ‹è¯•ç”¨ä¾‹,ä½¿å¾—è¢«æµ‹è¯•ç¨‹åºä¸­çš„åŸºæœ¬è·¯å¾„è‡³å°‘è¢«è¦†ç›–ä¸€æ¬¡ã€‚ä¾æ®è¯¥ç¨‹åºæ§åˆ¶æµå›¾è®¡ç®—ç¯è·¯å¤æ‚åº¦&#x3D;3ï¼ˆåˆ¤æ–­èŠ‚ç‚¹æ•°ç›®+1ï¼‰,å› æ­¤,è¯¥ç¨‹åºçš„åŸºæœ¬è·¯å¾„æœ‰3æ¡ã€‚</p>
<p>è®¾è®¡çš„åŸºæœ¬è·¯å¾„è¦†ç›–æµ‹è¯•ç”¨ä¾‹å¦‚ä¸‹è¡¨æ‰€ç¤º</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(X,Y)&#x3D;(0,0)</td>
<td>(X,Y)&#x3D;(0,0)</td>
<td>ace</td>
</tr>
<tr>
<td>2</td>
<td>(X,Y)&#x3D;(1,11)</td>
<td>(X,Y)&#x3D;(1,11)</td>
<td>abce</td>
</tr>
<tr>
<td>3</td>
<td>(X,Y)&#x3D;(-11,1)</td>
<td>(X,Y)&#x3D;(-11,10)</td>
<td>acde</td>
</tr>
<tr>
<td>4</td>
<td>ä¸å­˜åœ¨</td>
<td>ä¸å­˜åœ¨</td>
<td>abcde</td>
</tr>
</tbody></table>
<p>ä½†æ˜¯çœ‹è¿™ç¯‡æ–‡ç« <a href="https://blog.csdn.net/dickdick111/article/details/90478058?ops_request_misc=&request_id=&biz_id=102&utm_term=%E7%8E%AF%E5%BD%A2%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%9A%84%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95%E7%A8%8B%E5%BA%8F%E6%B5%81%E7%A8%8B%E5%9B%BE&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-90478058.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&spm=1018.2226.3001.4187"> è½¯ä»¶æµ‹è¯•â€”â€”ç¨‹åºæ§åˆ¶æµå›¾ï¼ŒMcCabeç¯å½¢å¤æ‚åº¦_æ ¹æ®ç¨‹åºç”»å‡ºæ§åˆ¶æµå›¾_Dic0kçš„åšå®¢-CSDNåšå®¢</a>ï¼ŒæŒ‰ç…§å®ƒçš„é€»è¾‘ï¼Œç¯å½¢å¤æ‚åº¦åº”è¯¥æœ‰5æ¡ã€‚ï¼ˆå¾ˆå¥‡æ€ªï¼‰</p>
<h3 id="ç¬¬ä¸‰é¢˜"><a href="#ç¬¬ä¸‰é¢˜" class="headerlink" title="ç¬¬ä¸‰é¢˜"></a>ç¬¬ä¸‰é¢˜</h3><p>é’ˆå¯¹å¦‚ä¸‹æ ·æœ¬ç¨‹åºï¼Œåˆ†æè¯¥ç¨‹åºé€»è¾‘è¦†ç›–æµ‹è¯•æ–¹æ³•ä¸­çš„è¯­å¥è¦†ç›–ã€åˆ¤å®šè¦†ç›–ã€æ¡ä»¶è¦†ç›–å’ŒåŸºæœ¬è·¯å¾„è¦†ç›–ï¼Œå¹¶è¯´æ˜å“ªç§æ–¹æ³•è¦†ç›–ç‡é«˜ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>è¢«æµ‹æ ·æœ¬ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Coverage</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;start main function:path a...&quot;</span>);</span><br><span class="line">  <span class="type">int</span> A=<span class="number">0</span>,B=<span class="number">0</span>,X=<span class="number">0</span>;</span><br><span class="line">  <span class="type">Scanner</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">  System.out.println(<span class="string">&quot;è¾“å…¥Aï¼š&quot;</span>);  A = s.nextInt();</span><br><span class="line">  System.out.println(<span class="string">&quot;è¾“å…¥B=&quot;</span>);  B = s.nextInt();</span><br><span class="line">  System.out.println(<span class="string">&quot;è¾“å…¥X=&quot;</span>);  X = s.nextInt();</span><br><span class="line">  s.close();  </span><br><span class="line">  <span class="keyword">if</span> (A&gt;<span class="number">1</span> &amp;&amp; B==<span class="number">0</span>) &#123;</span><br><span class="line">	X=X/A;</span><br><span class="line">	System.out.println(<span class="string">&quot;path c&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;path b&quot;</span>);  &#125;</span><br><span class="line">  <span class="keyword">if</span> (A==<span class="number">2</span> || X&gt;<span class="number">1</span>) &#123;</span><br><span class="line">	X=X+<span class="number">1</span>;</span><br><span class="line">	System.out.println(<span class="string">&quot;path e&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;path d&quot;</span>);  &#125;</span><br><span class="line">  System.out.println(<span class="string">&quot;end main function.&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€‹	ç­”ï¼š</p>
<p>â€‹	<u><em><strong>æ³¨ï¼šä»¥ä¸‹ç­”æ¡ˆåªå‚è€ƒäº†æ ‡å‡†ç­”æ¡ˆçš„ä¸€éƒ¨åˆ†</strong></em></u></p>
<p><img src="https://s2.loli.net/2023/05/31/P7NxLnZ9QhsHmyW.png" alt="VF1D1EJ2__LKYS_1_GPGJ5W.png"></p>
<ol>
<li><p>è¯­å¥è¦†ç›–æµ‹è¯•</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(A,B,X)&#x3D;(2,0,2)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath cï¼Œpath eï¼Œend main function.</td>
<td>ace</td>
</tr>
<tr>
<td>2</td>
<td>(A,B,X)&#x3D;(0,1,1)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath bï¼Œpath dï¼Œend main function.</td>
<td>abd</td>
</tr>
</tbody></table>
</li>
<li><p>åˆ¤å®šè¦†ç›–æµ‹è¯•</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(A,B,X)&#x3D;(2,0,2)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath cï¼Œpath eï¼Œend main function.</td>
<td>ace</td>
</tr>
<tr>
<td>2</td>
<td>(A,B,X)&#x3D;(0,1,1)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath bï¼Œpath dï¼Œend main function.</td>
<td>abd</td>
</tr>
</tbody></table>
</li>
<li><p>æ¡ä»¶è¦†ç›–æµ‹è¯•</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(A,B,X)&#x3D;(2,0,2)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath cï¼Œpath eï¼Œend main function.</td>
<td>ace</td>
</tr>
<tr>
<td>2</td>
<td>(A,B,X)&#x3D;(0,1,1)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath bï¼Œpath dï¼Œend main function.</td>
<td>abd</td>
</tr>
</tbody></table>
</li>
<li><p>åŸºæœ¬è·¯å¾„è¦†ç›–æµ‹è¯•</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹åºå·</th>
<th>è¾“å…¥æ•°æ®</th>
<th>é¢„æœŸè¾“å‡º</th>
<th>è¦†ç›–è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>(A,B,X)&#x3D;(2,0,2)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath cï¼Œpath eï¼Œend main function.</td>
<td>ace</td>
</tr>
<tr>
<td>2</td>
<td>(A,B,X)&#x3D;(0,1,1)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath bï¼Œpath dï¼Œend main function.</td>
<td>abd</td>
</tr>
<tr>
<td>3</td>
<td>(A,B,X)&#x3D;(0,1,2)</td>
<td>start main function:path aâ€¦ï¼Œè¾“å…¥Aï¼šï¼Œè¾“å…¥B&#x3D;ï¼Œè¾“å…¥X&#x3D;ï¼Œpath bï¼Œpath eï¼Œend main function.</td>
<td>abe</td>
</tr>
</tbody></table>
</li>
</ol>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºæœ¬è·¯å¾„è¦†ç›–æµ‹è¯•ç”¨çš„æµ‹è¯•ç”¨ä¾‹æœ€å¤šï¼Œè¦†ç›–çš„è·¯å¾„ä¹Ÿæœ€å¤šï¼Œæ•…åŸºæœ¬è·¯å¾„è¦†ç›–çš„è¦†ç›–ç‡æœ€é«˜ã€‚</p>
<p><em><strong>æ³¨ï¼š<a href="https://blog.csdn.net/The_Azur/article/details/117936347">ç¯å½¢å¤æ‚åº¦å¿…å®šæ˜¯åŸºæœ¬è·¯å¾„ä¸ªæ•°çš„ä¸Šé™ã€‚</a></strong></em></p>
<p><img src="https://s2.loli.net/2023/05/31/HtDjYwSso3WKVFn.png" alt="Snipaste_2023-05-31_21-48-19.png"></p>
<h3 id="ç¬¬å››é¢˜"><a href="#ç¬¬å››é¢˜" class="headerlink" title="ç¬¬å››é¢˜"></a>ç¬¬å››é¢˜</h3><p>ä½¿ç”¨PMDä»£ç åˆ†æå·¥å…·é’ˆå¯¹å¦‚ä¸‹è¢«æµ‹ç¨‹åºï¼Œæ‰¾å‡ºè¯¥ç¨‹åºå­˜åœ¨çš„æ½œåœ¨ç¼ºé™·ï¼Œç»™å‡ºç»“æœç•Œé¢æˆªå›¾ï¼Œå¹¶è¯´æ˜å„ä¸ªç¼ºé™·å‡ºç°çš„åŸå› ã€‚</p>
<p>è¢«æµ‹æ ·æœ¬ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Coverage</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;start main function:path a...&quot;</span>);</span><br><span class="line">  <span class="type">int</span> A=<span class="number">0</span>,B=<span class="number">0</span>,X=<span class="number">0</span>;</span><br><span class="line">  <span class="type">Scanner</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">  System.out.println(<span class="string">&quot;è¾“å…¥Aï¼š&quot;</span>);  A = s.nextInt();</span><br><span class="line">  System.out.println(<span class="string">&quot;è¾“å…¥B=&quot;</span>);  B = s.nextInt();</span><br><span class="line">  System.out.println(<span class="string">&quot;è¾“å…¥X=&quot;</span>);  X = s.nextInt();</span><br><span class="line">  s.close();  </span><br><span class="line">  <span class="keyword">if</span> (A&gt;<span class="number">1</span> &amp;&amp; B==<span class="number">0</span>) &#123;</span><br><span class="line">	X=X/A;</span><br><span class="line">	System.out.println(<span class="string">&quot;path c&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;path b&quot;</span>);  &#125;</span><br><span class="line">  <span class="keyword">if</span> (A==<span class="number">2</span> || X&gt;<span class="number">1</span>) &#123;</span><br><span class="line">	X=X+<span class="number">1</span>;</span><br><span class="line">	System.out.println(<span class="string">&quot;path e&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	System.out.println(<span class="string">&quot;path d&quot;</span>);  &#125;</span><br><span class="line">  System.out.println(<span class="string">&quot;end main function.&quot;</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ç­”ï¼š</p>
<p><u><em><strong>æ³¨ï¼šä»¥ä¸‹ç­”æ¡ˆåªå‚è€ƒäº†æ ‡å‡†ç­”æ¡ˆçš„ä¸€éƒ¨åˆ†</strong></em></u></p>
<p><a href="https://smms.app/image/5I4amZs2cXEldHv" target="_blank"><img src="https://s2.loli.net/2023/05/31/5I4amZs2cXEldHv.jpg" alt="Z__LBIY38___C`L5GCFZSVF.jpg"></a></p>
<p>ä»¥ä¸‹æ˜¯å¯èƒ½çš„ç¼ºé™·ï¼ˆæ„Ÿè§‰æ¯ä¸ªäººåšå‡ºæ¥éƒ½ä¸ä¸€æ ·å“ˆå“ˆå“ˆå“ˆğŸ˜†ï¼‰ï¼š</p>
<blockquote>
<p>ï¼ˆ1ï¼‰VariableNamingConventionsï¼š</p>
<p>â€‹		â‘ å˜é‡åº”ä»¥å°å†™å­—ç¬¦å¼€å¤´ï¼Œâ€™Aâ€™â€™Bâ€™â€™Xâ€™å‡ä»¥å¤§å†™å­—ç¬¦å¼€å¤´</p>
<p>ï¼ˆ2ï¼‰UseUtilityClassï¼š</p>
<p>â€‹		â‘ æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å®ç”¨å·¥å…·ç±»ï¼Œæˆ–æ·»åŠ ä¸€ä¸ªç§		æœ‰æ„é€ å‡½æ•°ï¼Œæˆ–ä½¿ç±»æŠ½è±¡æ¥å±è”½è¿™ä¸ªè­¦å‘Š</p>
<p>ï¼ˆ3ï¼‰LocalVariableCouldBeFinalï¼š</p>
<p>â€‹		â‘ å±€éƒ¨å˜é‡â€™sâ€™å¯ä»¥å£°æ˜ä¸ºfinal</p>
<p>ï¼ˆ4ï¼‰LocalVaraiableNamingConventionsï¼š</p>
<p>â€‹		â‘ å±€éƒ¨å˜é‡åâ€™Aâ€™â€™Bâ€™â€™Xâ€™ä¸åŒ¹é…â€™[a-z][a-zA-Z0-9]*â€™</p>
<p>ï¼ˆ5ï¼‰MethodArgumentCouldBeFinalï¼š</p>
<p>â€‹		â‘ å‚æ•°â€™argsâ€™æœªèµ‹å€¼ï¼Œå¯ä»¥å£°æ˜ä¸ºfinal</p>
<p>ï¼ˆ6ï¼‰CommentRequiredï¼š</p>
<p>â€‹		â‘ ç±»æ³¨é‡Šæ˜¯å¿…éœ€çš„</p>
<p>â€‹		â‘¡å…¬å…±æ–¹æ³•å’Œæ„é€ å‡½æ•°çš„æ³¨é‡Šæ˜¯å¿…éœ€çš„</p>
<p>ï¼ˆ7ï¼‰OneDeclarationPerLineï¼š</p>
<p>â€‹		â‘ int A&#x3D;0,B&#x3D;0,X&#x3D;0; æ¯ä¸ªå£°æ˜ä¸ºä¸€è¡Œï¼Œå¯ä»¥å¢å¼ºä»£ç çš„å¯è¯»æ€§</p>
<p>ï¼ˆ8ï¼‰UnusedAssignmentï¼š</p>
<p>â€‹		â‘ å˜é‡â€™Bâ€™çš„åˆå§‹åŒ–å¼ä»æœªä½¿ç”¨ï¼ˆåè¢«é‡å†™ï¼‰</p>
<p>â€‹		â‘¡å˜é‡â€™Aâ€™çš„åˆå§‹åŒ–å¼ä»æœªä½¿ç”¨ï¼ˆåè¢«è¦†ç›–ï¼‰</p>
<p>â€‹		â‘¢å˜é‡â€™Xâ€™çš„åˆå§‹åŒ–å¼ä»æœªä½¿ç”¨ï¼ˆåè¢«è¦†ç›–ï¼‰</p>
<p>â€‹		â‘£ X&#x3D;X+1; èµ‹ç»™å˜é‡â€™Xâ€™çš„å€¼ä»æœªä½¿ç”¨è¿‡</p>
<p>ï¼ˆ9ï¼‰SystemPrintlnï¼š</p>
<p>â€‹		â‘ ä½¿ç”¨System.out.println</p>
<p>ï¼ˆ10ï¼‰ShortVariableï¼š</p>
<p>â€‹		â‘  Scanner s &#x3D; new Scanner(System.in); é¿å…ä½¿ç”¨åƒsè¿™æ ·åå­—è¾ƒ		çŸ­çš„å˜é‡</p>
<p>â€‹		â‘¡é¿å…ä½¿ç”¨çŸ­åç§°çš„å˜é‡ï¼šå¦‚A,B,X</p>
<p>ï¼ˆ11ï¼‰DataflowAnomalyAnalysisï¼š</p>
<p>â€‹		â‘ å‘ç°å˜é‡â€™Aâ€™çš„â€™DDâ€™å¼‚å¸¸</p>
<p>â€‹			int A&#x3D;0,B&#x3D;0,X&#x3D;0;</p>
<p>â€‹			Scanner s &#x3D; new Scanner(System.in);</p>
<p>â€‹		    System.out.println(â€œè¾“å…¥Aï¼šâ€);A &#x3D; s.nextInt();</p>
<p>â€‹		â‘¡å‘ç°å˜é‡â€™Xâ€™çš„â€™DUâ€™å¼‚å¸¸</p>
<p>â€‹		X&#x3D;X+1;</p>
<p>â€‹		System.out.println(â€œpath eâ€);</p>
<p>â€‹	} else {</p>
<p>â€‹		System.out.println(â€œpath dâ€);  }</p>
<p>â€‹		System.out.println(â€œend main function.â€);</p>
<p>â€‹	}</p>
<p>â€‹		â‘¢å‘ç°å˜é‡â€™Xâ€™çš„â€™DDâ€™å¼‚å¸¸</p>
<p>â€‹		int A&#x3D;0,B&#x3D;0,X&#x3D;0;</p>
<p> â€‹		Scanner s &#x3D; new Scanner(System.in);</p>
<p>â€‹		System.out.println(â€œè¾“å…¥Aï¼šâ€);  A &#x3D; s.nextInt();</p>
<p>â€‹		 System.out.println(â€œè¾“å…¥B&#x3D;â€);  B &#x3D; s.nextInt();</p>
<p>â€‹        System.out.println(â€œè¾“å…¥X&#x3D;â€);  X &#x3D; s.nextInt();</p>
<p>â€‹		â‘£å‘ç°å˜é‡â€™Bâ€™çš„â€™DDâ€™å¼‚å¸¸</p>
<p>â€‹		int A&#x3D;0,B&#x3D;0,X&#x3D;0;</p>
<p>â€‹	Scanner s &#x3D; new Scanner(System.in);</p>
<p>â€‹	System.out.println(â€œè¾“å…¥Aï¼šâ€);  A &#x3D; s.nextInt();</p>
<p>â€‹	System.out.println(â€œè¾“å…¥B&#x3D;â€);  B &#x3D; s.nextInt();</p>
<p>ï¼ˆ12ï¼‰CloseResourceï¼š</p>
<p>â€‹		â‘ Scanner s &#x3D; new Scanner(System.in); ç¡®ä¿åƒInputStreamå¯¹è±¡		è¿™æ ·çš„èµ„æºåœ¨ä½¿ç”¨åè¢«å…³é—­</p>
</blockquote>
<p>æˆ‘æ„Ÿè§‰ç¬¬å››é¢˜åº”è¯¥ä¸ä¼šè€ƒğŸ™‚</p>
<p><em><strong>å£°æ˜ï¼šé™¤ç‰¹æ®Šæ ‡æ³¨å¤–ï¼ˆç»¼åˆè€ƒè™‘å…¶ä»–åŒå­¦çš„ç­”æ¡ˆï¼‰ï¼Œç­”æ¡ˆå‡ä¸ºè€å¸ˆåŸç‰ˆç­”æ¡ˆ</strong></em></p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>è½¯ä»¶æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®åº“æœŸæœ«å¤ä¹ </title>
    <url>/2023/06/03/%E6%95%B0%E6%8D%AE%E5%BA%93/db1/</url>
    <content><![CDATA[<h2 id="ç¬¬ä¸€ç« æ•°æ®åº“ç³»ç»Ÿæ¦‚è®º"><a href="#ç¬¬ä¸€ç« æ•°æ®åº“ç³»ç»Ÿæ¦‚è®º" class="headerlink" title="ç¬¬ä¸€ç« 	æ•°æ®åº“ç³»ç»Ÿæ¦‚è®º"></a>ç¬¬ä¸€ç« 	æ•°æ®åº“ç³»ç»Ÿæ¦‚è®º</h2><ul>
<li><p>åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„ä¸­ï¼Œä¸‹é¢å“ªä¸ªå±‚æ¬¡è´Ÿè´£å¯¹æ•°æ®æ–‡ä»¶è¿›è¡Œæ“ä½œè®¿é—®?<br>A.æ“ä½œç•Œé¢å±‚	B.è¯­è¨€ç¿»è¯‘å¤„ç†å±‚	C.æ•°æ®å­˜å–å±‚	<strong>D.æ•°æ®å­˜å‚¨å±‚</strong></p>
<p>  æ ¹æ®å¤„ç†å¯¹è±¡çš„ä¸åŒï¼Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„å±‚æ¬¡ç»“æ„ç”±å¤–è‡³å†…ä¾æ¬¡ä¸ºåº”ç”¨å±‚ã€è¯­è¨€ç¿»è¯‘å¤„ç†å±‚ã€æ•°æ®å­˜å–å±‚ã€æ•°æ®å­˜å‚¨å±‚ã€‚</p>
<p>  (1)åº”ç”¨å±‚ï¼šæ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸ç»ˆç«¯ç”¨æˆ·å’Œåº”ç”¨ç¨‹åºçš„ç•Œé¢ï¼Œè´Ÿè´£å¤„ç†å„ç§æ•°æ®åº“åº”ç”¨ï¼Œå¦‚ä½¿ç”¨ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€<a href="https://baike.baidu.com/item/SQL?fromModule=lemma_inlink">SQL</a>å‘å‡ºçš„äº‹åŠ¡è¯·æ±‚æˆ–åµŒå…¥é€šç”¨çš„<a href="https://baike.baidu.com/item/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80?fromModule=lemma_inlink">ç¨‹åºè®¾è®¡è¯­è¨€</a>çš„åº”ç”¨ç¨‹åºå¯¹<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93?fromModule=lemma_inlink">æ•°æ®åº“</a>çš„è¯·æ±‚ã€‚</p>
<p>  (2)è¯­è¨€å¤„ç†å±‚ï¼šç”±DDLç¼–è¯‘å™¨ã€DMLç¼–è¯‘å™¨ã€DCLç¼–è¯‘å™¨ã€æŸ¥è¯¢å™¨ç­‰ç»„æˆï¼Œè´Ÿè´£å®Œæˆå¯¹<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%AD%E8%A8%80?fromModule=lemma_inlink">æ•°æ®åº“è¯­è¨€</a>çš„å„ç±»è¯­å¥è¿›è¡Œè¯æ³•åˆ†æã€<a href="https://baike.baidu.com/item/%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90?fromModule=lemma_inlink">è¯­æ³•åˆ†æ</a>å’Œ<a href="https://baike.baidu.com/item/%E8%AF%AD%E4%B9%89%E5%88%86%E6%9E%90?fromModule=lemma_inlink">è¯­ä¹‰åˆ†æ</a>ï¼Œç”Ÿæˆå¯æ‰§è¡Œçš„ä»£ç ã€‚æ­¤å¤–ï¼Œè¿˜è´Ÿè´£è¿›è¡Œæˆæƒæ£€éªŒã€è§†å›¾è½¬æ¢ã€å®Œæ•´æ€§æ£€æŸ¥ã€æŸ¥è¯¢ä¼˜åŒ–ç­‰ã€‚</p>
<p>  (3)æ•°æ®å­˜å–å±‚ï¼šå°†ä¸Šå±‚çš„é›†åˆæ“ä½œè½¬æ¢ä¸ºå¯¹<strong>è®°å½•</strong>çš„æ“ä½œï¼ŒåŒ…æ‹¬æ‰«æã€æ’åºã€æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ã€ä¿®æ”¹ç­‰ï¼Œå®Œæˆæ•°æ®çš„å­˜å–ã€è·¯å¾„çš„ç»´æŠ¤ä»¥åŠå¹¶å‘æ§åˆ¶ç­‰ä»»åŠ¡ã€‚</p>
<p>  (4)æ•°æ®å­˜å‚¨å±‚ï¼šç”±æ–‡ä»¶ç®¡ç†å™¨å’Œç¼“å†²åŒºç®¡ç†å™¨ç»„æˆï¼Œè´Ÿè´£å®Œæˆæ•°æ®çš„é¡µé¢å­˜å‚¨å’Œç³»ç»Ÿçš„ç¼“å†²åŒºç®¡ç†ç­‰ä»»åŠ¡ï¼ŒåŒ…æ‹¬æ‰“å¼€å’Œå…³é—­æ–‡ä»¶ã€è¯»å†™é¡µé¢ã€è¯»å†™ç¼“å†²åŒºã€é¡µé¢æ·˜æ±°ã€å†…å¤–å­˜äº¤æ¢ä»¥åŠå¤–å±‚ç®¡ç†ç­‰ã€‚</p>
</li>
<li><p>åœ¨æ•°æ®åº“é¢†åŸŸæŠ€æœ¯ä¸­ï¼Œä¸‹é¢å“ªç§æŠ€æœ¯å¯ä»¥å®ç°æ•°æ®é›†æˆ?<br>A.æ•°æ®åº“æŠ€æœ¯	<strong>B.æ•°æ®ä»“åº“æŠ€æœ¯</strong>	C.æ•°æ®æŒ–æ˜æŠ€æœ¯	D.å•†ä¸šæ™ºèƒ½æŠ€æœ¯</p>
<p>æ•°æ®ä»“åº“ (Data Warehouse) ç®€ç§°DWï¼Œå­˜å‚¨å¤§é‡æ•°æ®çš„é›†æˆä¸­å¿ƒã€‚æ•°æ®ä»“åº“çš„ç›®çš„æ˜¯æ„å»ºé¢å‘åˆ†æçš„é›†æˆåŒ–æ•°æ®ç¯å¢ƒï¼Œä¸ºä¼ä¸šæä¾›å†³ç­–æ”¯æŒï¼ˆDecision-Supportï¼‰ã€‚å®ƒä¸ºä¼ä¸šæä¾›ä¸€å®šçš„BIï¼ˆå•†ä¸šæ™ºèƒ½ï¼‰èƒ½åŠ›ï¼ŒæŒ‡å¯¼ä¸šåŠ¡æµç¨‹æ”¹è¿›ã€ç›‘è§†æ—¶é—´ã€æˆæœ¬ã€è´¨é‡ä»¥åŠæ§åˆ¶ã€‚æ•°æ®åº“æŒ–æ˜å¯å»ºç«‹åœ¨æ•°æ®ä»“åº“åŸºç¡€ä¸Šè¿›è¡Œæ•°æ®åˆ†æå¤„ç†ã€‚</p>
</li>
<li><p>ä¸‹é¢å“ªç§æ•°æ®åº“ç³»ç»Ÿåº”ç”¨ç»“æ„é€‚åˆé“¶è¡Œä¸šåŠ¡ç³»ç»Ÿ?<br>A.é›†ä¸­å¼ç»“æ„    B.å®¢æˆ·&#x2F;æœåŠ¡å™¨ç»“æ„	<strong>C.åˆ†å¸ƒå¼ç»“æ„</strong>	D.ä»¥ä¸Šç»“æ„éƒ½å¯ä»¥<br>  åˆ†å¸ƒå¼æ•°æ®åº“çš„åº”ç”¨åœºæ™¯ä¸»è¦ç‰¹å¾æ˜¯æµ·é‡å¹¶å‘ï¼Œæ‰€ä»¥ç†è®ºè¯´ï¼Œä¸šåŠ¡è§„æ¨¡è¶Šå¤§ï¼Œä½¿ç”¨åˆ†å¸ƒå¼æ•°æ®åº“çš„éœ€æ±‚ä¹Ÿå°±è¶Šè¿«åˆ‡ã€‚</p>
</li>
<li><p>MySqlâ€”â€”åº”ç”¨å¹¿æ³›çš„å¼€æº<strong>å…³ç³»</strong>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œ<em>ä¸æ˜¯ä¼ä¸šçº§DBMS</em>ï¼ŒPostgreSQLâ€”â€”æŠ€æœ¯é¢†å…ˆçš„å¼€æº<strong>å¯¹è±¡-å…³ç³»</strong>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</p>
</li>
<li><p>ä¸‹é¢å“ªä¸ªç¨‹åºå®ç°PostgreSQLæœåŠ¡å™¨èµ·åœæ§åˆ¶ï¼Ÿpg_ctl</p>
<blockquote>
<p>åˆå§‹åŒ–æ•°æ®åº“<br>pg_ctl init<br>å¯åŠ¨æ•°æ®åº“<br>pg_ctl start<br>å…³é—­æ•°æ®åº“<br>pg_ctl stop<br>é‡å¯æ•°æ®åº“<br>pg_ctl restart </p>
</blockquote>
</li>
<li><p>ä¸‹é¢å“ªç±»æ•°æ®åº“æ˜¯åŠŸèƒ½æœ€å¼ºå¤§çš„æ•°æ®åº“?<br>A.MySQL	B.PostgreSQL	<strong>C.Oracle Database</strong>	D.SQL Server<br>Oracle Databaseâ€”â€”ç”²éª¨æ–‡å…¬å¸æ¨å‡ºçš„ä¼ä¸šçº§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</p>
</li>
<li><p>SQLiteæ•°æ®åº“å¯ä»¥åœ¨æ‰‹æœºä¸­è¿è¡Œ</p>
</li>
<li><p>ç”¨æˆ·ç¨‹åºå¯ä»¥ç›´æ¥è®¿é—®æ•°æ®åº“æ–‡ä»¶å—ï¼Ÿ<br>ç”¨æˆ·ç¨‹åºé€šå¸¸ä¸èƒ½ç›´æ¥è®¿é—®æ•°æ®åº“æ–‡ä»¶ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·ç¨‹åºéœ€è¦é€šè¿‡åº”ç”¨ç¨‹åºå‘æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰å‘é€è¯·æ±‚ï¼Œç„¶åç”±DBMSè§£æè¯·æ±‚å¹¶ä»æ•°æ®åº“ä¸­æ£€ç´¢æ‰€éœ€çš„æ•°æ®ï¼Œæœ€åå°†æ•°æ®è¿”å›ç»™åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚è¿™æ ·åšå¯ä»¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚</p>
</li>
<li><p>NOSQLæ•°æ®åº“é€‚ç”¨äºå­˜å‚¨éç»“æ„åŒ–æˆ–åŠç»“æ„åŒ–æ•°æ®çš„åœºæ™¯ã€‚</p>
</li>
<li><p><strong>å…ƒæ•°æ®</strong>ï¼ˆ<strong>Metadata</strong>ï¼‰ï¼Œåˆç§°<strong>ä¸­ä»‹æ•°æ®</strong>ã€<strong>ä¸­ç»§æ•°æ®</strong>ï¼Œä¸ºæè¿°<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE/5947370?fromModule=lemma_inlink">æ•°æ®</a>çš„æ•°æ®ï¼ˆdata about dataï¼‰ï¼Œä¸»è¦æ˜¯æè¿°æ•°æ®<a href="https://baike.baidu.com/item/%E5%B1%9E%E6%80%A7/1405051?fromModule=lemma_inlink">å±æ€§</a>ï¼ˆpropertyï¼‰çš„<a href="https://baike.baidu.com/item/%E4%BF%A1%E6%81%AF/111163?fromModule=lemma_inlink">ä¿¡æ¯</a>ï¼Œç”¨æ¥æ”¯æŒå¦‚æŒ‡ç¤ºå­˜å‚¨ä½ç½®ã€<a href="https://baike.baidu.com/item/%E5%8E%86%E5%8F%B2/360?fromModule=lemma_inlink">å†å²</a>æ•°æ®ã€<a href="https://baike.baidu.com/item/%E8%B5%84%E6%BA%90/9089683?fromModule=lemma_inlink">èµ„æº</a>æŸ¥æ‰¾ã€æ–‡ä»¶è®°å½•ç­‰åŠŸèƒ½ã€‚ä¸šåŠ¡è§„åˆ™æ•°æ®åœ¨æ•°æ®åº“ä¸­ä¹Ÿæ˜¯ä¸€ç§å…ƒæ•°æ®ã€‚æ­£ç¡®</p>
</li>
<li><p>ä¸‹é¢å“ªç±»æ•°æ®åº“åº”ç”¨ç³»ç»Ÿéœ€è¦ä½¿ç”¨æ•°æ®åˆ†æå¤„ç†æŠ€æœ¯ï¼Ÿå†³ç­–æ”¯æŒ</p>
</li>
<li><p>è®°å½•ï¼ˆRecordï¼‰<br>è¡¨ä¸­çš„æ¯ä¸€è¡Œç§°ä¸ºä¸€ä¸ª<strong>è®°å½•</strong>ï¼Œå®ƒç”±è‹¥å¹²ä¸ªå­—æ®µç»„æˆï¼<br>å­—æ®µï¼ˆFieldï¼‰<br>ä¹Ÿç§°åŸŸï¼è¡¨ä¸­çš„æ¯ä¸€åˆ—ç§°ä¸ºä¸€ä¸ª<strong>å­—æ®µ</strong>ï¼æ¯ä¸ªå­—æ®µéƒ½æœ‰ç›¸åº”çš„æè¿°ä¿¡æ¯ï¼Œå¦‚æ•°æ®ç±»å‹ã€æ•°æ®å®½åº¦ç­‰</p>
</li>
</ul>
<h2 id="ç¬¬äºŒç« æ•°æ®åº“å…³ç³»æ¨¡å‹"><a href="#ç¬¬äºŒç« æ•°æ®åº“å…³ç³»æ¨¡å‹" class="headerlink" title="ç¬¬äºŒç« 	æ•°æ®åº“å…³ç³»æ¨¡å‹"></a>ç¬¬äºŒç« 	æ•°æ®åº“å…³ç³»æ¨¡å‹</h2><p>å®ä½“å®Œæ•´æ€§æ˜¯æŒ‡å…³ç³»è¡¨çš„å±æ€§ç»„æˆå¿…é¡»æ˜¯å®Œæ•´çš„ã€‚é”™è¯¯ï¼ï¼</p>
<p>è‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç­‰å€¼è¿æ¥ã€‚æ­£ç¡®ï¼ï¼</p>
<p>ä»£ç†é”®æ˜¯ä¸ºäº†å”¯ä¸€æ ‡è¯†å…³ç³»çš„ä¸åŒå…ƒç»„ï¼Œéœ€è¦åœ¨è¡¨å•æˆ–æŠ¥è¡¨ä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚é”™è¯¯ï¼ï¼</p>
<p>å…³ç³»è¡¨ï¼š</p>
<blockquote>
<p>è¡¨ä¸­æ¯è¡Œå­˜å‚¨å®ä½“çš„ä¸€ä¸ªå®ä¾‹æ•°æ®è¡¨ä¸­æ¯åˆ—åŒ…å«å®ä½“çš„ä¸€é¡¹å±æ€§æ•°æ®è¡¨ä¸­å•å…ƒæ ¼åªèƒ½å­˜å‚¨å•ä¸ªå€¼<br>ä¸å…è®¸æœ‰é‡å¤çš„è¡Œ<br>ä¸å…è®¸æœ‰é‡å¤çš„åˆ—åˆ—<br>é¡ºåºå¯ä»»æ„<br>è¡Œé¡ºåºå¯ä»»æ„</p>
</blockquote>
<p>ç¬›å¡å°”ç§¯ï¼š</p>
<p><a href="https://smms.app/image/IGhF634XaVM19PY" target="_blank"><img src="https://s2.loli.net/2023/06/03/IGhF634XaVM19PY.png" ></a></p>
<p>åœ¨å…³ç³»ä¸­ï¼Œå¯ä»¥ç”¨æ¥å”¯ä¸€æ ‡è¯†å…ƒç»„çš„å±æ€§åˆ—ï¼Œç§°ä¸º<strong>é”®</strong>(Key)ï¼Œå…¶å®ƒå±æ€§åˆ—éƒ½ä¸ºéé”®åˆ—ã€‚</p>
<p><strong>å¤åˆé”®</strong>(Compound Key)â€”â€”æ˜¯æŒ‡å…³ç³»ä¸­ç”¨æ¥å”¯ä¸€æ ‡è¯†å…ƒç»„çš„å¤šåˆ—ä½œä¸ºé”®ã€‚(å­¦å·,è¯¾ç¨‹ç¼–å·)å°±æ˜¯ä¸€ç»„å¤åˆé”®ã€‚</p>
<p><strong>å€™é€‰é”®</strong>(Candidate Key)â€”â€”å…³ç³»ä¸­å¯èƒ½æœ‰å¤šä¸ªåˆ—å‡é€‚åˆä½œä¸ºé”®ï¼Œå°†å…¶ä¸­æ¯ä¸ªéƒ½ç§°ä¸ºå€™é€‰é”®ã€‚</p>
<p><strong>ä¸»é”®</strong>(Primary key)æ˜¯å…³ç³»è¡¨ä¸­æœ€æœ‰ä»£è¡¨æ€§çš„ä¸€ä¸ªå€™é€‰é”®ã€‚æ¯ä¸ªå…³ç³»è¡¨ä¸­åªèƒ½å®šä¹‰ä¸€ä¸ªä¸»é”®ã€‚</p>
<p>ä¸»é”®çš„ä½œç”¨ï¼š</p>
<blockquote>
<p>å”¯ä¸€æ ‡è¯†å…³ç³»è¡¨çš„æ¯è¡Œï¼ˆå…ƒç»„)<br>ä¸å…³è”è¡¨çš„å¤–é”®å»ºç«‹è”ç³»ï¼Œå®ç°å…³ç³»è¡¨ä¹‹é—´è¿æ¥<br>æ•°æ®åº“æ–‡ä»¶ä½¿ç”¨ä¸»é”®å€¼æ¥ç»„ç»‡å…³ç³»è¡¨çš„æ•°æ®å­˜å‚¨<br>æ•°æ®åº“ä½¿ç”¨ä¸»é”®ç´¢å¼•å¿«é€Ÿæ£€ç´¢æ•°æ®</p>
</blockquote>
<p><strong>ä»£ç†é”®</strong>â€”â€”é‡‡ç”¨DBMSè‡ªåŠ¨ç”Ÿæˆçš„æ•°å­—åºåˆ—ä½œä¸ºå…³ç³»è¡¨çš„ä¸»é”®ã€‚<br>ä»£ç†é”®æœ‰ä»€ä¹ˆç”¨é€”?<br>ç”±DBMSè‡ªåŠ¨ç”Ÿæˆçš„æ•°å­—åºåˆ—ä½œä¸ºä¸»é”®ï¼Œå¯æ›¿ä»£å¤åˆä¸»é”®ï¼Œä»¥ä¾¿è·å¾—æ›´é«˜æ€§èƒ½çš„æ•°æ®è®¿	é—®æ“ä½œå¤„ç†ã€‚</p>
<p>å…³ç³»æ¨¡å¼è¯­å¥ä¸­ä¸»é”®è¡¨ç¤ºæ–¹æ³•:å…³ç³»åï¼ˆ<u>ä¸»é”®å±æ€§</u>ï¼Œå±æ€§2ï¼Œï¼Œå±æ€§x)</p>
<p><a href="https://smms.app/image/Aipa9Wvl3EJYZHb" target="_blank"><img src="https://s2.loli.net/2023/06/03/Aipa9Wvl3EJYZHb.png" ></a></p>
<p><strong>å…³ç³»æ¨¡å‹</strong>(Relation Model)â€”â€”æ˜¯ä¸€ç§åŸºäºäºŒç»´è¡¨ç»“æ„å­˜å‚¨æ•°æ®å®ä½“åŠå®ä½“é—´è”ç³»çš„æ•°æ®æ¨¡å‹ã€‚</p>
<p>é›†åˆè¿ç®—æ“ä½œåŒ…æ‹¬<strong>é€‰æ‹©</strong>(select)ã€<strong>æŠ•å½±</strong>ï¼ˆproject)ã€<strong>è¿æ¥</strong>ï¼ˆjoin) ã€<strong>äº¤</strong>(intersectionï¼‰ã€<strong>å¹¶</strong>(union)ã€<strong>å·®</strong>(differenceï¼‰ç­‰ã€‚<br>ä¸“é—¨å…³ç³»æ“ä½œåŒ…æ‹¬æ•°æ®è¡Œ<strong>æ’å…¥</strong>(Insert) ã€<strong>ä¿®æ”¹</strong>(Updateï¼‰ã€<strong>åˆ é™¤</strong>(Deleteï¼‰æ“ä½œã€‚</p>
<p><a href="https://smms.app/image/iPBg21lY8NzprSx" target="_blank"><img src="https://s2.loli.net/2023/06/03/iPBg21lY8NzprSx.png" ></a></p>
<p>ä»¥ä¸‹æ˜¯è€å¸ˆç»™çš„ç­”æ¡ˆï¼Œæœ‰äº›è®¸å°é”™è¯¯ï¼Œæä¾›ä¸ªæ€è·¯å°±å¯ä»¥å•¦~</p>
<p><a href="https://smms.app/image/oT586hL2t3Zcj7f" target="_blank"><img src="https://s2.loli.net/2023/06/03/oT586hL2t3Zcj7f.png" ></a></p>
<p>å…³ç³»æ¨¡å‹å®Œæ•´æ€§æ˜¯æŒ‡åœ¨å…³ç³»æ•°æ®æ¨¡å‹ä¸­å¯¹å…³ç³»å®æ–½çš„å®Œæ•´æ€§çº¦æŸã€‚</p>
<p>å®Œæ•´æ€§çº¦æŸä½œç”¨:</p>
<blockquote>
<p>æ¶ˆé™¤å…³ç³»è¡¨çš„å…ƒç»„é‡å¤å­˜å‚¨</p>
<p>ä¿æŒå…³è”è¡¨çš„æ•°æ®ä¸€è‡´æ€§</p>
<p>å®ç°ä¸šåŠ¡æ•°æ®è§„åˆ™</p>
</blockquote>
<p>å…³ç³»æ¨¡å‹å®Œæ•´æ€§çº¦æŸåˆ†ç±»:</p>
<ul>
<li>å®ä½“å®Œæ•´æ€§çº¦æŸ</li>
</ul>
<p><strong>å®ä½“å®Œæ•´æ€§</strong>æ˜¯æŒ‡åœ¨å…³ç³»è¡¨ä¸­å®æ–½çš„<strong>ä¸»é”®å–å€¼çº¦æŸ</strong>ï¼Œä»¥ä¿è¯å…³ç³»è¡¨ä¸­çš„æ¯ä¸ªå…ƒç»„å¯ä»¥è¢«å”¯	ä¸€æ ‡è¯†ã€‚</p>
<p>å®ä½“å®Œæ•´æ€§çº¦æŸè§„åˆ™:</p>
<p>â‘ æ¯ä¸ªå…³ç³»è¡¨ä¸­çš„ä¸»é”®å±æ€§åˆ—éƒ½<strong>ä¸å…è®¸ä¸ºç©ºå€¼</strong>(NULL)ï¼Œå¦åˆ™å°±ä¸å¯èƒ½æ ‡è¯†å®ä½“ã€‚</p>
<p>â‘¡ç°å®ä¸–ç•Œä¸­çš„å®ä½“æ˜¯é ä¸»é”®æ¥æ ‡è¯†ï¼Œ<strong>ä¸»é”®å–å€¼åº”è¯¥å”¯ä¸€</strong>ï¼Œå¹¶åŒºåˆ†å…³ç³»è¡¨ä¸­çš„æ¯ä¸ªå…ƒç»„ã€‚</p>
<ul>
<li>å‚ç…§å®Œæ•´æ€§çº¦æŸ</li>
</ul>
<p>å‚ç…§å®Œæ•´æ€§æ˜¯æŒ‡å…³ç³»è¡¨ä¹‹é—´éœ€è¦éµå®ˆçš„æ•°æ®çº¦æŸï¼Œä»¥ä¿è¯å…³ç³»ä¹‹é—´å…³è”åˆ—çš„æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p><strong>å‚ç…§å®Œæ•´æ€§</strong>çº¦æŸè§„åˆ™:è‹¥å…³ç³»Rä¸­çš„å¤–é”®Fä¸å…³ç³»Sä¸­çš„ä¸»é”®Kç›¸å…³è”ï¼Œåˆ™Rä¸­å¤–é”®Få€¼å¿…é¡»ä¸Sä¸­ä¸»é”®Kå€¼ä¸€è‡´ã€‚</p>
<p>å¤–é”®(Foreign key)â€”â€”åœ¨å…³è”çš„ä¸¤ä¸ªå…³ç³»ä¸­ï¼Œå®ƒä»¬å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç›¸åŒå±æ€§ã€‚è‹¥å…³è”åˆ—åœ¨ç¬¬ä¸€ä¸ªå…³ç³»ä¸­ä½œä¸ºä¸»é”®ï¼Œåˆ™åœ¨ç¬¬äºŒä¸ªå…³ç³»ä¸­ä½œä¸ºå¤–é”®ã€‚</p>
<ul>
<li>ç”¨æˆ·è‡ªå®šä¹‰å®Œæ•´æ€§çº¦æŸ</li>
</ul>
<p><strong>ç”¨æˆ·è‡ªå®šä¹‰å®Œæ•´æ€§</strong>æ˜¯æŒ‡ç”¨æˆ·æ ¹æ®å…·ä½“ä¸šåŠ¡å¯¹æ•°æ®å¤„ç†è§„åˆ™è¦æ±‚æ‰€å®šä¹‰çš„æ•°æ®çº¦æŸã€‚</p>
<p>ç”¨æˆ·å¯ä»¥å®šä¹‰å¦‚ä¸‹ç±»å‹çš„å®Œæ•´æ€§çº¦æŸ:</p>
<blockquote>
<p>å®šä¹‰åˆ—çš„æ•°æ®ç±»å‹ä¸å–å€¼èŒƒå›´</p>
<p>å®šä¹‰åˆ—çš„ç¼ºçœå€¼</p>
<p>å®šä¹‰åˆ—æ˜¯å¦å…è®¸å–ç©ºå€¼</p>
<p>å®šä¹‰åˆ—å–å€¼å”¯ä¸€æ€§</p>
<p>å®šä¹‰åˆ—ä¹‹é—´çš„æ•°æ®ä¾èµ–æ€§</p>
</blockquote>
<p>ä»å…³ç³»çš„æ•°å­¦å®šä¹‰æ¥çœ‹ï¼Œå…³ç³»æ˜¯å„ä¸ªåŸŸçš„ç¬›å¡å°”é›†åˆã€‚(Ã—)</p>
<p>åº”è¯¥æ˜¯å­é›†</p>
<ol>
<li><p>å…³ç³»æ¨¡å‹ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šæ•°æ®ç»“æ„ï¼Œæ“ä½œé›†åˆå’Œå®Œæ•´æ€§çº¦æŸã€‚</p>
<p>(1)å…³ç³»æ•°æ®ç»“æ„:åœ¨å…³ç³»æ¨¡å‹ä¸­,ç°å®ä¸–ç•Œçš„å®ä½“ä»¥åŠå®ä½“é—´çš„å„ç§è”ç³»å‡ç”¨å•ä¸€çš„ç»“æ„ç±»å‹å³å…³ç³»æ¥è¡¨ç¤ºã€‚</p>
<p>(2)å…³ç³»æ“ä½œé›†åˆ:å…³ç³»æ¨¡å‹ä¸­å¸¸ç”¨çš„å…³ç³»æ“ä½œåŒ…æ‹¬æŸ¥è¯¢æ“ä½œå’Œæ’å…¥ã€åˆ é™¤ã€ä¿®æ”¹æ“ä½œã€‚</p>
<p>(3)å…³ç³»å®Œæ•´æ€§çº¦æŸ:å…³ç³»æ¨¡å‹ä¸­æœ‰å®ä½“å®Œæ•´æ€§çº¦æŸã€å‚ç…§å®Œæ•´æ€§çº¦æŸå’Œç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§çº¦æŸä¸‰ç±»çº¦æŸã€‚</p>
</li>
<li><p>åœ¨å…³ç³»æ¨¡å‹ä¸­ï¼Œå¯¹å…³ç³»æœ‰å‡ ç§åŸºæœ¬çš„æ•°æ®æ“ä½œæ–¹å¼ï¼ŒåŒ…æ‹¬é€‰æ‹©ï¼ŒæŠ•å½±ï¼Œè¿æ¥ï¼Œé™¤æ³•ç­‰ã€‚è¿™äº›æ“ä½œå¯ä»¥ç”¨æ¥æŸ¥è¯¢ã€æ›´æ–°å’Œæ§åˆ¶å…³ç³»æ•°æ®ã€‚</p>
</li>
<li><p>å…³ç³»æ•°æ®æŸ¥è¯¢ä¸­çš„é€‰æ‹©è¿ç®—æ˜¯ä»å…³ç³»ä¸­é€‰æ‹©æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç»„ã€‚æŠ•å½±è¿ç®—æ˜¯ä»å…³ç³»ä¸­é€‰æ‹©ç‰¹å®šå±æ€§åˆ—ã€‚è¿æ¥è¿ç®—æ˜¯æ ¹æ®ä¸¤ä¸ªå…³ç³»ä¸­å…±åŒå±æ€§çš„å€¼ç›¸ç­‰æ¥ç»„åˆä¸¤ä¸ªå…³ç³»ä¸­çš„å…ƒç»„ã€‚</p>
</li>
<li><p>Î¸è¿æ¥(å†…è¿æ¥)æ˜¯æŒ‡åœ¨ä¸¤ä¸ªå…³ç³»ä¸Šæ‰§è¡Œä¸€ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦Î¸çš„è¿æ¥æ“ä½œã€‚Î¸ä¸ºâ€œ&#x3D;â€çš„è¿æ¥è¿ç®—ç§°ä¸ºç­‰å€¼è¿æ¥ï¼Œè‡ªç„¶è¿æ¥æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç­‰å€¼è¿æ¥ï¼ˆä¸¤ä¸ªå…³ç³»ä¸­è¿›è¡Œæ¯”è¾ƒçš„åˆ†é‡å¿…é¡»æ˜¯ç›¸åŒçš„å±æ€§ç»„ï¼‰ï¼Œå®ƒåœ¨è¿æ¥åè‡ªåŠ¨åˆ é™¤é‡å¤çš„åˆ—ã€‚</p>
</li>
<li><p>å·¦å¤–è¿æ¥è¿”å›å·¦è¡¨ä¸­æ‰€æœ‰è®°å½•å’Œå³è¡¨ä¸­åŒ¹é…è®°å½•ï¼›å¦‚æœå³è¡¨ä¸­æ²¡æœ‰åŒ¹é…è®°å½•ï¼Œåˆ™ç»“æœä¸ºNULLã€‚å³å¤–è¿æ¥è¿”å›å³è¡¨ä¸­æ‰€æœ‰è®°å½•å’Œå·¦è¡¨ä¸­åŒ¹é…è®°å½•ï¼›å¦‚æœå·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…è®°å½•ï¼Œåˆ™ç»“æœä¸ºNULLã€‚å…¨å¤–è¿æ¥è¿”å›å·¦è¡¨å’Œå³è¡¨ä¸­æ‰€æœ‰è®°å½•ï¼›å¦‚æœå…¶ä¸­ä¸€ä¸ªè¡¨æ²¡æœ‰åŒ¹é…è®°å½•ï¼Œåˆ™ç»“æœä¸ºNULLã€‚</p>
</li>
</ol>
<h2 id="ç¬¬ä¸‰ç« æ•°æ®åº“æ“ä½œSQLè¯­è¨€"><a href="#ç¬¬ä¸‰ç« æ•°æ®åº“æ“ä½œSQLè¯­è¨€" class="headerlink" title="ç¬¬ä¸‰ç« 	æ•°æ®åº“æ“ä½œSQLè¯­è¨€"></a>ç¬¬ä¸‰ç« 	æ•°æ®åº“æ“ä½œSQLè¯­è¨€</h2><ul>
<li><p>SQLè¯­è¨€æ˜¯ä¸€ç§æ ‡å‡†çš„æ•°æ®åº“æ“ä½œè¯­è¨€ï¼Œå¯ä»¥æ”¯æŒæ‰€æœ‰æ•°æ®åº“è®¿é—®æ“ä½œï¼ˆé”™ï¼‰</p>
<p>  ä¸»æµçš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå‡æ”¯æŒSQLæ ‡å‡†è¯­è¨€å®ç°æ•°æ®åº“æ“ä½œ</p>
</li>
<li><p>ä¸‹é¢å“ªç§æ•°æ®ç±»å‹ä¸æ˜¯PostgreSQLæ”¯æŒçš„æ•°æ®ç±»å‹?<br>A.json	B.line	C. macaddr	<strong>D. String</strong><br>  PostgreSQLæ”¯æŒ<code>json</code>ï¼Œ<code>line</code>å’Œ<code>macaddr</code>æ•°æ®ç±»å‹ã€‚ä½†æ˜¯ï¼Œå®ƒä¸æ”¯æŒåä¸º<code>String</code>çš„æ•°æ®ç±»å‹ã€‚åœ¨PostgreSQLä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>text</code>æˆ–<code>varchar</code>æ•°æ®ç±»å‹æ¥å­˜å‚¨å­—ä¸²ã€‚</p>
</li>
</ul>
<h3 id="æ•°æ®å®šä¹‰è¯­å¥ï¼ˆDDLï¼‰"><a href="#æ•°æ®å®šä¹‰è¯­å¥ï¼ˆDDLï¼‰" class="headerlink" title="æ•°æ®å®šä¹‰è¯­å¥ï¼ˆDDLï¼‰"></a>æ•°æ®å®šä¹‰è¯­å¥ï¼ˆDDLï¼‰</h3><p>åˆ›å»ºæ•°æ®åº“ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> databse CourseDB;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">database</span> CourseDB <span class="keyword">rename</span> <span class="keyword">to</span> courseDB;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> courseDB;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰åŸºæœ¬è¡¨ CREATE  TABLE</p>
<p>CREATE  TABLE è¡¨å();</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>CHAR(n)</td>
<td>é•¿åº¦ä¸º n çš„å­—ç¬¦å‹</td>
</tr>
<tr>
<td>VARCHAR(n)</td>
<td>æœ€å¤§é•¿åº¦ä¸º n çš„å˜é•¿å­—ç¬¦å‹</td>
</tr>
<tr>
<td>NUMBER(n)</td>
<td>é•¿åº¦ä¸º n çš„æ•°å­—å‹</td>
</tr>
<tr>
<td>lNT</td>
<td>é•¿æ•´å‹(4B)</td>
</tr>
<tr>
<td>SMALLlNT</td>
<td>çŸ­æ•´å‹(2B)</td>
</tr>
<tr>
<td>BlGlNT</td>
<td>å¤§æ•´å‹(8B)</td>
</tr>
<tr>
<td>FLOAT(n)</td>
<td>ç²¾åº¦è‡³å°‘ä¸º n ä½æ•°å­—çš„æµ®ç‚¹æ•°</td>
</tr>
<tr>
<td>DATE</td>
<td>æ—¥æœŸï¼Œ æ ¼å¼ä¸º YYYY-MM-DD</td>
</tr>
<tr>
<td>TlME</td>
<td>æ—¶é—´ï¼Œ æ ¼å¼ä¸º HH:MM:SS</td>
</tr>
</tbody></table>
<p><strong>åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶</strong></p>
<blockquote>
<p>PRlMARY KEY	&#x2F;&#x2F;ä¸»ç :å½“åªæœ‰ä¸€ä¸ªä¸»ç æ—¶ï¼Œå¯ç›´æ¥åœ¨å¯¹åº”çš„å±æ€§åˆ—æ ‡æ³¨<br>NOT NULL	&#x2F;&#x2F;éç©º:è¡¨ç¤ºè¯¥å±æ€§åˆ—ä¸èƒ½å–ç©ºå€¼<br>UNlQUE	&#x2F;&#x2F;å”¯ä¸€å€¼: è¡¨ç¤ºè¯¥å±æ€§åˆ—åªèƒ½å–å”¯ä¸€å€¼<br>CHECK(æ¡ä»¶) 	   &#x2F;&#x2F;æ£€æŸ¥:  æ£€æŸ¥è¯¥åˆ—æ˜¯å¦æ»¡è¶³æŸä¸ªæ¡ä»¶ï¼Œå¦‚ CHECK(æŸå±æ€§&gt;20)</p>
</blockquote>
<p>åˆ—å®Œæ•´çº¦æŸ</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">TABLE</span>  Course</span><br><span class="line">( CourseID  	<span class="type">char</span>(<span class="number">4</span>)      <span class="keyword">PRIMARY  Key</span>,</span><br><span class="line">  CourseName  	<span class="type">varchar</span>(<span class="number">20</span>)  <span class="keyword">NOT</span>  <span class="keyword">NULL</span>  <span class="keyword">UNIQUE</span>,</span><br><span class="line">  CourseType  	<span class="type">varchar</span>(<span class="number">10</span>)  <span class="keyword">NULL</span> <span class="keyword">CHECK</span>(CourseType <span class="keyword">IN</span>(<span class="string">&#x27;åŸºç¡€è¯¾&#x27;</span>,<span class="string">&#x27;ä¸“ä¸šè¯¾&#x27;</span>,<span class="string">&#x27;é€‰ä¿®è¯¾&#x27;</span>)),</span><br><span class="line">  TestMethod  	<span class="type">char</span>(<span class="number">4</span>)      <span class="keyword">NOT</span>  <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span>  <span class="string">&#x27;é—­å·è€ƒè¯•&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å¤åˆä¸»é”®</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">TABLE</span>  Plan</span><br><span class="line">( CourseID  	<span class="type">char</span>(<span class="number">4</span>)  	<span class="keyword">NOT</span>  <span class="keyword">NULL</span>,</span><br><span class="line">  TeacherID  	<span class="type">char</span>(<span class="number">4</span>)  	<span class="keyword">NOT</span>  <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span>	CoursePlan_PK	<span class="keyword">PRIMARY Key</span>(CourseID,TeacherID)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¡¨çº¦æŸå®šä¹‰ä¸»é”®çš„ä¼˜ç‚¹:ä¾¿äºå®šä¹‰å¤åˆä¸»é”®ï¼Œå¯å‘½åä¸»é”®çº¦æŸï¼Œä¾¿äºå®šä¹‰ä»£ç†é”®ã€‚</p>
<p>ä»£ç†é”®</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">TABLE</span>  Plan</span><br><span class="line">( CoursePlanID	<span class="type">serial</span>		<span class="keyword">NOT</span>  <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">CONSTRAINT</span>	CoursePlan_PK	<span class="keyword">PRIMARY Key</span>(CoursePlanID)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å¤–é”®,çº§è”åˆ é™¤</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">TABLE</span>  Register</span><br><span class="line">( CourseRegID  	<span class="type">serial</span>	<span class="keyword">NOT</span>  <span class="keyword">NULL</span>,</span><br><span class="line">  CoursePlanID  	<span class="type">Int</span>  		<span class="keyword">NOT</span>  <span class="keyword">NULL</span>,</span><br><span class="line">  StudentID  	<span class="type">char</span>(<span class="number">13</span>),</span><br><span class="line">  Note  		<span class="type">varchar</span>(<span class="number">30</span>),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span>	CourseRegID_PK	<span class="keyword">PRIMARY Key</span>(CourseRegID),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span>	CoursePlanID_FK	<span class="keyword">FOREIGN Key</span>(CoursePlanID)</span><br><span class="line">	<span class="keyword">REFERENCES</span>  Plan(CoursePlanID)</span><br><span class="line">    <span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">CASCADE</span>,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>è¡¨ä¿®æ”¹</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> &lt;<span class="type">name</span>&gt; <span class="keyword">add</span> &lt;columnName&gt; &lt;<span class="keyword">type</span>&gt; &lt;<span class="keyword">constraint</span>&gt;;</span><br></pre></td></tr></table></figure>

<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span>&lt;è¡¨å&gt; <span class="keyword">DROP</span>  <span class="keyword">COLUMN</span> &lt;åˆ—å&gt;;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span>&lt;è¡¨å&gt; <span class="keyword">DROP</span>  <span class="keyword">CONSTRAINT</span> &lt;åˆ—å&gt;;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> &lt;è¡¨å&gt; <span class="keyword">RENAME</span> <span class="keyword">TO</span> &lt;æ–°è¡¨å&gt;;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> &lt;è¡¨å&gt; <span class="keyword">RENAME</span> &lt;åŸåˆ—å&gt; <span class="keyword">TO</span> &lt;æ–°åˆ—å&gt;;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> &lt;è¡¨å&gt; <span class="keyword">ALTER</span>  <span class="keyword">COLUMN</span> &lt;åˆ—å&gt; <span class="keyword">TYPE</span>&lt;æ–°çš„æ•°æ®ç±»å‹&gt;;</span><br></pre></td></tr></table></figure>

<p>ç´¢å¼•ä½œç”¨:æ”¯æŒå¯¹æ•°æ®åº“è¡¨ä¸­æ•°æ®å¿«é€ŸæŸ¥æ‰¾ï¼Œå…¶åŸç†ç±»ä¼¼å›¾ä¹¦ç›®å½•ï¼Œå¯ä»¥å¿«é€Ÿå®šä½ç« èŠ‚å†…å®¹ã€‚</p>
<p>ç´¢å¼•ä¼˜ç‚¹:</p>
<blockquote>
<p>å¯å¿«é€Ÿè¿æ¥å…³è”è¡¨<br>å‡å°‘åˆ†ç»„å’Œæ’åºæ—¶é—´<br>æé«˜å…³ç³»è¡¨æ•°æ®æ£€ç´¢é€Ÿåº¦</p>
</blockquote>
<p>ç´¢å¼•å±€é™:</p>
<blockquote>
<p>ç´¢å¼•ä¼šå ç”¨é¢å¤–å­˜å‚¨ç©ºé—´<br>åˆ›å»ºå’Œç»´æŠ¤ç´¢å¼•éƒ½éœ€è¦è¾ƒå¤§æ—¶é—´å¼€é”€											<br>æ•°æ®æ“çºµå› ç»´æŠ¤ç´¢å¼•å¸¦æ¥ç³»ç»Ÿæ€§èƒ½å¼€é”€</p>
</blockquote>
<p>åˆ›å»ºç´¢å¼•<br>ä¾‹:åœ¨å­¦ç”Ÿä¿¡æ¯è¡¨Studentä¸­ï¼Œä¸ºå‡ºç”Ÿæ—¥æœŸBirthdayåˆ—åˆ›å»ºç´¢å¼•ï¼Œä»¥ä¾¿æ”¯æŒæŒ‰å‡ºç”Ÿæ—¥æœŸå¿«	é€ŸæŸ¥è¯¢å­¦ç”Ÿä¿¡æ¯ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> Birthday_Idx <span class="keyword">ON</span> STUDENT (Birthday) ;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ç´¢å¼•<br>ä¾‹åœ¨å­¦ç”Ÿä¿¡æ¯è¡¨Studentä¸­ï¼Œå°†åŸç´¢å¼•Birthday_ldxæ›´åä¸ºBday_ldxï¼Œå…¶ç´¢å¼•ä¿®æ”¹SQL	è¯­å¥å¦‚ä¸‹</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">INDEX</span> Birthday_Idx <span class="keyword">RENAME</span> T0 Bday_ldx ;</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤ç´¢å¼•</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span>  <span class="keyword">INDEX</span> bday_idx;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°æ®æ“çºµè¯­å¥ï¼ˆDMLï¼‰"><a href="#æ•°æ®æ“çºµè¯­å¥ï¼ˆDMLï¼‰" class="headerlink" title="æ•°æ®æ“çºµè¯­å¥ï¼ˆDMLï¼‰"></a>æ•°æ®æ“çºµè¯­å¥ï¼ˆDMLï¼‰</h3><p>æ’å…¥</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Student <span class="keyword">VALUES</span>(<span class="string">&#x27;2017220101105&#x27;</span>,<span class="string">&#x27;èµµä¸œ&#x27;</span>,<span class="string">&#x27;å¥³&#x27;</span>,<span class="string">&#x27;1999-04-23&#x27;</span>,<span class="string">&#x27;è½¯ä»¶å·¥ç¨‹&#x27;</span>, <span class="string">&#x27;liuyin@163.com&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span>  Student</span><br><span class="line"><span class="keyword">SET</span>  Email=<span class="string">&#x27;zhaodong@163.com&#x27;</span></span><br><span class="line"><span class="keyword">WHERE</span>   StudentName=<span class="string">&#x27;èµµä¸œ&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> </span><br><span class="line"><span class="keyword">FROM</span>  STUDENT</span><br><span class="line"><span class="keyword">WHERE</span>   StudentName=<span class="string">&#x27;èµµä¸œ&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>æ¸…ç©º</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> STUDENT;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°æ®æŸ¥è¯¢è¯­å¥ï¼ˆDQLï¼‰"><a href="#æ•°æ®æŸ¥è¯¢è¯­å¥ï¼ˆDQLï¼‰" class="headerlink" title="æ•°æ®æŸ¥è¯¢è¯­å¥ï¼ˆDQLï¼‰"></a>æ•°æ®æŸ¥è¯¢è¯­å¥ï¼ˆDQLï¼‰</h3><p>å…ˆåˆ†ç»„å†æ’åºï¼ï¼ï¼</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  [<span class="keyword">ALL</span>|<span class="keyword">DISTINCT</span>]  &lt;ç›®æ ‡åˆ—&gt;[ï¼Œ&lt;ç›®æ ‡åˆ—&gt;â€¦]</span><br><span class="line">[ <span class="keyword">INTO</span> &lt;æ–°è¡¨&gt; ]</span><br><span class="line"><span class="keyword">FROM</span>  &lt;è¡¨å|è§†å›¾å&gt;[ï¼Œ&lt;è¡¨å|è§†å›¾å&gt;â€¦]</span><br><span class="line">[ <span class="keyword">WHERE</span>  &lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ]</span><br><span class="line">[ <span class="keyword">GROUP</span> <span class="keyword">BY</span>  &lt;åˆ—å&gt; [<span class="keyword">HAVING</span> &lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ]]</span><br><span class="line">[ <span class="keyword">ORDER</span> <span class="keyword">BY</span>  &lt;åˆ—å&gt; [ <span class="keyword">ASC</span> | <span class="keyword">DESC</span> ] ];</span><br></pre></td></tr></table></figure>

<p>1ï¼‰ä½¿ç”¨BETWEEN..ANDå…³é”®è¯æ¥é™å®šåˆ—å€¼èŒƒå›´ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…³é”®è¯LIKEä¸é€šé…ç¬¦æ¥é™å®šæŸ¥è¯¢æ¡ä»¶ã€‚<br>2)ä½¿ç”¨é€šé…ç¬¦æ¥é™å®šå­—ç¬¦ä¸²æ•°æ®èŒƒå›´ã€‚ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰é€šé…ç¬¦ç”¨äºä»£è¡¨ä¸€ä¸ªæœªæŒ‡å®šçš„å­—ç¬¦ã€‚ç™¾åˆ†å·(%ï¼‰é€šé…ç¬¦ç”¨äºä»£è¡¨ä¸€ä¸ªæˆ–å¤šä¸ªæœªæŒ‡å®šçš„å­—ç¬¦ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> STUDENT</span><br><span class="line"><span class="keyword">WHERE</span> BirthDay <span class="keyword">BETWEEN</span> <span class="string">&#x27;2000-01-01&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;2000-12-30&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> STUDENT <span class="keyword">WHERE</span> Email <span class="keyword">LIKE</span> <span class="string">&#x27;%@163.com &#x27;</span> ;</span><br></pre></td></tr></table></figure>

<p><a href="https://smms.app/image/oiIjqcgDLa6Vud7" target="_blank"><img src="https://s2.loli.net/2023/06/03/oiIjqcgDLa6Vud7.png" ></a></p>
<p><a href="https://smms.app/image/GOKjh5RsYXb16uA" target="_blank"><img src="https://s2.loli.net/2023/06/03/GOKjh5RsYXb16uA.png" ></a></p>
<p>ä¾‹1:è‹¥è¦ç»Ÿè®¡Studentè¡¨ä¸­çš„å­¦ç”Ÿäººæ•°ï¼Œåœ¨SELECTè¯­å¥ä¸­å¯ä»¥ä½¿ç”¨COUNT )å‡½æ•°æ¥è®¡ç®—ï¼Œå…¶æŸ¥è¯¢SQLè¯­å¥å¦‚ä¸‹:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> COUNT(*) <span class="keyword">AS</span> å­¦ç”Ÿäººæ•° <span class="keyword">FROM</span> Student;</span><br></pre></td></tr></table></figure>

<p>ä¾‹2:æ‰¾å‡ºSTUDENTè¡¨ä¸­å¹´é¾„æœ€å¤§å’Œå¹´é¾„æœ€å°çš„å­¦ç”Ÿå‡ºç”Ÿæ—¥æœŸï¼Œå…¶æŸ¥è¯¢SQLè¯­å¥å¦‚ä¸‹:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Min (Birthday) <span class="keyword">AS</span> æœ€å¤§å¹´é¾„,Max (Birthday) <span class="keyword">AS</span> æœ€å°å¹´é¾„ <span class="keyword">FROM</span> Student;</span><br></pre></td></tr></table></figure>

<p>åˆ†ç»„ï¼š</p>
<p>having æ˜¯å¯¹äº group by çš„åˆ—çš„æ¡ä»¶çº¦æŸ,é™¤äº†groupå¤–,åˆ—åç§°ä¸èƒ½å’Œèšåˆå‡½æ•°ä¸€èµ·ç”¨</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  Major  <span class="keyword">AS</span> ä¸“ä¸š,  COUNTï¼ˆStudentIDï¼‰ <span class="keyword">AS</span> å­¦ç”Ÿäººæ•°</span><br><span class="line"><span class="keyword">FROM</span>  Student</span><br><span class="line"><span class="keyword">WHERE</span>  StudentGender=â€™ç”·â€™</span><br><span class="line"><span class="keyword">GROUP</span>  <span class="keyword">BY</span>  Major</span><br><span class="line"><span class="keyword">HAVING</span>  COUNT(*)&gt;<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>å­æŸ¥è¯¢ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  TeacherID,  TeacherName,  TeacherTitle</span><br><span class="line"><span class="keyword">FROM</span>  Teacher</span><br><span class="line"><span class="keyword">WHERE</span>  CollegeID  <span class="keyword">IN</span></span><br><span class="line">        (<span class="keyword">SELECT</span>  CollegeID  </span><br><span class="line">     <span class="keyword">FROM</span>  College</span><br><span class="line">     <span class="keyword">WHERE</span>  CollegeName=â€™è®¡ç®—æœºå­¦é™¢â€™);</span><br></pre></td></tr></table></figure>

<p>å¤šè¡¨å…³è”æŸ¥è¯¢ï¼š</p>
<p>åœ¨é€‰è¯¾ç®¡ç†ç³»ç»Ÿæ•°æ®åº“ä¸­ï¼Œå¸Œæœ›è·å¾—å„ä¸ªå­¦é™¢çš„æ•™å¸ˆä¿¡æ¯åˆ—è¡¨ï¼ŒåŒ…æ‹¬å­¦é™¢åç§°ã€æ•™å¸ˆç¼–å·ã€æ•™å¸ˆå§“åã€æ•™å¸ˆæ€§åˆ«ã€èŒç§°ç­‰ä¿¡æ¯ã€‚è¦æ±‚æŒ‰å­¦é™¢åç§°ã€æ•™å¸ˆç¼–å·åˆ†åˆ«æ’åºè¾“å‡ºï¼Œå…¶æŸ¥è¯¢SQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>  B.CollegeName <span class="keyword">AS</span> å­¦é™¢åç§°,  A.TeacherID  <span class="keyword">AS</span> ç¼–å·, A.TeacherName  <span class="keyword">AS</span> å§“å,  A.TeacherGender  <span class="keyword">AS</span> æ€§åˆ«,  A. TeacherTitle  <span class="keyword">AS</span> èŒç§°</span><br><span class="line"><span class="keyword">FROM</span>  Teacher  <span class="keyword">AS</span>  Aï¼ŒCollege  <span class="keyword">AS</span>  B</span><br><span class="line"><span class="keyword">WHERE</span>  A.CollegeID=B.CollegeID </span><br><span class="line"><span class="keyword">ORDER</span>  <span class="keyword">BY</span>  B.CollegeName, A.TeacherID;</span><br></pre></td></tr></table></figure>

<p>åœ¨é€‰è¯¾ç®¡ç†æ•°æ®åº“ä¸­ï¼Œå¸Œæœ›æŸ¥è¯¢æ‰€æœ‰å¼€è®¾è¯¾ç¨‹çš„å­¦ç”Ÿé€‰è¯¾æƒ…å†µï¼ŒåŒ…æ‹¬è¯¾ç¨‹åç§°ã€ä»»è¯¾æ•™å¸ˆã€é€‰è¯¾å­¦ç”Ÿäººæ•°ã€‚è¿™éœ€è¦å…³è”è¯¾ç¨‹ä¿¡æ¯è¡¨COURSEã€æ•™å¸ˆä¿¡æ¯è¡¨TEACHERã€å¼€è¯¾è®¡åˆ’è¡¨PLANã€é€‰è¯¾æ³¨å†Œä¿¡æ¯è¡¨REGISTERã€‚å…¶è¿æ¥æŸ¥è¯¢çš„SQLè¯­å¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> C.CourseName <span class="keyword">AS</span> è¯¾ç¨‹åç§°, T.TeacherName <span class="keyword">AS</span> æ•™å¸ˆ, </span><br><span class="line">  COUNT (R.CoursePlanID)  <span class="keyword">AS</span> é€‰è¯¾äººæ•°</span><br><span class="line"><span class="keyword">FROM</span>  COURSE  <span class="keyword">AS</span>  C  <span class="keyword">JOIN</span>  PLAN  <span class="keyword">AS</span>  P  <span class="keyword">ON</span>  C.CourseID=P.CourseID </span><br><span class="line">  <span class="keyword">JOIN</span>  TEACHER  <span class="keyword">AS</span>  T  <span class="keyword">ON</span>  P.TeacherID=T.TeacherID</span><br><span class="line">  <span class="keyword">JOIN</span>  REGISTER  <span class="keyword">AS</span>  R  <span class="keyword">ON</span>  P.CoursePlanID=R.CoursePlanID</span><br><span class="line"><span class="keyword">GROUP</span>  <span class="keyword">BY</span> C.CourseName, T.TeacherName;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„å†…è¿æ¥æŸ¥è¯¢ä¸­ï¼Œåªèƒ½æ‰¾å‡ºæœ‰å­¦ç”Ÿæ³¨å†Œçš„è¯¾ç¨‹åç§°å’Œé€‰è¯¾äººæ•°ï¼Œä½†ä¸èƒ½æ‰¾å‡ºæ²¡æœ‰å­¦ç”Ÿæ³¨å†Œçš„è¯¾ç¨‹åç§°ã€‚<br>åœ¨SQLåº”ç”¨ä¸­ï¼Œæœ‰æ—¶å€™ä¹Ÿå¸Œæœ›è¾“å‡ºé‚£äº›ä¸æ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„æ•°æ®ã€‚è¿™æ—¶ï¼Œå¯ä½¿ç”¨JOINâ€“ONå¤–è¿æ¥æ–¹å¼å®ç°ã€‚å…¶å®ç°æ–¹å¼æœ‰ä¸‰ç§å½¢å¼ï¼Œå…·ä½“å¦‚ä¸‹:</p>
<blockquote>
<p><strong>LEFT JOIN</strong>:å·¦å¤–è¿æ¥ï¼Œå³ä½¿æ²¡æœ‰ä¸å³è¡¨å…³è”åˆ—å€¼åŒ¹é…ï¼Œä¹Ÿä»å·¦è¡¨è¿”å›æ‰€<br>æœ‰çš„è¡Œã€‚<br><strong>RIGHT JOIN</strong>:å³å¤–è¿æ¥ï¼Œå³ä½¿æ²¡æœ‰ä¸å·¦è¡¨å…³è”åˆ—å€¼åŒ¹é…ï¼Œä¹Ÿä»å³è¡¨è¿”å›<br>æ‰€æœ‰çš„è¡Œã€‚<br><strong>FULL JOIN</strong>:å…¨å¤–è¿æ¥ï¼ŒåŒæ—¶è¿›è¡Œå·¦è¿æ¥å’Œå³è¿æ¥ï¼Œå°±è¿”å›æ‰€æœ‰è¡Œã€‚</a></p>
</blockquote>
<p>å¯¹Aè¡¨å’ŒBè¡¨è¿›è¡Œå…³è”æŸ¥è¯¢ï¼Œå“ªç§è¿æ¥å¯ä»¥ä½¿Bè¡¨ä¸­ä¸åŒ¹é…çš„å…ƒç»„æ•°æ®å¯ä»¥å‡ºç°åœ¨ç»“æœé›†ä¸­?<br>A. left join	<strong>B. right join</strong>	C. full join	D. inner join</p>
<p>åœ¨é€‰è¯¾ç®¡ç†ç³»ç»Ÿæ•°æ®åº“ä¸­ï¼Œå¸Œæœ›èƒ½æŸ¥è¯¢æ‰€æœ‰å¼€è®¾è¯¾ç¨‹çš„å­¦ç”Ÿé€‰è¯¾æƒ…å†µï¼ŒåŒ…æ‹¬è¯¾ç¨‹åç§°ã€ä»»è¯¾æ•™å¸ˆã€é€‰è¯¾å­¦ç”Ÿäººæ•°ã€‚è¿™éœ€è¦å…³è”è¯¾ç¨‹ä¿¡æ¯è¡¨COURSEã€å¼€è¯¾è®¡åˆ’è¡¨CPLANã€æ•™å¸ˆä¿¡æ¯è¡¨TEACHERã€é€‰è¯¾æ³¨å†Œä¿¡æ¯è¡¨REGISTERã€‚è‹¥ä½¿ç”¨å·¦å¤–è¿æ¥æŸ¥è¯¢ï¼Œè¯¥JOINâ€“ONè¿æ¥æŸ¥è¯¢çš„SQLè¯­å¥å¦‚ä¸‹:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> C.CourseName <span class="keyword">AS</span> è¯¾ç¨‹åç§°, T.TeacherName <span class="keyword">AS</span> æ•™å¸ˆ, </span><br><span class="line">COUNT  (R.CoursePlanID)  <span class="keyword">AS</span> é€‰è¯¾äººæ•°</span><br><span class="line"><span class="keyword">FROM</span>  COURSE  <span class="keyword">AS</span>  C  <span class="keyword">JOIN</span>  PLAN  <span class="keyword">AS</span>  P  </span><br><span class="line"><span class="keyword">ON</span>  C.CourseID=P.CourseID </span><br><span class="line"><span class="keyword">JOIN</span>  TEACHER  <span class="keyword">AS</span>  T  <span class="keyword">ON</span>  P.TeacherID=T.TeacherID</span><br><span class="line"><span class="keyword">LEFT  JOIN</span>  REGISTER  <span class="keyword">AS</span>  R  <span class="keyword">ON</span>  P.CoursePlanID=R.CoursePlanID</span><br><span class="line"><span class="keyword">GROUP</span>  <span class="keyword">BY</span> C.CourseName, T.TeacherName;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°æ®æ§åˆ¶è¯­å¥ï¼ˆDCLï¼‰"><a href="#æ•°æ®æ§åˆ¶è¯­å¥ï¼ˆDCLï¼‰" class="headerlink" title="æ•°æ®æ§åˆ¶è¯­å¥ï¼ˆDCLï¼‰"></a>æ•°æ®æ§åˆ¶è¯­å¥ï¼ˆDCLï¼‰</h3><p>æˆäºˆï¼Œæ”¶å›ï¼Œæ‹’ç»æƒé™</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GRANT</span>  <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span>, <span class="keyword">DELETE</span>  <span class="keyword">ON</span>  REGISTER  <span class="keyword">TO</span>  RoleS;</span><br><span class="line"><span class="keyword">REVOKE</span>  <span class="keyword">DELETE</span>  <span class="keyword">ON</span>  REGISTER  <span class="keyword">FROM</span>  RoleS;</span><br><span class="line">DENY  <span class="keyword">DELETE</span>  <span class="keyword">ON</span>  TEACHER  <span class="keyword">TO</span>  RoleT;</span><br></pre></td></tr></table></figure>

<p>è§†å›¾æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è¡¨ï¼Œå®ƒæ˜¯ä»ä¸€ä¸ªæˆ–å‡ ä¸ªåŸºæœ¬è¡¨ï¼ˆæˆ–è§†å›¾ï¼‰å¯¼å‡ºçš„è¡¨ã€‚å®ƒåŒ…å«è¡Œå’Œåˆ—ï¼Œå°±åƒä¸€ä¸ªçœŸå®çš„è¡¨ä¸€æ ·ã€‚è§†å›¾æœ¬èº«å¹¶ä¸åŒ…å«ä»»ä½•æ•°æ®ï¼Œå®ƒåªåŒ…å«æ˜ å°„åˆ°åŸºè¡¨çš„ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ã€‚å½“åŸºè¡¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§†å›¾æ•°æ®ä¹Ÿéšä¹‹å˜åŒ–ã€‚æˆ‘ä»¬å¯ä»¥å‘è§†å›¾æ·»åŠ  SQL å‡½æ•°ã€WHERE ä»¥åŠ JOIN è¯­å¥ï¼Œä¹Ÿå¯ä»¥æäº¤æ•°æ®ï¼Œå°±åƒè¿™äº›æ¥è‡ªäºæŸä¸ªå•ä¸€çš„è¡¨ä¸€æ ·ã€‚æ•°æ®åº“çš„è®¾è®¡å’Œç»“æ„ä¸ä¼šå—åˆ°è§†å›¾ä¸­çš„å‡½æ•°ã€where æˆ– join è¯­å¥çš„å½±å“ã€‚</p>
<p>è§†å›¾çš„ä¼˜ç‚¹ï¼š</p>
<blockquote>
<ol>
<li>ä½¿ç”¨è§†å›¾ç®€åŒ–å¤æ‚SQLæŸ¥è¯¢æ“ä½œ</li>
<li>ä½¿ç”¨è§†å›¾æé«˜æ•°æ®è®¿é—®å®‰å…¨æ€§</li>
<li>æä¾›ä¸€å®šç¨‹åº¦çš„æ•°æ®é€»è¾‘ç‹¬ç«‹æ€§é€šè¿‡è§†å›¾ï¼Œå¯æä¾›ä¸€å®šç¨‹åº¦çš„æ•°æ®é€»è¾‘ç‹¬ç«‹æ€§ã€‚å½“æ•°æ®è¡¨ç»“æ„å‘ç”Ÿæ”¹å˜ï¼Œåªè¦è§†å›¾ç»“æ„ä¸å˜ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä¸ä½œä¿®æ”¹ã€‚</li>
<li>é›†ä¸­å±•ç¤ºç”¨æˆ·æ‰€æ„Ÿå…´è¶£çš„ç‰¹å®šæ•°æ®é€šè¿‡è§†å›¾ï¼Œå¯ä»¥å°†éƒ¨åˆ†ç”¨æˆ·ä¸å…³å¿ƒçš„æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œä»…ä»…æä¾›ä»–ä»¬æ‰€æ„Ÿå…´è¶£çš„æ•°æ®ã€‚</li>
</ol>
</blockquote>
<p>åˆ›å»ºè§†å›¾</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">VIEW</span>  BasicCourseView  <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span>  CourseName,  CourseCredit,  CoursePeriod,  TestMethod</span><br><span class="line"><span class="keyword">FROM</span>    COURSE</span><br><span class="line"><span class="keyword">WHERE</span>  CourseType=â€˜åŸºç¡€è¯¾â€™;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢è§†å›¾ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> BasicTeacherInfoView <span class="keyword">ORDER</span> <span class="keyword">BY</span> æ‰€å±å­¦é™¢,æ•™å¸ˆå§“å;</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤è§†å›¾ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span>&lt;è§†å›¾å&gt;;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å“ªé¡¹ä¸æ˜¯SQLè¯­è¨€çš„ç‰¹æ€§?<br>A.å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ<br>B.å®ç°æ§åˆ¶é€»è¾‘ç¼–ç¨‹<br>C.æ•°æ®åº“æ¸¸æ ‡æ“ä½œ<br>D.æ•°æ®åº“äº‹åŠ¡æ“ä½œ</p>
<p><code>å®ç°æ§åˆ¶é€»è¾‘ç¼–ç¨‹</code> ä¸æ˜¯ SQL è¯­è¨€çš„ç‰¹æ€§ã€‚SQL è¯­è¨€æ˜¯ä¸€ç§ç”¨äºç®¡ç†å…³ç³»æ•°æ®åº“çš„è¯­è¨€ï¼Œå®ƒå¯ä»¥ç”¨æ¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œã€æ•°æ®åº“æ¸¸æ ‡æ“ä½œå’Œæ•°æ®åº“äº‹åŠ¡æ“ä½œã€‚ä½†å®ƒä¸æ˜¯ä¸€ç§é€šç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸èƒ½ç”¨æ¥å®ç°æ§åˆ¶é€»è¾‘ç¼–ç¨‹ã€‚</p>
<p><strong>NUMERIC</strong>æ•°æ®ç±»å‹æ˜¯ä¸€ç§ç²¾ç¡®æ•°å­—æ•°æ®ç±»å‹ï¼Œå…¶ç²¾åº¦åœ¨ç®—æœ¯è¿ç®—åä¿ç•™åˆ°æœ€å°æœ‰æ•ˆä½ï¼Œnumericæ˜¯æ ‡å‡†sqlçš„æ•°æ®ç±»å‹ï¼Œæ ¼å¼æ˜¯numeric(mï¼Œnï¼‰ã€‚numeric(aï¼Œb)å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå‰é¢ä¸€ä¸ªä¸ºæ€»çš„ä½æ•°ï¼Œåé¢ä¸€ä¸ªå‚æ•°æ˜¯å°æ•°ç‚¹åçš„ä½æ•°ï¼Œä¾‹å¦‚numericï¼ˆ5ï¼Œ2ï¼‰æ˜¯æ€»ä½æ•°ä¸º5ï¼Œå°æ•°ç‚¹åä¸º2ä½çš„æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå­—æ®µçš„æ•´æ•°ä½æœ€å¤§æ˜¯3ä½ã€‚</p>
<p>åœ¨æ•°æ®åº“ä¸­ï¼Œä½¿ç”¨æ›´å¤šç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®åº“å¤„ç†é€Ÿåº¦ã€‚ï¼ˆxï¼‰<br><em><strong>ç´¢å¼•å¯ä»¥åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œä½†ä¸èƒ½åŠ å¿«å¤„ç†é€Ÿåº¦</strong></em></p>
<p><a href="https://smms.app/image/cGdF3HSLoqhszr2" target="_blank"><img src="https://s2.loli.net/2023/06/03/cGdF3HSLoqhszr2.png" alt="image.png"></a></p>
<p>é’ˆå¯¹è§†å›¾ <code>Create view stuView as select * from student;</code> å¯ä»¥è¿›è¡Œ <code>D.ä»¥ä¸Šå‡å¯</code> æ“ä½œè®¿é—®ã€‚è¿™ä¸ªè§†å›¾å®šä¹‰äº†ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œå®ƒä» <code>student</code> è¡¨ä¸­é€‰æ‹©æ‰€æœ‰åˆ—å’Œæ‰€æœ‰è¡Œã€‚å› æ­¤ï¼Œå¯ä»¥å¯¹è¿™ä¸ªè§†å›¾æ‰§è¡Œ <code>SELECT</code>ã€<code>INSERT INTO</code> å’Œ <code>DELETE</code> æ“ä½œã€‚<br>é’ˆå¯¹è§†å›¾ <code>Create view stuView as select stuname, major from student;</code> å¯ä»¥è¿›è¡Œ <code>A. Select</code>,<code>C. delete</code> æ“ä½œè®¿é—®ã€‚è¿™ä¸ªè§†å›¾å®šä¹‰äº†ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œå®ƒä» <code>student</code> è¡¨ä¸­é€‰æ‹© <code>stuname</code> å’Œ <code>major</code> åˆ—ã€‚ç”±äºè¿™ä¸ªè§†å›¾åªåŒ…å«éƒ¨åˆ†åˆ—ï¼Œå› æ­¤ä¸èƒ½å¯¹å…¶æ‰§è¡Œ <code>INSERT INTO</code> æ“ä½œã€‚</p>
<h2 id="ç¬¬å››ç« -æ•°æ®åº“è®¾è®¡ä¸å®ç°"><a href="#ç¬¬å››ç« -æ•°æ®åº“è®¾è®¡ä¸å®ç°" class="headerlink" title="ç¬¬å››ç«  æ•°æ®åº“è®¾è®¡ä¸å®ç°"></a>ç¬¬å››ç«  æ•°æ®åº“è®¾è®¡ä¸å®ç°</h2><p><strong>æ¦‚å¿µæ•°æ®æ¨¡å‹</strong>ï¼ˆConcept Data Modelï¼ŒCDMï¼‰æ˜¯ä¸€ç§<strong>é¢å‘ç”¨æˆ·</strong>çš„ç³»ç»Ÿæ•°æ®æ¨¡å‹ï¼Œå®ƒç”¨æ¥æè¿°ç°å®ä¸–ç•Œçš„ç³»ç»Ÿæ¦‚å¿µåŒ–æ•°æ®ç»“æ„ã€‚ä½¿æ•°æ®åº“è®¾è®¡äººå‘˜åœ¨ç³»ç»Ÿè®¾è®¡çš„åˆå§‹é˜¶æ®µï¼Œæ‘†è„±è®¡ç®—æœºç³»ç»ŸåŠDBMSçš„å…·ä½“æŠ€æœ¯é—®é¢˜ï¼Œé›†ä¸­ç²¾åŠ›åˆ†æä¸šåŠ¡æ•°æ®ä»¥åŠæ•°æ®ä¹‹é—´çš„è”ç³»ç­‰ï¼Œæè¿°ç³»ç»Ÿçš„æ•°æ®å¯¹è±¡åŠå…¶ç»„æˆå…³ç³»ã€‚ </p>
<p><strong>é€»è¾‘æ•°æ®æ¨¡å‹</strong> (Logic Data Modelï¼ŒLDM)æ˜¯åœ¨æ¦‚å¿µæ•°æ®æ¨¡å‹åŸºç¡€ä¸Šï¼Œä»ç³»ç»Ÿè®¾è®¡è§’åº¦æè¿°ç³»ç»Ÿçš„æ•°æ®å¯¹è±¡ç»„æˆåŠå…¶å…³è”ç»“æ„ï¼Œå¹¶è€ƒè™‘è¿™äº›æ•°æ®å¯¹è±¡ç¬¦åˆæ•°æ®åº“å¯¹è±¡çš„é€»è¾‘è¡¨ç¤ºã€‚ </p>
<p><strong>ç‰©ç†æ•°æ®æ¨¡å‹</strong>ï¼ˆPhysical Data Modelï¼ŒPDMï¼‰æ˜¯åœ¨é€»è¾‘æ•°æ®æ¨¡å‹åŸºç¡€ä¸Šï¼Œé’ˆå¯¹å…·ä½“DBMSæ‰€è®¾è®¡çš„æ•°æ®æ¨¡å‹ã€‚å®ƒç”¨äºæè¿°ç³»ç»Ÿæ•°æ®æ¨¡å‹åœ¨å…·ä½“DBMSä¸­çš„æ•°æ®å¯¹è±¡ç»„ç»‡ã€<strong>å­˜å‚¨æ–¹å¼</strong>ã€<strong>ç´¢å¼•æ–¹å¼</strong>ã€è®¿é—®è·¯å¾„ç­‰å®ç°ä¿¡æ¯ã€‚ï¼ˆé¢å‘ç¼–ç¨‹äººå‘˜ï¼‰</p>
<p>åœ¨E-Ræ¨¡å‹ä¸­ï¼ŒåŸºæœ¬å…ƒç´ åŒ…æ‹¬å®ä½“ã€å±æ€§ã€æ ‡è¯†ç¬¦å’Œè”ç³»ã€‚</p>
<p><strong>å®ä½“</strong>(Entity)æ˜¯æŒ‡é—®é¢˜åŸŸä¸­å­˜åœ¨çš„äººã€äº‹ã€ç‰©ã€åœ°ç‚¹ç­‰å®¢è§‚äº‹ç‰©åœ¨é€»è¾‘å±‚é¢çš„æ•°æ®æŠ½è±¡ã€‚å®ƒç”¨äºæè¿°äº‹ç‰©çš„æ•°æ®å¯¹è±¡ï¼Œå¦‚å®¢æˆ·ã€äº¤æ˜“ã€äº§å“ã€è®¢å•ç­‰ã€‚</p>
<p><strong>å±æ€§</strong>æ˜¯æŒ‡æè¿°å®ä½“ç‰¹å¾çš„æ•°æ®é¡¹ã€‚æ¯ä¸ªå®ä½“éƒ½å…·æœ‰1ä¸ªæˆ–å¤šä¸ªå±æ€§ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_13-51-33.png"></p>
<p>å®ä½“è”ç³»çš„å®ä¾‹æ•°é‡ç§°ä¸º<strong>åŸºæ•°</strong>(Cardinality) ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_14-19-51.png"></p>
<p><strong>è”ç³»</strong>ï¼šå®ä½“é—´çš„è”ç³»ï¼Œå…³è”çš„å®ä½“æ•°ç›®ç§°ä¸ºè”ç³»åº¦æ•°</p>
<p>å®ä½“è”ç³»ç±»å‹</p>
<ul>
<li>æ•°é‡å…³ç³»ï¼š1ï¼š1ã€1ï¼šNã€Mï¼šN</li>
<li>å¿…è¦æ€§ï¼šå¯é€‰ï¼Œå¼ºåˆ¶ã€‚</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_14-20-21.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_14-21-28.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_14-22-01.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_14-22-12.png"></p>
<p>åœ¨E-Ræ¨¡å‹ä¸­ï¼Œæ ¹æ®å¼±å®ä½“åœ¨è¯­ä¹‰ä¸Šå¯¹å¼ºå®ä½“ä¾èµ–ç¨‹åº¦çš„ä¸åŒï¼Œå¼±å®ä½“åˆåˆ†ä¸º<strong>æ ‡è¯†ç¬¦ä¾èµ–å¼±å®ä½“</strong>å’Œ<strong>éæ ‡è¯†ç¬¦ä¾èµ–å¼±å®ä½“</strong>ä¸¤ç±»ã€‚å¦‚æœå¼±å®ä½“çš„æ ‡è¯†ç¬¦ä¸­åŒ…å«äº†æ‰€ä¾èµ–å®ä½“çš„æ ‡è¯†ç¬¦ï¼Œåˆ™è¯¥å¼±å®ä½“ç§°ä¸ºæ ‡è¯†ç¬¦ä¾èµ–å¼±å®ä½“ã€‚</p>
<p>å½“ä½¿ç”¨å…³ç³»æ•°æ®åº“æ—¶ï¼Œç‰©ç†æ•°æ®æ¨¡å‹ï¼ˆPDMï¼‰å³ä¸ºå…³ç³»æ¨¡å‹ã€‚CDM&#x2F;LDMåˆ°PDMçš„è½¬æ¢å…¶å®å°±æ˜¯E-Ræ¨¡å‹å›¾åˆ°å…³ç³»æ¨¡å‹çš„è½¬æ¢ã€‚<br>E-Ræ¨¡å‹å›¾åˆ°å…³ç³»æ¨¡å‹è½¬æ¢åŸç†:</p>
<blockquote>
<p>å°†æ¯ä¸€ä¸ªå®ä½“è½¬æ¢æˆä¸€ä¸ªå…³ç³»è¡¨ï¼Œå®ä½“å±æ€§è½¬æ¢ä¸ºå…³ç³»è¡¨çš„åˆ—ï¼Œå®ä½“æ ‡è¯†ç¬¦è½¬æ¢ä¸ºå…³ç³»è¡¨çš„ä¸»é”®æˆ–å¤–é”®ã€‚å°†å®ä½“ä¹‹é—´çš„è”ç³»è½¬åŒ–ä¸ºå…³ç³»è¡¨ä¹‹é—´çš„å‚ç…§å®Œæ•´æ€§çº¦æŸã€‚</p>
</blockquote>
<p>1:1å®ä½“è”ç³»ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_19-30-41.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_19-31-07.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_19-31-22.png"></p>
<p>å½“å¸¦æœ‰å®ä½“ç»§æ‰¿è”ç³»çš„E-Ræ¨¡å‹å›¾è½¬æ¢å…³ç³»æ¨¡å‹æ—¶ï¼Œé¦–å…ˆçˆ¶å®ä½“å’Œå­å®ä½“éƒ½å„è‡ªè½¬æ¢ä¸ºè¡¨ï¼Œå…¶å±æ€§å‡è½¬æ¢ä¸ºè¡¨çš„åˆ—ã€‚åœ¨å¤„ç†å®ä½“ç»§æ‰¿è”ç³»è½¬æ¢æ—¶ï¼Œå°†çˆ¶è¡¨ä¸­çš„ä¸»é”®æ”¾ç½®åˆ°å­è¡¨ä¸­ï¼Œæ—¢åšä¸»é”®åˆåšå¤–é”®ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_19-39-02.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_19-40-14.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_19-40-27.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/cdm.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/ldm.png"><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/pdm.png">æ•°æ®åº“è§„èŒƒåŒ–è®¾è®¡ç›®çš„ï¼š</p>
<ul>
<li>å‡å°‘æ•°æ®åº“ä¸­çš„å†—ä½™æ•°æ®ï¼Œå°½é‡ä½¿åŒä¸€æ•°æ®åœ¨æ•°æ®åº“ä¸­ä»…ä¿å­˜ä¸€ä»½ï¼Œæœ‰æ•ˆé™ä½ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§çš„å·¥ä½œé‡ã€‚</li>
<li>è®¾è®¡åˆç†çš„è¡¨é—´ä¾èµ–å…³ç³»å’Œçº¦æŸå…³ç³»ï¼Œä¾¿äºå®ç°æ•°æ®å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚</li>
<li>è®¾è®¡åˆç†çš„æ•°æ®åº“ç»“æ„ï¼Œä¾¿äºç³»ç»Ÿå¯¹æ•°æ®é«˜æ•ˆè®¿é—®å¤„ç†ã€‚</li>
</ul>
<p><strong>å®Œå…¨å‡½æ•°ä¾èµ–ä¸éƒ¨åˆ†å‡½æ•°ä¾èµ–</strong></p>
<p>ä¾‹1ï¼šå¯¹äºå…³ç³»Rï¼ˆ<u>X</u>,<u> Y</u>, N, O, Pï¼‰ï¼Œå…¶ä¸­ï¼ˆ<u>X</u>,<u> Y</u>ï¼‰ä¸ºå¤åˆä¸»é”®ï¼Œè‹¥å…¶å®ƒå±æ€§N,O,Péƒ½å®Œæ•´ä¾èµ–äºè¯¥å¤åˆä¸»é”®ï¼Œåˆ™ç§°å…³ç³»Rä¸ºå®Œå…¨å‡½æ•°ä¾èµ–ã€‚åä¹‹ï¼Œå…¶å®ƒå±æ€§N,O,Pä»…ä¾èµ–äºXï¼Œæˆ–ä»…ä¾èµ–äºYï¼Œåˆ™ç§°Rä¸ºéƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚</p>
<p><strong>å‡½æ•°ä¼ é€’ä¾èµ–</strong></p>
<p>ä¾‹2ï¼šå¯¹äºå…³ç³»Rï¼ˆ<u>X</u>, N, O, Pï¼‰ï¼Œå…¶ä¸­Xä¸ºä¸»é”®ï¼Œè‹¥å±æ€§Nä¾èµ–äºXï¼Œè€ŒXä¸ä¾èµ–äºNï¼Œå±æ€§Oä¾èµ–äºNã€‚åˆ™å±æ€§Oå‡½æ•°ä¼ é€’ä¾èµ–äºXã€‚</p>
<p><strong>å¤šå€¼å‡½æ•°ä¾èµ–</strong></p>
<p>ä¾‹3ï¼šå¯¹äºæ•™å­¦å…³ç³»Rï¼ˆè¯¾ç¨‹, æ•™å¸ˆ, è¯¾ç¨‹å‚è€ƒä¹¦ï¼‰ï¼Œä¸€é—¨è¯¾ç¨‹å¯ä»¥æœ‰å¤šä¸ªä»»è¯¾æ•™å¸ˆï¼Œä¹Ÿå¯ä»¥æœ‰å¤šæœ¬å‚è€ƒä¹¦ï¼›æ¯ä¸ªä»»è¯¾æ•™å¸ˆå¯ä»¥ä»»æ„é€‰æ‹©ä»–çš„å‚è€ƒä¹¦ã€‚è¯¥å…³ç³»å­˜åœ¨å¤šå€¼å‡½æ•°ä¾èµ–ã€‚</p>
<p>å¦‚æœXã€Yæ˜¯1:1çš„è”ç³»ï¼Œåˆ™Xâ†”Yã€‚<br>å¦‚å­¦å·è”ç³»ç”µè¯ï¼Œå³çŸ¥é“äº†å­¦å·ï¼Œå°±å¯ä»¥åœ¨è¡¨ä¸­ç¡®å®šå…¶è”ç³»ç”µè¯;åŒæ ·åœ°ï¼ŒçŸ¥é“äº†è”ç³»ç”µè¯ï¼Œä¹Ÿå¯ä»¥åœ¨è¡¨ä¸­ç¡®å®šå…¶å­¦å·ã€‚</p>
<p>å¦‚æœXï¼ŒYæ˜¯n :1çš„è”ç³»ï¼Œåˆ™Xâ†’Yã€‚<br>å¦‚å­¦å·-ç­å·ï¼Œå³çŸ¥é“äº†å­¦å·ï¼Œå°±å¯ä»¥åœ¨è¡¨ä¸­ç¡®å®šå…¶ç­å·;ç›¸ååœ°ï¼Œå¦‚æœçŸ¥é“äº†ç­å·ï¼Œå´æ— æ³•ç¡®å®šå­¦å·ã€‚</p>
<p>å¦‚æœXã€Yæ˜¯m : nçš„è”ç³»ï¼Œåˆ™Xå’ŒYä¸å­˜åœ¨å‡½æ•°ä¾èµ–å…³ç³»ã€‚<br>å¦‚å­¦å·å’Œè¯¾ç¨‹å·æ²¡æœ‰å‡½æ•°ä¾èµ–å…³ç³»ã€‚å³çŸ¥é“äº†å­¦å·ï¼Œæ— æ³•åœ¨è¡¨ä¸­ç¡®å®šè¯¾ç¨‹å·;åŒæ ·åœ°ï¼Œå¦‚æœçŸ¥é“äº†è¯¾ç¨‹å·ï¼Œä¹Ÿæ— æ³•ç¡®å®šå­¦å·ã€‚</p>
<p><strong>å…³ç³»è§„èŒƒåŒ–èŒƒå¼</strong>ï¼šå°†ä¸€ä¸ªæœ‰å¼‚å¸¸è®¿é—®çš„å…³ç³»åˆ†è§£æˆç»“æ„è‰¯å¥½çš„å…³ç³»çš„è¿‡ç¨‹ï¼Œä½¿è¿™äº›å…³ç³»æœ‰æœ€å°å†—ä½™æˆ–æ²¡æœ‰å†—ä½™ã€‚</p>
<p>ä¸€èˆ¬åœ¨æˆ‘ä»¬è®¾è®¡å…³ç³»å‹æ•°æ®åº“çš„æ—¶å€™ï¼Œ<strong>æœ€å¤šè€ƒè™‘åˆ°BCNFå°±å¤Ÿ</strong>ã€‚ç¬¦åˆé«˜ä¸€çº§èŒƒå¼çš„è®¾è®¡ï¼Œå¿…å®šç¬¦åˆä½ä¸€çº§èŒƒå¼ï¼Œä¾‹å¦‚ç¬¦åˆ2NFçš„å…³ç³»æ¨¡å¼ï¼Œå¿…å®šç¬¦åˆ1NFã€‚</p>
<p><em>å…³ç³»æ¨¡å¼â€å’Œâ€œå…³ç³»â€çš„åŒºåˆ«ï¼Œç±»ä¼¼äºé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­â€ç±»â€œä¸â€å¯¹è±¡â€œçš„åŒºåˆ«ã€‚â€å…³ç³»â€œæ˜¯â€å…³ç³»æ¨¡å¼â€œçš„ä¸€ä¸ªå®ä¾‹ï¼Œä½ å¯ä»¥æŠŠâ€å…³ç³»â€ç†è§£ä¸ºä¸€å¼ å¸¦æ•°æ®çš„è¡¨ï¼Œè€Œâ€œå…³ç³»æ¨¡å¼â€æ˜¯è¿™å¼ æ•°æ®è¡¨çš„è¡¨ç»“æ„ã€‚</em></p>
<ul>
<li><p>ç¬¬ä¸€èŒƒå¼ï¼šå…³ç³»è¡¨ä¸­å±æ€§ä¸å¯å†ç»†åˆ†ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/670f90e0d6a186d12a2a4545aea3ecd3.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/fcb526f0fae9df53625b573a822010e5.png"></p>
</li>
<li><p>ç¬¬äºŒèŒƒå¼ï¼šæ¶ˆé™¤éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œæ»¡è¶³ç¬¬ä¸€èŒƒå¼ã€‚</p>
<p>å¯¹äºå…³ç³»Rï¼ˆ<u>X</u>,<u> Y</u>, N, O, Pï¼‰ï¼Œå…¶ä¸­ï¼ˆ<u>X</u>,<u> Y</u>ï¼‰ä¸ºå¤åˆä¸»é”®ï¼ŒN,O,Pè¿™ä¸‰ä¸ªéé”®å±æ€§éƒ½ä¸å­˜åœ¨åªä¾èµ–Aæˆ–åªä¾èµ–Bæƒ…å†µï¼Œåˆ™è¯¥å…³ç³»æ»¡è¶³ç¬¬2èŒƒå¼,åä¹‹,ä¸æ»¡è¶³ç¬¬2èŒƒå¼ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/18eb762805d229aedb0c0046fceba05f.png"></p>
<p>å¯¹äº<strong>ï¼ˆå­¦å·ï¼Œè¯¾åï¼‰ â†’ å§“å</strong>ï¼Œæœ‰ <strong>å­¦å· â†’ å§“å</strong>ï¼Œå­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚<br>å¯¹äº<strong>ï¼ˆå­¦å·ï¼Œè¯¾åï¼‰ â†’ ç³»å</strong>ï¼Œæœ‰ <strong>å­¦å· â†’ ç³»å</strong>ï¼Œå­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚<br>å¯¹äº<strong>ï¼ˆå­¦å·ï¼Œè¯¾åï¼‰ â†’ ç³»ä¸»ä»»</strong>ï¼Œæœ‰ <strong>å­¦å· â†’ ç³»ä¸»ä»»</strong>ï¼Œå­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/0f18dc0ff9021cf8a32473f18065b11f.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/0dee50526984e0c559f2b29b4bff492f.png"></p>
</li>
<li><p>ç¬¬ä¸‰èŒƒå¼ï¼šåˆ‡æ–­å±æ€§ä¼ é€’ä¾èµ–ï¼Œæ»¡è¶³ç¬¬äºŒèŒƒå¼ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹ä¸Šè¡¨ä¸­çš„è®¾è®¡ï¼Œæ˜¯å¦ç¬¦åˆ3NFçš„è¦æ±‚ã€‚</p>
<p>å¯¹äº<strong>é€‰è¯¾</strong>è¡¨ï¼Œä¸»ç ä¸ºï¼ˆå­¦å·ï¼Œè¯¾åï¼‰ï¼Œä¸»å±æ€§ä¸º<strong>å­¦å·</strong>å’Œ<strong>è¯¾åï¼Œ</strong>éä¸»å±æ€§åªæœ‰ä¸€ä¸ªï¼Œä¸ºåˆ†æ•°ï¼Œä¸å¯èƒ½å­˜åœ¨ä¼ é€’å‡½æ•°ä¾èµ–ï¼Œæ‰€ä»¥<strong>é€‰è¯¾</strong>è¡¨çš„è®¾è®¡ï¼Œç¬¦åˆ3NFçš„è¦æ±‚ã€‚</p>
<p>å¯¹äº<strong>å­¦ç”Ÿ</strong>è¡¨ï¼Œä¸»ç ä¸º<strong>å­¦å·</strong>ï¼Œä¸»å±æ€§ä¸º<strong>å­¦å·</strong>ï¼Œéä¸»å±æ€§ä¸º<strong>å§“å</strong>ã€<strong>ç³»å</strong>å’Œ<strong>ç³»ä¸»ä»»</strong>ã€‚å› ä¸º å­¦å· â†’ ç³»åï¼ŒåŒæ—¶ ç³»å â†’ ç³»ä¸»ä»»ï¼Œæ‰€ä»¥å­˜åœ¨éä¸»å±æ€§<strong>ç³»ä¸»ä»»</strong>å¯¹äºç <strong>å­¦å·</strong>çš„ä¼ é€’å‡½æ•°ä¾èµ–ï¼Œæ‰€ä»¥<strong>å­¦ç”Ÿ</strong>è¡¨çš„è®¾è®¡ï¼Œä¸ç¬¦åˆ3NFçš„è¦æ±‚ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/81582f29379da3cbd33f483e3978b701.jpg"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/ebb592146a8c9226463de96b70780c2b.png"></p>
</li>
<li><p>å·´æ–¯-ç§‘å¾·èŒƒå¼(BCNF)ï¼šæ‰€æœ‰å±æ€§å‡½æ•°ä¾èµ–çš„å†³å®šå› å­éƒ½æ˜¯å€™é€‰é”®ã€‚åœ¨3NFåŸºç¡€ä¸Šï¼Œä»»ä½•<a href="https://baike.baidu.com/item/%E4%B8%BB%E5%B1%9E%E6%80%A7/120103?fromModule=lemma_inlink">ä¸»å±æ€§</a>ä¸èƒ½å¯¹ä¸»é”®å­é›†ä¾èµ–ï¼ˆåœ¨3NFåŸºç¡€ä¸Šæ¶ˆé™¤ä¸»å±æ€§å¯¹ä¸»ç å­é›†çš„ä¾èµ–ï¼‰</p>
<p>ä¸¾ä¾‹ï¼š</p>
<ol>
<li>æŸå…¬å¸æœ‰è‹¥å¹²ä¸ªä»“åº“ï¼›</li>
<li>æ¯ä¸ªä»“åº“åªèƒ½æœ‰ä¸€åç®¡ç†å‘˜ï¼Œä¸€åç®¡ç†å‘˜åªèƒ½åœ¨ä¸€ä¸ªä»“åº“ä¸­å·¥ä½œï¼›</li>
<li>ä¸€ä¸ªä»“åº“ä¸­å¯ä»¥å­˜æ”¾å¤šç§ç‰©å“ï¼Œä¸€ç§ç‰©å“ä¹Ÿå¯ä»¥å­˜æ”¾åœ¨ä¸åŒçš„ä»“åº“ä¸­ã€‚æ¯ç§ç‰©å“åœ¨æ¯ä¸ªä»“åº“ä¸­éƒ½æœ‰å¯¹åº”çš„æ•°é‡ã€‚</li>
</ol>
<p>é‚£ä¹ˆå…³ç³»æ¨¡å¼ ä»“åº“ï¼ˆä»“åº“åï¼Œç®¡ç†å‘˜ï¼Œç‰©å“åï¼Œæ•°é‡ï¼‰ å±äºå“ªä¸€çº§èŒƒå¼ï¼Ÿ</p>
<p>ç­”ï¼šå·²çŸ¥å‡½æ•°ä¾èµ–é›†ï¼šä»“åº“å â†’ ç®¡ç†å‘˜ï¼Œç®¡ç†å‘˜ â†’ ä»“åº“åï¼Œï¼ˆä»“åº“åï¼Œç‰©å“åï¼‰â†’ æ•°é‡<br>ä¸»å±æ€§ï¼šä»“åº“åã€ç®¡ç†å‘˜ã€ç‰©å“å<br>éä¸»å±æ€§ï¼šæ•°é‡<br>âˆµ ä¸å­˜åœ¨éä¸»å±æ€§å¯¹ç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–å’Œä¼ é€’å‡½æ•°ä¾èµ–ã€‚âˆ´ æ­¤å…³ç³»æ¨¡å¼å±äº3NFã€‚</p>
<p>ä½†æ˜¯å­˜åœ¨ä¸»å±æ€§ã€ä»“åº“åã€‘å¯¹äºç ï¼ˆç®¡ç†å‘˜ï¼Œç‰©å“åï¼‰çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚</p>
<p>è§£å†³åŠæ³•å°±æ˜¯è¦åœ¨ 3NF çš„åŸºç¡€ä¸Šæ¶ˆé™¤<strong>ä¸»å±æ€§</strong>å¯¹äºç çš„éƒ¨åˆ†ä¸ä¼ é€’å‡½æ•°ä¾èµ–ã€‚</p>
<p>ä»“åº“ï¼ˆä»“åº“åï¼Œç®¡ç†å‘˜ï¼‰<br>åº“å­˜ï¼ˆä»“åº“åï¼Œç‰©å“åï¼Œæ•°é‡ï¼‰</p>
</li>
<li><p>ç¬¬å››èŒƒå¼ï¼šæ¶ˆé™¤å¤šå€¼å‡½æ•°ä¾èµ–ï¼Œæ»¡è¶³å·´æ–¯-ç§‘å¾·èŒƒå¼</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-04_21-43-16.png"></p>
</li>
</ul>
<p>å…³ç³»çš„è§„èŒƒåŒ–ç¨‹åº¦ä¾æ¬¡æå‡:1NFâ†’2NF â†’3NFâ†’BCNFâ†’ 4NF<br>å…³ç³»çš„è§„èŒƒåŒ–ç¨‹åº¦è¶Šé«˜ï¼Œå…³ç³»æ•°æ®åº“å­˜å‚¨çš„å†—ä½™æ•°æ®å°±è¶Šå°‘ï¼Œå¯æ¶ˆé™¤çš„æ•°æ®è®¿é—®å¼‚å¸¸å°±è¶Šå¤šã€‚ä¸è¿‡å…³ç³»çš„è§„èŒƒåŒ–ç¨‹åº¦è¶Šé«˜ï¼Œåˆ†è§£å‡ºæ¥çš„å…³ç³»è¡¨å°±è¶Šå¤šï¼Œä½†åœ¨æ•°æ®æŸ¥è¯¢è®¿é—®æ—¶ï¼Œéœ€å…³è”æ›´å¤šå…³ç³»è¡¨ï¼Œå…¶æ•°æ®åº“å¤„ç†æ•ˆç‡ä¼šé™ä½ã€‚</p>
<p>ç»¼åˆä¾‹é¢˜ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-43-30.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-43-41.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-43-49.png"><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-43-59.png"><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-44-09.png"><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-44-15.png"><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-44-21.png"><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-44-28.png"><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_11-44-37.png">æ‰€è°“<strong>é€†è§„èŒƒåŒ–</strong>ï¼Œå°±æ˜¯é€‚å½“é™ä½è§„èŒƒåŒ–èŒƒå¼çº¦æŸï¼Œä¸å†è¦æ±‚ä¸€ä¸ªå…³ç³»è¡¨å¿…é¡»è¾¾åˆ°å¾ˆé«˜çš„è§„èŒƒåŒ–ç¨‹åº¦ï¼Œè€Œæ˜¯å…è®¸é€‚å½“çš„æ•°æ®å†—ä½™æ€§ï¼Œä»¥è·å–æ•°æ®è®¿é—®æ€§èƒ½ã€‚<br>é€†è§„èŒƒåŒ–å¤„ç†çš„åŸºæœ¬æ–¹æ³•:<br>(1)å¢åŠ å†—ä½™åˆ—æˆ–æ´¾ç”Ÿåˆ—<br>(2)å¤šä¸ªå…³ç³»è¡¨åˆå¹¶ä¸ºä¸€ä¸ªå…³ç³»è¡¨</p>
<p>åœ¨E-Ræ¨¡å‹ä¸­ï¼Œä¸€ä¸ªå®ä½“çš„å…¶ä»–å…³è”å®ä½“æ•°é‡ç§°ä¸ºä»€ä¹ˆï¼Ÿè”ç³»åº¦æ•°</p>
<p>åœ¨E-Ræ¨¡å‹å›¾ä¸­ï¼Œåœ¨å®šä¹‰ä¸€ä¸ªå®ä½“æ—¶ï¼Œå¿…é¡»æŒ‡å®šå®ƒçš„æ ‡è¯†ç¬¦ã€‚ é”™è¯¯ï¼ï¼</p>
<h2 id="ç¬¬äº”ç« -æ•°æ®åº“ç®¡ç†"><a href="#ç¬¬äº”ç« -æ•°æ®åº“ç®¡ç†" class="headerlink" title="ç¬¬äº”ç«  æ•°æ®åº“ç®¡ç†"></a>ç¬¬äº”ç«  æ•°æ®åº“ç®¡ç†</h2><p>æ•°æ®åº“ç®¡ç†æ¦‚è®º</p>
<p>æ˜¯æŒ‡ä¸ºä¿è¯æ•°æ®åº“ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œå’ŒæœåŠ¡è´¨é‡å¿…é¡»è¿›è¡Œçš„ç³»ç»Ÿç®¡ç†å·¥ä½œã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“ç®¡ç†?</p>
<ul>
<li>æ•°æ®åº“ç³»ç»Ÿéšè§„æ¨¡å¢å¤§,ç³»ç»Ÿä¼šå˜å¾—å¼‚å¸¸å¤æ‚</li>
<li>å¤šç”¨æˆ·æ•°æ®åº“åº”ç”¨å¸¦æ¥æ•°æ®åº“è®¿é—®å¤æ‚æ€§</li>
<li>æ•°æ®å®‰å…¨å’Œæ•°æ®éšç§å¯¹æœºæ„å’Œç”¨æˆ·éƒ½éå¸¸é‡è¦</li>
<li>æ•°æ®åº“ç³»ç»Ÿéšæ•°æ®é‡å¢åŠ å’Œä½¿ç”¨æ—¶é—´å¢é•¿å…¶æ€§èƒ½ä¼šé™ä½</li>
<li>ç³»ç»Ÿé­é‡æ„å¤–äº‹ä»¶ï¼Œæ•°æ®åº“æŸåæˆ–æ•°æ®ä¸¢å¤±</li>
</ul>
<p>æ•°æ®åº“ç®¡ç†ç›®æ ‡</p>
<ul>
<li>ä¿éšœæ•°æ®åº“ç³»ç»Ÿæ­£å¸¸ç¨³å®šè¿è¡Œ</li>
<li>å……åˆ†å‘æŒ¥æ•°æ®åº“ç³»ç»Ÿçš„è½¯ç¡¬ä»¶å¤„ç†èƒ½åŠ›</li>
<li>ç¡®ä¿æ•°æ®åº“ç³»ç»Ÿå®‰å…¨å’Œç”¨æˆ·æ•°æ®éšç§æ€§</li>
<li>æœ‰æ•ˆç®¡ç†æ•°æ®åº“ç”¨æˆ·åŠå…¶è§’è‰²æƒé™</li>
<li>è§£å†³æ•°æ®åº“ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–ã€ç³»ç»Ÿæ•…éšœä¸æ•°æ®æŸåç­‰é—®é¢˜</li>
<li>æœ€å¤§ç¨‹åº¦åœ°å‘æŒ¥æ•°æ®åº“å¯¹å…¶æ‰€å±æœºæ„çš„ä½œç”¨</li>
</ul>
<p>åœ¨æ•°æ®åº“ä¸­ï¼Œ<strong>äº‹åŠ¡</strong>(Transactionï¼‰æ˜¯æŒ‡é’ˆå¯¹<strong>å•ä¸ªä¸šåŠ¡å¤„ç†åŠŸèƒ½</strong>çš„ä¸€ç»„æ•°æ®åº“è®¿é—®æ“ä½œï¼Œè¦æ±‚å®ƒä»¬è¦ä¹ˆéƒ½æˆåŠŸæ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚åœ¨æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œ<em><strong>äº‹åŠ¡æ˜¯DBMSæ‰§è¡Œçš„æœ€å°ä»»åŠ¡å•å…ƒã€‚åŒæ—¶ï¼Œäº‹åŠ¡ä¹Ÿæ˜¯DBMSæœ€å°çš„æ•…éšœæ¢å¤ä»»åŠ¡å•å…ƒå’Œå¹¶å‘æ§åˆ¶ä»»åŠ¡å•å…ƒã€‚</strong></em></p>
<p>äº‹åŠ¡<strong>ACID</strong>ç‰¹æ€§:</p>
<blockquote>
<p><strong>åŸå­æ€§</strong>ï¼ˆAtomicity):äº‹åŠ¡æ‰€æœ‰æ“ä½œåœ¨æ•°æ®åº“ä¸­è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚<br><strong>ä¸€è‡´æ€§</strong>(Consistency) :äº‹åŠ¡å¤šæ¬¡æ‰§è¡Œï¼Œå…¶ç»“æœåº”ä¸€è‡´ã€‚<br><strong>éš”ç¦»æ€§</strong>ï¼ˆlsolation):äº‹åŠ¡ä¸äº‹åŠ¡ä¹‹é—´éš”ç¦»ï¼Œå¹¶å‘æ‰§è¡Œé€æ˜ã€‚<br><strong>æŒç»­æ€§</strong>(Durability ) :äº‹åŠ¡å®Œæˆåï¼Œæ•°æ®æ”¹å˜å¿…é¡»æ˜¯æ°¸ä¹…çš„ã€‚</p>
</blockquote>
<p>äº‹åŠ¡SQL</p>
<ul>
<li>BEGIN æˆ– START TRANSACTION ï¼›äº‹åŠ¡å¼€å§‹è¯­å¥</li>
<li>ROLLBACK ï¼›äº‹åŠ¡å›æ»šè¯­å¥</li>
<li>COMMIT ï¼›äº‹åŠ¡æäº¤è¯­å¥</li>
<li>SAVEPOINT ï¼›äº‹åŠ¡ä¿å­˜ç‚¹è¯­å¥</li>
</ul>
<p><a href="https://imgse.com/i/pCP9sAg"><img src="https://s1.ax1x.com/2023/06/05/pCP9sAg.png" alt="pCP9sAg.png" border="0" /></a><br>ä¾‹ï¼šåœ¨é€‰è¯¾ç®¡ç†æ•°æ®åº“CurriculaDBä¸­ï¼Œä½¿ç”¨äº‹åŠ¡ç¨‹åºå®ç°å¯¹å­¦é™¢ä¿¡æ¯è¡¨Collegeçš„æ•°æ®æ’å…¥ï¼Œå…¶äº‹åŠ¡SQLç¨‹åºå¦‚ä¸‹ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"><span class="keyword">INSERT</span>  <span class="keyword">INTO</span> college( collegeID, collegename)<span class="keyword">VALUES</span> (<span class="string">&#x27;004&#x27;</span>, <span class="string">&#x27;å¤–è¯­å­¦é™¢&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span>  <span class="keyword">INTO</span> college( collegeID, collegename)<span class="keyword">VALUES</span> (<span class="string">&#x27;005&#x27;</span>, <span class="string">&#x27;æ•°å­¦å­¦é™¢&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span>  <span class="keyword">INTO</span> college( collegeID, collegename)<span class="keyword">VALUES</span> (<span class="string">&#x27;006&#x27;</span>, <span class="string">&#x27;ä¸´åºŠåŒ»å­¦é™¢&#x27;</span>);</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure>

<p>åœ¨äº‹åŠ¡è¿‡ç¨‹ä¸­ç¦æ­¢ä½¿ç”¨çš„SQLè¯­å¥ï¼š</p>
<blockquote>
<p>åˆ›å»ºæ•°æ®åº“ CREATE  DATABASE<br>ä¿®æ”¹æ•°æ®åº“ ALTER  DATABASE<br>åˆ é™¤æ•°æ®åº“ DROP  DATABASE<br>æ¢å¤æ•°æ®åº“ RESTORE  DATABASE<br>åŠ è½½æ•°æ®åº“ LOAD  DATABASE<br>å¤‡ä»½æ—¥å¿—æ–‡ä»¶ BACKUP  LOG<br>æ¢å¤æ—¥å¿—æ–‡ä»¶ RESTORE  LOG<br>æˆæƒæ“ä½œ GRANT</p>
</blockquote>
<p>è‹¥ç”¨æˆ·æ²¡æœ‰æ˜¾å¼åœ°å®šä¹‰äº‹åŠ¡æ—¶ï¼ŒDBMSæŒ‰é»˜è®¤äº‹åŠ¡æ–¹å¼å¤„ç†ï¼Œ<strong>å³æ¯æ‰§è¡Œä¸€ä¸ªSQLè¯­å¥å°†è‡ªåŠ¨æ„æˆä¸€ä¸ªäº‹åŠ¡</strong>ã€‚è‹¥å°†å¤šæ¡SQLè¯­å¥å®šä¹‰ä¸ºä¸€ä¸ªäº‹åŠ¡æ—¶ï¼Œæ‰ä½¿ç”¨ä¸“é—¨çš„äº‹åŠ¡SQLè¯­å¥æ˜¾å¼åœ°å®šä¹‰äº‹åŠ¡ã€‚</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦å¹¶å‘æ§åˆ¶ï¼Ÿ</p>
<p>å½“å¤šä¸ªäº‹åŠ¡ç¨‹åºåœ¨DBMSç³»ç»Ÿä¸­åŒæ—¶è¿è¡Œæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¯¹ä¸€äº›å…±äº«æ•°æ®åŒæ—¶è¿›è¡Œè®¿é—®æ“ä½œï¼Œå¦‚ä¸€äº›äº‹åŠ¡ä¿®æ”¹æ•°æ®ï¼Œå¦ä¸€äº›äº‹åŠ¡è¯»å–æ•°æ®ã€‚è¿™äº›å¹¶å‘çš„å…±äº«æ•°æ®æ“ä½œï¼Œå¦‚æœåœ¨DBMSä¸­æ²¡æœ‰ä¸€å®šçš„çº¦æŸæ§åˆ¶æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå¸¦æ¥<strong>æ•°æ®ä¸ä¸€è‡´æ€§</strong>æˆ–<strong>äº‹åŠ¡ç¨‹åºæ­»é”</strong>é—®é¢˜ã€‚å› æ­¤ï¼Œåœ¨å¤šä¸ªäº‹åŠ¡å¹¶å‘è¿è¡Œæ—¶ï¼Œå¿…é¡»è¿›è¡Œå¹¶å‘æ§åˆ¶å¤„ç†ã€‚</p>
<p>å¹¶å‘æ§åˆ¶â€“äº‹åŠ¡è°ƒåº¦</p>
<p>ç›®çš„</p>
<ul>
<li>æ”¯æŒå¹¶å‘äº‹åŠ¡å¤„ç†ï¼Œä½¿æ›´å¤šç”¨æˆ·å¹¶è¡Œæ“ä½œï¼Œæé«˜ç³»ç»Ÿçš„å¹¶å‘è®¿é—®èƒ½åŠ›ã€‚</li>
<li>ä¿è¯ä¸€ä¸ªäº‹åŠ¡å·¥ä½œä¸ä¼šå¯¹å¦ä¸€ä¸ªäº‹åŠ¡å·¥ä½œäº§ç”Ÿä¸åˆç†çš„å½±å“ã€‚</li>
</ul>
<p>å¹¶å‘æ§åˆ¶éœ€è§£å†³çš„é—®é¢˜ï¼š</p>
<ul>
<li>ä¸¢å¤±æ›´æ–°æ•°æ®ï¼šå¯¹å…±äº«æ•°æ®è¿›è¡Œéé”å®šèµ„æºçš„è¯»å†™æ“ä½œã€‚</li>
<li>è„æ•°æ®è¯»å–ï¼šäº‹åŠ¡è¯»å–ä¸€ä¸ªè¢«å–æ¶ˆæŒä¹…åŒ–çš„å…±äº«æ•°æ®ã€‚ï¼ˆäº‹åŠ¡è¯»åˆ°çš„æ•°æ®æœ€åè¢«å›æ»šäº†ï¼Œè¯»åˆ°çš„æ˜¯å‡æ•°æ®ï¼‰</li>
<li>ä¸å¯é‡å¤è¯»å–ï¼šæŒ‡ä¸€ä¸ªäº‹åŠ¡å¯¹ä¸€ä¸ªå…±äº«æ•°æ®é‡å¤å¤šæ¬¡è¯»å–ï¼Œä½†å‰åè¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚ï¼ˆä¿®æ”¹æˆ–åˆ é™¤ï¼‰</li>
<li>å¹»åƒè¯»å–ï¼šåä¸€æ¬¡è¯»æ¯”å‰ä¸€æ¬¡è¯»å¤šäº†ä¸€äº›è®°å½•ï¼ˆæ’å…¥ï¼‰</li>
</ul>
<p><strong>å¹¶å‘äº‹åŠ¡è°ƒåº¦</strong>å°±æ˜¯æ§åˆ¶å¤šä¸ªäº‹åŠ¡çš„<strong>æ•°æ®æ“ä½œè¯­å¥æŒ‰ç…§æ°å½“çš„é¡ºåºè®¿é—®å…±äº«æ•°æ®</strong>ï¼Œä½¿è¿™äº›äº‹åŠ¡æ‰§è¡Œä¹‹åï¼Œé¿å…é€ æˆæ•°æ®çš„ä¸ä¸€è‡´æ€§ï¼Œå³è§£å†³â€œä¸¢å¤±æ›´æ–°æ•°æ®â€ã€â€œä¸å¯é‡å¤è¯»â€ã€â€œè„æ•°æ®è¯»â€ç­‰é—®é¢˜ã€‚</p>
<p><strong>äº‹åŠ¡è°ƒåº¦ç­–ç•¥</strong></p>
<p>ä¾‹ï¼šé“¶è¡Œå®¢æˆ·Açš„è´¦æˆ·å½“å‰ä½™æ¬¾ä¸º1000å…ƒï¼Œå®¢æˆ·Bçš„è´¦æˆ·å½“å‰ä½™æ¬¾ä¸º1500å…ƒã€‚ç°åœ¨æœ‰ä¸¤ä¸ªäº‹åŠ¡T1å’ŒT2ï¼Œå…¶ä¸­T1äº‹åŠ¡å°†ä»å®¢æˆ·Aè½¬è´¦200å…ƒåˆ°å®¢æˆ·Bï¼ŒT2äº‹åŠ¡ä¹Ÿå°†ä»å®¢æˆ·Aè½¬è´¦400å…ƒåˆ°å®¢æˆ·Bã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-18-05.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-18-14.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-18-31.png"></p>
<p>åœ¨äº‹åŠ¡å¹¶å‘æ‰§è¡Œä¸­ï¼Œåªæœ‰å½“äº‹åŠ¡ä¸­æ•°æ®æ“ä½œè°ƒåº¦é¡ºåºçš„æ‰§è¡Œç»“æœä¸äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œç»“æœä¸€æ ·æ—¶ï¼Œè¯¥å¹¶å‘äº‹åŠ¡è°ƒåº¦æ‰èƒ½ä¿è¯æ•°æ®æ“ä½œçš„æ­£ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚ç¬¦åˆè¿™æ ·æ•ˆæœçš„è°ƒåº¦ç§°ä¸º<strong>å¯ä¸²è¡ŒåŒ–è°ƒåº¦</strong>ã€‚<br>DBMSå¹¶å‘äº‹åŠ¡è°ƒåº¦ç›®æ ‡ï¼šä½¿å¹¶å‘äº‹åŠ¡è°ƒåº¦å®ç°çš„å¤„ç†ç»“æœä¸ä¸²è¡ŒåŒ–è°ƒåº¦å¤„ç†ç»“æœ<strong>ä¸€è‡´</strong>ã€‚</p>
<p>é”</p>
<ul>
<li><strong>æ’å®ƒé”å®š</strong>(Lock-X)â€”â€”é”å®šåï¼Œ<strong>ä¸å…è®¸</strong>å…¶å®ƒäº‹åŠ¡å¯¹å…±äº«æ•°æ®å†åŠ é”</li>
<li><strong>å…±äº«é”å®š</strong>(Lock-S)â€”â€”é”å®šåï¼Œåªå…è®¸å…¶å®ƒäº‹åŠ¡å¯¹å…±äº«æ•°æ®<strong>æ·»åŠ è¯»å–é”</strong></li>
</ul>
<p>èµ„æºé”å®šç²’åº¦</p>
<ul>
<li>æ•°æ®åº“â€”â€”ç²’åº¦æœ€å¤§</li>
<li>è¡¨â€”â€”ç²’åº¦è¾ƒå¤§</li>
<li>é¡µé¢â€”â€”ç²’åº¦ä¸­ç­‰</li>
<li>è¡Œâ€”â€”ç²’åº¦å°</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-28-05.png"></p>
<p>åŠ é”åè®®</p>
<p><strong>ä¸€çº§åŠ é”åè®®</strong>ï¼šä»»ä½•äº‹åŠ¡åœ¨ä¿®æ”¹å…±äº«æ•°æ®å¯¹è±¡ä¹‹å‰ï¼Œå¿…é¡»å¯¹è¯¥æ•°æ®æ‰§è¡Œæ’å®ƒé”å®šæŒ‡ä»¤ï¼Œç›´åˆ°è¯¥äº‹åŠ¡å¤„ç†å®Œæˆï¼Œæ‰è¿›è¡Œè§£é”æŒ‡ä»¤æ‰§è¡Œã€‚</p>
<p>ç‰¹ç‚¹ï¼šä½¿ç”¨ä¸€çº§åŠ é”åè®®ï¼Œå¯<strong>é¿å…å‡ºç°æ›´æ–°ä¸¢å¤±</strong>é—®é¢˜ã€‚ä½†ä¸èƒ½è§£å†³â€œä¸å¯é‡å¤è¯»å–â€ã€â€œè„è¯»â€ç­‰æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚</p>
<p>ä¾‹ï¼šæŸèˆªç­å‰©ä½™æœºç¥¨æ•°æ®Açš„å½“å‰å€¼ä¸º100å¼ ã€‚ç°æœ‰åˆ†åˆ«æ¥è‡ªä¸åŒå”®ç¥¨ç‚¹çš„ä¸¤ä¸ªå¹¶å‘äº‹åŠ¡T1å’ŒT2ï¼Œå…¶ä¸­T1äº‹åŠ¡å°†å”®å‡º1å¼ æœºç¥¨ï¼ŒT2äº‹åŠ¡å°†å”®å‡º2å¼ æœºç¥¨ã€‚ä»¥ä¸‹åˆ†åˆ«ç»™å‡ºå®ƒä»¬åœ¨ä¸åŠ é”å’ŒæŒ‰ä¸€çº§åŠ é”åè®®çš„å¹¶å‘äº‹åŠ¡è°ƒåº¦æ‰§è¡Œæƒ…å†µï¼Œè§ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-37-29.png"></p>
<p><strong>äºŒçº§åŠ é”åè®®</strong>ï¼šåœ¨ä¸€çº§åŠ é”åè®®åŸºç¡€ä¸Šï¼Œé’ˆå¯¹å¹¶å‘äº‹åŠ¡çš„å…±äº«æ•°æ®è¯»æ“ä½œï¼Œ<strong>å¿…é¡»å¯¹è¯¥æ•°æ®æ‰§è¡Œå…±äº«é”å®šæŒ‡ä»¤</strong>ï¼Œ<strong>è¯»å®Œæ•°æ®åå³åˆ»é‡Šæ”¾å…±äº«é”å®š</strong>ã€‚</p>
<p>ç‰¹ç‚¹ï¼šè¯¥åŠ é”åè®®ä¸ä½†å¯ä»¥é˜²æ­¢â€œä¸¢å¤±æ›´æ–°â€çš„æ•°æ®ä¸ä¸€è‡´æ€§é—®é¢˜ï¼Œè¿˜å¯é˜²æ­¢å‡ºç°<strong>è„è¯»æ•°æ®</strong>é—®é¢˜ã€‚ä½†æœ‰å¯èƒ½ä¼šå‡ºç°â€œä¸å¯é‡å¤è¯»å–â€çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚</p>
<p>ä¾‹ï¼šæŸèˆªç­å‰©ä½™æœºç¥¨æ•°æ®Açš„å½“å‰å€¼ä¸º100å¼ ã€‚ç°æœ‰åˆ†åˆ«æ¥è‡ªä¸åŒå”®ç¥¨ç‚¹çš„ä¸¤ä¸ªå¹¶å‘äº‹åŠ¡T1å’ŒT2ï¼Œå…¶ä¸­T1äº‹åŠ¡å°†å”®å‡º1å¼ æœºç¥¨ï¼ŒT2äº‹åŠ¡è¿›è¡Œæœºç¥¨ç©ºä½™æ•°æŸ¥è¯¢ã€‚ä»¥ä¸‹åˆ†åˆ«ç»™å‡ºå®ƒä»¬åœ¨æŒ‰ä¸€çº§åŠ é”åè®®æ‰§è¡Œå’ŒæŒ‰äºŒçº§åŠ é”åè®®çš„äº‹åŠ¡è°ƒåº¦æ‰§è¡Œæƒ…å†µï¼Œè§ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-39-03.png"></p>
<p><strong>ä¸‰çº§åŠ é”åè®®</strong>ï¼šåœ¨ä¸€çº§åŠ é”åè®®åŸºç¡€ä¸Šï¼Œå½“å¹¶å‘äº‹åŠ¡å¯¹å…±äº«æ•°æ®è¿›è¡Œè¯»æ“ä½œï¼Œå¿…é¡»å¯¹è¯¥æ•°æ®æ‰§è¡Œå…±äº«é”å®šæŒ‡ä»¤ï¼Œç›´åˆ°è¯¥<strong>äº‹åŠ¡å¤„ç†ç»“æŸæ‰é‡Šæ”¾å…±äº«é”å®š</strong>ã€‚</p>
<p>ç‰¹ç‚¹ï¼šè¯¥åŠ é”åè®®ä¸ä½†å¯ä»¥é˜²æ­¢â€œä¸¢å¤±æ›´æ–°â€ã€â€œè„è¯»â€çš„æ•°æ®ä¸ä¸€è‡´æ€§é—®é¢˜ï¼Œè¿˜å¯é˜²æ­¢å‡ºç°â€œä¸å¯é‡å¤è¯»å–â€çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚</p>
<p>ä¾‹ï¼šæŸèˆªç­å‰©ä½™æœºç¥¨æ•°æ®Açš„å½“å‰å€¼ä¸º100å¼ ã€‚ç°æœ‰åˆ†åˆ«æ¥è‡ªä¸åŒå”®ç¥¨ç‚¹çš„ä¸¤ä¸ªå¹¶å‘äº‹åŠ¡T1å’ŒT2ï¼Œå…¶ä¸­T1äº‹åŠ¡å°†å”®å‡º1å¼ æœºç¥¨ï¼ŒT2äº‹åŠ¡è¿›è¡Œæœºç¥¨ç©ºä½™æ•°æŸ¥è¯¢ã€‚ä»¥ä¸‹åˆ†åˆ«ç»™å‡ºå®ƒä»¬åœ¨æŒ‰äºŒçº§åŠ é”åè®®æ‰§è¡Œå’ŒæŒ‰ä¸‰çº§åŠ é”åè®®çš„å¹¶å‘äº‹åŠ¡è°ƒåº¦æ‰§è¡Œæƒ…å†µï¼Œè§ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-39-19.png"></p>
<p>ä¸åŒçº§åˆ«é”åè®®æ¯”è¾ƒ</p>
<table>
<thead>
<tr>
<th align="left"><strong>åŠ é”åè®®çº§åˆ«</strong></th>
<th align="left"><strong>æ’å®ƒé”</strong></th>
<th align="left"><strong>å…±äº«é”</strong></th>
<th align="left"><strong>ä¸ä¸¢å¤±æ›´æ–°</strong></th>
<th align="left"><strong>ä¸è„è¯»</strong></th>
<th align="left"><strong>å¯é‡å¤è¯»</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>ä¸€çº§</strong></td>
<td align="left">å…¨ç¨‹åŠ é”</td>
<td align="left">ä¸åŠ </td>
<td align="left">æ˜¯</td>
<td align="left">å¦</td>
<td align="left">å¦</td>
</tr>
<tr>
<td align="left"><strong>äºŒçº§</strong></td>
<td align="left">å…¨ç¨‹åŠ é”</td>
<td align="left">å¼€å§‹æ—¶åŠ é”ï¼Œè¯»å®Œæ•°æ®é‡Šæ”¾é”å®š</td>
<td align="left">æ˜¯</td>
<td align="left">æ˜¯</td>
<td align="left">å¦</td>
</tr>
<tr>
<td align="left"><strong>ä¸‰çº§</strong></td>
<td align="left">å…¨ç¨‹åŠ é”</td>
<td align="left">å…¨ç¨‹åŠ é”</td>
<td align="left">æ˜¯</td>
<td align="left">æ˜¯</td>
<td align="left">æ˜¯</td>
</tr>
</tbody></table>
<p>ä¿è¯å¹¶å‘äº‹åŠ¡å¯ä¸²è¡ŒåŒ–çš„ä¸€ä¸ªåè®®æ˜¯ï¼š<strong>äºŒé˜¶æ®µé”å®šåè®®</strong></p>
<p>äºŒé˜¶æ®µé”å®šåè®®è§„å®šæ¯ä¸ªäº‹åŠ¡å¿…é¡»åˆ†ä¸¤ä¸ªé˜¶æ®µæå‡ºåŠ é”å’Œè§£é”ç”³è¯·:</p>
<blockquote>
<p>å¢é•¿é˜¶æ®µï¼Œäº‹åŠ¡åªèƒ½è·å¾—é”ï¼Œä½†ä¸èƒ½é‡Šæ”¾é”ã€‚</p>
<p>ç¼©å‡é˜¶æ®µï¼Œäº‹åŠ¡åªèƒ½é‡Šæ”¾é”ï¼Œä½†ä¸èƒ½è·å¾—æ–°é”ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_20-58-44.png"></p>
<p>åœ¨åŸºäºé”æœºåˆ¶çš„å¹¶å‘äº‹åŠ¡æ‰§è¡Œä¸­ï¼Œå¦‚æœè¿™äº›äº‹åŠ¡åŒæ—¶é”å®šä¸¤ä¸ªä»¥åŠä»¥ä¸Šèµ„æºæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å½¼æ­¤éƒ½ä¸èƒ½ç»§ç»­æ‰§è¡Œçš„çŠ¶æ€ï¼Œå³<strong>äº‹åŠ¡æ­»é”</strong>çŠ¶æ€ã€‚</p>
<p>ä¾‹ ä¸¤ä¸ªäº‹åŠ¡T1å’ŒT2ï¼Œå®ƒä»¬éƒ½éœ€è¦åŠ é”è®¿é—®æ•°æ®åº“è¡¨Table1å’ŒTable2ï¼Œå…¶äº‹åŠ¡ç¨‹åºè§å›¾6-20aæ‰€ç¤ºã€‚å½“è¿™ä¸¤ä¸ªäº‹åŠ¡ç¨‹åºè°ƒåº¦æ‰§è¡Œæ—¶ï¼Œåªè¦ä¸æ˜¯æŒ‰å¯ä¸²è¡ŒåŒ–è°ƒåº¦æ‰§è¡Œï¼Œåˆ™å®ƒä»¬åœ¨æ‰§è¡Œæ—¶ä¼šå‡ºç°æ­»é”çŠ¶æ€ï¼Œè§å›¾6-20bæ‰€ç¤ºã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_21-01-25.png"></p>
<p>æ­»é”å‡ºç°çš„å¿…è¦æ¡ä»¶</p>
<ul>
<li><p>äº’æ–¥æ¡ä»¶</p>
</li>
<li><p>è¯·æ±‚å’Œä¿æŒæ¡ä»¶</p>
</li>
<li><p>ä¸å‰¥å¤ºæ¡ä»¶</p>
</li>
<li><p>ç¯è·¯ç­‰å¾…æ¡ä»¶</p>
</li>
</ul>
<p>é˜²èŒƒæ­»é”çš„ç­–ç•¥</p>
<ul>
<li><p>å…è®¸äº‹åŠ¡ä¸€æ¬¡å‘å‡ºå½“å‰æ‰€éœ€å…¨éƒ¨èµ„æºçš„é”å®šï¼Œä½¿ç”¨å®Œæˆåï¼Œå†é‡Šæ”¾ç»™å…¶å®ƒäº‹åŠ¡ä½¿ç”¨ã€‚</p>
</li>
<li><p>è§„å®šæ‰€æœ‰åº”ç”¨ç¨‹åºé”å®šèµ„æºçš„é¡ºåºå¿…é¡»å®Œå…¨ç›¸åŒã€‚</p>
</li>
</ul>
<p>è§£å†³æ­»é”çš„åŠæ³•ï¼šå½“å‘ç”Ÿæ­»é”æ—¶ï¼Œå›æ»šå…¶ä¸­çš„ä¸€ä¸ªäº‹åŠ¡ï¼Œå¹¶å–æ¶ˆå®ƒå¯¹æ•°æ®åº“æ‰€åšçš„æ”¹åŠ¨ã€‚<br><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_21-03-36.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_21-10-46.png"></p>
<p>ä¾‹ï¼šåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œå…¶è´¦å·åå­—ä¸ºâ€œuserAâ€ï¼Œå¯†ç ä¸ºâ€œ123456â€ã€‚è¯¥ç”¨æˆ·å…·æœ‰ç™»å½•æƒé™(Loginï¼‰å’Œè§’è‰²ç»§æ‰¿æƒé™ï¼ˆInheritï¼‰ç³»ç»Ÿæƒé™ï¼Œä½†å®ƒä¸æ˜¯è¶…çº§ç”¨æˆ·(SuperUser)ï¼Œä¸å…·æœ‰åˆ›å»ºæ•°æ®åº“æƒé™ï¼ˆCreateDB)ã€åˆ›å»ºè§’è‰²æƒé™ï¼ˆCreateRoleï¼‰ã€æ•°æ®åº“å¤åˆ¶æƒé™ï¼ˆReplication) ,æ­¤å¤–æ•°æ®åº“è¿æ¥æ•°(Connection Limitï¼‰ä¸å—é™ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> &quot;userA&quot; <span class="keyword">WITH</span></span><br><span class="line">	<span class="keyword">LOGIN</span> <span class="comment">--ç™»å½•æƒé™</span></span><br><span class="line">	<span class="keyword">NOSUPERUSER</span> <span class="comment">--ä¸æ˜¯è¶…çº§ç”¨æˆ·</span></span><br><span class="line">	<span class="keyword">NOCREATEDB</span> <span class="comment">--ä¸èƒ½åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line">	<span class="keyword">NOCREATEROLE</span> <span class="comment">--æ²¡æœ‰åˆ›å»ºè§’è‰²æƒé™</span></span><br><span class="line">	<span class="keyword">INHERIT</span> <span class="comment">--ç»§æ‰¿ç³»ç»Ÿæƒé™</span></span><br><span class="line">	<span class="keyword">NOREPLICATION</span> <span class="comment">--æ²¡æœ‰æ•°æ®åº“å¤åˆ¶æƒé™</span></span><br><span class="line">	<span class="keyword">CONNECTION</span> <span class="keyword">LIMIT</span> <span class="number">-1</span> <span class="comment">--æ•°æ®åº“è¿æ¥æ•°ä¸å—é™</span></span><br><span class="line">	<span class="keyword">PASSWORD</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åˆ é™¤ç”¨æˆ·ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span>  &lt;ç”¨æˆ·å&gt;  [ [ <span class="keyword">WITH</span> ] <span class="keyword">option</span> [ ... ] ];  	<span class="comment">--ä¿®æ”¹ç”¨æˆ·çš„å±æ€§</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span>  &lt;ç”¨æˆ·å&gt;  <span class="keyword">RENAME</span> <span class="keyword">TO</span> &lt;æ–°ç”¨æˆ·å&gt;;  		<span class="comment">--ä¿®æ”¹ç”¨æˆ·çš„åç§°</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span>  &lt;ç”¨æˆ·å&gt;  <span class="keyword">SET</span> &lt;å‚æ•°é¡¹&gt; &#123; <span class="keyword">TO</span> | = &#125; &#123; <span class="keyword">value</span> | <span class="keyword">DEFAULT</span> &#125;;												<span class="comment">--ä¿®æ”¹ç”¨æˆ·çš„å‚æ•°å€¼  </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span>  &lt;ç”¨æˆ·å&gt;  <span class="keyword">RESET</span> &lt;å‚æ•°é¡¹&gt;;			<span class="comment">--é‡ç½®ç”¨æˆ·å‚æ•°å€¼</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> userA;</span><br></pre></td></tr></table></figure>

<p>ä¾‹ï¼šä¿®æ”¹ç”¨æˆ·â€œuserAâ€çš„è´¦å·å¯†ç ä¸ºâ€œgres123â€ã€‚åŒæ—¶ä¹Ÿé™åˆ¶è¯¥ç”¨æˆ·çš„æ•°æ®åº“è¿æ¥æ•°ä¸º10ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> &quot;userA&quot; </span><br><span class="line">	<span class="keyword">CONNECTION</span> <span class="keyword">LIMIT</span> <span class="number">10</span></span><br><span class="line">	<span class="keyword">PASSWORD</span> <span class="string">&#x27;gres123&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>åœ¨DBMSä¸­ï¼Œä¸ºäº†æ–¹ä¾¿å¯¹ä¼—å¤šç”¨æˆ·åŠå…¶æƒé™è¿›è¡Œç®¡ç†ï¼Œé€šå¸¸å°†ä¸€ç»„å…·æœ‰ç›¸åŒæƒé™çš„ç”¨æˆ·å®šä¹‰ä¸º<strong>è§’è‰²</strong>(Role)ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">ROLE</span>  &lt;è§’è‰²å&gt; [ [ <span class="keyword">WITH</span> ] <span class="keyword">option</span> [ ... ] ]; 	 <span class="comment">--åˆ›å»ºè§’è‰²</span></span><br><span class="line"><span class="keyword">ALTER</span>  <span class="keyword">ROLE</span>  &lt;è§’è‰²å&gt;  [ [ <span class="keyword">WITH</span> ] <span class="keyword">option</span> [ ... ] ]; 	 <span class="comment">--ä¿®æ”¹è§’è‰²å±æ€§</span></span><br><span class="line"><span class="keyword">ALTER</span>  <span class="keyword">ROLE</span>  &lt;è§’è‰²å&gt;  <span class="keyword">RENAME</span> <span class="keyword">TO</span> &lt;æ–°è§’è‰²å&gt;; 		 <span class="comment">--ä¿®æ”¹è§’è‰²åç§° </span></span><br><span class="line"><span class="keyword">ALTER</span>  <span class="keyword">ROLE</span>  &lt;è§’è‰²å&gt;  <span class="keyword">SET</span> &lt;å‚æ•°é¡¹&gt; &#123; <span class="keyword">TO</span> | = &#125; &#123; <span class="keyword">value</span> | <span class="keyword">DEFAULT</span> &#125;; </span><br><span class="line">									 <span class="comment">--ä¿®æ”¹è§’è‰²å‚æ•°å€¼</span></span><br><span class="line"><span class="keyword">ALTER</span>  <span class="keyword">ROLE</span>  &lt;è§’è‰²å&gt;  <span class="keyword">RESET</span> &lt;å‚æ•°é¡¹&gt;;			 <span class="comment">--å¤ä½è§’è‰²å‚æ•°å€¼</span></span><br><span class="line"><span class="keyword">DROP</span>  <span class="keyword">ROLE</span>  &lt;è§’è‰²å&gt;;						 <span class="comment">--åˆ é™¤æŒ‡å®šè§’è‰²</span></span><br></pre></td></tr></table></figure>

<p>ä¾‹ ï¼šåœ¨å·¥ç¨‹é¡¹ç›®ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå‡å®šéœ€è¦åœ¨ProjectDBæ•°æ®åº“å†…åˆ›å»ºç»ç†è§’è‰²Role_Managerã€‚è¯¥è§’è‰²å…·æœ‰ç™»å½•æƒé™ï¼ˆLoginï¼‰å’Œè§’è‰²ç»§æ‰¿æƒé™ï¼ˆInheritï¼‰ç³»ç»Ÿæƒé™ï¼Œä½†å®ƒä¸æ˜¯è¶…çº§ç”¨æˆ·ï¼ˆSuperUserï¼‰ï¼Œä¸å…·æœ‰åˆ›å»ºæ•°æ®åº“æƒé™ï¼ˆCreateDBï¼‰ã€åˆ›å»ºè§’è‰²æƒé™ï¼ˆCreateRoleï¼‰ã€æ•°æ®åº“å¤åˆ¶æƒé™ï¼ˆReplicationï¼‰ï¼Œæ­¤å¤–æ•°æ®åº“è¿æ¥æ•°ï¼ˆConnection Limitï¼‰ä¸å—é™ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">ROLE</span>  &quot;Role_Manager&quot;  <span class="keyword">WITH</span></span><br><span class="line"> <span class="keyword">LOGIN</span></span><br><span class="line"> <span class="keyword">NOSUPERUSER</span></span><br><span class="line"> <span class="keyword">NOCREATEDB</span></span><br><span class="line"> <span class="keyword">NOCREATEROLE</span></span><br><span class="line"> <span class="keyword">INHERIT</span></span><br><span class="line"> <span class="keyword">NOREPLICATION</span></span><br><span class="line"> <span class="keyword">CONNECTION</span> <span class="keyword">LIMIT</span> <span class="number">-1</span>;</span><br></pre></td></tr></table></figure>

<p>è§’è‰²æƒé™æˆäºˆ</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">INSERT</span>,<span class="keyword">UPDATE</span>,<span class="keyword">DELETE</span>  <span class="keyword">ON</span>  Department  <span class="keyword">TO</span> &quot;Role_Manager&quot;;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_21-26-06.png"></p>
<p><strong>æ•°æ®åº“å¤‡ä»½æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>å®Œå…¨æ•°æ®åº“å¤‡ä»½</li>
<li>å·®å¼‚æ•°æ®åº“å¤‡ä»½</li>
<li>äº‹åŠ¡æ—¥å¿—å¤‡ä»½</li>
<li>æ–‡ä»¶å¤‡ä»½</li>
</ul>
<p>ä¸‹é¢å“ªç§å¤‡ä»½æ–‡ä»¶æ˜¯æ¢å¤æ•°æ®åº“åˆ°æ•…éšœç‚¹æ—¶åˆ»çŠ¶æ€å¿…ä¸å¯å°‘çš„?</p>
<p>Aï¼æ•°æ®åº“å®Œæ•´å¤‡ä»½æ–‡ä»¶	Bï¼æ•°æ®åº“å·®å¼‚å¤‡ä»½æ–‡ä»¶</p>
<p><strong>Cï¼äº‹åŠ¡æ—¥å¿—å¤‡ä»½æ–‡ä»¶</strong>	Dï¼æ•°æ®åº“æ–‡ä»¶å¤‡ä»½</p>
<p>C. äº‹åŠ¡æ—¥å¿—å¤‡ä»½æ–‡ä»¶æ˜¯æ¢å¤æ•°æ®åº“åˆ°æ•…éšœç‚¹æ—¶åˆ»çŠ¶æ€å¿…ä¸å¯å°‘çš„ã€‚äº‹åŠ¡æ—¥å¿—æ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æ¥è®°å½•æ•°æ®åº“ä¸­çš„æ‰€æœ‰ä¿®æ”¹æ“ä½œçš„æ–‡ä»¶ã€‚åœ¨è¿›è¡Œæ•°æ®åº“æ¢å¤æ—¶ï¼Œäº‹åŠ¡æ—¥å¿—è®°å½•çš„å˜æ›´å¯ä»¥è¢«ç”¨æ¥é‡åšæˆ–è€…æ’¤é”€ï¼Œä»è€Œå°†æ•°æ®åº“æ¢å¤åˆ°æŸä¸ªæŒ‡å®šçš„æ—¶é—´ç‚¹æˆ–è€…äº‹åŠ¡ç‚¹çš„çŠ¶æ€ã€‚å› æ­¤ï¼Œäº‹åŠ¡æ—¥å¿—å¤‡ä»½æ–‡ä»¶éå¸¸é‡è¦ï¼Œæ˜¯è¿›è¡Œæ•°æ®åº“æ¢å¤çš„å¿…è¦æ¡ä»¶ã€‚A. æ•°æ®åº“å®Œæ•´å¤‡ä»½æ–‡ä»¶åŒ…å«æ•´ä¸ªæ•°æ®åº“çš„æ‰€æœ‰æ•°æ®ï¼Œä½†æ˜¯æ— æ³•æ¢å¤åˆ°æŸä¸ªæŒ‡å®šçš„æ—¶é—´ç‚¹æˆ–è€…äº‹åŠ¡ç‚¹çš„çŠ¶ã€‚B. æ•°æ®åº“å·®å¼‚å¤‡ä»½æ–‡ä»¶åªåŒ…å«è‡ªä¸Šæ¬¡å®Œæ•´å¤‡ä»½æˆ–å·®å¼‚å¤‡ä»½ä»¥æ¥å‘ç”Ÿçš„æ•°æ®å˜æ›´ï¼Œä¹Ÿæ— æ³•æ¢å¤åˆ°æŸä¸ªæŒ‡å®šçš„æ—¶é—´ç‚¹æˆ–è€…äº‹åŠ¡ç‚¹çš„çŠ¶æ€ï¼Œå› æ­¤ä¹Ÿä¸ä¸€å®šæ˜¯æ¢å¤åˆ°æ•…éšœç‚¹æ—¶åˆ»çŠ¶æ€å¿…ä¸å¯å°‘çš„ã€‚D. æ•°æ®åº“æ–‡ä»¶å¤‡ä»½åªæ˜¯å°†æ•°æ®åº“æ–‡ä»¶å¤åˆ¶åˆ°å¦ä¸€ä¸ªä½ç½®ï¼Œä¹Ÿæ— æ³•æ¢å¤åˆ°æŸä¸ªæŒ‡å®šçš„æ—¶é—´ç‚¹æˆ–è€…äº‹åŠ¡ç‚¹çš„çŠ¶æ€ã€‚</p>
<p>å¯¹äºæ„å¤–äº‹ä»¶å¯¼è‡´æ•°æ®åº“ç³»ç»ŸæŸåï¼Œæœ€å¯é çš„æŠ€æœ¯æ‰‹æ®µæ˜¯<br>A.æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤<br>B.é‡‡ç”¨åŒæœºå®¹é”™æŠ€æœ¯<br>C.è¿›è¡Œè®¿é—®æƒé™æ§åˆ¶<br>D.<strong>ç³»ç»Ÿå¼‚åœ°å®¹ç¾</strong></p>
<p>åœ¨æ•°æ®åº“ç³»ç»Ÿå®‰å…¨æ¨¡å‹ä¸­ï¼Œå“ªç§å®‰å…¨ç®¡ç†æ‰‹æ®µæ˜¯DBMSç³»ç»Ÿæä¾›çš„æ•°æ®åº“å®‰å…¨è®¿é—®æœºåˆ¶?</p>
<p>A.ç”¨æˆ·èº«ä»½è®¤è¯<br>B.<strong>ç”¨æˆ·å­˜å–æƒé™æ§åˆ¶</strong><br>C.æ–‡ä»¶å®‰å…¨è®¿é—®<br>D.æ•°æ®åŠ å¯†å­˜å‚¨</p>
<p>å“ªç§æ•°æ®åº“å¤‡ä»½æ–¹å¼å¯ä»¥æ”¯æŒç³»ç»Ÿè¿ç»­è¿è¡Œ?</p>
<p>A.å†·å¤‡ä»½<br>B.<strong>çƒ­å¤‡ä»½</strong><br>C.å®Œæ•´å¤‡ä»½<br>D.å·®å¼‚å¤‡ä»½</p>
<p>çƒ­å¤‡ä»½å¯ä»¥æ”¯æŒç³»ç»Ÿè¿ç»­è¿è¡Œã€‚çƒ­å¤‡ä»½æ˜¯ä¸€ç§åœ¨ç³»ç»Ÿè¿è¡Œæ—¶å¤‡ä»½æ•°æ®åº“çš„æ–¹æ³•ï¼Œå¤‡ä»½æœŸé—´æ•°æ®åº“å¯ä»¥ç»§ç»­æä¾›æœåŠ¡ï¼Œä¸ä¼šä¸­æ–­ç”¨æˆ·å¯¹æ•°æ®åº“çš„è®¿é—®ã€‚åœ¨çƒ­å¤‡ä»½æœŸé—´ï¼ŒDBMSç³»ç»Ÿä¼šå°†æ•°æ®åº“çš„æ´»åŠ¨æ—¥å¿—è®°å½•ä¸‹æ¥ï¼Œå¹¶å°†å¤‡ä»½ä¸æ—¥å¿—è¿›è¡ŒåŒæ­¥ï¼Œä»¥ç¡®ä¿å¤‡ä»½çš„æ•°æ®ä¸æºæ•°æ®åº“ä¿æŒä¸€è‡´ã€‚çƒ­å¤‡ä»½å¯ä»¥ä¿è¯æ•°æ®åº“ç³»ç»Ÿçš„è¿ç»­æ€§å’Œé«˜å¯ç”¨æ€§ã€‚ç›¸å¯¹è€Œè¨€ï¼Œå†·å¤‡ä»½æ˜¯åœ¨ç³»ç»Ÿåœæ­¢è¿è¡Œæ—¶å¤‡ä»½æ•°æ®åº“çš„æ–¹æ³•ï¼Œéœ€è¦åœæ­¢æ•°æ®åº“æœåŠ¡ï¼Œå°†æ•°æ®åº“ç³»ç»Ÿå®Œå…¨å…³é—­ï¼Œè¿›è¡Œå¤‡ä»½æ“ä½œï¼Œå¤‡ä»½æœŸé—´æ•°æ®åº“æ— æ³•æä¾›æœåŠ¡ã€‚å†·å¤‡ä»½ä¼šå¯¼è‡´æ•°æ®åº“ç³»ç»Ÿçš„åœæœºæ—¶é—´è¾ƒé•¿ï¼Œå¹¶ä¸”å¤‡ä»½æ•°æ®ä¸æºæ•°æ®åº“ä¹‹é—´å­˜åœ¨æ—¶é—´å·®ï¼Œæ— æ³•å®æ—¶ä¿æŒåŒæ­¥ã€‚å®Œæ•´å¤‡ä»½å’Œå·®å¼‚å¤‡ä»½éƒ½æ˜¯å¤‡ä»½æ•°æ®çš„æ–¹å¼ï¼Œå®Œæ•´å¤‡ä»½æ˜¯å°†æ•´ä¸ªæ•°æ®åº“å¤‡ä»½ï¼Œå·®å¼‚å¤‡ä»½æ˜¯åªå¤‡ä»½è‡ªä¸Šæ¬¡å¤‡ä»½åå‘ç”Ÿæ›´æ”¹çš„æ•°æ®ï¼Œä½†å®ƒä»¬å¹¶ä¸èƒ½æ”¯æŒæ•°æ®åº“ç³»ç»Ÿçš„è¿ç»­è¿è¡Œï¼Œéœ€è¦åœ¨å¤‡ä»½æœŸé—´åœæ­¢æ•°æ®åº“æœåŠ¡ã€‚</p>
<p>åœ¨å“ªä¸ªç²’åº¦ä¸Šå¯¹å…±äº«æ•°æ®è¿›è¡ŒåŠ é”è®¿é—®ï¼Œç³»ç»Ÿå¹¶å‘è®¿é—®æ€§èƒ½æœ€å¥½ï¼Ÿè¡Œï¼</p>
<p>DBMSç³»ç»Ÿå¯è‡ªåŠ¨æ¢å¤å“ªç±»æ•°æ®ï¼Ÿäº‹åŠ¡æ•…éšœçš„æ•°æ®é”™è¯¯</p>
<h2 id="ç¬¬å…­ç« -æ•°æ®åº“åº”ç”¨ç¼–ç¨‹"><a href="#ç¬¬å…­ç« -æ•°æ®åº“åº”ç”¨ç¼–ç¨‹" class="headerlink" title="ç¬¬å…­ç«  æ•°æ®åº“åº”ç”¨ç¼–ç¨‹"></a>ç¬¬å…­ç«  æ•°æ®åº“åº”ç”¨ç¼–ç¨‹</h2><p>å¼€æ”¾å¼æ•°æ®åº“äº’è¿ï¼ˆOpen DataBase Connectivityï¼‰å®ç°äº†åº”ç”¨ç¨‹åºå¯¹å¤šç§ä¸åŒDBMSçš„æ•°æ®åº“çš„è®¿é—®ï¼Œå®ç°äº†æ•°æ®åº“è¿æ¥æ–¹å¼çš„å˜é©ã€‚</p>
<p>ODBCå®šä¹‰äº†ä¸€å¥—åŸºäºSQLçš„ï¼Œå…¬å…±çš„ï¼Œä¸æ•°æ®åº“æ— å…³çš„APIï¼Œä»è€Œä½¿å¾—åº”ç”¨ç¨‹åºä¸æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹é—´åœ¨é€»è¾‘ä¸Šç‹¬ç«‹ï¼Œä½¿åº”ç”¨ç¨‹åºä¸æ•°æ®åº“æ— å…³æ€§</p>
<p>ODBCåº”ç”¨ç¨‹åºæ¥å£(ODBCAPI)æ˜¯ä¸€ç§ä½¿ç”¨ODBCæŠ€æœ¯å®ç°åº”ç”¨ç¨‹åºä¸æ•°æ®åº“äº’è¿çš„æ ‡å‡†æ¥å£ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_22-26-31.png"></p>
<p>åº”ç”¨ç¨‹åºä½¿ç”¨ODBCè®¿é—®æ•°æ®åº“çš„æ­¥éª¤ï¼š</p>
<blockquote>
<p>åœ¨ODBCé©±åŠ¨ç®¡ç†å™¨ä¸­æ³¨å†Œä¸€ä¸ªæ•°æ®æº;<br>æ ¹æ®æ•°æ®æºæä¾›çš„æ•°æ®åº“ä½ç½®ã€æ•°æ®åº“åç§°åŠé©±åŠ¨ç¨‹åºç­‰ä¿¡æ¯ï¼Œé©±åŠ¨ç®¡ç†å™¨å»ºç«‹èµ·ODBCä¸å…·ä½“æ•°æ®åº“çš„è”ç³»;<br>åº”ç”¨ç¨‹åºä½¿ç”¨æ•°æ®æºå»ºç«‹ä¸ç›¸åº”æ•°æ®åº“çš„è¿æ¥;<br>åº”ç”¨ç¨‹åºé€šè¿‡é©±åŠ¨ç¨‹åºç®¡ç†å™¨ä¸æ•°æ®åº“ç®¡ç†ç³»ç»Ÿäº¤æ¢ä¿¡æ¯;<br>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ‰§è¡Œå®Œç›¸åº”çš„SQLæ“ä½œåï¼Œå°†ç»“æœé€šè¿‡é©±åŠ¨ç¨‹åºç®¡ç†å™¨è¿”å›ç»™åº”ç”¨ç¨‹åºã€‚</p>
</blockquote>
<h3 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h3><p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-05_22-26-52.png"></p>
<p>(1ï¼‰åŠ è½½é©±åŠ¨<br>åŠ è½½JDBCé©±åŠ¨æ˜¯é€šè¿‡è°ƒç”¨æ–¹æ³•:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Class</span>.forName(&quot;é©±åŠ¨åå­—&quot;)</span><br></pre></td></tr></table></figure>

<p>ä¾‹PostgreSQLæ•°æ®åº“é©±åŠ¨ç¨‹åºåŠ è½½è¯­å¥:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Class</span>.forName (&quot;org.postgresql.Driver&quot;)</span><br></pre></td></tr></table></figure>

<p>(2ï¼‰å»ºç«‹è¿æ¥<br>è°ƒç”¨DriverManager. getConnection(String urI)æ–¹æ³•å»ºç«‹æ•°æ®åº“è¿æ¥ã€‚</p>
<p>ä¾‹ï¼šPostgreSQLæ•°æ®åº“è¿æ¥ç¨‹åº:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line">String URL = &quot;jdbc: postgresql://localhost:5432/testdb&quot;;</span><br><span class="line">String userName = &quot;myuser &quot;;</span><br><span class="line">String <span class="keyword">passWord</span> = &quot;sa&quot;;</span><br><span class="line"><span class="keyword">connection</span> conn =</span><br><span class="line">DriverManager. getConnection(URL, userName, <span class="keyword">passWord</span>);</span><br></pre></td></tr></table></figure>

<p>(3)åˆ›å»ºStatementå¯¹è±¡<br>é‡‡ç”¨Connectionå¯¹è±¡çš„createStatement()æ–¹æ³•åˆ›å»ºStatementå¯¹è±¡ã€‚å…¶è¯­å¥å¦‚ä¸‹:<br>Statement stmt &#x3D; conn. createStatement () ;<br>(4ï¼‰æ‰§è¡ŒSQLè¯­å¥<br>åœ¨åˆ›å»ºStatementå¯¹è±¡åï¼Œå°±å¯ä»¥è°ƒç”¨Statementå¯¹è±¡çš„executeQuery()ã€executeUpdate()æ–¹æ³•æ‰§è¡ŒSQLè¯­å¥ã€‚</p>
<ul>
<li>executeQuery()ç”¨äºæ‰§è¡Œselectè¯­å¥</li>
<li>executeUpdate()ç”¨äºæ‰§è¡Œupdateã€ insertã€ deleteè¯­å¥</li>
</ul>
<p>ä¾‹:Statementå¯¹è±¡çš„SQLæ‰§è¡Œ</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Statement</span> stmt = conn.createStatement() ;</span><br><span class="line">String <span class="keyword">sql</span> = &quot;INSERT INTO public.student (sid,sname,gender,birthday,major,phone)&quot; + &quot;VALUES (&#x27;2017001&#x27;ï¼Œ&#x27;å¼ å±±&#x27;,&#x27;ç”·&#x27;,&#x27;1998-10-10&#x27;,&#x27;è½¯ä»¶å·¥ç¨‹&#x27;,&#x27;13602810001&#x27;)&quot;;</span><br><span class="line">stmt.executeUpdate(<span class="keyword">sql</span>) ;</span><br></pre></td></tr></table></figure>

<p>(5)ResultSetç»“æœé›†<br>ResultSetå¯¹è±¡ä½œä¸ºç»“æœé›†ï¼Œå®ƒå­˜æ”¾äº†æ‰§è¡ŒSQLè¯­å¥çš„è¿”å›ç»“æœæ•°æ®ã€‚é€šè¿‡getXXXæ–¹æ³•å¯ä»¥å¯¹ç»“æœé›†ä¸­çš„è®°å½•æ•°æ®è¿›è¡Œè®¿é—®ã€‚<br>ResultSetä¸­è‹¥åŒ…å«äº†å¤šè¡Œç»“æœæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è®°å½•æŒ‡é’ˆè®¿é—®å®ƒä»¬ã€‚æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ•°æ®è¡Œå«åšå½“å‰æ•°æ®è¡Œã€‚ç§»åŠ¨æŒ‡é’ˆå¯ä»¥è®¿é—®å…¶ä»–è¡Œï¼Œè¿™éœ€è¦ä½¿ç”¨ResultSetçš„next()æ–¹æ³•ã€‚<br>ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line">rs = stmt.executeQuery (<span class="keyword">sql</span>) ;</span><br><span class="line"><span class="keyword">while</span>(rs.next())&#123;//ä¾æ¬¡å–å‡ºæ•°æ®</span><br><span class="line">	String <span class="type">name</span> = rs.getString(&quot;name&quot;) ; //å–å‡º<span class="type">name</span>åˆ—çš„å†…å®¹</span><br><span class="line">	<span class="type">int</span> age = rs.getlnt(&quot;age&quot;) ; //å–å‡ºageåˆ—çš„å†…å®¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(6ï¼‰å…³é—­è¿æ¥<br>ä½œä¸ºä¸€ç§å¥½çš„ç¼–ç¨‹é£æ ¼ï¼Œåœ¨ä¸éœ€è¦ResultSetå¯¹è±¡ã€Statementå¯¹è±¡å’ŒConnectionå¯¹è±¡æ—¶ï¼Œåº”è¯¥æ˜¾å¼åœ°å…³é—­å®ƒä»¬ã€‚å…³é—­è¿™äº›å¯¹è±¡çš„æ–¹æ³•ä¸º:close() ;<br>ç¤ºä¾‹:</p>
<blockquote>
<p>rs.close();å…³é—­ç»“æœé›†å¯¹è±¡</p>
<p>stmt.close();å…³é—­æ‰§è¡Œå¯¹è±¡</p>
<p>conn.close();å…³é—­è¿æ¥å¯¹è±¡</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_10-03-38.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_10-03-52.png"></p>
<p>Servletæ˜¯ç”¨Javaè¯­è¨€ç¼–å†™çš„æœåŠ¡å™¨ç«¯å°ç¨‹åºï¼Œé©»ç•™åœ¨webæœåŠ¡å™¨ä¸­è¿è¡Œï¼Œå®ƒæ‰©å±•äº†webæœåŠ¡å™¨çš„åŠ¨æ€å¤„ç†åŠŸèƒ½ã€‚</p>
<blockquote>
<p>1.å®¢æˆ·æœºå°†HTTPè¯·æ±‚å‘é€ç»™WebæœåŠ¡å™¨</p>
<p>2.Web æœåŠ¡å™¨å°†è¯¥è¯·æ±‚è½¬å‘ç»™Servlet</p>
<p>3.Servletå¤„ç†è¯¥è¯·æ±‚</p>
<p>4.Servletå°†å“åº”å‘é€ç»™Web æœåŠ¡å™¨</p>
<p>5.WebæœåŠ¡å™¨å°†å“åº”è½¬å‘ç»™å®¢æˆ·æœº</p>
</blockquote>
<h3 id="å­˜å‚¨è¿‡ç¨‹"><a href="#å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹"></a>å­˜å‚¨è¿‡ç¨‹</h3><p>å­˜å‚¨è¿‡ç¨‹(Stored Procedureï¼‰æ˜¯æ•°æ®åº“ä¸­çš„ä¸€ç§å¯¹è±¡;ç”±ä¸€ç»„å®Œæˆç‰¹å®šæ•°æ®å¤„ç†åŠŸèƒ½çš„SQLè¯­å¥å’Œè¿‡ç¨‹è¯­å¥ç»„æˆçš„ç¨‹åº;å®ƒè¢«ç¼–è¯‘åï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­;å¤–éƒ¨ç¨‹åºå¯ä»¥è°ƒç”¨æ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œã€‚</p>
<p>PostgreSQLä½¿ç”¨CREATE FUNCTIONå‘½ä»¤åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ã€‚(10ç‰ˆæœ¬åå¯ä»¥ç”¨CREATE PRECEDURE)</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [ <span class="keyword">OR REPLACE</span> ] <span class="keyword">FUNCTION</span>/<span class="keyword">PROCEDURE</span>  <span class="type">name</span></span><br><span class="line">    ( [ [ argmode ] [ argname ] argtype [ &#123; <span class="keyword">DEFAULT</span> | = &#125; default_expr ] [, ...] ] )</span><br><span class="line">    [ <span class="keyword">RETURNS</span> retype | <span class="keyword">RETURNS</span> <span class="keyword">TABLE</span> ( <span class="built_in">column_name</span>  column_type [, ...] ) ]</span><br><span class="line"><span class="keyword">AS</span> $$<span class="language-java">         <span class="comment">//$$</span></span>ç”¨äºå£°æ˜å­˜å‚¨è¿‡ç¨‹çš„å®é™…ä»£ç çš„å¼€å§‹</span><br><span class="line"><span class="keyword">DECLARE</span></span><br><span class="line">        <span class="comment">-- å£°æ˜æ®µ</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">        <span class="comment">--å‡½æ•°ä½“è¯­å¥</span></span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$<span class="language-ruby"> <span class="variable constant_">LANGUAGE</span> lang_name;  <span class="regexp">//</span><span class="variable">$$</span></span> è¡¨æ˜ä»£ç çš„ç»“æŸ, <span class="keyword">LANGUAGE</span>åé¢æŒ‡æ˜æ‰€ç”¨çš„ç¼–ç¨‹è¯­è¨€</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ1ï¼‰nameï¼šè¦åˆ›å»ºçš„å­˜å‚¨è¿‡ç¨‹åï¼›<br>ï¼ˆ2ï¼‰OR REPLACE ï¼šè¦†ç›–åŒåçš„å­˜å‚¨è¿‡ç¨‹ï¼›<br>ï¼ˆ3ï¼‰argmodeï¼šå­˜å‚¨è¿‡ç¨‹å‚æ•°çš„æ¨¡å¼å¯ä»¥ä¸ºINã€OUTæˆ–INOUTï¼Œç¼ºçœå€¼æ˜¯INã€‚<br>ï¼ˆ4ï¼‰argnameï¼šå½¢å¼å‚æ•°çš„åå­—ã€‚<br>ï¼ˆ5ï¼‰RETURNSï¼šè¿”å›å€¼ï¼›RETURNS TABLEï¼šè¿”å›äºŒç»´è¡¨</p>
<p>ä¾‹ï¼šåˆ›å»ºä¸€ä¸ªåä¸ºcountRecords()çš„è¿‡ç¨‹å‡½æ•°ç»Ÿè®¡STUDENTè¡¨çš„è®°å½•æ•°ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR REPLACE</span> <span class="keyword">FUNCTION</span> countRecords ()  </span><br><span class="line"><span class="keyword">RETURNS</span> <span class="type">integer</span> <span class="keyword">AS</span> $$<span class="language-pgsql">  </span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">declare</span>  </span></span><br><span class="line"><span class="language-pgsql">    count <span class="type">integer</span>;  </span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">BEGIN</span>  </span></span><br><span class="line"><span class="language-pgsql">   <span class="keyword">SELECT</span> count(*) <span class="keyword">into</span> count <span class="keyword">FROM</span> STUDENT;  </span></span><br><span class="line"><span class="language-pgsql">   <span class="keyword">RETURN</span> count;  </span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">END</span>;  </span></span><br><span class="line"><span class="language-pgsql">$$</span> <span class="keyword">LANGUAGE</span> plpgsql;</span><br></pre></td></tr></table></figure>

<p>ç»ƒä¹ :åˆ›å»ºä¸€ä¸ªincrement(i)çš„è¿‡ç¨‹å‡½æ•°è®¡ç®—è‡ªå¢å€¼ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR REPLACE</span> <span class="keyword">FUNCTION</span> <span class="keyword">increment</span>(i integer)</span><br><span class="line">RETURNS integer AS $$</span><br><span class="line">BEGIN</span><br><span class="line">	RETURN i + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$$<span class="language-pgsql"><span class="keyword">LANGUAGE</span> plpgsql;</span></span><br></pre></td></tr></table></figure>

<p>ä¾‹ï¼šåˆ›å»ºä¸€ä¸ªåä¸ºadd_data (a, bï¼Œcï¼‰çš„å­˜å‚¨è¿‡ç¨‹å®ç°a+bç›¸åŠ è¿ç®—ï¼Œå¹¶å°†ç»“æœæ”¾å…¥cã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR REPLACE</span> <span class="keyword">PROCEDURE</span> add_data(a <span class="type">integer</span>,b <span class="type">integer</span>,<span class="keyword">inout</span> c <span class="type">integer</span>)<span class="keyword">AS</span> $$<span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">Begin</span></span></span><br><span class="line"><span class="language-pgsql">	c=a+b;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">End</span>;</span></span><br><span class="line"><span class="language-pgsql">$$</span><span class="keyword">LANGUAGE</span> plpgsql;</span><br></pre></td></tr></table></figure>

<p>ç»ƒä¹ :åˆ›å»ºä¸€ä¸ªincrement_pro(i)çš„å­˜å‚¨è¿‡ç¨‹è®¡ç®—è‡ªå¢å€¼ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR REPLACE</span> <span class="keyword">PROCEDURE</span> increment_pro(<span class="keyword">inout</span> i <span class="type">integer</span>)<span class="keyword">AS</span> $$<span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">BEGIN</span></span></span><br><span class="line"><span class="language-pgsql">	i=i+<span class="number">1</span>;</span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">Return</span>;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">END</span>;</span></span><br><span class="line"><span class="language-pgsql">$$</span><span class="keyword">LANGUAGE</span> plpgsql;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç¨‹åºå‘˜éœ€è¦è°ƒç”¨<strong>å‡½æ•°</strong>æ‰§è¡Œï¼Œå…¶è°ƒç”¨æ–¹å¼å¦‚ä¸‹:<br>select  å‡½æ•°å(å‚æ•°);<br>æˆ–è€…:select * from å‡½æ•°å(å‚æ•°);</p>
<p>å¦‚æœéœ€è¦è°ƒç”¨<strong>å­˜å‚¨è¿‡ç¨‹</strong>æ‰§è¡Œï¼Œå…¶è°ƒç”¨æ–¹å¼å¦‚ä¸‹:<br>CALLå­˜å‚¨è¿‡ç¨‹åï¼ˆå‚æ•°)</p>
<p>åˆ é™¤å­˜å‚¨è¿‡ç¨‹<br>DROP FUNCTION [ IF EXISTS ] name ( [ [ argmode ] [ argname ] argtype [, â€¦] ] ) [ CASCADE | RESTRICT ]<br>ä¸»è¦å‚æ•°ï¼š<br>ï¼ˆ1ï¼‰IF EXISTSï¼šå¦‚æœæŒ‡å®šçš„å­˜å‚¨è¿‡ç¨‹ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå‘å‡ºæç¤ºä¿¡æ¯ã€‚<br>ï¼ˆ2ï¼‰name ï¼šç°å­˜çš„å­˜å‚¨è¿‡ç¨‹åç§°ã€‚<br>ï¼ˆ3ï¼‰argmodeï¼šå‚æ•°çš„æ¨¡å¼ï¼šIN(ç¼ºçœ), OUT, INOUT, VARIADICã€‚è¯·æ³¨æ„ï¼Œå®é™…å¹¶ä¸æ³¨æ˜OUTå‚æ•°ï¼Œå› ä¸ºåˆ¤æ–­å­˜å‚¨è¿‡ç¨‹çš„èº«ä»½åªéœ€è¦è¾“å…¥å‚æ•°ã€‚<br>ï¼ˆ4ï¼‰argnameï¼šå‚æ•°çš„åå­—ã€‚è¯·æ³¨æ„ï¼Œå®é™…ä¸Šå¹¶ä¸æ³¨æ˜å‚æ•°çš„åå­—ï¼Œå› ä¸ºåˆ¤æ–­å‡½æ•°çš„èº«ä»½åªéœ€è¦è¾“å…¥å‚æ•°çš„æ•°æ®ç±»å‹ã€‚<br>ï¼ˆ5ï¼‰argtypeï¼šå¦‚æœæœ‰çš„è¯ï¼Œæ˜¯å­˜å‚¨è¿‡ç¨‹å‚æ•°çš„ç±»å‹ã€‚<br>ï¼ˆ6ï¼‰CASCADEï¼šçº§è”åˆ é™¤ä¾èµ–äºå­˜å‚¨è¿‡ç¨‹çš„å¯¹è±¡(å¦‚è§¦å‘å™¨)ã€‚<br>ï¼ˆ7ï¼‰RESTRICTï¼šå¦‚æœæœ‰ä»»ä½•ä¾èµ–å¯¹è±¡å­˜åœ¨ï¼Œåˆ™æ‹’ç»åˆ é™¤è¯¥å‡½æ•°ï¼›è¿™ä¸ªæ˜¯ç¼ºçœå€¼ã€‚</p>
<p>åˆ é™¤å‰é¢å®šä¹‰çš„å‡½æ•°testExec()</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">FUNCTION</span> testExec();</span><br></pre></td></tr></table></figure>

<p>ä¾‹åˆ é™¤å‰é¢å®šä¹‰çš„å­˜å‚¨è¿‡ç¨‹maintenance()</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> maintenance();</span><br></pre></td></tr></table></figure>

<h3 id="PL-x2F-pgSQLåŸºæœ¬è¯­æ³•"><a href="#PL-x2F-pgSQLåŸºæœ¬è¯­æ³•" class="headerlink" title="PL&#x2F;pgSQLåŸºæœ¬è¯­æ³•"></a>PL&#x2F;pgSQLåŸºæœ¬è¯­æ³•</h3><p>å˜é‡å£°æ˜çš„è¯­æ³•å¦‚ä¸‹ï¼š<br> declare<br>     å˜é‡å  å˜é‡ç±»å‹ï¼›<br>å¦‚æœå£°æ˜å˜é‡ä¸ºè®°å½•ç±»å‹ï¼Œå˜é‡å£°æ˜æ ¼å¼ä¸ºï¼š variable_name RECORD;<br>æ³¨ï¼šRECORDä¸æ˜¯çœŸæ­£çš„æ•°æ®ç±»å‹ï¼Œåªæ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">declare</span> </span><br><span class="line">	count intger;</span><br><span class="line">    rec <span class="type">RECORD</span>;</span><br></pre></td></tr></table></figure>

<p>æ¡ä»¶è¯­å¥<br>åœ¨PL&#x2F;pgSQLä¸­æœ‰ä»¥ä¸‹ä¸‰ç§å½¢å¼çš„æ¡ä»¶è¯­å¥<br>1)IF-THEN </p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">IF</span> <span class="type">boolean</span>-expression <span class="keyword">THEN</span></span><br><span class="line">    statements</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>; </span><br></pre></td></tr></table></figure>

<p>2)IF-THEN-ELSE</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">IF</span> <span class="type">boolean</span>-expression <span class="keyword">THEN</span></span><br><span class="line">	statements</span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line">Statements</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>;</span><br></pre></td></tr></table></figure>

<p> 3)IF-THEN-ELSIF-ELSE</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">IF</span> <span class="type">boolean</span>-expression <span class="keyword">THEN</span></span><br><span class="line">	statements</span><br><span class="line"><span class="keyword">ELSIF</span> <span class="type">boolean</span>-expression <span class="keyword">THEN</span></span><br><span class="line">	statements</span><br><span class="line"><span class="keyword">ELSIF</span> <span class="type">boolean</span>-expression <span class="keyword">THEN</span></span><br><span class="line">     statements</span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line">	statements</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">IF</span>; </span><br></pre></td></tr></table></figure>

<p>å¾ªç¯è¯­å¥<br>1)LOOP è¯­å¥</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">LOOP</span></span><br><span class="line"> statements</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span> [ label ];</span><br></pre></td></tr></table></figure>

<p>2)EXIT</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">LOOP</span></span><br><span class="line">	count=count+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">EXIT</span> <span class="keyword">WHEN</span> count &gt;<span class="number">100</span>;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span>;</span><br></pre></td></tr></table></figure>

<p>3)CONTINUE</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">LOOP</span></span><br><span class="line"> 	count=count+<span class="number">1</span>;</span><br><span class="line"> 	<span class="keyword">EXIT</span> <span class="keyword">WHEN</span> count &gt; <span class="number">100</span>;</span><br><span class="line"> 	<span class="keyword">CONTINUE</span> <span class="keyword">WHEN</span> count &lt; <span class="number">50</span>;</span><br><span class="line"> 	count=count+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span>; </span><br></pre></td></tr></table></figure>

<p> 4)WHILE</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">WHILE</span> amount_owed &gt; <span class="number">0</span> <span class="keyword">AND</span>  balance &gt; <span class="number">0</span> <span class="keyword">LOOP</span></span><br><span class="line">    <span class="comment">--do something</span></span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span>;</span><br></pre></td></tr></table></figure>

<p>5)FOR</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FOR</span> i <span class="keyword">IN</span> <span class="number">1.</span>.<span class="number">.10</span> <span class="keyword">LOOP</span></span><br><span class="line">	<span class="keyword">RAISE</span> <span class="keyword">NOTICE</span> <span class="string">&#x27;i IS %&#x27;</span>,i;</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span>;</span><br><span class="line"><span class="keyword">FOR</span> i <span class="keyword">IN</span> <span class="keyword">REVERSE</span> <span class="number">10.</span>.<span class="number">.1</span>  <span class="keyword">LOOP</span></span><br><span class="line">      <span class="comment">--do something</span></span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span>;</span><br></pre></td></tr></table></figure>

<p>éå†æŸ¥è¯¢ç»“æœé›†</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FOR</span> record_or_row <span class="keyword">IN</span> query <span class="keyword">LOOP</span></span><br><span class="line">     statements</span><br><span class="line"><span class="keyword">END</span> <span class="keyword">LOOP</span> ;</span><br></pre></td></tr></table></figure>

<p>FORå¾ªç¯å¯ä»¥éå†å‘½ä»¤çš„ç»“æœå¹¶æ“ä½œç›¸åº”çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š</p>
<p>ç¼–å†™å‡½æ•°å®ç°å¯¹å­¦ç”Ÿè¡¨Studentçš„æŸ¥è¯¢ç»“æœé›†æ•°æ®è¾“å‡º</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">function</span> Out_Record() <span class="keyword">returns</span> <span class="type">RECORD</span> <span class="keyword">as</span> $$<span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">declare</span> </span></span><br><span class="line"><span class="language-pgsql">	rec <span class="type">RECORD</span>;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">FOR</span> rec <span class="keyword">IN</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student <span class="keyword">LOOP</span></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">raise</span> <span class="keyword">notice</span> <span class="string">&#x27;å­¦ç”Ÿæ•°æ®: %,%&#x27;</span>,rec.studentID,rec.studentName; </span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">END</span> <span class="keyword">LOOP</span>;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">return</span> rec;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">end</span>;</span></span><br><span class="line"><span class="language-pgsql">$$</span> <span class="keyword">language</span> plpgsql;</span><br></pre></td></tr></table></figure>

<h3 id="è§¦å‘å™¨"><a href="#è§¦å‘å™¨" class="headerlink" title="è§¦å‘å™¨"></a>è§¦å‘å™¨</h3><p>è§¦å‘å™¨æ˜¯ç‰¹æ®Šç±»å‹çš„å­˜å‚¨è¿‡ç¨‹ï¼Œå…¶è¿‡ç¨‹ç¨‹åºç”±äº‹ä»¶(å¦‚INSERTã€UPDATEã€DELETEæ“ä½œç­‰ï¼‰è§¦å‘è€Œè‡ªåŠ¨æ‰§è¡Œã€‚</p>
<p>è§¦å‘å™¨ç”¨é€”:å¯ä»¥å®ç°æ¯”çº¦æŸæ›´å¤æ‚çš„æ•°æ®å®Œæ•´æ€§ï¼Œç»å¸¸ç”¨äºåŠ å¼ºæ•°æ®çš„å®Œæ•´æ€§çº¦æŸå’Œ	ä¸šåŠ¡è§„åˆ™ã€‚</p>
<p>è§¦å‘å™¨ç‰¹ç‚¹</p>
<ul>
<li>ä¸æ•°æ®åº“å¯¹è±¡ç›¸å…³:åœ¨è¡¨æˆ–è§†å›¾ä¸Šæ‰§è¡ŒDMLã€DDLæ“ä½œï¼Œå…¶å®šä¹‰çš„äº‹ä»¶è§¦å‘<br>è¿‡ç¨‹ç¨‹åºæ‰§è¡Œã€‚</li>
<li>DMLäº‹ä»¶è§¦å‘:ç”±æ‰§è¡ŒINSERTã€DELETEã€UPDATEæ“ä½œæ—¶è§¦å‘ã€‚</li>
<li>DDLäº‹ä»¶è§¦å‘:ç”±æ‰§è¡ŒCRETEã€ALTERã€DROPã€SELECT INTOæ“ä½œæ—¶è§¦å‘ã€‚</li>
</ul>
<p>æŒ‰DMLæ“ä½œè¯­å¥åˆ†ç±»: INSERTè§¦å‘å™¨ã€DELETEè§¦å‘å™¨ã€UPDATEè§¦å‘å™¨<br>æŒ‰è§¦å‘å™¨æ‰§è¡Œæ¬¡æ•°åˆ†ç±»:</p>
<blockquote>
<p>(1ï¼‰è¯­å¥çº§è§¦å‘å™¨:ç”±å…³é”®å­—FOR EACH STATEMENTå£°æ˜ï¼Œåœ¨è§¦å‘å™¨ä½œç”¨çš„è¡¨ä¸Šæ‰§è¡Œä¸€æ¡SQLè¯­å¥æ—¶ï¼Œè¯¥è§¦å‘å™¨ç¨‹åºåªæ‰§è¡Œä¸€æ¬¡ï¼Œå³ä½¿æ˜¯ä¿®æ”¹äº†é›¶è¡Œæ•°æ®çš„SQLï¼Œä¹Ÿä¼šå¯¼è‡´ç›¸åº”çš„è§¦å‘å™¨æ‰§è¡Œã€‚FOR EACH STATEMENTä¸ºé»˜è®¤å€¼ã€‚</p>
<p>(2ï¼‰è¡Œçº§è§¦å‘å™¨:ç”±å…³é”®å­—FOR EACH ROWæ ‡è®°çš„è§¦å‘å™¨ï¼Œå½“è§¦å‘å™¨æ‰€åœ¨è¡¨ä¸­æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ¯å˜åŒ–ä¸€è¡Œå°±ä¼šæ‰§è¡Œä¸€æ¬¡è§¦å‘å™¨ç¨‹åºã€‚</p>
</blockquote>
<p>ä¾‹ï¼šå­¦ç”Ÿæˆç»©è¡¨ä¸Šå®šä¹‰äº†è¡Œçº§DELETEè§¦å‘å™¨ã€‚å¦‚æœè¯¥è¡¨åˆ é™¤äº†20æ¡è®°å½•ï¼Œåˆ™å°†å¯¼è‡´DELETEè§¦å‘å™¨ç¨‹åºè¢«æ‰§è¡Œ20æ¬¡ã€‚</p>
<p>æŒ‰è§¦å‘çš„æ—¶é—´åˆ†ç±»:</p>
<blockquote>
<p>(1ï¼‰BEFOREè§¦å‘å™¨:åœ¨è§¦å‘äº‹ä»¶ä¹‹å‰æ‰§è¡Œè§¦å‘å™¨ç¨‹åºã€‚<br>(2ï¼‰AFTERè§¦å‘å™¨:åœ¨è§¦å‘äº‹ä»¶ä¹‹åæ‰§è¡Œè§¦å‘å™¨ç¨‹åºã€‚<br>(3ï¼‰INSTEAD OFè§¦å‘å™¨:å½“è§¦å‘äº‹ä»¶å‘ç”Ÿåï¼Œæ‰§è¡Œè§¦å‘å™¨ä¸­æŒ‡å®šçš„è¿‡ç¨‹ç¨‹åºï¼Œè€Œä¸æ˜¯æ‰§è¡Œäº§ç”Ÿè§¦å‘äº‹ä»¶çš„SQLè¯­å¥ã€‚</p>
</blockquote>
<p>è§¦å‘å™¨ç›¸å…³çš„ç‰¹æ®Šå˜é‡</p>
<p>1ï¼‰NEW æ•°æ®ç±»å‹æ˜¯RECORDã€‚å¯¹äºè¡Œçº§è§¦å‘å™¨ï¼Œå®ƒå­˜æœ‰INSERTæˆ–UPDATEæ“ä½œäº§ç”Ÿçš„æ–°çš„æ•°æ®è¡Œã€‚å¯¹äºè¯­å¥çº§è§¦å‘å™¨ï¼Œå®ƒçš„å€¼æ˜¯NULLã€‚</p>
<p>2ï¼‰OLD æ•°æ®ç±»å‹æ˜¯RECORDã€‚å¯¹äºè¡Œçº§è§¦å‘å™¨ï¼Œå®ƒå­˜æœ‰è¢«UPDATEæˆ–DELETEæ“ä½œä¿®æ”¹æˆ–åˆ é™¤çš„æ—§çš„æ•°æ®è¡Œã€‚å¯¹äºè¯­å¥çº§è§¦å‘å™¨ï¼Œå®ƒçš„å€¼æ˜¯NULLã€‚</p>
<p>3ï¼‰TG_OP æ•°æ®ç±»å‹æ˜¯textï¼›æ˜¯å€¼ä¸ºINSERTã€UPDATEã€DELETE çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¯´æ˜è§¦å‘å™¨æ˜¯ä¸ºå“ªä¸ªæ“ä½œå¼•å‘ã€‚</p>
<p>åˆ›å»ºè§¦å‘å™¨çš„åŸºæœ¬è¯­æ³•</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span>  <span class="keyword">TRIGGER</span>  è§¦å‘å™¨å   </span><br><span class="line">    &#123; <span class="keyword">BEFORE</span> | <span class="keyword">AFTER</span> | <span class="keyword">INSTEAD</span> <span class="keyword">OF</span> &#125;</span><br><span class="line">     <span class="keyword">ON</span> è¡¨å</span><br><span class="line">     [ <span class="keyword">FOR</span> [ <span class="keyword">EACH</span> ] &#123; <span class="keyword">ROW</span> | <span class="keyword">STATEMENT</span> &#125; ]</span><br><span class="line">     <span class="keyword">EXECUTE</span> <span class="keyword">PROCEDURE</span> å­˜å‚¨è¿‡ç¨‹å ( å‚æ•°åˆ—è¡¨ )</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ1ï¼‰æŒ‡æ˜æ‰€å®šä¹‰çš„è§¦å‘å™¨å<br>ï¼ˆ2ï¼‰ BEFORE | AFTER | INSTEAD OF  æŒ‡æ˜è§¦å‘å™¨è¢«è§¦å‘çš„æ—¶é—´<br>ï¼ˆ3ï¼‰ ON è¡¨å æŒ‡æ˜è§¦å‘å™¨æ‰€ä¾é™„çš„è¡¨<br>ï¼ˆ4ï¼‰ FOR  EACH  { ROW | STATEMENT }  æŒ‡æ˜è§¦å‘å™¨æ˜¯è¡Œçº§è¿˜æ˜¯åˆ—çº§<br>ï¼ˆ5ï¼‰ EXECUTE PROCEDURE å­˜å‚¨è¿‡ç¨‹å ( å‚æ•°åˆ—è¡¨ )  æŒ‡æ˜è§¦å‘æ—¶æ‰€æ‰§è¡Œçš„å­˜å‚¨è¿‡ç¨‹</p>
<p>åˆ›å»ºè§¦å‘å™¨çš„åŸºæœ¬æ­¥éª¤</p>
<p>ï¼ˆ1ï¼‰æ£€æŸ¥æ•°æ®åº“ä¸­å°†è¦åˆ›å»ºçš„è§¦å‘å™¨æ‰€ä¾é™„çš„è¡¨æˆ–è§†å›¾æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå¿…é¡»é¦–å…ˆåˆ›å»ºè¯¥è¡¨æˆ–è§†å›¾ã€‚</p>
<p>ï¼ˆ2ï¼‰åˆ›å»ºè§¦å‘å™¨è¢«è§¦å‘æ—¶æ‰€è¦æ‰§è¡Œçš„è§¦å‘å™¨å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ç±»å‹å¿…é¡»æ˜¯Triggerå‹ï¼Œæ˜¯è§¦å‘å™¨çš„æ‰§è¡Œå‡½æ•°ã€‚</p>
<p>ï¼ˆ3ï¼‰åˆ›å»ºè§¦å‘å™¨ï¼Œå®šä¹‰è§¦å‘å™¨ä¾é™„çš„è¡¨ï¼Œè§¦å‘å™¨è¢«è§¦å‘æ‰§è¡Œçš„æ—¶é—´ï¼Œè§¦å‘å™¨æ˜¯è¡Œçº§è§¦å‘å™¨è¿˜æ˜¯è¯­å¥çº§è§¦å‘å™¨ï¼Œè§¦å‘å™¨æ‰§è¡Œéœ€è¦æ»¡è¶³çš„æ¡ä»¶ã€‚</p>
<p>ä¸ºäº†å®¡è®¡Gradeè¡¨çš„è¯¾ç¨‹æˆç»©ä¿®æ”¹ï¼Œåˆ›å»ºaudit_scoreè¡¨è®°å½•Gradeè¡¨çš„æˆç»©å˜åŒ–ï¼Œå…¶è¡¨ç»“æ„å¦‚ä¸‹:</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> audit_score( </span><br><span class="line">    changeID <span class="type">serial</span> <span class="keyword">not</span> <span class="keyword">null</span>,						<span class="comment">--ä¿®æ”¹åºåˆ—å·</span></span><br><span class="line">	username <span class="type">character</span>(<span class="number">20</span>),							<span class="comment">--æ“ä½œç”¨æˆ·</span></span><br><span class="line">	sid	<span class="type">character</span>(<span class="number">13</span>),								<span class="comment">--å­¦å·</span></span><br><span class="line">	cid	<span class="type">character</span>(<span class="number">4</span>),								<span class="comment">--è¯¾ç¨‹ç¼–å·</span></span><br><span class="line">	updatetime <span class="type">text</span>,								<span class="comment">--ä¿®æ”¹çš„æ—¶é—´</span></span><br><span class="line">	oldscore <span class="type">int</span>,									<span class="comment">--ä¿®æ”¹å‰çš„æˆç»©</span></span><br><span class="line">	newscore <span class="type">int</span>,									<span class="comment">--ä¿®æ”¹åçš„æˆç»©</span></span><br><span class="line">	<span class="keyword">constraint</span> changeID_PK <span class="keyword">primary key</span> (changeID)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºè§¦å‘å™¨å‡½æ•°</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or replace</span> <span class="keyword">function</span> score_audit() </span><br><span class="line"><span class="keyword">returns</span> <span class="type">trigger</span> <span class="keyword">as</span> $score_audit$</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">TG_OP</span> == <span class="string">&#x27;DELETE&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">		<span class="keyword">insert</span> <span class="keyword">into</span> audit_score(username,sid,cid,updatetime,oldscore)</span><br><span class="line">		<span class="keyword">select</span> <span class="keyword">user</span>,<span class="built_in">old</span>.studentid,<span class="built_in">old</span>.couseid,now(),<span class="built_in">old</span>.score;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">old</span>;</span><br><span class="line">	<span class="keyword">elsif</span> (<span class="built_in">TG_OP</span> == <span class="string">&#x27;UPDATE&#x27;</span>) <span class="keyword">then</span> </span><br><span class="line">		<span class="keyword">insert</span> <span class="keyword">into</span> audit_score(username,sid,cid,updatetime,oldscore,newscore)</span><br><span class="line">		<span class="keyword">select</span> <span class="keyword">user</span>,<span class="built_in">old</span>.studentid,<span class="built_in">old</span>.couseid,now(),<span class="built_in">old</span>.score,<span class="built_in">new</span>.score</span><br><span class="line">		<span class="keyword">where</span> <span class="built_in">old</span>.studentid = <span class="built_in">new</span>.sid <span class="keyword">and</span> <span class="built_in">old</span>.courseid = <span class="built_in">new</span>.cid;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">new</span>;</span><br><span class="line">	<span class="keyword">elsif</span> (<span class="built_in">TG_OP</span> == <span class="string">&#x27;INSERT&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">		<span class="keyword">insert</span> <span class="keyword">into</span> audit_score(username,sid,cid,updatetime,oldscore,newscore)</span><br><span class="line">		<span class="keyword">select</span> <span class="keyword">user</span>,<span class="built_in">new</span>.studentid,<span class="built_in">new</span>.courseid,now(),<span class="keyword">null</span>,<span class="built_in">new</span>.score;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">new</span>;</span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line">$score_audit$ <span class="keyword">language</span> plpgsql</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºè§¦å‘å™¨</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> score_audit_triger</span><br><span class="line"><span class="keyword">AFTER</span> <span class="keyword">INSERT</span> <span class="keyword">OR</span> <span class="keyword">UPDATE</span> <span class="keyword">OR</span> <span class="keyword">DELETE</span> <span class="keyword">ON</span> grade</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="keyword">ROW</span> <span class="keyword">EXECUTE</span> <span class="keyword">PROCEDURE</span> score_audit();</span><br></pre></td></tr></table></figure>

<p>ç»ƒä¹ :åœ¨å¦‚ä¸‹é›‡å‘˜è¡¨empä¸­è¢«æ’å…¥æˆ–æ›´æ–°ä¸€è¡Œæ•°æ®æ—¶ï¼Œè§¦å‘å‡½æ•°ç¨‹åºå°†å½“å‰ç”¨æˆ·åå’Œæ—¶é—´æ ‡è®°åœ¨è¯¥æ•°æ®è¡Œä¸­,å¹¶ä¸”æ£€æŸ¥é›‡å‘˜çš„å§“åä»¥åŠè–ªæ°´æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºï¼Œè¾“å‡ºè­¦ç¤ºä¿¡æ¯ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp (</span><br><span class="line">	emplD <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">primary key</span>,</span><br><span class="line">    empname <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">	salary <span class="type">integer</span>,</span><br><span class="line">	last_date <span class="type">timestamp</span>,</span><br><span class="line">    last_user <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>1.è§¦å‘å™¨å‡½æ•°ç¨‹åº</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> emp_stamp ()<span class="keyword">RETURNS</span> <span class="type">trigger</span> <span class="keyword">AS</span> $$<span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">BEGIN</span></span></span><br><span class="line"><span class="language-pgsql">		<span class="comment">--æ£€æŸ¥ç»™å‡ºäº†empnameä»¥åŠsalary</span></span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">IF</span> <span class="built_in">NEW</span>.empname <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">THEN</span></span></span><br><span class="line"><span class="language-pgsql">			<span class="keyword">RAISE</span> <span class="keyword">EXCEPTION</span> <span class="string">&#x27;é›‡å‘˜åä¸èƒ½ä¸ºç©º&#x27;</span>;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">END</span> <span class="keyword">IF</span>;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">IF</span> <span class="built_in">NEW</span>.salary <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">THEN</span></span></span><br><span class="line"><span class="language-pgsql">			<span class="keyword">RAISE</span> <span class="keyword">EXCEPTION</span> <span class="string">&#x27;%è–ªæ°´ä¸èƒ½ä¸ºç©º&#x27;</span>,<span class="built_in">NEW</span>.empname;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">END</span> <span class="keyword">IF</span>;</span></span><br><span class="line"><span class="language-pgsql">			<span class="comment">--è®°ä½è°åœ¨ä»€ä¹ˆæ—¶å€™æ”¹å˜äº†å·¥èµ„å•</span></span></span><br><span class="line"><span class="language-pgsql">		<span class="built_in">NEW</span>.last_date := <span class="built_in">current_timestamp</span>;</span></span><br><span class="line"><span class="language-pgsql">		<span class="built_in">NEW</span>.last_user := <span class="built_in">current_user</span>;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">RETURN</span> <span class="built_in">NEW</span>;</span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">END</span>;</span></span><br><span class="line"><span class="language-pgsql">$$</span> <span class="keyword">LANGUAGE</span> plpgsql ;</span><br></pre></td></tr></table></figure>

<p>2.è§¦å‘å™¨å®šä¹‰ç¨‹åº</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> emp_stamp</span><br><span class="line"><span class="keyword">BEFORE</span> <span class="keyword">INSERT</span> <span class="keyword">OR</span> <span class="keyword">UPDATE</span> <span class="keyword">ON</span> emp</span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="keyword">ROW</span> <span class="keyword">EXECUTE</span> <span class="keyword">FUNCTION</span> emp_stamp();</span><br></pre></td></tr></table></figure>

<p>è§¦å‘å™¨ä¿®æ”¹</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TRIGGER</span> <span class="type">name</span> <span class="keyword">ON</span> <span class="built_in">table_name</span> <span class="keyword">RENAME</span> <span class="keyword">TO</span> new_name</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦å‚æ•°è¯´æ˜ï¼š<br>ï¼ˆ1ï¼‰nameï¼šç°æœ‰è§¦å‘å™¨çš„åç§°ã€‚<br>ï¼ˆ2ï¼‰table_nameï¼šè¯¥è§¦å‘å™¨ä½œç”¨çš„è¡¨åå­—ã€‚<br>ï¼ˆ3ï¼‰new_nameï¼šè§¦å‘å™¨çš„æ–°åå­—ã€‚</p>
<p>ä¾‹å¦‚ï¼šå°†ä¸Šè¿°å®šä¹‰çš„è§¦å‘å™¨æ”¹åä¸ºscore_audit_trig</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TRIGGER</span> score_audit_trigger <span class="keyword">ON</span> stu_score  <span class="keyword">RENAME</span> <span class="keyword">TO</span> score_audit_trig;</span><br></pre></td></tr></table></figure>

<p>è§¦å‘å™¨åˆ é™¤</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> [ <span class="keyword">IF</span> <span class="keyword">EXISTS</span> ] <span class="type">name</span> <span class="keyword">ON</span> <span class="built_in">table_name</span> [ <span class="keyword">CASCADE</span> | <span class="keyword">RESTRICT</span> ]</span><br></pre></td></tr></table></figure>
<p>ä¸»è¦å‚æ•°è¯´æ˜ï¼š</p>
<blockquote>
<p>ï¼ˆ1ï¼‰IF EXISTSï¼šå¦‚æœæŒ‡å®šçš„è§¦å‘å™¨ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå‘å‡ºæç¤ºè€Œä¸æ˜¯æŠ›å‡ºé”™è¯¯ã€‚<br>ï¼ˆ2ï¼‰nameï¼šè¦åˆ é™¤çš„è§¦å‘å™¨åã€‚<br>ï¼ˆ3ï¼‰table_nameï¼šè§¦å‘å™¨å®šä¹‰æ‰€ä¾é™„çš„è¡¨çš„åç§°ã€‚<br>ï¼ˆ5ï¼‰CASCADEï¼šçº§è”åˆ é™¤ä¾èµ–æ­¤è§¦å‘å™¨çš„å¯¹è±¡ã€‚<br>ï¼ˆ6ï¼‰RESTRICTï¼šå¦‚æœæœ‰ä¾èµ–å¯¹è±¡å­˜åœ¨ï¼Œé‚£ä¹ˆæ‹’ç»åˆ é™¤ã€‚è¯¥å‚æ•°ç¼ºçœæ˜¯æ‹’ç»åˆ é™¤ã€‚</p>
</blockquote>
<p> ä¾‹å¦‚ï¼šå°†ä¸Šè¿°è§¦å‘å™¨score_audit_trigåˆ é™¤ï¼ŒåŒæ—¶<em>çº§è”åˆ é™¤</em>ä¾èµ–è§¦å‘å™¨çš„å¯¹è±¡ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> score_audit_trig <span class="keyword">ON</span> grade <span class="keyword">CASCADE</span>;</span><br></pre></td></tr></table></figure>

<h3 id="æ¸¸æ ‡"><a href="#æ¸¸æ ‡" class="headerlink" title="æ¸¸æ ‡"></a>æ¸¸æ ‡</h3><ul>
<li>æ¸¸æ ‡ï¼ˆCursorï¼‰æ˜¯ä¸€ç§ä¸´æ—¶çš„æ•°æ®åº“å¯¹è±¡ï¼›</li>
<li>ç”¨æ¥å­˜æ”¾ä»æ•°æ®åº“è¡¨ä¸­æŸ¥è¯¢è¿”å›çš„æ•°æ®è®°å½•ï¼›</li>
<li>æä¾›äº†ä»ç»“æœé›†ä¸­æå–å¹¶åˆ†åˆ«å¤„ç†æ¯ä¸€æ¡è®°å½•çš„æœºåˆ¶ï¼›</li>
<li>æ¸¸æ ‡æ€»æ˜¯ä¸ä¸€æ¡SQLæŸ¥è¯¢è¯­å¥ç›¸å…³è”ï¼›</li>
<li>æ¸¸æ ‡åŒ…æ‹¬ï¼šSQLè¯­è¨€çš„æŸ¥è¯¢ç»“æœï¼ŒæŒ‡å‘ç‰¹å®šè®°å½•çš„æŒ‡é’ˆã€‚</li>
</ul>
<p>å£°æ˜æ¸¸æ ‡</p>
<blockquote>
<p>ä½¿ç”¨refcursorå…³é”®è¯å®šä¹‰çš„æ¸¸æ ‡å˜é‡</p>
<p>ä½¿ç”¨æ¸¸æ ‡å£°æ˜è¯­å¥å®šä¹‰æ¸¸æ ‡<br>æ¸¸æ ‡å	CURSOR [ ( arguments ) ] FOR query</p>
</blockquote>
<p>ä¾‹ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Declare</span></span><br><span class="line">curs	<span class="type">refcursor</span>;</span><br><span class="line">curStudent <span class="keyword">CURSOR</span> <span class="keyword">FOR</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student;</span><br><span class="line">curStudentOne <span class="keyword">CURSOR</span> (key <span class="type">integer</span>)  <span class="keyword">IS</span> </span><br><span class="line">            <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> SID = key;</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€æ¸¸æ ‡<br>ï¼ˆ1ï¼‰OPEN FOR:<br>æ‰“å¼€æœªç»‘å®šçš„æ¸¸æ ‡å˜é‡ï¼Œå…¶queryæŸ¥è¯¢è¯­å¥æ˜¯è¿”å›è®°å½•çš„SELECTè¯­å¥ã€‚ä¾‹å¦‚ï¼š </p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">OPEN</span> curVars1 <span class="keyword">FOR</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> SID = mykey;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰OPEN FOR EXECUTE</p>
<p>æ‰“å¼€æœªç»‘å®šçš„æ¸¸æ ‡å˜é‡ã€‚EXECUTEå°†åŠ¨æ€æ‰§è¡ŒæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">OPEN</span> curVars1 <span class="keyword">FOR</span> <span class="keyword">EXECUTE</span> <span class="string">&#x27;SELECT * FROM &#x27;</span> || quote_ident(<span class="meta">$1</span>);</span><br></pre></td></tr></table></figure>

<p>â€‹    æ³¨æ„ï¼š$1æ˜¯æŒ‡ç”±å­˜å‚¨è¿‡ç¨‹ä¼ é€’çš„ç¬¬1ä¸ªå‚æ•°ã€‚<br>ï¼ˆ3ï¼‰æ‰“å¼€ç»‘å®šæ¸¸æ ‡<br>ä»…é€‚ç”¨äºç»‘å®šçš„æ¸¸æ ‡å˜é‡ï¼Œåªæœ‰å½“è¯¥å˜é‡åœ¨å£°æ˜æ—¶åŒ…å«æ¥æ”¶å‚æ•°ï¼Œæ‰èƒ½ä»¥ä¼ é€’å‚æ•°çš„å½¢å¼æ‰“å¼€è¯¥æ¸¸æ ‡ï¼Œå‚æ•°å°†ä¼ å…¥åˆ°æ¸¸æ ‡å£°æ˜çš„æŸ¥è¯¢è¯­å¥ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">OPEN</span> curStudent;</span><br><span class="line"><span class="keyword">OPEN</span> curStudentOne (<span class="string">&#x27;20160230302001&#x27;</span>); </span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ¸¸æ ‡æå–å€¼<br>FETCHå‘½ä»¤ä»æ¸¸æ ‡ä¸­è¯»å–å½“å‰æŒ‡é’ˆæ‰€æŒ‡å‘è®°å½•çš„æ•°æ®åˆ°ç›®æ ‡ä¸­ã€‚å¯é€šè¿‡PL&#x2F;pgSQLå†…ç½®çš„ç³»ç»Ÿå˜é‡FOUNDæ¥åˆ¤æ–­è¯»å–æ˜¯å¦æˆåŠŸã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FETCH</span> curVars1 <span class="keyword">INTO</span> rowvar;  <span class="comment">--rowvarä¸ºè¡Œå˜é‡</span></span><br><span class="line"><span class="keyword">FETCH</span> curStudent <span class="keyword">INTO</span> SID, Sname, sex;</span><br></pre></td></tr></table></figure>

<p>â€‹    â€“è¯·æ³¨æ„ï¼šæ¸¸æ ‡çš„å±æ€§åˆ—å¿…é¡»ä¸ ç›®æ ‡åˆ—çš„æ•°é‡ä¸€è‡´ï¼Œå¹¶ä¸”ç±»å‹å…¼å®¹ã€‚<br>å…³é—­æ¸¸æ ‡<br>å½“æ¸¸æ ‡æ•°æ®ä¸å†éœ€è¦æ—¶ï¼Œéœ€è¦å…³é—­æ¸¸æ ‡ï¼Œä»¥é‡Šæ”¾å…¶å æœ‰çš„ç³»ç»Ÿèµ„æºï¼Œä¸»è¦æ˜¯é‡Šæ”¾æ¸¸æ ‡æ•°æ®æ‰€å ç”¨çš„å†…å­˜èµ„æº</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CLOSE</span> cursorName; </span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„ï¼šå½“æ¸¸æ ‡è¢«å…³é—­åï¼Œå¦‚æœéœ€è¦å†æ¬¡è¯»å–æ¸¸æ ‡çš„æ•°æ®ï¼Œéœ€è¦é‡æ–°ä½¿ç”¨openæ‰“å¼€æ¸¸æ ‡ï¼Œè¿™æ—¶æ¸¸æ ‡é‡æ–°æŸ¥è¯¢è¿”å›æ–°çš„ç»“æœã€‚</p>
<p>ä¾‹ï¼šåœ¨å‡½æ•°ä¸­ä½¿ç”¨æ¸¸æ ‡æŸ¥è¯¢studentè¡¨çš„å­¦å·ã€å­¦ç”Ÿå§“åå’Œæ€§åˆ«ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or replace</span> <span class="keyword">function</span> cursorDemo()</span><br><span class="line"><span class="keyword">returns</span> <span class="type">boolean</span> <span class="keyword">as</span> $$<span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">declare</span></span></span><br><span class="line"><span class="language-pgsql">	unbound_refcursor <span class="type">refcursor</span>;</span></span><br><span class="line"><span class="language-pgsql">	vsid <span class="type">varchar</span>;</span></span><br><span class="line"><span class="language-pgsql">	vsname <span class="type">varchar</span>;</span></span><br><span class="line"><span class="language-pgsql">	vsgender <span class="type">varchar</span>;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">begin</span></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">open</span> unbound_refcursor <span class="keyword">for</span> <span class="keyword">execute</span> <span class="string">&#x27;select sid,sname,sex from 	student&#x27;</span>;</span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">loop</span></span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">fetch</span> unbound_refcursor <span class="keyword">into</span> vsid,vsname,vsgender;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">if</span> <span class="built_in">found</span> <span class="keyword">then</span></span></span><br><span class="line"><span class="language-pgsql">			<span class="keyword">raise</span> <span class="keyword">notice</span> <span class="string">&#x27;%,%,%&#x27;</span>,vsid,vsname,vsgender;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">else</span></span></span><br><span class="line"><span class="language-pgsql">			<span class="keyword">exit</span>;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">end</span> <span class="keyword">if</span>;</span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">end</span> <span class="keyword">loop</span>;</span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">close</span> unbound_refcursor;</span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">raise</span> <span class="keyword">notice</span> <span class="string">&#x27;å–æ•°æ®å¾ªç¯ç»“æŸ...&#x27;</span>;</span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="language-pgsql"><span class="keyword">end</span>;</span></span><br><span class="line"><span class="language-pgsql">$$</span> <span class="keyword">language</span> plpgsql;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> cursorDemo();</span><br></pre></td></tr></table></figure>

<p>ä¾‹ï¼šç¼–å†™å¸¦å‚æ•°çš„æ¸¸æ ‡å‡½æ•°ï¼Œä»æˆç»©è¡¨ä¸­æŸ¥è¯¢åˆ†æ•°å¤§äºæŸç»™å®šå€¼çš„å­¦å·å’Œè¯¾ç¨‹å·ã€‚</p>
<figure class="highlight postgresql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or replace</span> <span class="keyword">function</span> cusorGrade(myscore <span class="type">int</span>)<span class="keyword">returns</span> <span class="type">void</span> <span class="keyword">as</span> $$<span class="language-pgsql"></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">declare</span></span></span><br><span class="line"><span class="language-pgsql">		vstuscore Grade<span class="meta">%ROWTYPE</span>;		<span class="comment">--å£°æ˜ä¸è¡¨Gradeç»“æ„ç›¸åŒçš„è¡Œå˜é‡</span></span></span><br><span class="line"><span class="language-pgsql">		vstucursor <span class="keyword">cursor</span>(invalue <span class="type">int</span>)</span></span><br><span class="line"><span class="language-pgsql">			<span class="keyword">for</span> <span class="keyword">select</span> courseid,studentid,grade <span class="keyword">from</span> Grade <span class="keyword">where</span> 	grade&gt;=invalue <span class="keyword">order</span> <span class="keyword">by</span></span></span><br><span class="line"><span class="language-pgsql">studentid;								<span class="comment">--å£°æ˜å¸¦æœ‰è¾“å…¥å‚æ•°çš„æ¸¸æ ‡</span></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">begin</span></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">open</span> vstucursor (myscore);			<span class="comment">--æ‰“å¼€å¸¦æœ‰å‚æ•°çš„æ¸¸æ ‡</span></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">loop</span></span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">fetch</span> vstucursor <span class="keyword">into</span> vstuscore;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">exit</span> <span class="keyword">when</span> <span class="keyword">not</span> <span class="built_in">found</span> ;			<span class="comment">--å‡å¦‚æ²¡æœ‰æ£€ç´¢åˆ°è®°å½•ï¼Œç»“æŸå¾ªç¯å¤„ç†</span></span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">raise</span> <span class="keyword">notice</span> <span class="string">&#x27;%,%,%&#x27;</span>, vstuscore.studentid,vstuscore.courseid,vstuscore.grade;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">end</span> <span class="keyword">loop</span>;</span></span><br><span class="line"><span class="language-pgsql">		<span class="keyword">close</span> vstucursor ;				<span class="comment">--å…³é—­æ¸¸æ ‡</span></span></span><br><span class="line"><span class="language-pgsql">	<span class="keyword">end</span>;</span></span><br><span class="line"><span class="language-pgsql">$$</span> <span class="keyword">language</span> plpgsql;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨çš„åŒºåˆ«æœ‰:å­˜å‚¨è¿‡ç¨‹å¯ä»¥é‡‡ç”¨è¾“å…¥å‚æ•°è€Œè§¦å‘å™¨ä¸å¯ä»¥</p>
</li>
<li><p>HTMLè¯­å¥å’ŒJSPè¯­å¥éƒ½æ˜¯ä¸‹è½½åˆ°æµè§ˆå™¨ç«¯æ¥æ‰§è¡Œã€‚X</p>
<p>  å‡¡æ˜¯ä½¿ç”¨åˆ°äº†javaä¸­çš„è¯­è¨€éƒ¨åˆ†ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œï¼Œè§£æåè¿”å›å®¢æˆ·ç«¯å½¢æˆæ ‡å‡†çš„html</p>
</li>
</ul>
<p>JavaåµŒå…¥SQLè¯­å¥æ‰§è¡Œåï¼Œè¿”å›ç»“æœå­˜å‚¨åœ¨ä»€ä¹ˆå¯¹è±¡ä¸­ï¼šResultSet</p>
<p>JavaåµŒå…¥SQLè¯­å¥ï¼Œèƒ½ä¼ é€’åŠ¨æ€å‚æ•°æ‰§è¡ŒSQLè¯­å¥æŸ¥è¯¢çš„æ˜¯ä»€ä¹ˆæ¥å£ï¼šPreparedStatement</p>
<p>JavaåµŒå…¥SQLè¯­å¥ï¼Œèƒ½è°ƒç”¨æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹çš„æ˜¯ä»€ä¹ˆæ¥å£ï¼šCallableStatement</p>
<p>ä»æ¸¸æ ‡ä¸­è¯»å–æ•°æ®ï¼Œä½¿ç”¨ä»€ä¹ˆå‘½ä»¤ï¼šfetch</p>
<h2 id="ç¬¬ä¸ƒç« -NoSQLæ•°æ®åº“æŠ€æœ¯"><a href="#ç¬¬ä¸ƒç« -NoSQLæ•°æ®åº“æŠ€æœ¯" class="headerlink" title="ç¬¬ä¸ƒç«  NoSQLæ•°æ®åº“æŠ€æœ¯"></a>ç¬¬ä¸ƒç«  NoSQLæ•°æ®åº“æŠ€æœ¯</h2><p>å…³ç³»æ•°æ®åº“å±€é™</p>
<blockquote>
<p>ä¸èƒ½ç›´æ¥ç®¡ç†éç»“æ„åŒ–æ•°æ®</p>
<p>å—å•æœºæœåŠ¡å™¨é™åˆ¶éš¾ä»¥æ”¯æŒæ•°æ®åº“é«˜å¹¶å‘è¯»å†™è®¿é—®</p>
<p>å—ç£ç›˜å®¹é‡é™åˆ¶ä¸èƒ½æ»¡è¶³æµ·é‡æ•°æ®çš„é«˜æ•ˆå­˜å‚¨å’Œå¤„ç†</p>
<p>éš¾ä»¥å®ç°åˆ†å¸ƒå¼æ•°æ®åº“çš„é«˜æ‰©å±•æ€§ã€é«˜å¯ç”¨æ€§</p>
</blockquote>
<p><strong>å¤§æ•°æ®</strong>(big data)ï¼ŒæŒ‡æ— æ³•åœ¨ä¸€å®šæ—¶é—´èŒƒå›´å†…ç”¨å¸¸è§„è½¯ä»¶å·¥å…·è¿›è¡Œæ•æ‰ã€ç®¡ç†å’Œå¤„ç†çš„æ•°æ®é›†åˆã€‚</p>
<h3 id="5Vç‰¹å¾"><a href="#5Vç‰¹å¾" class="headerlink" title="5Vç‰¹å¾"></a>5Vç‰¹å¾</h3><ul>
<li>å¤§é‡(Volume)</li>
<li>é«˜é€Ÿæ€§(Velocity)</li>
<li>å¤šæ ·æ€§ï¼ˆ(Variety)</li>
<li>çœŸå®æ€§(Veracity)</li>
<li>ä½ä»·å€¼(Value)</li>
</ul>
<p>(Not only SQL Databaseï¼Œ<strong>NoSQL</strong>ï¼‰æ˜¯æŒ‡ä¸€ç±»éå…³ç³»å‹ã€å¼€æºä»£ç ã€å…·æœ‰æ°´å¹³æ‰©å±•èƒ½åŠ›çš„åˆ†å¸ƒå¼æ•°æ®åº“ã€‚</p>
<p>NoSQLæ•°æ®åº“çš„å…¬å…±ç‰¹æ€§:</p>
<blockquote>
<p>æ”¯æŒéç»“æ„åŒ–æ•°æ®å­˜å‚¨ï¼Œä¸ç”¨é¢„å…ˆå®šä¹‰æ¨¡å¼<br>åˆ†å¸ƒå¼é›†ç¾¤æ¶æ„ï¼Œæ— å…±äº«ç»“æ„<br>å¼¹æ€§å¯æ‰©å±•ï¼Œå¯åŠ¨æ€å¢å‡æ•°æ®åº“ç»“ç‚¹æ•°æ®åˆ†åŒºå­˜å‚¨ï¼Œå„åˆ†åŒºç»“ç‚¹å¹¶å‘è®¿é—®<br>ç»“ç‚¹ä¹‹é—´æ•°æ®å¼‚æ­¥å¤åˆ¶ï¼Œå®ç°æœ€ç»ˆæ•°æ®ä¸€è‡´æ€§<br>æ•°æ®å¤„ç†éµå¾ªBASEç‰¹æ€§åŸåˆ™</p>
</blockquote>
<h3 id="BASEç‰¹æ€§"><a href="#BASEç‰¹æ€§" class="headerlink" title="BASEç‰¹æ€§"></a>BASEç‰¹æ€§</h3><p>Basically Availableï¼ˆ<strong>åŸºæœ¬å¯ç”¨</strong>ï¼‰ï¼Œå…è®¸æ•°æ®åº“ç³»ç»ŸæŸäº›èŠ‚ç‚¹å‡ºç°æ•…éšœï¼Œå…¶ä½™èŠ‚ç‚¹èƒ½å¤Ÿç»§ç»­è¿è¡Œï¼Œä¸€ç›´æä¾›æœåŠ¡ã€‚<br>Soft state(<strong>è½¯çŠ¶æ€</strong>ï¼‰ï¼Œå…è®¸æ•°æ®åº“ç³»ç»Ÿå‰¯æœ¬èŠ‚ç‚¹ä¹‹é—´å­˜åœ¨æš‚æ—¶çš„æ•°æ®ä¸ä¸€è‡´ï¼Œç»è¿‡çº é”™å¤„ç†ï¼Œç³»ç»Ÿæ•°æ®æœ€ç»ˆä¿æŒä¸€è‡´æ€ã€‚<br>Eventual Consistency(<strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼‰ï¼Œç³»ç»Ÿæ•°æ®åœ¨æŸä¸ªæ—¶åˆ»è¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ã€‚</p>
<p>åˆ†å¸ƒå¼æ•°æ®åº“ä¸€è‡´æ€§</p>
<blockquote>
<p>å¼ºä¸€è‡´æ€§:æ— è®ºæ›´æ–°æ“ä½œåœ¨å“ªä¸€ä¸ªå‰¯æœ¬æ‰§è¡Œï¼Œæ•°æ®å¤åˆ¶å¿…é¡»åŒæ­¥å®Œæˆã€‚</p>
<p>å¼±ä¸€è‡´æ€§:æ•°æ®æ›´æ–°åï¼Œå…¶æ•°æ®å¤åˆ¶æ˜¯å¼‚æ­¥å®Œæˆï¼Œéœ€è¦ç»è¿‡ä¸€å®šæ—¶é—´æ‰èƒ½è¾¾åˆ°ä¸åŒæ•°æ®åº“ç»“ç‚¹æ•°æ®ä¸€è‡´ã€‚</p>
<p>æœ€ç»ˆä¸€è‡´æ€§:å¼±ä¸€è‡´æ€§çš„ä¸€ç§ç‰¹ä¾‹ï¼Œä¿è¯ç”¨æˆ·æœ€ç»ˆèƒ½å¤Ÿè¯»å–åˆ°æ›´æ–°æ•°æ®ã€‚</p>
</blockquote>
<p>NoSQLæ•°æ®åº“å…¸å‹ç±»å‹ï¼š<br><strong>é”®å€¼æ•°æ®åº“</strong>ã€<strong>å›¾æ•°æ®åº“</strong>ã€<strong>åˆ—å¼æ•°æ®åº“</strong>ã€<strong>æ–‡æ¡£æ•°æ®åº“</strong>ã€‚</p>
<p>NoSQLæ•°æ®åº“ä¸å…³ç³»æ•°æ®åº“æ¯”è¾ƒ</p>
<blockquote>
<p>NoSQLæ•°æ®åº“é‡‡ç”¨éç»“æ„åŒ–æ•°æ®å­˜å‚¨æ¨¡å‹ï¼Œå…³ç³»æ•°æ®åº“é‡‡ç”¨ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ¨¡å‹<br>NoSQLæ•°æ®åº“é‡‡ç”¨åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œå…³ç³»æ•°æ®åº“ä¸€èˆ¬é‡‡ç”¨é›†ä¸­å¼éƒ¨ç½²<br>NoSQLæ•°æ®åº“ç¼–ç¨‹éµå¾ªBASEåŸåˆ™ï¼Œå…³ç³»æ•°æ®åº“ç¼–ç¨‹éµå¾ªACIDäº‹åŠ¡åŸåˆ™<br>NoSQLæ•°æ®åº“æ²¡æœ‰ç»Ÿä¸€çš„æ•°æ®æ“ä½œæ ‡å‡†ï¼Œå…³ç³»æ•°æ®åº“éµå¾ªSQLæ•°æ®æ“ä½œæ ‡å‡†<br>NoSQLæ•°æ®åº“æ”¯æŒæµ·é‡æ•°æ®å­˜å‚¨ï¼Œå…³ç³»æ•°æ®åº“æ•°æ®å­˜å‚¨å—é™äºTBçº§</p>
</blockquote>
<h3 id="CAP"><a href="#CAP" class="headerlink" title="CAP"></a>CAP</h3><p><strong>ä¸€è‡´æ€§</strong>(Consistencyï¼‰ :ä¸åŒç»“ç‚¹æ•°æ®åº“ä¿æŒä¸€è‡´<br><strong>å¯ç”¨æ€§</strong>(Availability) ï¼šæ•°æ®è®¿é—®è¯·æ±‚éšæ—¶å¯æ»¡è¶³<br><strong>åˆ†åŒºå®¹å¿æ€§</strong>(PartitionTolerance) ï¼šå½“å‡ºç°æ•…éšœç»“ç‚¹ï¼Œç³»ç»Ÿä»èƒ½å“åº”æ•°æ®è®¿é—®è¯·æ±‚</p>
<p>CAPå®šç†æ³•åˆ™:</p>
<p>ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§(C:Consistency)ã€å¯ç”¨æ€§(A: Availability)ï¼‰å’Œåˆ†åŒºå®¹é”™æ€§(P:Partition tolerance)è¿™ä¸‰ä¸ªåŸºæœ¬éœ€æ±‚ï¼Œæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³å…¶ä¸­ä¸¤é¡¹ã€‚</p>
<p>CAâ€”â€”æ”¾å¼ƒåˆ†åŒºå®¹é”™æ€§ï¼Œä¿è¯ä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Œå³ä¼ ç»Ÿçš„å•æœºæ•°æ®åº“å¤„ç†æ–¹å¼ã€‚<br>APâ€”â€”æ”¾å¼ƒå¼ºä¸€è‡´æ€§ï¼Œè¿½æ±‚åˆ†åŒºå®¹é”™æ€§å’Œå¯ç”¨æ€§ï¼Œè¿™æ˜¯å¾ˆå¤šåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ—¶çš„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ç”µå•†ç³»ç»Ÿé‡‡ç”¨æ­¤æ–¹æ¡ˆã€‚<br>CPâ€”â€”æ”¾å¼ƒå¯ç”¨æ€§ï¼Œè¿½æ±‚ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™æ€§ã€‚ä¾‹å¦‚ï¼Œå¾ˆå¤šNoSQLç³»ç»Ÿé‡‡ç”¨è¿™ç§æ–¹æ¡ˆã€‚</p>
<h3 id="å››ç§NoSQL"><a href="#å››ç§NoSQL" class="headerlink" title="å››ç§NoSQL"></a>å››ç§NoSQL</h3><p><strong>åˆ—å­˜å‚¨æ•°æ®åº“</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_14-03-31.png"></p>
<p>å…³ç³»æ•°æ®åº“:æŒ‰è¡Œå­˜å‚¨ï¼Œæ¯è¡Œæ•°æ®å­˜æ”¾åœ¨ä¸€ä¸ªç£ç›˜æ•°æ®å—</p>
<p>åˆ—å­˜å‚¨æ•°æ®åº“:æŒ‰åˆ—å­˜å‚¨ï¼Œæ¯åˆ—æ•°æ®æ”¾åˆ°ä¸€ä¸ªæ•°æ®å—ä¸­</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_14-03-42.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_14-04-53.png"></p>
<p><strong>é”®å€¼æ•°æ®åº“</strong>(Key-Value Databaseï¼‰æ˜¯ä¸€ç§æŒ‰ç…§é”®å€¼æ•°æ®è¡¨ç»“æ„ç»„ç»‡å­˜å‚¨æ•°æ®çš„å†…å­˜æ•°æ®åº“ã€‚ä»£è¡¨<strong>Redis</strong>ã€‚</p>
<p><strong>æ–‡æ¡£æ•°æ®åº“</strong>ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_14-05-22.png"></p>
<p><strong>å›¾å½¢æ•°æ®åº“</strong></p>
<p>ä»£è¡¨ï¼šNeo4jå›¾å½¢æ•°æ®åº“</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-06_14-05-37.png"></p>
<p><strong>NoSQLæ•°æ®åº“çš„å››å¤§åˆ†ç±»è¡¨æ ¼åˆ†æ</strong></p>
<table>
<thead>
<tr>
<th align="center">åˆ†ç±»</th>
<th align="center">Examplesä¸¾ä¾‹</th>
<th align="center">å…¸å‹åº”ç”¨åœºæ™¯</th>
<th align="center">æ•°æ®æ¨¡å‹</th>
<th align="center">ä¼˜ç‚¹</th>
<th align="center">ç¼ºç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td align="center">é”®å€¼ï¼ˆkey-valueï¼‰</td>
<td align="center">Redis</td>
<td align="center">å†…å®¹ç¼“å­˜ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤§é‡æ•°æ®çš„é«˜è®¿é—®è´Ÿè½½ï¼Œä¹Ÿç”¨äºä¸€äº›æ—¥å¿—ç³»ç»Ÿç­‰ç­‰ã€‚</td>
<td align="center">Key æŒ‡å‘ Value çš„é”®å€¼å¯¹ï¼Œé€šå¸¸ç”¨hash tableæ¥å®ç°</td>
<td align="center">æŸ¥æ‰¾é€Ÿåº¦å¿«</td>
<td align="center">æ•°æ®æ— ç»“æ„åŒ–ï¼Œé€šå¸¸åªè¢«å½“ä½œå­—ç¬¦ä¸²æˆ–è€…äºŒè¿›åˆ¶æ•°æ®</td>
</tr>
<tr>
<td align="center">åˆ—å­˜å‚¨æ•°æ®åº“</td>
<td align="center">Cassandra, HBase</td>
<td align="center">åˆ†å¸ƒå¼çš„æ–‡ä»¶ç³»ç»Ÿ</td>
<td align="center">ä»¥åˆ—ç°‡å¼å­˜å‚¨ï¼Œå°†åŒä¸€åˆ—æ•°æ®å­˜åœ¨ä¸€èµ·</td>
<td align="center">æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œå¯æ‰©å±•æ€§å¼ºï¼Œæ›´å®¹æ˜“è¿›è¡Œåˆ†å¸ƒå¼æ‰©å±•</td>
<td align="center">åŠŸèƒ½ç›¸å¯¹å±€é™</td>
</tr>
<tr>
<td align="center">æ–‡æ¡£å‹æ•°æ®åº“</td>
<td align="center">CouchDB, MongoDB</td>
<td align="center">Webåº”ç”¨ï¼ˆä¸Key-Valueç±»ä¼¼ï¼ŒValueæ˜¯ç»“æ„åŒ–çš„ï¼Œä¸åŒçš„æ˜¯æ•°æ®åº“èƒ½å¤Ÿäº†è§£Valueçš„å†…å®¹ï¼‰</td>
<td align="center">Key-Valueå¯¹åº”çš„é”®å€¼å¯¹ï¼ŒValueä¸ºç»“æ„åŒ–æ•°æ®</td>
<td align="center">æ•°æ®ç»“æ„è¦æ±‚ä¸ä¸¥æ ¼ï¼Œè¡¨ç»“æ„å¯å˜ï¼Œä¸éœ€è¦åƒå…³ç³»å‹æ•°æ®åº“ä¸€æ ·éœ€è¦é¢„å…ˆå®šä¹‰è¡¨ç»“æ„</td>
<td align="center">æŸ¥è¯¢æ€§èƒ½ä¸é«˜ï¼Œè€Œä¸”ç¼ºä¹ç»Ÿä¸€çš„æŸ¥è¯¢è¯­æ³•ã€‚</td>
</tr>
<tr>
<td align="center">å›¾å½¢(Graph)æ•°æ®åº“</td>
<td align="center">Neo4J</td>
<td align="center">ç¤¾äº¤ç½‘ç»œï¼Œæ¨èç³»ç»Ÿç­‰ã€‚ä¸“æ³¨äºæ„å»ºå…³ç³»å›¾è°±</td>
<td align="center">å›¾ç»“æ„</td>
<td align="center">åˆ©ç”¨å›¾ç»“æ„ç›¸å…³ç®—æ³•ã€‚æ¯”å¦‚æœ€çŸ­è·¯å¾„å¯»å€ï¼ŒNåº¦å…³ç³»æŸ¥æ‰¾ç­‰</td>
<td align="center">å¾ˆå¤šæ—¶å€™éœ€è¦å¯¹æ•´ä¸ªå›¾åšè®¡ç®—æ‰èƒ½å¾—å‡ºéœ€è¦çš„ä¿¡æ¯ï¼Œè€Œä¸”è¿™ç§ç»“æ„ä¸å¤ªå¥½åšåˆ†å¸ƒå¼çš„é›†ç¾¤æ–¹æ¡ˆã€‚</td>
</tr>
</tbody></table>
<p>ä»¥ä¸‹å“ªä¸€é¡¹ä¸æ˜¯NoSQLçš„å…±åŒç‰¹å¾?(D)</p>
<p>Aï¼åˆ†åŒº Bï¼å¼‚æ­¥å¤åˆ¶	C. BASE	D.CAP</p>
<p>åœ¨Neo4Jé›†ç¾¤ä¸­ï¼Œæ•°æ®çš„å†™å…¥æ˜¯é€šè¿‡ä¸»æœåŠ¡å™¨æ¥å®Œæˆçš„ï¼Œæ•°æ®çš„è¯»å–å¯ä»¥é€šè¿‡é›†ç¾¤ä¸­çš„ä»»æ„ä¸€ä¸ªNeo4Jå®ä¾‹æ¥å®Œæˆã€‚æ­£ç¡®ï¼ï¼</p>
<p><strong>æ•°æ®åº“ç³»ç»Ÿé¢ä¸´çš„æŒ‘æˆ˜</strong>ï¼šæ•°æ®åº“é«˜å¹¶å‘è¯»å†™éœ€æ±‚ï¼›æµ·é‡æ•°æ®çš„é«˜æ•ˆå­˜å‚¨å’Œå¤„ç†ï¼›æ•°æ®åº“é«˜æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§éœ€æ±‚ï¼›æ•°æ®åº“åœ¨å¤§æ•°æ®å¤„ç†æ–¹é¢çš„è¦æ±‚</p>
<p>ä»¥ä¸‹å“ªä¸€é¡¹ä¸æ˜¯å¤§æ•°æ®çš„ç‰¹å¾ï¼Ÿé«˜å¯†é›†ä»·å€¼æ•°æ®ã€‚ï¼ˆæ˜¯çš„æœ‰ï¼šé«˜é€Ÿäº§ç”Ÿã€è§„æ¨¡å·¨å¤§ï¼Œå¤šæ ·æ€§ï¼‰</p>
<p>HBASEä¸­è¡¨å’ŒåŒºåŸŸçš„å…³ç³»å¯ä»¥æ˜¯ä»€ä¹ˆï¼š1ï¼šN</p>
<p>ä»¥ä¸‹å“ªä¸€é¡¹ä¸æ˜¯MongoDBä¿ç•™æ•°æ®åº“ï¼šsystemï¼Œï¼ˆæ˜¯çš„æœ‰ï¼šlocalã€adminã€configï¼‰</p>
<p>CAPæ˜¯åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹è®¾è®¡å’Œéƒ¨ç½²ç³»ç»Ÿæ—¶çš„3ä¸ªæ ¸å¿ƒéœ€æ±‚ã€‚æ­£ç¡®ï¼ï¼</p>
<p>Rediså¤åˆ¶ä¸»è¦åŒ…æ‹¬RDBå¤åˆ¶å’ŒAOFå¤åˆ¶ã€‚æ­£ç¡®ï¼ï¼</p>
<p>HBASEä¸­çš„åŒºåŸŸå’Œè¡¨çš„å…³ç³»æ˜¯éšç€æ•°æ®çš„å¢åŠ åŠ¨æ€å˜åŒ–çš„ã€‚æ­£ç¡®ï¼ï¼</p>
<p>MongoDBçš„åˆ†ç‰‡æ˜¯å°†ä¸€ä¸ªé›†åˆçš„æ•°æ®åˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šå‡è½»å•æœºå‹åŠ›ã€‚é”™è¯¯</p>
<p>Neo4jçš„æ•°æ®ç‰©ç†å­˜å‚¨ä¸»è¦åˆ†ä¸ºèŠ‚ç‚¹ã€å…³ç³»ã€èŠ‚ç‚¹æˆ–å…³ç³»ä¸Šå±æ€§è¿™ä¸‰ç±»æ•°æ®å­˜å‚¨ã€‚ï¼é”™è¯¯</p>
<p>NoSQLæ•°æ®åº“åˆ†ç±»çš„ä¾æ®æ˜¯å¯¹æ•°æ®çš„æ“ä½œæ–¹å¼ã€‚é”™è¯¯</p>
<p>Redisæ•°æ®åº“çš„åº•å±‚å®ç°æ˜¯å­—å…¸ï¼Œå¯¹äºæ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥æ“ä½œéƒ½æ˜¯é€šè¿‡å¯¹å­—å…¸è¿›è¡Œæ“ä½œæ¥å®ç°çš„ã€‚æ­£ç¡®ï¼ï¼</p>
<p>HBASEä¸­è¡¨å®šä¹‰ä¸­è¦è¯´æ˜è¡Œå¥å’Œè¡¨ä¸­åŒ…å«çš„åˆ—æ—ï¼Œåˆ—ä¸ç”¨å®šä¹‰ã€‚æ­£ç¡®ï¼ï¼</p>
<p>MongoDBå¤æ‚æ–‡æ¡£æ¨¡å‹è®¾è®¡å¯ä»¥ä½¿ç”¨å†…åµŒå’Œå¼•ç”¨çš„æ–¹æ³•æ¥è§£å†³ã€‚æ­£ç¡®ï¼ï¼</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>æ•°æ®åº“</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”µå¤§è½¯ä»¶æµ‹è¯•ï½ç¬¬ä¸‰æ¬¡ä½œä¸š</title>
    <url>/2023/06/01/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/test3/</url>
    <content><![CDATA[<h2 id="ç¬¬ä¸‰æ¬¡ä½œä¸š"><a href="#ç¬¬ä¸‰æ¬¡ä½œä¸š" class="headerlink" title="ç¬¬ä¸‰æ¬¡ä½œä¸š"></a>ç¬¬ä¸‰æ¬¡ä½œä¸š</h2><h3 id="ç¬¬ä¸€é¢˜"><a href="#ç¬¬ä¸€é¢˜" class="headerlink" title="ç¬¬ä¸€é¢˜"></a>ç¬¬ä¸€é¢˜</h3><p>é‡‡ç”¨JUnitè½¯ä»¶æµ‹è¯•æ¡†æ¶è¿›è¡Œæµ‹è¯•ç¨‹åºç¼–ç¨‹ï¼Œå®ç°å¯¹ä¸‹é¢javaç¨‹åºè¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œæ‰¾å‡ºå…¶ä¸­ç¼ºé™·ã€‚ç„¶åä¿®æ”¹ç¼ºé™·ï¼Œç›´åˆ°é€šè¿‡å•å…ƒæµ‹è¯•ï¼Œç»™å‡ºæµ‹è¯•ç¨‹åºè„šæœ¬å’Œè¿è¡Œç»“æœç•Œé¢ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">getMax</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get_max</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">	<span class="type">int</span> max;</span><br><span class="line">	<span class="keyword">if</span> (x &gt;= y) </span><br><span class="line">		max = x;</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">		max = y;</span><br><span class="line">	<span class="keyword">if</span> (z &gt;= x)</span><br><span class="line">		max = z;</span><br><span class="line">	<span class="keyword">return</span> max;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç­”ï¼š</p>
<p>æµ‹è¯•ç¨‹åºè„šæœ¬ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Assert;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> junit.framework.TestCase;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">getMaxTest</span> <span class="keyword">extends</span> <span class="title class_">TestCase</span> &#123;</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">       getMax Max=<span class="keyword">new</span> <span class="title class_">getMax</span>();</span><br><span class="line">       <span class="type">int</span> max= Max.get_max(<span class="number">7</span>,<span class="number">9</span>,<span class="number">8</span>);</span><br><span class="line">       Assert.assertEquals(<span class="number">9</span>,max);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Before</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@After</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹æ˜¯è¿è¡Œç»“æœï¼Œå‘ç°ä»£ç æœ‰ç¼ºé™·ï¼šzå¦‚æœæ¯”xå¤§ï¼Œä½†æ¯”yå°ï¼Œç¨‹åºä¼šè¾“å‡ºzï¼Œè€Œå®é™…æƒ…å†µæ˜¯yæœ€å¤§ã€‚</p>
<p><a href="https://imgse.com/i/p9zYRRP"><img src="https://s1.ax1x.com/2023/06/01/p9zYRRP.png" alt="p9zYRRP.png" border="0" /></a></p>
<p>ä¿®æ”¹ç¼ºé™·ï¼Œä»¥ä¸‹æ˜¯ä¿®æ”¹åçš„æºç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">getMax</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get_max</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">	<span class="type">int</span> max;</span><br><span class="line">	<span class="keyword">if</span> (x &gt;= y) </span><br><span class="line">		max = x;</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">		max = y;</span><br><span class="line">	<span class="keyword">if</span> (z &gt;= max)</span><br><span class="line">		max = z;</span><br><span class="line">	<span class="keyword">return</span> max;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em><strong>å…¶å®å°±æ˜¯å°†å…¶ä¸­ä¸€ä¸ªxæ”¹æˆmax</strong></em></p>
<p>ä»¥ä¸‹æ˜¯å•å…ƒæµ‹è¯•é€šè¿‡çš„ç•Œé¢ï¼š</p>
<p><a href="https://imgse.com/i/p9zYoZQ"><img src="https://s1.ax1x.com/2023/06/01/p9zYoZQ.png" alt="p9zYoZQ.png" border="0" /></a></p>
<p>ç¼ºé™·ä¿®æ”¹æˆåŠŸã€‚</p>
<h3 id="ç¬¬äºŒé¢˜"><a href="#ç¬¬äºŒé¢˜" class="headerlink" title="ç¬¬äºŒé¢˜"></a>ç¬¬äºŒé¢˜</h3><p>é‡‡ç”¨Postmanæ¥å£æµ‹è¯•è½¯ä»¶å¯¹ç™¾åº¦ç™¾ç§‘<a href="https://baike.baidu.com/">https://baike.baidu.com/</a>æœç´¢å¼•æ“è¿›è¡Œæ¥å£æµ‹è¯•ã€‚å¦‚å¯¹è¯æ¡â€œè½¯ä»¶å·¥ç¨‹â€è¿”å›é¡µé¢å†…å®¹è¿›è¡Œæµ‹è¯•éªŒè¯ï¼Œç»™å‡ºè¯·æ±‚å‚æ•°è®¾ç½®ã€Testsè„šæœ¬ã€Bodyå“åº”ç»“æœã€Test Resultsç»“æœè¯´æ˜åŠè¿è¡Œç•Œé¢ã€‚</p>
<hr>
<p>ä»¥ä¸‹æ˜¯ç¬”è€…çš„åˆ†æè¿‡ç¨‹ï¼š</p>
<p>â€‹	åœ¨ç™¾åº¦ç™¾ç§‘é¡µé¢æœç´¢è½¯ä»¶å·¥ç¨‹ï¼Œå¾—åˆ°çš„ç½‘å€å¦‚ä¸‹ï¼š</p>
<p><a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/25279?fromModule=lemma_search-box">https://baike.baidu.com/item/è½¯ä»¶å·¥ç¨‹/25279?fromModule=lemma_search-box</a></p>
<p>å¦‚æœæ˜¯å¸¸è§„çš„getè¯·æ±‚ï¼ˆå¤§å¤šæ•°é¡¹ç›®å¼€å‘è€…ä¼šè¿™æ ·è®¾ç½®)ï¼Œåœ¨urlé‡Œé¢åº”è¯¥æœ‰<u>?word&#x3D;è½¯ä»¶å·¥ç¨‹</u>çš„å­—ç¬¦ä¸²ï¼ˆä¸ä¸€å®šæ˜¯wordè¿™ä¸ªå•è¯ï¼Œä¸¾è¿™ä¸ªä¾‹å­è¡¨ç¤ºå½¢å¦‚è¿™ä¸ªurlï¼‰ï¼Œä½†æ˜¯è¯¥é“¾æ¥å¹¶ä¸å¦‚æ­¤ã€‚</p>
<p>â€‹	äºæ˜¯çŒœæµ‹æ˜¯postè¯·æ±‚ï¼ŒF12æ‰“å¼€å¼€å‘è€…å·¥å…·å¯¹è¾“å…¥æ¡†è¿›è¡Œåˆ†æï¼Œå‘ç°å®ƒåœ¨formè¡¨å•é‡Œï¼Œåˆæ­¥æ–­å®šæ˜¯postè¯·æ±‚ï¼Œä½†æ˜¯è¿™ä¸ªè¡¨å•ä¸æ˜¯å‘å½“å‰ç½‘å€æäº¤çš„ï¼Œè¡¨å•çš„actionå±æ€§æ˜¯&#x2F;seach&#x2F;wordï¼Œæ‰€ä»¥è¯·æ±‚çš„urlåº”è¯¥æ˜¯å…¶å¯¹åº”çš„ç»å¯¹è·¯å¾„ï¼ˆè¿˜å¾—æ‹ä¸ªå¼¯ğŸ¥ºï¼‰ï¼Œä¸º<a href="https://baike.baidu.com/search/word">https://baike.baidu.com/search/word</a></p>
<p><a href="https://imgse.com/i/p9zUnPA"><img src="https://s1.ax1x.com/2023/06/01/p9zUnPA.png" alt="p9zUnPA.png" border="0" /></a></p>
<p><a href="https://imgse.com/i/p9zalWR"><img src="https://s1.ax1x.com/2023/06/01/p9zalWR.png" alt="p9zalWR.png" border="0"></a></p>
<p>â€‹	è¿˜è¦æ³¨æ„åˆ°è¡¨å•çš„methodæ˜¯GETæ–¹æ³•ï¼Œäºæ˜¯æˆ‘å¤§èƒ†çš„çŒœæµ‹getæ–¹æ³•ä¹Ÿå¯ä»¥ï¼Œç»è¿‡postmanæµ‹è¯•ï¼Œç”¨getæ–¹æ³•å‘<a href="https://baike.baidu.com/search">https://baike.baidu.com/search</a>ä¹Ÿå¯ä»¥è¾¾åˆ°é¢„æœŸç›®æ ‡ã€‚</p>
<p><a href="https://imgse.com/i/p9za3S1"><img src="https://s1.ax1x.com/2023/06/01/p9za3S1.png" alt="p9za3S1.png" border="0"></a></p>
<hr>
<p>ç­”ï¼š</p>
<p>è¯·æ±‚å‚æ•°è®¾ç½®</p>
<blockquote>
<p>URLï¼š<a href="https://baike.baidu.com/search/word">https://baike.baidu.com/search/word</a></p>
<p>Method: post</p>
<p>Bodyï¼š</p>
<p>â€‹	é”®ï¼šword	å€¼ï¼šè½¯ä»¶å·¥ç¨‹</p>
</blockquote>
<p>æˆ–è€…</p>
<blockquote>
<p>URLï¼š<a href="https://baike.baidu.com/search">https://baike.baidu.com/search</a></p>
<p>Methodï¼šGET</p>
<p>å‚æ•°ï¼š</p>
<p>â€‹	é”®ï¼šword	å€¼ï¼šè½¯ä»¶å·¥ç¨‹</p>
</blockquote>
<p>Testsè„šæœ¬</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">pm.<span class="title function_">test</span>(<span class="string">&quot;Status code is 200&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    pm.<span class="property">response</span>.<span class="property">to</span>.<span class="property">have</span>.<span class="title function_">status</span>(<span class="number">200</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">pm.<span class="title function_">test</span>(<span class="string">&quot;Response body is not empty&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    pm.<span class="property">response</span>.<span class="property">to</span>.<span class="property">have</span>.<span class="title function_">body</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">pm.<span class="title function_">test</span>(<span class="string">&quot;The response contains the word &#x27;è½¯ä»¶å·¥ç¨‹&#x27;&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    pm.<span class="title function_">expect</span>(pm.<span class="property">response</span>.<span class="title function_">text</span>()).<span class="property">to</span>.<span class="title function_">include</span>(<span class="string">&quot;è½¯ä»¶å·¥ç¨‹&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Bodyå“åº”ç»“æœ</p>
<p>æŠŠä½ æ“ä½œç•Œé¢çš„bodyå¤åˆ¶ä¸‹æ¥å°±å¯ä»¥å•¦~å†…å®¹æœ‰å¾ˆå¤šï¼ˆæ¯•ç«Ÿæ˜¯ç™¾åº¦çš„ç¨‹åºå‘˜ğŸ˜ï¼‰</p>
<p>Test Resultsç»“æœ</p>
<p><a href="https://imgse.com/i/p9za5pn"><img src="https://s1.ax1x.com/2023/06/01/p9za5pn.png" alt="p9za5pn.png" border="0"></a></p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°Status code is 200ï¼ŒResponse body is not emptyï¼ŒThe response contains the word â€˜è½¯ä»¶å·¥ç¨‹â€™ï¼Œä¸‰æ¬¡æµ‹è¯•å…¨éƒ¨é€šè¿‡ã€‚</p>
</blockquote>
<p>è¿è¡Œç•Œé¢</p>
<p><a href="https://imgse.com/i/p9zaIlq"><img src="https://s1.ax1x.com/2023/06/01/p9zaIlq.png" alt="p9zaIlq.png" border="0"></a></p>
<p>ä½†æ˜¯ä¸ºäº†å›¾æ–¹ä¾¿æ„Ÿè§‰ç”¨getç›´æ¥å‘<a href="https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B">https://baike.baidu.com/item/è½¯ä»¶å·¥ç¨‹</a>å‘è¯·æ±‚ä¹Ÿå¾—è¡Œï¼ˆè¿™æ ·å­å°±å°‘äº†å¾ˆå¤šåˆ†æå•¦~)</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>è½¯ä»¶æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>è½¯ä»¶æµ‹è¯•ä¸´è€ƒæ€»ç»“</title>
    <url>/2023/06/02/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/test4/</url>
    <content><![CDATA[<p>ç”±äºè€å¸ˆæ˜ç¡®è¯´ä¸è€ƒæ¦‚å¿µè®°å¿†é¢˜ğŸ˜†ï¼Œå¹¶ä¸”ä»æˆ‘ä»¬è¿™å±Šå¼€å§‹æ”¹ç‰ˆå…¨éƒ¨æ˜¯å¤§é¢˜ğŸ˜¤ï¼Œæ‰€ä»¥å°±ä¸è¦èƒŒé‚£ä¹ˆå¤šå¹²å·´å·´çš„çŸ¥è¯†ç‚¹å•¦~ï¼Œä½†æ˜¯ä¸€äº›å¿…è¦çš„æ¦‚å¿µè¿˜æ˜¯å¾—å¤§è‡´çŸ¥é“å•¥æ„æ€å§ï¼Œä»¥ä¸‹å†…å®¹éƒ½åŸºäºè€å¸ˆå‘çš„PPT(â—â€™â—¡â€™â—)</p>
<h2 id="ç¬¬ä¸€ç« -å¼•è®º"><a href="#ç¬¬ä¸€ç« -å¼•è®º" class="headerlink" title="ç¬¬ä¸€ç«  å¼•è®º"></a>ç¬¬ä¸€ç«  å¼•è®º</h2><p><strong>è½¯ä»¶æµ‹è¯•(Software Testingï¼‰</strong>æ˜¯ä¸€ç§æ£€æµ‹è½¯ä»¶çš„æ­£ç¡®æ€§ã€å®Œæ•´æ€§ã€å®‰å…¨æ€§å’Œè¯„ä¼°å…¶è´¨é‡çš„æ´»åŠ¨è¿‡ç¨‹ã€‚æ¢å¥è¯è¯´ï¼Œè½¯ä»¶æµ‹è¯•æ˜¯ä¸€ç§ä»¥å‘ç°ç¨‹åºé”™è¯¯ã€è¡¡é‡è½¯ä»¶è´¨é‡ä¸ºç›®çš„ï¼Œå¹¶å¯¹å…¶æ˜¯å¦æ»¡è¶³ç”¨æˆ·éœ€æ±‚è¿›è¡Œè¯„ä¼°çš„æ´»åŠ¨è¿‡ç¨‹ã€‚</p>
<p><strong>è½¯ä»¶è´¨é‡ä¿è¯ï¼ˆSoftware Quality Assuranceï¼ŒSQAï¼‰</strong>æ˜¯æŒ‡é€šè¿‡å¯¹è½¯ä»¶äº§å“è¿›è¡Œæœ‰è®¡åˆ’çš„è¯„å®¡ä¸å®¡è®¡ï¼Œæ¥ç¡®ä¿è½¯ä»¶å¼€å‘æŒ‰ç…§äº§å“è´¨é‡è¿‡ç¨‹æ ‡å‡†å®æ–½é¡¹ç›®çš„ç®¡ç†æ´»åŠ¨ã€‚</p>
<p>è½¯ä»¶è´¨é‡ä¿è¯ä¸è½¯ä»¶æµ‹è¯•çš„å…³ç³»ï¼š</p>
<blockquote>
<p>SQAæŒ‡å¯¼è½¯ä»¶æµ‹è¯•çš„è®¡åˆ’ä¸æ‰§è¡Œï¼Œç›‘ç£æµ‹è¯•å·¥ä½œç»“æœçš„å®¢è§‚æ€§ã€å‡†ç¡®æ€§ä¸æœ‰æ•ˆæ€§ï¼Œå¹¶ååŠ©è½¯ä»¶æµ‹è¯•çš„å·¥ä½œæµç¨‹æ”¹è¿›ã€‚</p>
<p>è½¯ä»¶æµ‹è¯•æ˜¯SQAå·¥ä½œè½å®çš„é‡è¦æ‰‹æ®µï¼Œå®ƒä¸ºSQAæä¾›æ‰€éœ€çš„è´¨é‡æ•°æ®ï¼Œä½œä¸ºè½¯ä»¶è´¨é‡è¯„ä»·çš„å®¢è§‚ä¾æ®ã€‚</p>
<p>SQAæ˜¯ä¸€é¡¹<em><strong>è½¯ä»¶è´¨é‡ç®¡ç†æ€§å·¥ä½œ</strong></em>ï¼Œä¾§é‡äºå¯¹è½¯ä»¶å¼€å‘æµç¨‹è¿›è¡Œè¯„å®¡ä¸ç›‘æ§ã€‚</p>
<p>è½¯ä»¶æµ‹è¯•æ˜¯ä¸€é¡¹<em><strong>æŠ€æœ¯æ€§å·¥ä½œ</strong></em>ï¼Œä¾§é‡äºå¯¹è½¯ä»¶è´¨é‡ç‰¹æ€§è¿›è¡Œæ£€æµ‹ä¸éªŒè¯ã€‚</p>
</blockquote>
<p><strong>æµ‹è¯•é©±åŠ¨å¼€å‘(Test-Driven Developmentï¼Œç®€ç§°TDDï¼‰</strong>æ˜¯ä¸€ç§ä¸åŒäºä¼ ç»Ÿè½¯ä»¶å¼€å‘æµç¨‹çš„è¿‡ç¨‹æ¨¡å‹ã€‚å®ƒè¦æ±‚åœ¨ç¼–å†™æŸä¸ªåŠŸèƒ½çš„ä»£ç ä¹‹å‰å…ˆç¼–å†™æµ‹è¯•ä»£ç ï¼Œç„¶åç¼–å†™åŠŸèƒ½ä»£ç ï¼Œé€šè¿‡æµ‹è¯•æ¥æ¨åŠ¨æ•´ä¸ªè½¯ä»¶å¼€å‘å·¥ä½œçš„è¿›è¡Œã€‚</p>
<p>ä¸‹é¢å“ªé¡¹æ´»åŠ¨ä¸æ˜¯è½¯ä»¶æµ‹è¯•èŒƒç•´</p>
<p>Aï¼éœ€æ±‚æ–‡æ¡£è¯„å®¡	B.è®¾è®¡è¯„å®¡	C.ä»£ç æµ‹è¯•	D.è¿‡ç¨‹è¯„å®¡</p>
<blockquote>
<p>è¿‡ç¨‹è¯„å®¡æ˜¯è´¨é‡ä¿è¯æ´»åŠ¨çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºè¯„ä¼°è½¯ä»¶å¼€å‘è¿‡ç¨‹æ˜¯å¦ç¬¦åˆæ—¢å®šæ ‡å‡†å’Œæµç¨‹ã€‚</p>
</blockquote>
<p>ç¼–ç¨‹å®Œæˆåæ‰è¿›è¡Œæµ‹è¯•å­˜åœ¨å“ªäº›é—®é¢˜?</p>
<blockquote>
<p>æµ‹è¯•çš„æ—¶é—´å¾ˆæœ‰é™ï¼Œå¾ˆéš¾è¾¾åˆ°æµ‹è¯•çš„è¦†ç›–ç‡è¦æ±‚å’Œæµ‹è¯•çš„è´¨é‡è¦æ±‚ã€‚åŒæ—¶ï¼Œå‡å¦‚åœ¨é¡¹ç›®å¼€å‘çš„åæœŸï¼Œå‘ç°ä¸€äº›è½¯ä»¶éœ€æ±‚é˜¶æ®µå’Œæ¦‚è¦è®¾è®¡é˜¶æ®µçš„é”™è¯¯å’Œé—®é¢˜ï¼Œä¿®æ”¹è¿™äº›ç¼ºé™·å¯¼è‡´çš„æˆæœ¬å°†æ˜¯éå¸¸é«˜çš„ã€‚</p>
</blockquote>
<h2 id="ç¬¬äºŒç« -è½¯ä»¶æµ‹è¯•åŸºæœ¬æ¦‚å¿µ"><a href="#ç¬¬äºŒç« -è½¯ä»¶æµ‹è¯•åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ç¬¬äºŒç«  è½¯ä»¶æµ‹è¯•åŸºæœ¬æ¦‚å¿µ"></a>ç¬¬äºŒç«  <strong>è½¯ä»¶æµ‹è¯•åŸºæœ¬æ¦‚å¿µ</strong></h2><p><strong>ç¼ºé™·</strong>(Defect)æ˜¯æŒ‡æ¬ ç¼ºæˆ–ä¸å¤Ÿå®Œå¤‡çš„åœ°æ–¹ã€‚å› ä¸ºç¼ºé™·æ˜¯ç›¸å¯¹è´¨é‡è¦æ±‚è€Œå­˜åœ¨çš„ï¼Œä»»ä½•è¿èƒŒäº†è´¨é‡è¦æ±‚ã€è¿èƒŒäº†å®¢æˆ·çš„æ„æ„¿ï¼Œä¸èƒ½æ»¡è¶³ç”¨æˆ·çš„è¦æ±‚ï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯ç¼ºé™·ã€‚</p>
<p>IEEE STD729å…³äº<strong>è½¯ä»¶è´¨é‡</strong>å®šä¹‰:è½¯ä»¶äº§å“æˆ–æœåŠ¡æ»¡è¶³ç”¨æˆ·éœ€æ±‚çš„ç¨‹åº¦ã€‚</p>
<blockquote>
<p>â‘ è½¯ä»¶ç¼ºé™·åœ¨å¼€å‘æ—©æœŸå‡ºç°çš„æ¦‚ç‡å¤§ï¼Œåœ¨æ—©æœŸè¿›è¡Œç¼ºé™·ä¿®å¤çš„æˆæœ¬ä½ã€‚</p>
<p>â‘¡è½¯ä»¶åœ¨å¼€å‘åæœŸå‡ºç°ç¼ºé™·çš„æ¦‚ç‡å°ï¼Œä½†ä¿®å¤æˆæœ¬é«˜ã€‚</p>
<p>â‘¢è½¯ä»¶æµ‹è¯•å·¥ä½œåº”å°½æ—©å¼€å±•ã€‚</p>
</blockquote>
<p><a href="https://smms.app/image/Oc54oYf2KPN81hg" target="_blank"><img src="https://s2.loli.net/2023/06/02/Oc54oYf2KPN81hg.png" ></a></p>
<p>åœ¨ä»£ç å®¡æŸ¥ä¸­ï¼Œé™æ€æµ‹è¯•å¯å‘ç°å¦‚ä¸‹ç¼–ç¨‹ç¼ºé™·:</p>
<blockquote>
<p>å˜é‡åœ¨åˆå§‹åŒ–å‰ä½¿ç”¨ã€å˜é‡å£°æ˜åæœªä½¿ç”¨ã€å˜é‡åœ¨ä¸¤æ¬¡èµ‹å€¼ä¹‹é—´ä»æœªä½¿ç”¨</p>
<p>æ•°ç»„è®¿é—®è¶Šç•Œ</p>
<p>å­˜åœ¨ä¸å¯åˆ°è¾¾ä»£ç </p>
<p>å¾ªç¯ä¸­æ— æ¡ä»¶åˆ†æ”¯</p>
<p>æ¥å£å‚æ•°ç±»å‹æˆ–æ•°ç›®ä¸åŒ¹é…</p>
<p>ç©ºæŒ‡é’ˆæˆ–æŒ‡é’ˆç±»å‹é”™è¯¯</p>
<p>å­˜åœ¨æœªè¢«è°ƒç”¨çš„å‡½æ•°å’Œè¿‡ç¨‹</p>
</blockquote>
<p>æ¡ˆä¾‹ä¸€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;(<span class="type">int</span>)attributeList.length();i++)&#123;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæŠŠåˆ¤æ–­æ¡ä»¶æ”¾åœ¨forè¯­å¥å†…ï¼Œæ¯ä¸€æ¬¡åˆ¤æ–­éƒ½è¦é‡æ–°è®¡ç®—lengthï¼Œ æµªè´¹èµ„æº</p>
<p>æ­£ç¡®ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> tmp_iListLength=attributeList.length()</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=O;i&lt;tmp_iListLength; i++)</span><br><span class="line">&#123;</span><br><span class="line">......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¡ˆä¾‹äºŒ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i ;</span><br><span class="line">...</span><br><span class="line">printf(<span class="string">&quot;i= %d \n&quot;</span>,i) ;</span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i=<span class="number">0</span> ;</span><br><span class="line">printf (<span class="string">&quot;i= %d \n&quot;</span>,i) ;</span><br></pre></td></tr></table></figure>

<p>æ¡ˆä¾‹ä¸‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        <span class="type">int</span> array[] = <span class="literal">null</span>; <span class="comment">//å£°æ˜æ•°ç»„</span></span><br><span class="line">        array = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];<span class="comment">//ä¸ºæ•°ç»„å¼€è¾Ÿç©ºé—´ï¼Œå¤§å°ä¸º3</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= array.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;array[&quot;</span> + i + <span class="string">&quot;]=&quot;</span> + array[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼ºé™·åº”è¯¥æ˜¯æ•°ç»„ä¸‹æ ‡å¯èƒ½è¶Šç•Œ</p>
<p>ä¸ªäººä¿®æ”¹çš„ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        <span class="type">int</span> array[] = <span class="literal">null</span>; <span class="comment">//å£°æ˜æ•°ç»„</span></span><br><span class="line">        array = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];<span class="comment">//ä¸ºæ•°ç»„å¼€è¾Ÿç©ºé—´ï¼Œå¤§å°ä¸º3</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;array[&quot;</span> + i + <span class="string">&quot;]=&quot;</span> + array[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¡ˆä¾‹å››</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;**********è®¡ç®—å¼€å§‹***********&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;      <span class="comment">// å®šä¹‰æ•´å‹å˜é‡</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;      <span class="comment">//å®šä¹‰æ•´å‹å˜é‡</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> args[<span class="number">0</span>];  <span class="comment">// æ¥æ”¶ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> args[<span class="number">1</span>];  <span class="comment">// æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line">            i = Integer.parseInt(str1);<span class="comment">//å°†ç¬¬ä¸€ä¸ªå‚æ•°ç”±å­—ç¬¦ä¸²å˜ä¸ºæ•´å‹</span></span><br><span class="line">            j = Integer.parseInt(str2);<span class="comment">//å°†ç¬¬äºŒä¸ªå‚æ•°ç”±å­—ç¬¦ä¸²å˜ä¸ºæ•´å‹</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> i / j;           <span class="comment">//è¿›è¡Œé™¤æ³•è®¡ç®—</span></span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸¤ä¸ªæ•°å­—ç›¸é™¤çš„ç»“æœ:&quot;</span> + temp);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArithmeticException e) &#123;<span class="comment">// æ•è·ç®—æœ¯å¼‚å¸¸System.out.println(&quot;å‡ºç°å¼‚å¸¸äº†: &quot; + e);</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;**********è®¡ç®—ç»“æŸ***********&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½çš„ç¼ºé™·ï¼š</p>
<blockquote>
<ul>
<li>åœ¨tryå—ä¸­ï¼Œä½¿ç”¨argsæ•°ç»„æ¥æ¥æ”¶å‘½ä»¤è¡Œå‚æ•°ã€‚ç„¶è€Œï¼Œæ²¡æœ‰å¯¹argsæ•°ç»„çš„é•¿åº¦è¿›è¡Œæ£€æŸ¥æˆ–éªŒè¯ã€‚å¦‚æœæ²¡æœ‰ä¼ é€’è¶³å¤Ÿçš„å‚æ•°ï¼Œå°†ä¼šå¯¼è‡´ArrayIndexOutOfBoundsException(æ•°ç»„ç´¢å¼•è¶Šç•Œå¼‚å¸¸)ã€‚</li>
<li>åœ¨tryå—ä¸­ï¼Œå°†argsæ•°ç»„çš„å…ƒç´ ä½œä¸ºå­—ç¬¦ä¸²å‚æ•°ä¼ é€’ç»™parseInt()æ–¹æ³•è¿›è¡Œæ•´æ•°è½¬æ¢ã€‚ç„¶è€Œï¼Œå¦‚æœä¼ é€’çš„å‚æ•°æ— æ³•è§£æä¸ºæ•´æ•°ï¼Œå°†ä¼šå¯¼è‡´NumberFormatException(æ•°å­—æ ¼å¼å¼‚å¸¸)ã€‚</li>
<li>åœ¨catchå—ä¸­ï¼Œæ•è·äº†ArithmeticExceptionå¼‚å¸¸ï¼Œä½†æ˜¯è¯¥å¼‚å¸¸åªèƒ½æ•è·é™¤ä»¥0å¯¼è‡´çš„ç®—æœ¯å¼‚å¸¸ã€‚å¦‚æœå‡ºç°å…¶ä»–ç±»å‹çš„å¼‚å¸¸ï¼Œå°†æ— æ³•è¢«æ•è·å’Œå¤„ç†ã€‚</li>
</ul>
</blockquote>
<p>æ­£ç¡®ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;********** è®¡ç®—å¼€å§‹ ***********&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (args.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;ç¼ºå°‘å¿…è¦çš„å‚æ•°&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> Integer.parseInt(args[<span class="number">0</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> Integer.parseInt(args[<span class="number">1</span>]);</span><br><span class="line">            </span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> i / j;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸¤ä¸ªæ•°å­—ç›¸é™¤çš„ç»“æœ: &quot;</span> + temp);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‚æ•°æ ¼å¼é”™è¯¯: &quot;</span> + e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArithmeticException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;é™¤æ•°ä¸èƒ½ä¸º0: &quot;</span> + e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalArgumentException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‚æ•°é”™è¯¯: &quot;</span> + e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;********** è®¡ç®—ç»“æŸ ***********&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŠ¨æ€æµ‹è¯•æ˜¯é€šè¿‡è¿è¡Œè¢«æµ‹è½¯ä»¶ç¨‹åºï¼Œè§‚å¯Ÿè¯¥ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„ç³»ç»Ÿè¡Œä¸ºã€å˜é‡ç»“æœã€å†…å­˜ã€å †æ ˆç­‰è¿è¡Œæ•°æ®ï¼Œæ¥åˆ¤æ–­è½¯ä»¶ç³»ç»Ÿæ˜¯å¦å­˜åœ¨ç¼ºé™·çš„æµ‹è¯•æ´»åŠ¨ã€‚<br>åŠ¨æ€æµ‹è¯•å¯å‘ç°çš„ä¸»è¦ç¼ºé™·:</p>
<blockquote>
<p>ç¨‹åºé€»è¾‘é”™è¯¯</p>
<p>å¼‚å¸¸è¾“å…¥çš„åŠŸèƒ½å¤±æ•ˆ</p>
<p>ç©ºæŒ‡é’ˆä½¿ç”¨</p>
<p>å†…å­˜æ²¡æœ‰åŠæ—¶é‡Šæ”¾å…³é—­çš„å¯¹è±¡èµ„æº</p>
<p>Sessionå¤±æ•ˆ</p>
<p>æ²¡æœ‰å¤„ç†åœ¨ç©ºè¾“å…¥æ—¶ç‚¹å–Enteré”®æƒ…å†µ</p>
</blockquote>
<p>æ¡ˆä¾‹ä¸€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String name; <span class="comment">// å£°æ˜å§“åå±æ€§</span></span><br><span class="line">    <span class="type">int</span> age; <span class="comment">// å£°æ˜å¹´é¾„å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tell</span><span class="params">()</span> &#123; <span class="comment">// å–å¾—ä¿¡æ¯</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å§“å: &quot;</span> + name + <span class="string">&quot;ï¼Œå¹´é¾„: &quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">per</span> <span class="operator">=</span> <span class="literal">null</span>; <span class="comment">// å£°æ˜å¯¹è±¡</span></span><br><span class="line">        per.name = <span class="string">&quot;å¼ ä¸‰&quot;</span>; <span class="comment">// ä¸ºå§“åèµ‹å€¼</span></span><br><span class="line">        per.age = <span class="number">30</span>; <span class="comment">// ä¸ºå¹´é¾„èµ‹å€¼</span></span><br><span class="line">        per.print(); <span class="comment">// è°ƒç”¨æ–¹æ³•ï¼Œæ‰“å°ä¿¡æ¯</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨ClassDemoç±»çš„mainæ–¹æ³•ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªPersonå¯¹è±¡perï¼Œä½†æ²¡æœ‰å®é™…å®ä¾‹åŒ–è¯¥å¯¹è±¡ï¼Œè€Œæ˜¯å°†å…¶åˆå§‹åŒ–ä¸ºnullã€‚è¿™æ„å‘³ç€perå¯¹è±¡æ²¡æœ‰è¢«æ­£ç¡®åœ°åˆ›å»ºå’Œåˆå§‹åŒ–ï¼Œå› æ­¤åœ¨å°è¯•ä¸ºperå¯¹è±¡çš„nameå’Œageå±æ€§èµ‹å€¼æ—¶ä¼šå¯¼è‡´NullPointerException(ç©ºæŒ‡é’ˆå¼‚å¸¸)ã€‚<br>åœ¨Personç±»çš„tell()æ–¹æ³•ä¸­ï¼Œæ‰“å°ä¿¡æ¯çš„è¯­å¥ä½¿ç”¨äº†per.print()ï¼Œä½†å®é™…ä¸Šåº”è¯¥è°ƒç”¨çš„æ˜¯per.tell()ï¼Œå› ä¸ºtell()æ–¹æ³•æ˜¯å®šä¹‰åœ¨Personç±»çš„ã€‚</p>
</blockquote>
<p>æ¡ˆä¾‹äºŒ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">OutputStream os=<span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    os=<span class="keyword">new</span> <span class="title class_">OutputStream</span>();</span><br><span class="line">      <span class="comment">//Do something with os here.</span></span><br><span class="line">    os.close();</span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">        <span class="keyword">if</span>(os!=<span class="literal">null</span>)</span><br><span class="line">         os.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">OutputStream os=<span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    os=<span class="keyword">new</span> <span class="title class_">OutputStream</span>();</span><br><span class="line">      <span class="comment">//Do something with os here.</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(os!=<span class="literal">null</span>)</span><br><span class="line">     os.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åçš„ä»£ç ä½¿ç”¨äº† <code>finally</code> å—æ¥ç¡®ä¿åœ¨æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸çš„æƒ…å†µä¸‹éƒ½èƒ½å…³é—­è¾“å‡ºæµã€‚</p>
<p><strong>è½¯ä»¶éªŒè¯ï¼ˆ(verificationï¼‰</strong>æ˜¯æŒ‡åœ¨å¼€å‘è½¯ä»¶è¿‡ç¨‹ä¸­ï¼Œæ£€éªŒè½¯ä»¶æ˜¯å¦å·²æ­£ç¡®åœ°å®ç°äº†äº§å“è§„æ ¼è¯´æ˜ä¹¦æ‰€å®šä¹‰çš„ç³»ç»ŸåŠŸèƒ½å’Œç‰¹æ€§ã€‚<br><strong>è½¯ä»¶ç¡®è®¤(validationï¼‰</strong>æ˜¯æŒ‡åœ¨å¼€å‘è½¯ä»¶å®Œæˆåï¼Œæ£€æŸ¥è½¯ä»¶äº§å“æ˜¯å¦ç¬¦åˆç”¨æˆ·çš„çœŸå®éœ€æ±‚ã€‚</p>
<blockquote>
<p>éªŒè¯:æˆ‘ä»¬æ­£ç¡®åœ°æ„é€ äº†äº§å“å—?</p>
<p>ç¡®è®¤:æˆ‘ä»¬æ„é€ äº†æ­£ç¡®çš„äº§å“å—?</p>
</blockquote>
<p><em><strong>é»‘ç›’æµ‹è¯•</strong></em>æ˜¯æŒ‡åœ¨æµ‹è¯•ä¸­ï¼ŒæŠŠç¨‹åºçœ‹ä½œä¸€ä¸ªä¸èƒ½æ‰“å¼€çš„é»‘ç›’å­ã€‚åœ¨å®Œå…¨ä¸è€ƒè™‘ç¨‹åºå†…éƒ¨ç»“æ„å’Œå†…éƒ¨ç‰¹æ€§çš„æƒ…å†µä¸‹ï¼Œå¯¹ç¨‹åºåŠŸèƒ½è¿›è¡Œæµ‹è¯•ï¼Œæ£€æŸ¥ç¨‹åºåŠŸèƒ½æ˜¯å¦æŒ‰ç…§éœ€æ±‚è§„æ ¼è¯´æ˜è¿›è¡Œæœ‰æ•ˆå®ç°ã€æ˜¯å¦èƒ½é€‚å½“åœ°æ¥æ”¶è¾“å…¥æ•°æ®è€Œäº§ç”Ÿæ­£ç¡®çš„è¾“å‡ºä¿¡æ¯ã€‚</p>
<p>é»‘ç›’æµ‹è¯•æ˜¯ä»ç”¨æˆ·è§‚ç‚¹å‡ºå‘å¼€å±•çš„æµ‹è¯•ï¼Œå…¶ç›®çš„æ˜¯å°½å¯èƒ½å‘ç°è½¯ä»¶çš„å¤–éƒ¨è¡Œä¸ºé”™è¯¯ã€‚é»‘ç›’æµ‹è¯•å¸¸ç”¨äºå‘ç°ä»¥ä¸‹ç¼ºé™·:</p>
<blockquote>
<p>æ£€æµ‹è½¯ä»¶æ˜¯å¦æœ‰é”™è¯¯çš„åŠŸèƒ½æˆ–æœ‰åŠŸèƒ½é—æ¼<br>ä¸èƒ½æ­£ç¡®åœ°æ¥æ”¶è¾“å…¥æ•°æ®ã€è¾“å‡ºé”™è¯¯çš„ç»“æœ<br>åŠŸèƒ½æ“ä½œä¸å¤Ÿæ–¹ä¾¿<br>ç•Œé¢å‡ºé”™ã€æ‰­æ›²æˆ–ä¸ç¾è§‚<br>å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜ï¼Œå®‰è£…æ­¥éª¤ä¸æ¸…æ™°ã€ä¸çµæ´»<br>ç³»ç»Ÿåˆå§‹åŒ–å­˜åœ¨é—®é¢˜</p>
</blockquote>
<p><em><strong>ç™½ç›’æµ‹è¯•</strong></em>æ˜¯æŒ‡åœ¨äº†è§£è¢«æµ‹ç¨‹åºå†…éƒ¨é€»è¾‘ç»“æ„æƒ…å†µä¸‹ï¼Œå¯¹è¯¥ç¨‹åºçš„å†…éƒ¨å˜é‡ã€é€»è¾‘ç»“æ„ã€è¿è¡Œè·¯å¾„è¿›è¡Œæµ‹è¯•ï¼Œæ£€éªŒè¢«æµ‹ç¨‹åºçš„å†…éƒ¨åŠ¨ä½œæˆ–è¿è¡ŒåŠŸèƒ½æ˜¯å¦ç¬¦åˆè®¾è®¡è§„æ ¼è¦æ±‚ã€‚</p>
<p>ç™½ç›’æµ‹è¯•å¸¸ç”¨äºå‘ç°ä»¥ä¸‹ç¼ºé™·:</p>
<blockquote>
<p>ç¨‹åºé€»è¾‘é”™è¯¯<br>ç¨‹åºçŠ¶æ€å¼‚å¸¸<br>ç¨‹åºè·¯å¾„æ— æ³•è·³è½¬<br>å˜é‡é—æ¼åˆå§‹åŒ–</p>
</blockquote>
<p><em><strong>å•å…ƒæµ‹è¯•</strong></em></p>
<blockquote>
<p>å•å…ƒæµ‹è¯•é’ˆå¯¹è½¯ä»¶ç¨‹åºä¸­çš„<strong>æœ€å°åŠŸèƒ½å•å…ƒä»£ç </strong>ï¼ˆç±»ã€å‡½æ•°ã€æ¨¡å—æˆ–ç»„ä»¶)è¿›è¡Œæµ‹è¯•ã€‚<br>ä¸»è¦é‡‡ç”¨ç™½ç›’æµ‹è¯•æ–¹æ³•ï¼Œä»ç¨‹åºçš„å†…éƒ¨ç»“æ„å‡ºå‘è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œæ£€æŸ¥å•å…ƒç¨‹åºå·²å®ç°åŠŸèƒ½ä¸è®¾è®¡è§„æ ¼æ˜¯å¦ä¸€è‡´ã€ä»¥åŠç¼–ç ä¸­æ˜¯å¦å­˜åœ¨é€»è¾‘é”™è¯¯ã€‚<br>å•å…ƒæµ‹è¯•ä¸€èˆ¬ç”±ç¼–ç¨‹äººå‘˜å’Œæµ‹è¯•äººå‘˜å…±åŒå®Œæˆï¼Œè€Œä»¥å¼€å‘äººå‘˜ä¸ºä¸»ã€‚é€šå¸¸éœ€è¦ç¼–å†™<strong>é©±åŠ¨æ¨¡å—</strong>å’Œ<strong>æ¡©æ¨¡å—</strong>ã€‚<br>å•å…ƒæµ‹è¯•è¿˜é‡‡ç”¨ä»£ç è¯„å®¡æ–¹æ³•ï¼ˆèµ°è¯»ã€é™æ€åˆ†æã€è¯„å®¡ï¼‰æ£€æŸ¥ç¨‹åºé”™è¯¯ï¼Œä»£ç è¯„å®¡å¯ä»¥å‘ç°ç¨‹åº**50%ï½70%**ä»£ç çš„ç¼ºé™·ã€‚</p>
</blockquote>
<p><strong>é›†æˆæµ‹è¯•</strong>ï¼ˆä¹Ÿç§°ç»„è£…æµ‹è¯•ã€è”åˆæµ‹è¯•ï¼‰æ˜¯ä¸€ç§åœ¨å•å…ƒæµ‹è¯•çš„åŸºç¡€ä¸Šï¼Œå°†è‹¥å¹²å•å…ƒæ¨¡å—æŒ‰ç…§è®¾è®¡è¦æ±‚ç»„è£…èµ·æ¥æ‰€è¿›è¡Œçš„æµ‹è¯•ï¼Œå…¶ç›®æ ‡æ˜¯å‘ç°æ¨¡å—æ¥å£ç›¸å…³é—®é¢˜ã€‚</p>
<p><strong>ç³»ç»Ÿæµ‹è¯•</strong>æ˜¯åœ¨é›†æˆæµ‹è¯•ä¹‹åï¼Œåœ¨ç³»ç»Ÿå±‚é¢æ‰€è¿›è¡Œçš„åŠŸèƒ½ç‰¹æ€§æµ‹è¯•å’ŒéåŠŸèƒ½ç‰¹æ€§æµ‹è¯•ã€‚</p>
<p><strong>éªŒæ”¶æµ‹è¯•</strong>æ˜¯åœ¨è½¯ä»¶æäº¤ç”¨æˆ·å‰ï¼Œåœ¨å®é™…ç”¨æˆ·ç¯å¢ƒä¸­ï¼ŒéªŒè¯è½¯ä»¶ç³»ç»ŸåŠŸèƒ½ã€æ€§èƒ½åŠå…¶å®ƒç‰¹æ€§æ˜¯å¦ç¬¦åˆç”¨æˆ·éœ€æ±‚ã€‚</p>
<ul>
<li>Î±æµ‹è¯•â€”â€”è½¯ä»¶å…¬å¸åœ¨å…¶äº§å“æ¨å‘å¸‚åœºå‰ï¼Œé‡‡ç”¨å®é™…è¿è¡Œç¯å¢ƒå’ŒçœŸå®æ•°æ®åœ¨è½¯ä»¶å…¬å¸å†…éƒ¨è¿›è¡Œçš„éªŒæ”¶æµ‹è¯•ã€‚</li>
<li>Î²æµ‹è¯•â€”â€”è½¯ä»¶å…¬å¸åœ¨å…¶äº§å“æ¨å‘å¸‚åœºå‰ï¼Œè¿˜éœ€è¦åœ¨å…¬å¸å¤–éƒ¨ç”¨æˆ·ä¸­è¿›è¡Œè¯•ç”¨æµ‹è¯•ã€‚é€šè¿‡æ”¶é›†è¯•ç”¨æˆ·çš„åé¦ˆæ„è§ï¼Œå¯¹è¯¥ç‰ˆæœ¬è½¯ä»¶è¿›è¡Œä¿®æ­£ä¸å®Œå–„ï¼Œæœ€ç»ˆå¾—åˆ°æ­£å¼å‘å¸ƒçš„ç‰ˆæœ¬ã€‚</li>
</ul>
<h2 id="ç¬¬ä¸‰ç« -è½¯ä»¶æµ‹è¯•æ–¹æ³•"><a href="#ç¬¬ä¸‰ç« -è½¯ä»¶æµ‹è¯•æ–¹æ³•" class="headerlink" title="ç¬¬ä¸‰ç«  è½¯ä»¶æµ‹è¯•æ–¹æ³•"></a>ç¬¬ä¸‰ç«  è½¯ä»¶æµ‹è¯•æ–¹æ³•</h2><h3 id="åŸºäºç›´è§‰å’Œç»éªŒçš„æ–¹æ³•"><a href="#åŸºäºç›´è§‰å’Œç»éªŒçš„æ–¹æ³•" class="headerlink" title="åŸºäºç›´è§‰å’Œç»éªŒçš„æ–¹æ³•"></a>åŸºäºç›´è§‰å’Œç»éªŒçš„æ–¹æ³•</h3><blockquote>
<p><strong>Ad-hocæµ‹è¯•æ–¹æ³•</strong>å¼ºè°ƒæµ‹è¯•äººå‘˜æ›´å¤šæ ¹æ®è‡ªå·±çš„ä¸“ä¸šç»éªŒï¼Œä¸å—æµ‹è¯•ç”¨ä¾‹çº¦æŸï¼Œæ”¾å¼€æ€è·¯ã€çµæ´»åœ°è¿›è¡Œå„ç§æµ‹è¯•ã€‚<br><strong>ALAC ( Act-like-a-customerï¼Œåƒå®¢æˆ·é‚£æ ·åš</strong>ï¼‰æµ‹è¯•æ–¹æ³•æ˜¯ä¸€ç§åŸºäºå®¢æˆ·ä½¿ç”¨äº§å“çš„ç»éªŒçŸ¥è¯†è¿›è¡Œç³»ç»Ÿæµ‹è¯•ï¼Œå…¶å‡ºå‘ç‚¹æ˜¯åº”ç”¨å¸•ç´¯æ‰˜(Paretoï¼‰äºŒå…«æ³•åˆ™è¿›è¡Œé‡ç‚¹æµ‹è¯•ã€‚<br><strong>é”™è¯¯æ¨æµ‹æ³•</strong>æ˜¯æµ‹è¯•è€…æ ¹æ®è‡ªå·±çš„å·¥ä½œç»éªŒã€ä¸“ä¸šçŸ¥è¯†å’Œç›´è§‰æ¥æ¥æ¨æµ‹å‡ºè½¯ä»¶ä¸­å¯èƒ½å­˜åœ¨çš„å„ç§é”™è¯¯ï¼Œä»è€Œå¯¹è¢«æµ‹è½¯ä»¶é‡‡ç”¨é’ˆå¯¹æ€§çš„æµ‹è¯•ã€‚</p>
</blockquote>
<h3 id="åŸºäºè¾“å…¥åŸŸæ–¹æ³•ï¼ˆæ•°æ®é©±åŠ¨æµ‹è¯•ï¼‰"><a href="#åŸºäºè¾“å…¥åŸŸæ–¹æ³•ï¼ˆæ•°æ®é©±åŠ¨æµ‹è¯•ï¼‰" class="headerlink" title="åŸºäºè¾“å…¥åŸŸæ–¹æ³•ï¼ˆæ•°æ®é©±åŠ¨æµ‹è¯•ï¼‰"></a>åŸºäºè¾“å…¥åŸŸæ–¹æ³•ï¼ˆæ•°æ®é©±åŠ¨æµ‹è¯•ï¼‰</h3><p><em><strong>ç­‰ä»·ç±»åˆ’åˆ†æ³•ï¼š</strong></em></p>
<p>ä¸€ä¸ªç¨‹åºPæœ‰ä¸¤ä¸ªæ•´å‹è¾“å…¥å˜é‡I1ã€I2ï¼Œè¾“å‡ºå˜é‡ä¸ºOut,å…¶è®¡ç®—å‡½æ•°ä¸ºOut&#x3D;P(l1,I2)ï¼Œå‡å®šåœ¨å­—é•¿32ä½è®¡ç®—æœºä¸Šè¿è¡Œã€‚æ‰€æœ‰è¾“å…¥æ•°æ®ç»„åˆæœ‰å¤šå°‘?	<em><strong>2Â³Â²x 2Â³Â²&#x3D;2â¶â´</strong></em></p>
<p>ä¾‹ï¼šé‡‡è´­æ”¶è´§å•æŠ¥è¡¨ç³»ç»Ÿï¼Œè¦æ±‚ç”¨æˆ·è¾“å…¥å¤„ç†æŠ¥è¡¨çš„æ—¥æœŸã€‚å‡å®šæ—¥æœŸé™å®šåœ¨2000å¹´1æœˆ1æ—¥åˆ°2023å¹´12æœˆ30æ—¥ã€‚è¯·è®¾è®¡â€œæ—¥æœŸâ€è¾“å…¥æ•°æ®éªŒè¯çš„ç­‰ä»·ç±»ã€‚</p>
<blockquote>
<p>æœ‰æ•ˆæ—¥æœŸçš„ç­‰ä»·ç±»:2000å¹´1æœˆ1æ—¥åˆ°2023å¹´12æœˆ30æ—¥çš„æ—¥æœŸå€¼<br>æ— æ•ˆæ—¥æœŸçš„ç­‰ä»·ç±»:å°äº2000å¹´1æœˆ1æ—¥çš„æ—¥æœŸå€¼<br>æ— æ•ˆæ—¥æœŸçš„ç­‰ä»·ç±»:å¤§äº2023å¹´12æœˆ30æ—¥çš„æ—¥æœŸå€¼</p>
</blockquote>
<p>ä¾‹ï¼šé‡‡è´­æ”¶è´§å•æŠ¥è¡¨ç³»ç»Ÿï¼Œå¯¹äºå•†å“æ•°é‡è¾“å…¥æ•°æ®ï¼Œåº”ä¸ºå¤§äº0çš„æ•´æ•°ï¼Œæ‰èƒ½ç¬¦åˆä¸šåŠ¡è¦æ±‚ã€‚è¯·è®¾è®¡â€œæ•°é‡â€è¾“å…¥æ•°æ®éªŒè¯çš„ç­‰ä»·ç±»ã€‚</p>
<blockquote>
<p>æœ‰æ•ˆâ€œæ•°é‡â€å­—æ®µè¾“å…¥ç­‰ä»·ç±»:å¤§äº0çš„æ•´æ•°ã€‚<br>æ— æ•ˆâ€œæ•°é‡â€å­—æ®µè¾“å…¥ç­‰ä»·ç±»:å°äºç­‰äº0çš„æ•´æ•°ã€‚</p>
</blockquote>
<p>ä¾‹ï¼šèˆªç­è®¡åˆ’ç³»ç»Ÿï¼Œå¯¹äºæŸèˆªç­è®¾å®šæ˜¯å¦ä¸ºå¾€è¿”èˆªç­ï¼Œå…¶è¾“å…¥æ•°æ®åº”é‡‡ç”¨å¸ƒå°”æ•°å€¼ï¼Œæ‰èƒ½ç¬¦åˆä¸šåŠ¡è¦æ±‚ã€‚è¯·è®¾è®¡â€œæ¥å›ç¨‹â€è¾“å…¥æ•°æ®éªŒè¯çš„ç­‰ä»·ç±»ã€‚</p>
<blockquote>
<p>æœ‰æ•ˆçš„â€œæ¥å›ç¨‹â€å­—æ®µæ•°æ®è¾“å…¥ç­‰ä»·ç±»:çœŸ&#x2F;å‡å¸ƒå°”å€¼ã€‚<br>æ— æ•ˆçš„â€œæ¥å›ç¨‹â€å­—æ®µæ•°æ®è¾“å…¥ç­‰ä»·ç±»:å…¶å®ƒä»»ä½•å€¼ã€‚</p>
</blockquote>
<p>ä¾‹ï¼šå¯¹äºè®¡ç®—å™¨è½¯ä»¶çš„åŠ æ³•è¿ç®—åŠŸèƒ½è¿›è¡Œæµ‹è¯•ã€‚è¯·è®¾è®¡â€œ+â€åŠŸèƒ½æµ‹è¯•çš„ç­‰ä»·ç±»ã€‚</p>
<blockquote>
<p>æœ‰æ•ˆçš„æ•°æ®è¾“å…¥ç­‰ä»·ç±»:æ•´å‹æ•°å€¼<br>æœ‰æ•ˆçš„æ•°æ®è¾“å…¥ç­‰ä»·ç±»:å®æ•°æ•°å€¼<br>æœ‰æ•ˆçš„æ•°æ®è¾“å…¥ç­‰ä»·ç±»:è´Ÿæ•°æ•°å€¼<br>æ— æ•ˆçš„æ•°æ®è¾“å…¥ç­‰ä»·ç±»:éæ•°å­—ç¬¦å·</p>
</blockquote>
<p>ä¾‹:å››å·åœ°ç¨å‘ç¥¨æŸ¥è¯¢é¡µé¢çš„å‘ç¥¨é‡‘é¢å­—æ®µè¾“å…¥æ£€æŸ¥åŠŸèƒ½æµ‹è¯•ã€‚</p>
<blockquote>
<p>æœ‰æ•ˆçš„â€œå‘ç¥¨é‡‘é¢â€å­—æ®µæ•°æ®è¾“å…¥ç­‰ä»·ç±»:å¤§äº0çš„æ•°å€¼æ•°æ®ã€‚<br>æ— æ•ˆçš„â€œå‘ç¥¨é‡‘é¢â€å­—æ®µæ•°æ®è¾“å…¥ç­‰ä»·ç±»:éæ•°å€¼æ•°æ®ã€‚<br>æ— æ•ˆçš„â€œå‘ç¥¨é‡‘é¢â€å­—æ®µæ•°æ®è¾“å…¥ç­‰ä»·ç±»:å°äºç­‰äº0çš„æ•°å€¼</p>
</blockquote>
<p><em><strong>è¾¹ç•Œå€¼åˆ†ææ³•</strong></em>å°±æ˜¯åœ¨æŸä¸ªè¾“å…¥å˜é‡èŒƒå›´çš„è¾¹ç•Œä¸Šï¼Œè¾“å…¥ä¸€äº›ç‰¹å®šæ•°æ®ï¼Œåˆ†æéªŒè¯ç³»ç»ŸåŠŸèƒ½æ˜¯å¦æ­£å¸¸è¿è¡Œçš„æµ‹è¯•æ–¹æ³•ã€‚</p>
<p>ä¾‹ï¼šé…’åº—é¢„è®¢ç³»ç»Ÿä¸šåŠ¡è§„å®šå®¢æˆ·æœ€å¤šå¯æå‰20å¤©é¢„è®¢é…’åº—å®¢æˆ¿ã€‚è¯·æŒ‰è¾¹ç•Œå€¼åˆ†ææ³•è®¾è®¡é…’åº—æœç´¢åŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<blockquote>
<p>å‡å®šå®¢äººåœ¨2023-3-12è¿›è¡Œè®¢æˆ¿æ“ä½œï¼Œé¢„è®¢åé¢10åˆ°20å¤©å†…å…¥ä½å®¢æˆ¿ï¼Œå…¶æµ‹è¯•è¾¹ç•Œå€¼å¯è®¾ç½®ä¸º:2023-3-21ã€2023-3-31ã€2023-4-1</p>
</blockquote>
<p>ç­‰ä»·ç±»åˆ’åˆ†æ³•å’Œè¾¹ç•Œå€¼åˆ†ææ³•ä»…é€‚ç”¨äºå•å› ç´ ï¼ˆå•å˜é‡ï¼‰è¾“å…¥çš„æ•°æ®æµ‹è¯•ã€‚</p>
<h3 id="åŸºäºç»„åˆåŠå…¶ä¼˜åŒ–æ–¹æ³•ï¼ˆå¤šå˜é‡ï¼‰"><a href="#åŸºäºç»„åˆåŠå…¶ä¼˜åŒ–æ–¹æ³•ï¼ˆå¤šå˜é‡ï¼‰" class="headerlink" title="åŸºäºç»„åˆåŠå…¶ä¼˜åŒ–æ–¹æ³•ï¼ˆå¤šå˜é‡ï¼‰"></a>åŸºäºç»„åˆåŠå…¶ä¼˜åŒ–æ–¹æ³•ï¼ˆå¤šå˜é‡ï¼‰</h3><p><strong>åˆ¤å®šè¡¨æ–¹æ³•</strong>æ˜¯ä¸€ç§å€ŸåŠ©è¡¨æ ¼æ–¹å¼å®Œæˆå¤šæ¡ä»¶è¾“å…¥ç»„åˆä¸‹æµ‹è¯•ç”¨ä¾‹è®¾è®¡ï¼Œè¾¾è‡³å®Œå…¨è¦†ç›–è¾“å‡ºç»“æœçš„æµ‹è¯•æ–¹æ³•ã€‚å…¶è¡¨æ ¼ç»„æˆæ ·å¼å¦‚ä¸‹:</p>
<table>
<thead>
<tr>
<th></th>
<th>åºå·</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody><tr>
<td>æ¡ä»¶</td>
<td>æ­£ç¡®è¾“å…¥å¹´Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td>N</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>æ¡ä»¶</td>
<td>æ­£ç¡®è¾“å…¥æœˆM</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td>N</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>æ¡ä»¶</td>
<td>æ­£ç¡®è¾“å…¥æ—¥D</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>åŠ¨ä½œ</td>
<td>å‡½æ•°è¿è¡ŒæˆåŠŸ</td>
<td>âˆš</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>åŠ¨ä½œ</td>
<td>å‡½æ•°è¿è¡Œå¤±è´¥</td>
<td></td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
<td>âˆš</td>
</tr>
</tbody></table>
<p><strong>å› æœå›¾æ³•</strong>æ˜¯ä¸€ç§åˆ©ç”¨å›¾è§£æ³•åˆ†æè¾“å…¥çš„å„ç§ç»„åˆæƒ…å†µï¼Œä»è€Œè®¾è®¡æµ‹è¯•ç”¨ä¾‹çš„å½¢å¼åŒ–æ–¹æ³•ã€‚å®ƒé€‚åˆäºæ£€æŸ¥ç¨‹åºè¾“å…¥ã€è¾“å‡ºé”™è¯¯ï¼Œè¿˜èƒ½åˆ¤å®šç¨‹åºè§„èŒƒä¸­çš„äºŒä¹‰æ€§ã€ä¸å®Œå…¨æ€§ç­‰é”™è¯¯ã€‚</p>
<p>å› æœå›¾PPTä¸Šé¢ä¸¾äº†å¥½å‡ é¡µä¾‹å­ï¼Œè‚¯å®šå¾ˆé‡è¦å“’~</p>
<p><img src="https://s2.loli.net/2023/06/02/WxI9MwjJepmurfE.png" alt="Snipaste_2023-06-02_15-46-16.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/jCuF49rsNHEm1a5.png" alt="Snipaste_2023-06-02_15-46-38.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/GqM7ES6sPwaBRKt.png" alt="Snipaste_2023-06-02_15-46-47.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/1QmJtbZgpjdr5x7.png" alt="Snipaste_2023-06-02_15-46-56.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/t8moTlbkVwfOLN3.png" alt="Snipaste_2023-06-02_15-47-10.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/L9t3abT6hHxMXNJ.png" alt="Snipaste_2023-06-02_15-48-36.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/2n1okyQVmwI9RrF.png" alt="Snipaste_2023-06-02_15-49-01.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/NWK8wLlgq2Q5AEB.png" alt="Snipaste_2023-06-02_15-50-08.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/CiUFqs6Q2tdLbj4.png" alt="Snipaste_2023-06-02_15-50-14.png"></p>
<p><img src="https://s2.loli.net/2023/06/02/YUzawnXV9oFRgex.png" alt="Snipaste_2023-06-02_15-50-20.png"></p>
<p>å½“æœ‰å¤šä¸ªè¾“å…¥å˜é‡ã€æ¯ä¸ªå˜é‡åˆæœ‰å¤šä¸ªå–å€¼ã€‚è‹¥è¦æ‰§è¡Œå…¨è¦†ç›–ç»„åˆæµ‹è¯•ï¼Œå…¶å·¥ä½œé‡éå¸¸å¤§ã€‚ä¸ºäº†æœ‰æ•ˆåœ°å‡å°‘æµ‹è¯•ç»„åˆæ•°ï¼Œå¯ä»¥é‡‡ç”¨<strong>æˆå¯¹ç»„åˆæµ‹è¯•æ–¹æ³•</strong>ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯æ¯ä¸¤ä¸ªè¾“å…¥å˜é‡æ‰€æœ‰å–å€¼ç»„åˆå½¢æˆä¸åŒæµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>ä¾‹ï¼š</p>
<p>æµ‹è¯•ä¸€ä¸ªç™»å½•é¡µé¢åœ¨ä¸åŒæµè§ˆå™¨å’Œè¯­è¨€ä¸‹çš„åŠŸèƒ½æ­£ç¡®æ€§ï¼Œå…¶è¾“å…¥æ¡ä»¶å¦‚ä¸‹:</p>
<p>1ï¼‰è¾“å…¥é¡¹ï¼ˆè´¦å·ã€å¯†ç ï¼‰</p>
<p>2ï¼‰æµè§ˆå™¨ï¼ˆIEã€chromeã€FireFoxã€360ï¼‰</p>
<p>3ï¼‰è¯­è¨€ï¼ˆä¸­æ–‡ã€è‹±æ–‡ï¼‰</p>
<p>æˆå¯¹ç»„åˆæµ‹è¯•ç”¨ä¾‹è¡¨</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹</th>
<th>è´¦å·</th>
<th>å¯†ç </th>
<th>æµè§ˆå™¨</th>
<th>è¯­è¨€</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ç©ºå€¼</td>
<td>ç©ºå€¼</td>
<td>IE</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>2</td>
<td>ç©ºå€¼</td>
<td>æœ‰å€¼</td>
<td>chrome</td>
<td>è‹±æ–‡</td>
</tr>
<tr>
<td>3</td>
<td>æœ‰å€¼</td>
<td>ç©ºå€¼</td>
<td>FireFox</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>4</td>
<td>æœ‰å€¼</td>
<td>æœ‰å€¼</td>
<td>360</td>
<td>è‹±æ–‡</td>
</tr>
<tr>
<td>5</td>
<td>ç©ºå€¼</td>
<td>ç©ºå€¼</td>
<td>360</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>6</td>
<td>ç©ºå€¼</td>
<td>æœ‰å€¼</td>
<td>FireFox</td>
<td>è‹±æ–‡</td>
</tr>
<tr>
<td>7</td>
<td>æœ‰å€¼</td>
<td>ç©ºå€¼</td>
<td>chrome</td>
<td>ä¸­æ–‡</td>
</tr>
<tr>
<td>8</td>
<td>æœ‰å€¼</td>
<td>æœ‰å€¼</td>
<td>IE</td>
<td>è‹±æ–‡</td>
</tr>
</tbody></table>
<p><strong>æ­£äº¤å®éªŒæµ‹è¯•æ³•</strong>æ˜¯ä¸€ç§ä¾æ®ä¼½ç½—å(Galois)ç†è®ºï¼Œä»å¤§é‡å®éªŒæ•°æ®ä¸­æŒ‘é€‰é€‚é‡çš„ã€å…·æœ‰ä»£è¡¨æ€§çš„æ•°æ®è¿›è¡Œå®éªŒï¼Œä»¥è¾¾åˆ°é™ä½å®éªŒæˆæœ¬çš„æ–¹æ³•ã€‚</p>
<p>æ­£äº¤è¡¨æ„æˆ</p>
<blockquote>
<p>è¡Œæ•°:æ­£äº¤è¡¨ä¸­çš„è¡Œä¸ªæ•°ï¼Œå³å®éªŒçš„æ¬¡æ•°ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬é€šè¿‡æ­£äº¤å®éªŒæ³•è®¾è®¡çš„æµ‹è¯•ç”¨ä¾‹ä¸ªæ•°ã€‚è¡Œæ•°(å³&gt;æµ‹è¯•ç”¨ä¾‹æ¬¡æ•°)&#x3D;âˆ‘(æ¯åˆ—æ°´å¹³æ•°-1)+1</p>
<p>å› ç´ æ•°:æ­£äº¤è¡¨ä¸­åˆ—çš„ä¸ªæ•°ï¼Œå³æµ‹è¯•åŠŸèƒ½ç‚¹çš„å› å­æ•°ã€‚</p>
<p>æ°´å¹³æ•°:ä»»ä½•å•ä¸ªå› ç´ èƒ½å¤Ÿå–å€¼çš„ä¸ªæ•°ã€‚æ­£äº¤è¡¨ä¸­åŒ…å«å€¼ä¸ºä»0åˆ°â€œæ°´å¹³æ•°-1â€æˆ–ä»1åˆ°â€œæ°´å¹³æ•°â€ã€‚å³è¦æµ‹è¯•åŠŸèƒ½ç‚¹çš„è¾“å…¥å–å€¼æ•°ã€‚</p>
<p>Lä»£è¡¨æ­£äº¤è¡¨ï¼Œå®ƒæ˜¯è¿ç”¨æ•°å­¦ç†è®ºåœ¨æ‹‰ä¸æ–¹å’Œæ­£äº¤æ‹‰ä¸æ–¹åŸºç¡€ä¸Šæ„é€ çš„è§„æ ¼åŒ–æ•°æ®è¡¨æ ¼ï¼Œå¸¸ç”¨çš„æœ‰Lâ‚ˆ(2â·)ã€Lâ‚‰(3â´)ã€Lâ‚â‚†(4âµ)ç­‰ã€‚</p>
</blockquote>
<p>æ­£äº¤è¡¨ç‰¹æ€§</p>
<blockquote>
<p>1)æ¯ä¸€åˆ—ä¸­å„æ•°å­—å‡ºç°çš„æ¬¡æ•°éƒ½ä¸€æ ·å¤š;<br>2)ä»»ä½•ä¸¤åˆ—æ‰€æ„æˆçš„å„æœ‰åºæ•°å¯¹å‡ºç°çš„æ¬¡æ•°éƒ½ä¸€æ ·å¤šã€‚<br>ä¾‹å¦‚åœ¨ä¸¤æ°´å¹³æ­£äº¤è¡¨ä¸­ï¼Œä»»ä½•ä¸¤åˆ—(åŒä¸€æ¨ªè¡Œå†…ï¼‰æœ‰åºå¯¹å­å…±æœ‰4ç§:(1ï¼Œ1)ã€ (1ï¼Œ2)ã€(2ï¼Œ1)ã€ (2ï¼Œ2)ã€‚æ¯ç§å¯¹æ•°å‡ºç°æ¬¡æ•°ç›¸ç­‰ã€‚åœ¨ä¸‰æ°´å¹³æƒ…å†µä¸‹ï¼Œä»»ä½•ä¸¤åˆ—(åŒä¸€æ¨ªè¡Œå†…ï¼‰æœ‰åºå¯¹å…±æœ‰9ç§ï¼Œ1.1ã€1.2ã€1.3ã€<br>2.1ã€2.2ã€2.3ã€<br>3.1ã€3.2ã€3.3ï¼Œä¸”æ¯å¯¹å‡ºç°æ•°ä¹Ÿå‡ç›¸ç­‰ã€‚</p>
</blockquote>
<p> åœ¨ä¸€ä¸ªå®¢æˆ·ä¿¡æ¯æŸ¥è¯¢ç•Œé¢ä¸­ï¼Œè¾“å…¥æ¡ä»¶æœ‰â€œå§“åâ€ã€â€œèº«ä»½è¯å·â€ã€â€œæ‰‹æœºâ€ï¼Œé‡‡ç”¨æ­£äº¤è¡¨æ–¹å¼è®¾è®¡è¯¥ç•Œé¢æŸ¥è¯¢åŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>é’ˆå¯¹æœ¬æµ‹è¯•æœ‰3ä¸ªè¾“å…¥æ¡ä»¶ï¼Œæ¯ä¸ªè¾“å…¥æœ‰2ç§å–å€¼æƒ…å†µï¼Œå¯ä»¥é€‰æ‹©Lâ‚„(2Â³)æ­£äº¤è¡¨ï¼Œå…¶æ­£äº¤è¡¨å€¼å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>å®éªŒæ•°\åˆ—å·</th>
<th>å§“å</th>
<th>èº«ä»½è¯å·</th>
<th>æ‰‹æœº</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
<p>æµ‹è¯•ç”¨ä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th>æµ‹è¯•ç”¨ä¾‹&#x2F;æŸ¥è¯¢æ¡ä»¶</th>
<th>å§“å</th>
<th>èº«ä»½è¯å·</th>
<th>æ‰‹æœº</th>
</tr>
</thead>
<tbody><tr>
<td>æµ‹è¯•ç”¨ä¾‹1</td>
<td>å¡«å†™</td>
<td>å¡«å†™</td>
<td>å¡«å†™</td>
</tr>
<tr>
<td>æµ‹è¯•ç”¨ä¾‹2</td>
<td>å¡«å†™</td>
<td>ç©º</td>
<td>ç©º</td>
</tr>
<tr>
<td>æµ‹è¯•ç”¨ä¾‹3</td>
<td>ç©º</td>
<td>å¡«å†™</td>
<td>ç©º</td>
</tr>
<tr>
<td>æµ‹è¯•ç”¨ä¾‹4</td>
<td>ç©º</td>
<td>ç©º</td>
<td>å¡«å†™</td>
</tr>
</tbody></table>
<h3 id="åŸºäºé€»è¾‘è¦†ç›–æ–¹æ³•"><a href="#åŸºäºé€»è¾‘è¦†ç›–æ–¹æ³•" class="headerlink" title="åŸºäºé€»è¾‘è¦†ç›–æ–¹æ³•"></a>åŸºäºé€»è¾‘è¦†ç›–æ–¹æ³•</h3><p><strong>è¯­å¥è¦†ç›–æ³•</strong>çš„åŸºæœ¬æ€æƒ³æ˜¯è®¾è®¡è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—è¢«æµ‹ç¨‹åºä¸­çš„æ¯ä¸ªå¯æ‰§è¡Œè¯­å¥è‡³å°‘è¢«æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœæ˜¯é¡ºåºç»“æ„ï¼Œå°±æ˜¯è®©æµ‹è¯•ä»å¤´æ‰§è¡Œåˆ°å°¾ã€‚å¦‚æœæœ‰åˆ†æ”¯ã€æ¡ä»¶å’Œå¾ªç¯ï¼Œåˆ™éœ€è¦æ‰§è¡Œè¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹è¦†ç›–å…¨éƒ¨è¯­å¥ã€‚</p>
<p><strong>è¯­å¥è¦†ç›–æµ‹è¯•èƒ½è§£å†³çš„é—®é¢˜</strong>:å‘ç°ç¨‹åºä¸­ä¸€äº›æ°¸è¿œä¸èƒ½è¢«æ‰§è¡Œçš„è¯­å¥ç¼ºé™·ï¼Œä½†ä¸èƒ½å‘ç°ç¨‹åºä¸­è¯­å¥é€»è¾‘é”™è¯¯ã€‚</p>
<p>è¯­å¥è¦†ç›–æµ‹è¯•å³ä½¿è¦†ç›–äº†ç¨‹åºä¸­æ¯ä¸ªè¯­å¥ï¼Œä½†å¹¶ä¸ä¸€å®šæµ‹è¯•è¦†ç›–æ‰€æœ‰åˆ†æ”¯ã€‚è¯•å›¾è¦†ç›–ç¨‹åºä¸­æ‰€æœ‰è·¯å¾„çš„æµ‹è¯•æ–¹æ³•ç§°ä¸º<strong>è·¯å¾„è¦†ç›–</strong>ã€‚è·¯å¾„æµ‹è¯•çš„æœ€ç®€å•å½¢å¼å°±æ˜¯<strong>åˆ¤å®šè¦†ç›–æµ‹è¯•</strong>ã€‚<br><strong>åˆ¤å®šè¦†ç›–æµ‹è¯•åŸºæœ¬æ€æƒ³</strong>:è®¾è®¡è‹¥å¹²ç”¨ä¾‹ï¼Œè¿è¡Œè¢«æµ‹ç¨‹åºï¼Œä½¿å¾—ç¨‹åºä¸­æ¯ä¸ªåˆ¤æ–­è¯­å¥çš„å–çœŸåˆ†æ”¯å’Œå–å‡åˆ†æ”¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œå³åˆ¤æ–­çœŸå‡å€¼å‡å¯è¢«æ»¡è¶³ã€‚ä¸€ä¸ªåˆ¤å®šå¾€å¾€ä»£è¡¨ç¨‹åºçš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæ‰€ä»¥åˆ¤å®šè¦†ç›–æµ‹è¯•ä¹Ÿç§°ä¸º<strong>åˆ†æ”¯è¦†ç›–æµ‹è¯•</strong>ã€‚</p>
<p>åˆ¤å®šè¦†ç›–æµ‹è¯•èƒ½å‘ç°ç¨‹åºä¸­ä¸€äº›æ°¸è¿œä¸èƒ½è¢«æ‰§è¡Œçš„åˆ†æ”¯ç¼ºé™·ï¼Œå¯ä»¥å‘ç°éƒ¨åˆ†é€»è¾‘ç¼ºé™·ã€‚</p>
<p><strong>æ¡ä»¶è¦†ç›–</strong>çš„åŸºæœ¬æ€æƒ³æ˜¯è®¾è®¡è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å…¶å¯¹è¢«æµ‹ç¨‹åºè¿›è¡Œæµ‹è¯•ï¼Œä½¿æ¯ä¸ªåˆ¤æ–­ä¸­æ¯ä¸ªæ¡ä»¶çš„å¯èƒ½å–å€¼è‡³å°‘æ»¡è¶³ä¸€æ¬¡ã€‚</p>
<p>ç¬¦åˆæ¡ä»¶è¦†ç›–çš„æµ‹è¯•ç”¨ä¾‹å¹¶ä¸ä¸€å®šæ»¡è¶³åˆ¤å®šè¦†ç›–è¦æ±‚ï¼Œåä¹‹ï¼Œç¬¦åˆåˆ¤å®šè¦†ç›–çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿä¸ä¸€å®šæ»¡è¶³æ¡ä»¶è¦†ç›–è¦æ±‚ã€‚å› æ­¤ï¼Œéœ€è¦æ‰¾å‡ºç¬¦åˆä¸¤è€…çš„æµ‹è¯•ç”¨ä¾‹äº¤é›†ï¼Œè¯¥æ–¹æ³•ç§°ä¸º<strong>åˆ¤å®š-æ¡ä»¶è¦†ç›–</strong>ã€‚</p>
<p><strong>æ¡ä»¶ç»„åˆè¦†ç›–</strong>çš„åŸºæœ¬æ€æƒ³æ˜¯è®¾è®¡è¶³å¤Ÿçš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿å¾—åˆ¤æ–­ä¸­æ¯ä¸ªæ¡ä»¶çš„æ‰€æœ‰å–å€¼æƒ…å†µè‡³å°‘å‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸”æ¯ä¸ªåˆ¤æ–­æœ¬èº«çš„åˆ¤å®šç»“æœä¹Ÿè‡³å°‘å‡ºç°ä¸€æ¬¡ã€‚æ¡ä»¶ç»„åˆæµ‹è¯•ä¸ä¸€å®šèƒ½è¦†ç›–æ‰€æœ‰è·¯å¾„ã€‚</p>
<p><strong>åŸºæœ¬è·¯å¾„è¦†ç›–</strong>å°±æ˜¯è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–ç¨‹åºä¸­æ‰€æœ‰å¯èƒ½çš„åŸºæœ¬åˆ†æ”¯è·¯å¾„ã€‚<br>åŸºæœ¬è·¯å¾„è¦†ç›–å±€é™:ä¸èƒ½ä¿è¯è¦†ç›–æ‰€æœ‰æ¡ä»¶ç»„åˆ</p>
<p>åŸºæœ¬è·¯å¾„è¦†ç›–æµ‹è¯•ç”¨ä¾‹è®¾è®¡æ­¥éª¤:</p>
<blockquote>
<p>ä¾æ®ä»£ç ç»˜åˆ¶æµç¨‹å›¾<br>ç¡®å®šæµç¨‹å›¾çš„ç¯è·¯å¤æ‚åº¦<br>ç¡®å®šå„ä¸ªç‹¬ç«‹è·¯å¾„çš„åŸºæœ¬é›†åˆ<br>è®¾è®¡æµ‹è¯•ç”¨ä¾‹è¦†ç›–æ¯æ¡åŸºæœ¬è·¯å¾„</p>
</blockquote>
<p>è®¡ç®—ç¯è·¯å¤æ‚åº¦ï¼š</p>
<blockquote>
<p>ï¼ˆ1ï¼‰æµå›¾ä¸­çš„åŒºåŸŸæ•°ç­‰äºç¯å½¢å¤æ‚åº¦ã€‚<br>ï¼ˆ2ï¼‰æµå›¾Gçš„ç¯å½¢å¤æ‚åº¦V(G)&#x3D;E-N+2ï¼Œå…¶ä¸­ï¼ŒEæ˜¯æµå›¾ä¸­è¾¹çš„æ¡æ•°ï¼ŒNæ˜¯ç»“ç‚¹æ•°ã€‚<br>ï¼ˆ3ï¼‰æµå›¾Gçš„ç¯å½¢å¤æ‚åº¦V(G)&#x3D;P+1ï¼Œå…¶ä¸­ï¼ŒPæ˜¯æµå›¾ä¸­åˆ¤å®šç»“ç‚¹çš„æ•°ç›®ã€‚</p>
</blockquote>
<h2 id="ç¬¬å››ç« -æµ‹è¯•æµç¨‹å’Œè§„èŒƒ"><a href="#ç¬¬å››ç« -æµ‹è¯•æµç¨‹å’Œè§„èŒƒ" class="headerlink" title="ç¬¬å››ç«   æµ‹è¯•æµç¨‹å’Œè§„èŒƒ"></a>ç¬¬å››ç«   æµ‹è¯•æµç¨‹å’Œè§„èŒƒ</h2><p>è½¯ä»¶æµ‹è¯•è¿‡ç¨‹ï¼š</p>
<p>è½¯ä»¶å·¥ç¨‹è§’åº¦<br>éœ€æ±‚è¯„å®¡â†’è®¾è®¡è¯„å®¡â†’å•å…ƒæµ‹è¯•â†’é›†æˆæµ‹è¯•â†’ç³»ç»Ÿæµ‹è¯•â†’éªŒæ”¶æµ‹è¯•</p>
<p>é¡¹ç›®ç®¡ç†è§’åº¦<br>æµ‹è¯•è®¡åˆ’â†’æµ‹è¯•è®¾è®¡â†’æ‰§è¡Œä¸ç›‘æ§â†’ç»“æœåˆ†æä¸è¯„ä¼°â†’é¡¹ç›®æ€»ç»“</p>
<p><strong>æ•æ·æµ‹è¯•</strong>ï¼ˆè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ˜¯ä¸€ç§éµä»æ•æ·è½¯ä»¶å¼€å‘åŸåˆ™ï¼Œæ”¯æŒæ•æ·è½¯ä»¶å¼€å‘å®ç°è´¨é‡æ§åˆ¶çš„æµ‹è¯•å®è·µã€‚<br><strong>TMap</strong> (Test Management Approachï¼Œæµ‹è¯•ç®¡ç†æ–¹æ³•)æ˜¯ä¸€ç§ä¸šåŠ¡é©±åŠ¨çš„ã€åŸºäºé£é™©ç­–ç•¥çš„ã€ç»“æ„åŒ–çš„æµ‹è¯•ç®¡ç†æ–¹æ³•ï¼Œå…¶ç›®æ ‡æ˜¯å°½æ—©åœ°å‘ç°ç¼ºé™·ï¼Œä»¥æœ€å°çš„æˆæœ¬ã€æœ‰æ•ˆåœ°ã€å½»åº•åœ°å®Œæˆæµ‹è¯•ä»»åŠ¡ï¼Œä»¥å‡å°‘è½¯ä»¶å‘å¸ƒåçš„æ”¯æŒæˆæœ¬ã€‚</p>
<p><strong>åŸºäºè„šæœ¬æµ‹è¯•</strong>(Scripted Testingï¼ŒSTï¼‰ï¼Œæ— è®ºæ˜¯æ‰‹å·¥æµ‹è¯•ï¼Œè¿˜æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œéƒ½éœ€è¦å…ˆè®¾è®¡ç”¨ä¾‹ï¼Œç”Ÿæˆæµ‹è¯•è„šæœ¬ï¼Œç„¶åæ‰§è¡Œè„šæœ¬å®æ–½æµ‹è¯•ã€‚<br><strong>æ¢ç´¢å¼æµ‹è¯•</strong>(Exploratory Testingï¼ŒETï¼‰ï¼Œä¸éœ€è¦è®¾è®¡ç”¨ä¾‹ï¼Œä¸€è¾¹æ€è€ƒï¼Œä¸€è¾¹æµ‹è¯•ã€‚<br><em><strong>åœ¨æ•æ·æµ‹è¯•ä¸­ï¼Œåˆ™ä¸»è¦é‡‡ç”¨æ¢ç´¢å¼æµ‹è¯•ï¼ŒåŸºäºè„šæœ¬æµ‹è¯•åˆ™ä½œä¸ºè¡¥å……</strong></em>;è€Œåœ¨ä¼ ç»Ÿæµ‹è¯•ä¸­ï¼Œä¸»è¦é‡‡ç”¨åŸºäºè„šæœ¬æµ‹è¯•ï¼Œæ¢ç´¢å¼æµ‹è¯•ä½œä¸ºè¡¥å……ã€‚</p>
<h2 id="ç¬¬äº”ç« -å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•"><a href="#ç¬¬äº”ç« -å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•" class="headerlink" title="ç¬¬äº”ç«  å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•"></a>ç¬¬äº”ç«  å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•</h2><p><strong>å•å…ƒé™æ€æµ‹è¯•</strong>æ˜¯æŒ‡ä¸è¿è¡Œè¢«æµ‹ç¨‹åºæœ¬èº«ï¼Œä»…é€šè¿‡åˆ†ææˆ–æ£€æŸ¥æºç¨‹åºçš„è¯­æ³•ã€ç»“æ„ã€è¿‡ç¨‹ã€æ¥å£ç­‰æ¥æ£€æŸ¥ç¨‹åºçš„æ­£ç¡®æ€§ã€‚ä¸»è¦é‡‡ç”¨äº’æŸ¥ã€èµ°æŸ¥ã€è¯„å®¡æ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼Œä¹Ÿå¯é€šè¿‡ä»£ç ç¼ºé™·æ‰«æå·¥å…·è¿›è¡Œåˆ†æå¤„ç†ã€‚</p>
<p>ä»£ç ç¤ºä¾‹1ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ç”¨æˆ·UIç•Œé¢è¾“å…¥çš„ç”¨æˆ·åï¼Œä¼ é€’åˆ°Actionå±‚ï¼Œè¿›è¡Œç”¨æˆ·è§’è‰²è¯†åˆ«æ“ä½œ</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request HttpServletRequestå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String ç”¨æˆ·è§’è‰²ï¼Œå¦‚ç®¡ç†å‘˜/æ™®é€šç”¨æˆ·/...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getUserRole</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">userRole</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">userName</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userName&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (userName.equals(<span class="string">&quot;schadmin&quot;</span>)) &#123;</span><br><span class="line">        <span class="comment">// è¿™æ˜¯ç³»ç»Ÿåˆå§‹åŒ–æ—¶é»˜è®¤çš„ç®¡ç†å‘˜è´¦å·ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿›è¡Œä»¥ä¸‹éªŒè¯æ“ä½œ...      </span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// éç³»ç»Ÿåˆå§‹åŒ–çš„è´¦å·ï¼Œè¿›è¡Œä»¥ä¸‹éªŒè¯æ“ä½œ...</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> userRole;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>userNameå¯èƒ½ä¼šå‡ºç°ç©ºæŒ‡é’ˆæƒ…å†µ</p>
<p>ä¿®æ”¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ç”¨æˆ·UIç•Œé¢è¾“å…¥çš„ç”¨æˆ·åï¼Œä¼ é€’åˆ°Actionå±‚ï¼Œè¿›è¡Œç”¨æˆ·è§’è‰²è¯†åˆ«æ“ä½œ</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request HttpServletRequestå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String ç”¨æˆ·è§’è‰²ï¼Œå¦‚ç®¡ç†å‘˜/æ™®é€šç”¨æˆ·/...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getUserRole</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">userRole</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">userName</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userName&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;schadmin&quot;</span>.equals(userName)) &#123;</span><br><span class="line">        <span class="comment">// è¿™æ˜¯ç³»ç»Ÿåˆå§‹åŒ–æ—¶é»˜è®¤çš„ç®¡ç†å‘˜è´¦å·ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿›è¡Œä»¥ä¸‹éªŒè¯æ“ä½œ...      </span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// éç³»ç»Ÿåˆå§‹åŒ–çš„è´¦å·ï¼Œè¿›è¡Œä»¥ä¸‹éªŒè¯æ“ä½œ...</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> userRole;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç ç¤ºä¾‹2</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ç”¨æˆ·è¾“å…¥çš„å¹´é¾„ï¼Œè½¬æ¢ä¸ºæ•°å€¼å‹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request HttpServletRequestå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Integer ç”¨æˆ·å¹´é¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getUserAge</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">userAge</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userAge&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (userAge != <span class="literal">null</span>) &#123;</span><br><span class="line">        age = Integer.parseInt(userAge);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>userAgeå¯èƒ½ä¸æ˜¯å­—ç¬¦å‹æ•°å­—ã€‚</p>
<p>å»ºè®®å†™ä¸€ä¸ªUtilå·¥å…·ç±»ï¼Œå®ç°ä¸€äº›å¸¸è§çš„æ•°æ®è½¬æ¢æ–¹æ³•ï¼Œä»¥ä¾›è°ƒç”¨:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¼ å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´å‹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> intStr String</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Integer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getIntValue</span><span class="params">(String intStr)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">parseInt</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (isNumeric(intStr)) &#123;</span><br><span class="line">        parseInt = Integer.parseInt(intStr);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> parseInt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç 3</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‡è®¾ç”µè¯å·ç å­—ç¬¦ä¸²è®¾è®¡çš„æ ‡å‡†æ ¼å¼ä¸º: å›½å®¶ç¼–ç -åŒºä½å·ç -ç”µè¯å·ç -åˆ†æœºå·</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strPhoneNumber String</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> String ç”µè¯å·ç  (å¦‚: ä¾‹å­ä¸­çš„2313222)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getPhoneNumber</span><span class="params">(String strPhoneNumber)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (strPhoneNumber == <span class="literal">null</span> || <span class="string">&quot;&quot;</span>.equals(strPhoneNumber)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    String[] arrPhone = strPhoneNumber.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> arrPhone[<span class="number">2</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½å‡ºç°æ•°ç»„è¶Šç•Œé”™è¯¯ã€‚</p>
<p>ä¿®æ”¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">getPhoneNumber</span><span class="params">(String strPhoneNumber)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (strPhoneNumber == <span class="literal">null</span> || <span class="string">&quot;&quot;</span>.equals(strPhoneNumber)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    String[] arrPhone = strPhoneNumber.split(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (arrPhone.length &gt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> arrPhone[<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä»£ç 4</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">writeString</span><span class="params">(File file, String writeContent, String encoding)</span> <span class="keyword">throws</span> FileOperatorException &#123;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">            file.createNewFile();</span><br><span class="line">        &#125;</span><br><span class="line">        fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line">        fos.write(writeContent.getBytes(encoding));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">FileOperatorException</span>(ex);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">writeString</span><span class="params">(File file, String writeContent, String encoding)</span> <span class="keyword">throws</span> FileOperatorException &#123;</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">            file.createNewFile();</span><br><span class="line">        &#125;</span><br><span class="line">        fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br><span class="line">        fos.write(writeContent.getBytes(encoding));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">FileOperatorException</span>(ex);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;<span class="comment">//å¦‚æœæ²¡æœ‰finallyä¸‹é¢çš„æ®µè¯­å¥ï¼Œå°±æ— æ³•é‡Šæ”¾æ–‡ä»¶èµ„æº</span></span><br><span class="line">         <span class="keyword">if</span> (fos != <span class="literal">null</span>)&#123;</span><br><span class="line">             <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">FileOperatorException</span>(e);</span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†ç¡®ä¿ä»£ç åœ¨è¿è¡Œå¯é ã€åŠŸèƒ½æ­£ç¡®å¹¶ä¸”èƒ½å¤Ÿæœ‰è‰¯å¥½çš„æ€§èƒ½å“åº”ï¼Œä»…ä»…è¿›è¡Œé™æ€æµ‹è¯•æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»å°†è¯¥å•å…ƒä»£ç è¿è¡Œèµ·æ¥ï¼ŒéªŒè¯ä»£ç ä¸šåŠ¡é€»è¾‘åˆç†æ€§ï¼Œå¹¶äº†è§£å•å…ƒä»£ç çš„å®é™…è¡¨ç°ï¼Œå³å¯¹å•å…ƒä»£ç è¿›è¡Œ<strong>åŠ¨æ€æµ‹è¯•</strong>ã€‚</p>
<p>åŠ¨æ€æµ‹è¯•å®ç°åŸç†</p>
<blockquote>
<p>é©±åŠ¨ç¨‹åº(Driver)<br>è¢«æµ‹å•å…ƒ(Unit)<br>æ¡©ç¨‹åº(Stub)</p>
</blockquote>
<p>æ¡©æ¨¡å—å’Œé©±åŠ¨æ¨¡å—çš„æ¦‚å¿µæä¸æ¸…æ¥šï¼Œé‚£ä¹ˆä¸‹é¢æ¥ä»‹ç»è¿™ä¸¤ä¸ªæ¦‚å¿µï¼š </p>
<blockquote>
<p>ã€€ã€€å‡è®¾ç°åœ¨é¡¹ç›®ç»„æŠŠä»»åŠ¡åˆ†ç»™äº†7ä¸ªäººï¼Œæ¯ä¸ªäººè´Ÿè´£å®ç°ä¸€ä¸ªæ¨¡å—ã€‚ä½ è´Ÿè´£çš„æ˜¯Bæ¨¡å—ï¼Œä½ å¾ˆä¼˜ç§€ï¼Œç¬¬ä¸€ä¸ªå®Œæˆäº†ç¼–ç å·¥ä½œï¼Œç°åœ¨éœ€è¦å¼€å±•å•å…ƒæµ‹è¯•å·¥ä½œï¼Œå…ˆåˆ†æç»“æ„å›¾ï¼š<br>ã€€ã€€1ã€ç”±äºBæ¨¡å—ä¸æ˜¯æœ€é¡¶å±‚æ¨¡å—ï¼Œæ‰€ä»¥å®ƒä¸€å®šä¸åŒ…å«mainå‡½æ•°(Aæ¨¡å—åŒ…å«mainå‡½æ•°)ï¼Œä¹Ÿå°±ä¸èƒ½ç‹¬ç«‹è¿è¡Œã€‚<br>ã€€ã€€2ã€Bæ¨¡å—è°ƒç”¨äº†Dæ¨¡å—å’ŒEæ¨¡å—ï¼Œè€Œç›®å‰Dæ¨¡å—å’ŒEæ¨¡å—éƒ½è¿˜æ²¡æœ‰å¼€å‘å¥½ï¼Œé‚£ä¹ˆæƒ³è®©Bæ¨¡å—é€šè¿‡ç¼–è¯‘å™¨çš„ç¼–è¯‘ä¹Ÿæ˜¯ä¸å¯èƒ½çš„ã€‚<br>ã€€ã€€é‚£ä¹ˆæ€æ ·æ‰èƒ½æµ‹è¯•Bæ¨¡å—å‘¢?éœ€è¦åšï¼š<br>ã€€ã€€1ã€å†™ä¸¤ä¸ªæ¨¡å—Sdå’ŒSeåˆ†åˆ«ä»£æ›¿Dæ¨¡å—å’ŒEæ¨¡å—(å‡½æ•°åã€è¿”å›å€¼ã€ä¼ é€’çš„å‚æ•°ç›¸åŒ)ï¼Œè¿™æ ·Bæ¨¡å—å°±å¯ä»¥é€šè¿‡ç¼–è¯‘äº†ã€‚Sdæ¨¡å—å’ŒSeæ¨¡å—å°±æ˜¯æ¡©æ¨¡å—ã€‚<br>ã€€ã€€2ã€å†™ä¸€ä¸ªæ¨¡å—Daç”¨æ¥ä»£æ›¿Aæ¨¡å—ï¼Œé‡Œé¢åŒ…å«mainå‡½æ•°ï¼Œå¯ä»¥åœ¨mainå‡½æ•°ä¸­è°ƒç”¨Bæ¨¡å—ï¼Œè®©Bæ¨¡å—è¿è¡Œèµ·æ¥ã€‚Daæ¨¡å—å°±æ˜¯é©±åŠ¨æ¨¡å—ã€‚<br>ã€€ã€€æ¡©æ¨¡å—çš„ä½¿å‘½é™¤äº†ä½¿å¾—ç¨‹åºèƒ½å¤Ÿç¼–è¯‘é€šè¿‡ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ¨¡æ‹Ÿè¿”å›è¢«ä»£æ›¿çš„æ¨¡å—çš„å„ç§å¯èƒ½è¿”å›å€¼(ä»€ä¹ˆæ—¶å€™è¿”å›ä»€ä¹ˆå€¼éœ€è¦æ ¹æ®æµ‹è¯•ç”¨ä¾‹çš„æƒ…å†µæ¥å†³å®š)ã€‚<br>ã€€ã€€é©±åŠ¨æ¨¡å—çš„ä½¿å‘½å°±æ˜¯æ ¹æ®æµ‹è¯•ç”¨ä¾‹çš„è®¾è®¡å»è°ƒç”¨è¢«æµ‹è¯•æ¨¡å—ï¼Œå¹¶ä¸”åˆ¤æ–­è¢«æµ‹è¯•æ¨¡å—çš„è¿”å›å€¼æ˜¯å¦ä¸æµ‹è¯•ç”¨ä¾‹çš„é¢„æœŸç»“æœç›¸ç¬¦</p>
</blockquote>
<p>é›†æˆæµ‹è¯•æ¨¡å¼:</p>
<blockquote>
<p><strong>éæ¸å¢å¼é›†æˆæµ‹è¯•</strong><br>å…ˆåˆ†åˆ«æµ‹è¯•æ¯ä¸ªæ¨¡å—ï¼Œå†æŠŠæ‰€æœ‰æ¨¡å—æŒ‰è®¾è®¡è¦æ±‚ç»„è£…åœ¨ä¸€èµ·ï¼Œç„¶åå†è¿›è¡Œé›†æˆç¨‹åºçš„æµ‹è¯•ã€‚<br><strong>æ¸å¢å¼é›†æˆæµ‹è¯•</strong><br>æŠŠä¸‹ä¸€ä¸ªå¾…æµ‹è¯•çš„æ¨¡å—åŒå·²ç»æµ‹è¯•å¥½çš„æ¨¡å—ç»“åˆèµ·æ¥è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•å®Œä»¥åå†æŠŠä¸‹ä¸€ä¸ªå¾…æµ‹è¯•æ¨¡å—ç»“åˆè¿›æ¥æµ‹è¯•ã€‚</p>
</blockquote>
<p><a href="https://smms.app/image/rnOYwCVIDNeBuol" target="_blank"><img src="https://s2.loli.net/2023/06/02/rnOYwCVIDNeBuol.png" alt="HU3PI_3`VKVH_46F9W_GL_4.png"></a></p>
<p><img src="https://s2.loli.net/2023/06/02/qkVeM75SoWYvXg4.png" alt="E_Y5_DZ_B7D_8_Y_B__R_Q8.png"></p>
<p>ä»¥ä¸Šä¸¤ç§æµ‹è¯•æ¨¡å¼éƒ½å±äºæ¸å¢å¼é›†æˆæµ‹è¯•ã€‚</p>
<p>é’ˆå¯¹å¶èŠ‚ç‚¹æ¨¡å—è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä¸‹é¢å“ªé¡¹ä¸æ˜¯å¿…é¡»çš„?<br>A.æµ‹è¯•æ•°æ®	B.è¢«æµ‹å•å…ƒ	C.é©±åŠ¨ç¨‹åº	D.æ¡©ç¨‹åº</p>
<blockquote>
<p>ç„¶è€Œï¼Œå¯¹äºå¶èŠ‚ç‚¹æ¨¡å—çš„å•å…ƒæµ‹è¯•è€Œè¨€ï¼Œé€šå¸¸ä¸éœ€è¦ä½¿ç”¨æ¡©ç¨‹åºã€‚å¶èŠ‚ç‚¹æ¨¡å—æ˜¯æŒ‡åœ¨è½¯ä»¶ç³»ç»Ÿä¸­æ²¡æœ‰å…¶ä»–ä¾èµ–çš„æœ€åº•å±‚æ¨¡å—ï¼Œä¹Ÿè¢«ç§°ä¸ºå¶å­èŠ‚ç‚¹æˆ–å¶å­æ¨¡å—ã€‚ç”±äºå®ƒä»¬ä¸ä¾èµ–å…¶ä»–æ¨¡å—æˆ–å¤–éƒ¨ç³»ç»Ÿï¼Œæ‰€ä»¥ä¸éœ€è¦æ¨¡æ‹Ÿæˆ–æ›¿ä»£ä»»ä½•å¤–éƒ¨ä¾èµ–é¡¹çš„è¡Œä¸ºã€‚</p>
</blockquote>
<h2 id="ç¬¬å…­ç« -ç³»ç»Ÿæµ‹è¯•"><a href="#ç¬¬å…­ç« -ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="ç¬¬å…­ç«  ç³»ç»Ÿæµ‹è¯•"></a>ç¬¬å…­ç«  ç³»ç»Ÿæµ‹è¯•</h2><p><strong>åŠŸèƒ½æµ‹è¯•</strong>å°±æ˜¯å¯¹è½¯ä»¶ç³»ç»Ÿçš„å„åŠŸèƒ½è¿›è¡ŒéªŒè¯ï¼Œæ ¹æ®ç³»ç»ŸåŠŸèƒ½éœ€æ±‚ï¼Œé€é¡¹æµ‹è¯•ç³»ç»ŸåŠŸèƒ½æ˜¯å¦è¾¾åˆ°ç”¨æˆ·è¦æ±‚ã€‚</p>
<p><strong>å›å½’æµ‹è¯•</strong>æ˜¯æŒ‡ä¿®æ”¹äº†æºä»£ç åï¼Œé‡æ–°è¿›è¡Œç³»ç»ŸåŠŸèƒ½æµ‹è¯•ä»¥ç¡®è®¤ä¿®æ”¹æ²¡æœ‰å¼•å…¥æ–°çš„é”™è¯¯æˆ–å¯¼è‡´å…¶ä»–ä»£ç äº§ç”Ÿé”™è¯¯ï¼ˆ<strong>å›å½’ç¼ºé™·</strong>ï¼‰ã€‚</p>
<p><strong>æ€§èƒ½æµ‹è¯•</strong>æ˜¯ä¸€ç§ä¸ºäº†å‘ç°ç³»ç»Ÿæ€§èƒ½é—®é¢˜æˆ–è·å–ç³»ç»Ÿæ€§èƒ½ç›¸å…³æŒ‡æ ‡è€Œè¿›è¡Œçš„æµ‹è¯•ã€‚ä¸€èˆ¬åœ¨çœŸå®ç¯å¢ƒã€ç‰¹å®šè´Ÿè½½æ¡ä»¶ä¸‹ï¼Œé€šè¿‡æµ‹è¯•å·¥å…·æ¨¡æ‹Ÿå®é™…è½¯ä»¶ç³»ç»Ÿçš„è¿è¡ŒåŠå…¶æ“ä½œï¼ŒåŒæ—¶ç›‘æ§æ€§èƒ½å„é¡¹æŒ‡æ ‡ï¼Œæœ€åå¯¹æµ‹è¯•ç»“æœè¿›è¡Œåˆ†ææ¥ç¡®å®šç³»ç»Ÿçš„æ€§èƒ½çŠ¶å†µã€‚</p>
<p>å¸¸è§ç³»ç»Ÿæ€§èƒ½é—®é¢˜</p>
<blockquote>
<p>èµ„æºè€—å°½:CPUä½¿ç”¨ç‡è¾¾åˆ°100%<br>èµ„æºæ³„éœ²:å†…å­˜æ³„éœ²å¯¼è‡´èµ„æºè€—å°½<br>èµ„æºç“¶é¢ˆ:ç¼ºå°‘å¯ç”¨çº¿ç¨‹ã€DBè¿æ¥èµ„æº</p>
</blockquote>
<p><strong>è´Ÿè½½æµ‹è¯•</strong>ï¼ˆLoad Testï¼‰ï¼šè´Ÿè½½æµ‹è¯•æ˜¯ä¸€ç§æ€§èƒ½æµ‹è¯•ï¼ŒæŒ‡æ•°æ®åœ¨è¶…è´Ÿè·ç¯å¢ƒä¸­è¿è¡Œï¼Œç¨‹åºæ˜¯å¦èƒ½å¤Ÿæ‰¿æ‹…ã€‚ å…³æ³¨ç‚¹ï¼šhow much</p>
<p><strong>å‹åŠ›æµ‹è¯•</strong>ï¼ˆStress Testï¼‰ï¼š å‹åŠ›æµ‹è¯•ï¼ˆåˆå«å¼ºåº¦æµ‹è¯•ï¼‰ä¹Ÿæ˜¯ä¸€ç§æ€§èƒ½æµ‹è¯•ï¼Œå®ƒåœ¨ç³»ç»Ÿèµ„æºç‰¹åˆ«ä½çš„æƒ…å†µä¸‹è½¯ä»¶ç³»ç»Ÿè¿è¡Œæƒ…å†µï¼Œç›®çš„æ˜¯æ‰¾åˆ°ç³»ç»Ÿåœ¨å“ªé‡Œå¤±æ•ˆä»¥åŠå¦‚ä½•å¤±æ•ˆçš„åœ°æ–¹ã€‚</p>
<p><strong>å®¹é‡æµ‹è¯•</strong>(Volume Test)ï¼šç¡®å®šç³»ç»Ÿå¯å¤„ç†åŒæ—¶åœ¨çº¿çš„æœ€å¤§ç”¨æˆ·æ•° å…³æ³¨ç‚¹ï¼šhow muchï¼ˆè€Œä¸æ˜¯how fastï¼‰ å®¹é‡æµ‹è¯•ï¼Œé€šå¸¸å’Œæ•°æ®åº“æœ‰å…³ï¼Œå®¹é‡å’Œè´Ÿè½½çš„åŒºåˆ«åœ¨äºï¼šå®¹é‡å…³æ³¨çš„æ˜¯å¤§å®¹é‡ï¼Œè€Œä¸éœ€è¦å…³æ³¨ä½¿ç”¨ä¸­çš„å®é™…è¡¨ç°ã€‚</p>
<p>å…¶ä¸­ï¼Œå®¹é‡æµ‹è¯•ã€è´Ÿè½½æµ‹è¯•ã€å‹åŠ›æµ‹è¯•çš„è‹±æ–‡è§£é‡Šä¸ºï¼š</p>
<blockquote>
<p>Volume Testing &#x3D; Large amounts of data<br>Load Testing &#x3D; Large amount of users<br>Stress Testing &#x3D; Too many users, too much data, too little time and too little room</p>
</blockquote>
<p>å‡è®¾ä¸€ä¸ªä¸šåŠ¡ç³»ç»Ÿæœ‰1ä¸‡ä¸ªæ³¨å†Œç”¨æˆ·ï¼Œæ¯å¤©æœ‰1åŠç”¨æˆ·ä¼šåœ¨ä¸Šç­æ—¶é—´ï¼ˆ8å°æ—¶)è®¿é—®è¯¥ç³»ç»Ÿï¼Œå¹³å‡åœ¨çº¿æ—¶é—´ä¸º1ä¸ªå°æ—¶ã€‚é‚£ä¹ˆè®¿é—®è¯¥ç³»ç»Ÿçš„ä¸Šç­æ—¶é—´å¹³å‡æ¯åˆ†é’Ÿåœ¨çº¿ç”¨æˆ·æ•°ä¸ºå¤šå°‘?<br>5000Ã—60&#x2F;(8Ã—60)&#x3D;625</p>
<p><img src="https://s2.loli.net/2023/06/02/TSQZBrG6hRD1NCn.png" alt="Y_TBOAQ0UR1TJ27T2@S4SQY.png"></p>
<p><strong>å®¹é”™æ€§æµ‹è¯•</strong>æ˜¯æ£€æŸ¥ç³»ç»Ÿå®¹é”™èƒ½åŠ›ï¼Œå³ç³»ç»Ÿåœ¨å¼‚å¸¸æ¡ä»¶ä¸‹è‡ªèº«æ˜¯å¦å…·æœ‰é˜²æŠ¤æ€§çš„æªæ–½æˆ–è€…æŸç§ç¾éš¾æ€§æ¢å¤çš„æ‰‹æ®µã€‚</p>
<p><strong>å…¼å®¹æ€§æµ‹è¯•</strong>æ˜¯æŒ‡æµ‹è¯•è½¯ä»¶åœ¨ç‰¹å®šçš„ç¡¬ä»¶å¹³å°ä¸Šã€ä¸åŒçš„åº”ç”¨è½¯ä»¶ä¹‹é—´ã€ä¸åŒçš„æ“çºµç³»ç»Ÿå¹³å°ä¸Šã€ä¸åŒçš„ç½‘ç»œç­‰ç¯å¢ƒä¸­æ˜¯å¦èƒ½å¤Ÿå¾ˆå‹å¥½çš„è¿è¡Œã€‚</p>
<p><strong>è½¯ä»¶å¯é æ€§</strong>æ˜¯æŒ‡è½¯ä»¶ç³»ç»Ÿåœ¨è§„å®šæ—¶é—´å†…åŠè§„å®šç¯å¢ƒæ¡ä»¶ä¸‹ï¼Œå®Œæˆç‰¹å®šåŠŸèƒ½çš„èƒ½åŠ›ã€‚</p>
<p>è½¯ä»¶å¯é æ€§è¯„ä¼°ï¼š<br>MTTF (Mean Time To Failure)â€”â€”ç³»ç»Ÿå¹³å‡æ— æ•…éšœæ—¶é—´</p>
<p>MTTR (Mean Time To Recover)â€”â€”æ•…éšœå¹³å‡ä¿®å¤æ—¶é—´</p>
<p>å¯ç”¨æ€§åº¦é‡&#x3D; MTTF &#x2F; (MTTF+MTTRï¼‰<br>ä¾‹:å¦‚æœç³»ç»Ÿæ¯è¿è¡Œ100ä¸ªæ—¶é—´å•ä½ï¼Œä¼šæœ‰1ä¸ªæ—¶é—´å•ä½æ— æ³•æä¾›æœåŠ¡ï¼Œå…¶ç³»ç»Ÿçš„å¯ç”¨æ€§æ˜¯99%ã€‚</p>
<p>ä¸‹é¢å“ªé¡¹ä¸æ˜¯ç³»ç»Ÿæ€§èƒ½é™ä½çš„åŸå› ?<br>Aï¼èµ„æºè€—å°½	<em><strong>Bï¼å“åº”æ—¶é—´æ…¢</strong></em>	Cï¼å†…å­˜æ³„æ¼	Dï¼ç½‘ç»œæ‹¥æŒ¤</p>
<h2 id="ç¬¬ä¸ƒç« -éªŒæ”¶æµ‹è¯•"><a href="#ç¬¬ä¸ƒç« -éªŒæ”¶æµ‹è¯•" class="headerlink" title="ç¬¬ä¸ƒç«  éªŒæ”¶æµ‹è¯•"></a>ç¬¬ä¸ƒç«  éªŒæ”¶æµ‹è¯•</h2><p><strong>éªŒæ”¶æµ‹è¯•</strong>æ˜¯åœ¨è½¯ä»¶äº§å“å®Œæˆäº†ç³»ç»Ÿæµ‹è¯•ä¹‹åã€äº§å“å‘å¸ƒä¹‹å‰æ‰€è¿›è¡Œçš„è½¯ä»¶æµ‹è¯•æ´»åŠ¨ï¼Œå®ƒæ˜¯è½¯ä»¶æµ‹è¯•çš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œä¹Ÿç§°<strong>äº¤ä»˜æµ‹è¯•</strong>ã€‚</p>
<p>æœ‰äº›å†…å®¹åœ¨ç¬¬äºŒç« è¯´åˆ°å•¦ï¼</p>
<h2 id="ç¬¬å…«ç« -è½¯ä»¶æœ¬åœ°åŒ–æµ‹è¯•"><a href="#ç¬¬å…«ç« -è½¯ä»¶æœ¬åœ°åŒ–æµ‹è¯•" class="headerlink" title="ç¬¬å…«ç«  è½¯ä»¶æœ¬åœ°åŒ–æµ‹è¯•"></a>ç¬¬å…«ç«  è½¯ä»¶æœ¬åœ°åŒ–æµ‹è¯•</h2><p><strong>è½¯ä»¶æœ¬åœ°åŒ–</strong>æ˜¯æŒ‡å°†æŸè½¯ä»¶äº§å“çš„ç”¨æˆ·ç•Œé¢ã€æ–‡æ¡£èµ„æ–™ã€åœ¨çº¿å¸®åŠ©ç­‰ä»å…¶æºè¯­è¨€å‘ç›®æ ‡è¯­è¨€è¿›è¡Œè½¬åŒ–ï¼Œä½¿ä¹‹é€‚åº”ç›®æ ‡è¯­è¨€åŠæ–‡åŒ–çš„å¤„ç†è¿‡ç¨‹ã€‚</p>
<p><strong>è½¯ä»¶å›½é™…åŒ–</strong>æ˜¯æŒ‡ä¸ºä¿è¯æ‰€å¼€å‘è½¯ä»¶äº§å“èƒ½é€‚åº”å›½é™…å¸‚åœºéœ€è¦ï¼Œé€šè¿‡ç‰¹å®šçš„ç³»ç»Ÿæ¶æ„è®¾è®¡ã€ä»£ç ç¼–ç¨‹æŠ€æœ¯æ”¯æŒè½¯ä»¶èƒ½åœ¨ä¸åŒè¯­è¨€ã€ä¸åŒæ–‡åŒ–çš„å›½å®¶åŠåœ°åŒºä½¿ç”¨ï¼Œä½¿å…¶åœ¨è¿›è¡Œæœ¬åœ°åŒ–æ—¶ä¸éœ€è¦ä¿®æ”¹è½¯ä»¶çš„ç¨‹åºä»£ç ã€‚</p>
<p><strong>è½¯ä»¶æœ¬åœ°åŒ–æµ‹è¯•</strong>æ˜¯æ ¹æ®è½¯ä»¶æœ¬åœ°åŒ–å¼€å‘å®Œæˆåï¼Œè®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶åˆ©ç”¨è¿™äº›æµ‹è¯•ç”¨ä¾‹å»è¿è¡Œè¢«æµ‹è¯•è½¯ä»¶ï¼Œä»¥å‘ç°è½¯ä»¶ç¨‹åºç¼ºé™·çš„è¿‡ç¨‹ã€‚ï¼ˆå«<strong>ç¿»è¯‘éªŒè¯</strong>ï¼‰</p>
<h2 id="ç¬¬ä¹ç« -æµ‹è¯•è‡ªåŠ¨åŒ–åŠå…¶æ¡†æ¶"><a href="#ç¬¬ä¹ç« -æµ‹è¯•è‡ªåŠ¨åŒ–åŠå…¶æ¡†æ¶" class="headerlink" title="ç¬¬ä¹ç«  æµ‹è¯•è‡ªåŠ¨åŒ–åŠå…¶æ¡†æ¶"></a>ç¬¬ä¹ç«  æµ‹è¯•è‡ªåŠ¨åŒ–åŠå…¶æ¡†æ¶</h2><p><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong>æ˜¯æŒ‡é‡‡ç”¨æµ‹è¯•å·¥å…·å®ç°ç¨‹åºé©±åŠ¨æ›¿ä»£äººé©±åŠ¨æ‰€å¼€å±•çš„è½¯ä»¶æµ‹è¯•æ´»åŠ¨ã€‚æµ‹è¯•è‡ªåŠ¨åŒ–é™¤åŒ…æ‹¬è‡ªåŠ¨åŒ–æµ‹è¯•ä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬æµ‹è¯•è¾…åŠ©å·¥ä½œçš„è‡ªåŠ¨åŒ–ã€‚</p>
<p>è‡ªåŠ¨åŒ–æµ‹è¯•ä¸èƒ½å®Œæˆä¸‹é¢å“ªé¡¹è´¨é‡æŒ‡æ ‡æµ‹è¯•?</p>
<p>A.æ­£ç¡®æ€§	B.å¯é æ€§	C.æ€§èƒ½æ•ˆç‡ 	D.æ˜“ç”¨æ€§</p>
<p>è‡ªåŠ¨åŒ–æµ‹è¯•å¯ä»¥ç”¨äºæµ‹è¯•æ­£ç¡®æ€§ã€å¯é æ€§å’Œæ€§èƒ½æ•ˆç‡ç­‰è´¨é‡æŒ‡æ ‡ï¼Œä½†å¯¹äºæ˜“ç”¨æ€§çš„æµ‹è¯•åˆ™ç›¸å¯¹æœ‰é™ã€‚æ˜“ç”¨æ€§é€šå¸¸æ¶‰åŠåˆ°ç”¨æˆ·ç•Œé¢çš„å¯æ“ä½œæ€§ã€ç”¨æˆ·ä½“éªŒå’Œç”¨æˆ·å‹å¥½æ€§ç­‰æ–¹é¢ï¼Œè¿™äº›ç‰¹å¾éš¾ä»¥å®Œå…¨é€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•æ¥è¦†ç›–å’Œè¯„ä¼°ã€‚æ˜“ç”¨æ€§æµ‹è¯•é€šå¸¸éœ€è¦äººå·¥å‚ä¸ï¼Œé€šè¿‡ç”¨æˆ·å®é™…æ“ä½œå’Œåé¦ˆæ¥è¯„ä¼°ç³»ç»Ÿçš„æ˜“ç”¨æ€§ã€‚</p>
<p><strong>JUnit</strong>æ˜¯ä¸€ç§ç™½ç›’æµ‹è¯•å·¥å…·ï¼Œå› ä¸ºå®ƒä¸»è¦ç”¨äºå•å…ƒæµ‹è¯•ï¼Œå¯ä»¥ç›´æ¥è®¿é—®å’Œæµ‹è¯•ä»£ç çš„å†…éƒ¨ç»“æ„å’Œé€»è¾‘ã€‚å®ƒé€šå¸¸ç”¨äºJavaå¼€å‘ç¯å¢ƒä¸­ï¼Œç”¨äºæµ‹è¯•Javaåº”ç”¨ç¨‹åºçš„å„ä¸ªå•å…ƒå’Œæ¨¡å—ã€‚<strong>UFT</strong>ï¼ˆUnified Functional Testingï¼‰æ˜¯ä¸€ç§é»‘ç›’æµ‹è¯•å·¥å…·ï¼Œç”¨äºåŠŸèƒ½æµ‹è¯•å’Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚å®ƒä¸»è¦ç”¨äºæµ‹è¯•åº”ç”¨ç¨‹åºçš„å¤–éƒ¨è¡Œä¸ºå’Œç”¨æˆ·ç•Œé¢ï¼Œè€Œä¸éœ€è¦äº†è§£åº”ç”¨ç¨‹åºçš„å†…éƒ¨å®ç°ã€‚<br><strong>Load Runner</strong>æ˜¯ä¸€ç§æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œç”¨äºæµ‹è¯•åº”ç”¨ç¨‹åºåœ¨è´Ÿè½½å’Œå‹åŠ›æ¡ä»¶ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚å®ƒé€šå¸¸ç”¨äºæ¨¡æ‹Ÿå¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®åº”ç”¨ç¨‹åºï¼Œä»¥è¯„ä¼°å…¶æ€§èƒ½å’Œå¯é æ€§ã€‚<br><strong>Selenium</strong>æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œä¸»è¦ç”¨äºWebåº”ç”¨ç¨‹åºçš„åŠŸèƒ½æµ‹è¯•å’Œå›å½’æµ‹è¯•ã€‚å®ƒå¯ä»¥æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œå’Œäº¤äº’ï¼Œå¹¶å¯¹åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ç•Œé¢è¿›è¡Œæµ‹è¯•ã€‚ç”±äºå®ƒä¸»è¦å…³æ³¨åº”ç”¨ç¨‹åºçš„å¤–éƒ¨è¡Œä¸ºï¼Œå› æ­¤å®ƒä¹Ÿè¢«å½’ç±»ä¸ºé»‘ç›’æµ‹è¯•å·¥å…·ã€‚</p>
<h2 id="ç¬¬åç« -æµ‹è¯•éœ€æ±‚åˆ†æä¸æµ‹è¯•è®¡åˆ’"><a href="#ç¬¬åç« -æµ‹è¯•éœ€æ±‚åˆ†æä¸æµ‹è¯•è®¡åˆ’" class="headerlink" title="ç¬¬åç«  æµ‹è¯•éœ€æ±‚åˆ†æä¸æµ‹è¯•è®¡åˆ’"></a>ç¬¬åç«  æµ‹è¯•éœ€æ±‚åˆ†æä¸æµ‹è¯•è®¡åˆ’</h2><p>åŠŸèƒ½æµ‹è¯•èŒƒå›´</p>
<blockquote>
<p>é¡µé¢é“¾æ¥:é¡µé¢æ˜¯å¦å­˜åœ¨ã€é¡µé¢æ˜¯å¦æ­£ç¡®è·³è½¬<br>æ§ä»¶åŠŸèƒ½:æŒ‰é’®åŠŸèƒ½æ˜¯å¦æ­£ç¡®ã€åˆ—è¡¨å†…å®¹æ˜¯å¦æ­£ç¡®ã€å…‰æ ‡ä½ç½®ç§»åŠ¨æ˜¯å¦é¡ºåºæ­£ç¡®<br>è¾“å…¥æ–‡æœ¬æ¡†:æ•°æ®æ ¼å¼ã€æ•°æ®ç±»å‹ã€æ•°æ®é•¿åº¦æ˜¯å¦æ£€æŸ¥<br>Webå›¾å½¢æµ‹è¯•:å›¾ç‰‡æ–‡å­—æç¤ºæ˜¯å¦æ­£ç¡®ã€å›¾ç‰‡é“¾æ¥æ˜¯å¦æ­£ç¡®ã€å›¾ç‰‡åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹æ˜¾ç¤ºæ˜¯å¦æ­£ç¡®<br>è¡¨å•æµ‹è¯•:è¯·æ±‚æ˜¯å¦å“åº”ã€è„šæœ¬æ˜¯å¦æ­£ç¡®æ‰§è¡Œ</p>
</blockquote>
<p>éåŠŸèƒ½æµ‹è¯•èŒƒå›´ã€‚</p>
<blockquote>
<p>æ€§èƒ½æµ‹è¯•â€”â€”å“åº”æ—¶é—´ã€ååé‡ç­‰<br>å®‰å…¨æµ‹è¯•â€”â€”ç”¨æˆ·éªŒè¯ã€æˆæƒè®¿é—®ã€æ•°æ®å®‰å…¨ç­‰<br>å®¹é”™æµ‹è¯•â€”â€”éƒ¨ä»¶æŸååç³»ç»Ÿä»æ­£å¸¸è¿è¡Œèƒ½åŠ›<br>å…¼å®¹æ€§æµ‹è¯•â€”â€”ç¡¬ä»¶å…¼å®¹æ€§ã€æ“ä½œç³»ç»Ÿå…¼å®¹æ€§ã€æµè§ˆå™¨å…¼å®¹æ€§Â·å¯ä¼¸ç¼©æ€§æµ‹è¯•â€”â€”å¢åŠ å®¹é‡çš„èƒ½åŠ›<br>å¯ç”¨æ€§æµ‹è¯•â€”â€”æ­£å¸¸è¿è¡Œæ—¶é—´&#x2F;æ€»è¿è¡Œæ—¶é—´</p>
</blockquote>
<h2 id="ç¬¬åä¸€ç« -è½¯ä»¶è´¨é‡ä¿è¯"><a href="#ç¬¬åä¸€ç« -è½¯ä»¶è´¨é‡ä¿è¯" class="headerlink" title="ç¬¬åä¸€ç«  è½¯ä»¶è´¨é‡ä¿è¯"></a>ç¬¬åä¸€ç«  è½¯ä»¶è´¨é‡ä¿è¯</h2><p><strong>è½¯ä»¶åº¦é‡</strong>æ˜¯æ ¹æ®ä¸€å®šè§„åˆ™å¯¹è½¯ä»¶é¡¹ç›®ã€è½¯ä»¶è¿‡ç¨‹ã€è½¯ä»¶äº§å“è¿›è¡Œæ•°æ®å®šä¹‰ã€æ•°æ®æ”¶é›†åŠé‡åŒ–å¤„ç†ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†æ¸…æ™°åœ°ç†è§£ã€é¢„æµ‹ã€è¯„ä¼°ã€æ§åˆ¶å’Œæ”¹å–„è½¯ä»¶è´¨é‡ã€‚</p>
<p><img src="https://s2.loli.net/2023/06/02/sZKupSB7FxJXjwI.png" alt="NK38BB~K_`__MF0`3SH_VC9.png"></p>
<p><a href="https://smms.app/image/VIRA859hNGcTP1H" target="_blank"><img src="https://s2.loli.net/2023/06/02/VIRA859hNGcTP1H.png" alt="_RF_ABD_90`8@LYLXYP4R@A.png"></a></p>
<p><a href="https://smms.app/image/1rZ85Mps9dmJN3z" target="_blank"><img src="https://s2.loli.net/2023/06/02/1rZ85Mps9dmJN3z.png" alt="_Q1DGL`_SUS_P_RW~_TX6_N.png"></a></p>
<p>å†ä¸¾ä¸ªä¸Šæœºè€ƒè¯•è€ƒçš„é¢˜å§ï¼Œç»†æ€ä¹Ÿä¸æ˜¯ä¸èƒ½å‡ºå¤§é¢˜ï¼š</p>
<p>é’ˆå¯¹å¦‚ä¸‹Javaç¨‹åºè¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œæ‰¾å‡ºè¯¥ç¨‹åºçš„ç¼ºé™·ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* å¯¹ä¼ å…¥å‚æ•°telCodeï¼ˆç”µè¯å·ç ï¼‰è¿›è¡Œå¤„ç†ï¼Œä»ä¸­æå–è¯¥ç”µè¯å·ç çš„åº§æœºå·ç ï¼Œå¹¶å°†å…¶è¾“å‡ºè¿”å›ã€‚ </span></span><br><span class="line"><span class="comment"> * ä¾‹å¦‚ï¼Œè¾“å…¥ç”µè¯å·ç ä¸ºâ€œ86,28,83202112â€ï¼Œ è¿”å›å€¼åº”ä¸ºâ€œ83202112â€ */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">getPhoneNo</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getPhoneNumber</span><span class="params">(String telCode)</span> &#123; </span><br><span class="line">	  <span class="keyword">if</span> (telCode == <span class="literal">null</span> ) &#123; </span><br><span class="line">	    <span class="keyword">return</span> <span class="string">&quot;è¾“å…¥äº†ç©ºå­—ç¬¦ä¸²&quot;</span>;&#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">		String localPhone[] = telCode.split(<span class="string">&quot;,&quot;</span>); </span><br><span class="line">		<span class="keyword">return</span> localPhone[<span class="number">2</span>]; &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¾è®¡å•å…ƒæµ‹è¯•ç”¨ä¾‹è¡¨ï¼Œåœ¨è¯¥è¡¨ä¸­å¡«å†™æµ‹è¯•ç”¨ä¾‹çš„è¾“å…¥æ•°æ®å’Œé¢„æœŸç»“æœæ•°æ®ã€‚</p>
<table>
<thead>
<tr>
<th>ç”¨ä¾‹</th>
<th>telCodeå€¼</th>
<th>é¢„æœŸç»“æœ</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>86,28,83202112</td>
<td>83202112</td>
</tr>
<tr>
<td>2</td>
<td>Null</td>
<td>è¾“å…¥äº†ç©ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>3</td>
<td>ç©ºæ ¼</td>
<td>è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯</td>
</tr>
<tr>
<td>4</td>
<td>86,83202112</td>
<td>è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯</td>
</tr>
<tr>
<td>5</td>
<td>86,28,83202112%</td>
<td>è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯</td>
</tr>
</tbody></table>
<p>ç¼ºé™·å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>ç”µè¯å·ç ä¸ºç©ºæ—¶æ— æ³•æç¤ºè¾“å…¥äº†ç©ºå­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p>ç”µè¯å·ç è¾“å…¥ä¸ºç©ºæ ¼ï¼Œæˆ–è€…å…¶ä½æ•°ä¸ç¬¦åˆè¦æ±‚ï¼Œè¯¥ç¨‹åºæŠ¥é”™è€Œæ— æ³•ç»§ç»­è¿è¡Œï¼Œåº”è¯¥æç¤ºè¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯ã€‚</p>
</li>
<li><p>å½“ç”µè¯å·ç å«æœ‰éæ³•å­—ç¬¦ï¼Œè¯¥ç¨‹åºæ²¡æœ‰æç¤ºè¾“å…¥äº†éæ³•å­—ç¬¦ï¼Œè€Œæ˜¯ç»§ç»­è¾“å‡ºäº†éæ³•å­—ç¬¦ï¼Œåº”è¯¥æç¤ºè¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯æ‰å¯¹ã€‚</p>
</li>
</ol>
<p>æµ‹è¯•ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">getPhoneNoTest_83202112</span> &#123;</span><br><span class="line">    getPhoneNo getPhoneNo=<span class="keyword">new</span> <span class="title class_">getPhoneNo</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getPhoneNumber</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getPhoneNo1</span><span class="params">()</span> &#123;</span><br><span class="line">        String expectedResult=<span class="string">&quot;83202112&quot;</span>;</span><br><span class="line">        assertEquals(expectedResult,getPhoneNo.getPhoneNumber(<span class="string">&quot;86,28,83202112&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getPhoneNo2</span><span class="params">()</span> &#123;</span><br><span class="line">        String expectedResult=<span class="string">&quot;è¾“å…¥äº†ç©ºå­—ç¬¦ä¸²&quot;</span>;</span><br><span class="line">        assertEquals(expectedResult,getPhoneNo.getPhoneNumber(<span class="literal">null</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getPhoneNo3</span><span class="params">()</span> &#123;</span><br><span class="line">        String expectedResult=<span class="string">&quot;è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯&quot;</span>;</span><br><span class="line">        assertEquals(expectedResult,getPhoneNo.getPhoneNumber(<span class="string">&quot; &quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getPhoneNo4</span><span class="params">()</span> &#123;</span><br><span class="line">        String expectedResult=<span class="string">&quot;è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯&quot;</span>;</span><br><span class="line">        assertEquals(expectedResult,getPhoneNo.getPhoneNumber(<span class="string">&quot;86,83202112&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getPhoneNo5</span><span class="params">()</span> &#123;</span><br><span class="line">        String expectedResult=<span class="string">&quot;è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯&quot;</span>;</span><br><span class="line">        assertEquals(expectedResult,getPhoneNo.getPhoneNumber(<span class="string">&quot;86,28,83202112%&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹åçš„æºç¨‹åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">getPhoneNo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPhoneNumber</span><span class="params">(String telCode)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (telCode == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;è¾“å…¥äº†ç©ºå­—ç¬¦ä¸²&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            String localPhone[] = telCode.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (localPhone.length &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">phoneNumber</span> <span class="operator">=</span> localPhone[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; phoneNumber.length(); i++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> phoneNumber.charAt(i);</span><br><span class="line">                <span class="keyword">if</span> (c &lt; <span class="string">&#x27;0&#x27;</span> ||c &gt; <span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;è¾“å…¥ç”µè¯å·ç æ ¼å¼é”™è¯¯&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> phoneNumber;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>è½¯ä»¶æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ä¹‹æ“ä½œç³»ç»Ÿå¼•è®º</title>
    <url>/2023/06/15/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/4/</url>
    <content><![CDATA[<ul>
<li>æ“ä½œç³»ç»Ÿå®šä¹‰</li>
</ul>
<p>æ“ä½œç³»ç»Ÿæ˜¯ä¸€ç»„<strong>æ§åˆ¶å’Œç®¡ç†è®¡ç®—æœºè½¯ç¡¬ä»¶èµ„æº</strong>ã€<strong>åˆç†åœ°å¯¹å„ç±»ä½œä¸šè¿›è¡Œè°ƒåº¦ä»¥åŠæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨</strong>çš„ç¨‹åºé›†åˆã€‚</p>
<p>æ“ä½œç³»ç»Ÿæ˜¯ ä½äºç¡¬ä»¶å±‚(HAL)ä¹‹ä¸Šï¼Œæ‰€æœ‰å…¶å®ƒç³»ç»Ÿè½¯ä»¶å±‚ä¹‹ä¸‹çš„ä¸€ä¸ª<strong>ç³»ç»Ÿè½¯ä»¶</strong>ï¼Œä½¿å¾—ç®¡ç†ç³»ç»Ÿä¸­çš„å„ç§è½¯ä»¶å’Œç¡¬ä»¶èµ„æºå¾—ä»¥å……åˆ†åˆ©ç”¨ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨è®¡ç®—æœºç³»ç»Ÿã€‚</p>
<ul>
<li>OSçš„ç›®æ ‡</li>
</ul>
<p><strong>æ–¹ä¾¿æ€§</strong>: æ“ä½œç³»ç»Ÿä½¿è®¡ç®—æœºæ›´æ˜“äºä½¿ç”¨ã€‚ </p>
<p><strong>æœ‰æ•ˆæ€§</strong>: æ“ä½œç³»ç»Ÿå…è®¸ä»¥æ›´æœ‰æ•ˆçš„æ–¹å¼ä½¿ç”¨è®¡ç®—æœºç³»ç»Ÿèµ„æºã€‚ æé«˜ç³»ç»Ÿèµ„æºåˆ©ç”¨ç‡ ã€æé«˜ç³»ç»Ÿçš„ååé‡ã€‚ </p>
<p><strong>å¯æ‰©å±•æ€§</strong>: åœ¨æ“ä½œç³»ç»Ÿä¸­,å…è®¸æœ‰æ•ˆåœ°å¼€å‘ï¼Œæµ‹è¯•å’Œå¼•è¿›æ–°çš„ç³»ç»ŸåŠŸèƒ½ã€‚ </p>
<p><strong>å¼€æ”¾æ€§</strong>: å®ç°åº”ç”¨ç¨‹åºçš„å¯ç§»æ¤æ€§å’Œäº’æ“ä½œæ€§,è¦æ±‚å…·æœ‰ç»Ÿä¸€ çš„å¼€æ”¾çš„ç¯å¢ƒã€‚</p>
<p>å…¶ä¸­æœ‰æ•ˆæ€§ï¼Œå¯æ‰©å±•æ€§æœ€é‡è¦ã€‚</p>
<ul>
<li>OSçš„ä½œç”¨</li>
</ul>
<p>1.ä½œä¸ºç”¨æˆ·ä¸è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿä¹‹é—´çš„æ¥å£</p>
<p>2.ä½œä¸ºè®¡ç®—æœºç³»ç»Ÿèµ„æºçš„ç®¡ç†è€…(è½¯ç¡¬ä»¶èµ„æº)</p>
<p>3.ä½œä¸ºæ‰©å……æœºå™¨</p>
<ul>
<li>OSçš„ç‰¹å¾</li>
</ul>
<p>1ã€å¹¶å‘æ€§ï¼ˆæœ€é‡è¦çš„ç‰¹å¾ï¼‰ 2ã€å…±äº«æ€§ 3ã€è™šæ‹Ÿæ€§ 4ã€å¼‚æ­¥æ€§</p>
<p><strong>å¹¶å‘æ˜¯æœ€é‡è¦çš„ç‰¹å¾</strong>ï¼Œå…¶å®ƒç‰¹å¾éƒ½ä»¥å¹¶å‘ä¸ºå‰æã€‚å…¶ä¸­æœ€åŸºæœ¬ç‰¹å¾æ˜¯<strong>å¹¶å‘å’Œå…±äº«</strong>ã€‚</p>
<ul>
<li>OSçš„ä¸»è¦åŠŸèƒ½</li>
</ul>
<p>1ã€å¤„ç†æœºç®¡ç†ï¼ˆCPUï¼‰</p>
<p>2ã€å­˜å‚¨å™¨ç®¡ç†</p>
<p>3ã€è®¾å¤‡ç®¡ç†</p>
<p>4ã€æ–‡ä»¶ç®¡ç†</p>
<p>5ã€æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨çš„ç”¨æˆ·æ¥å£ã€‚</p>
<ul>
<li>OSçš„åŸºæœ¬ç±»å‹</li>
</ul>
<p><strong>æ‰¹å¤„ç†æ“ä½œç³»ç»Ÿã€åˆ†æ—¶æ“ä½œç³»ç»Ÿå’Œå®æ—¶æ“ä½œç³»ç»Ÿã€‚</strong></p>
<ul>
<li>æ‰¹å¤„ç†ã€åˆ†æ—¶ã€å®æ—¶ç³»ç»Ÿï¼ˆæ¯”è¾ƒï¼‰</li>
</ul>
<p>æ‰¹å¤„ç†ç³»ç»Ÿ(batchprocessingsystem):æ“ä½œå‘˜æŠŠç”¨æˆ·æäº¤çš„ä½œä¸šåˆ†ç±»,æŠŠä¸€æ‰¹ä½œä¸šç¼–æˆä¸€ä¸ªä½œä¸šæ‰§è¡Œåºåˆ—,ç”±ä¸“é—¨ç¼–åˆ¶çš„ç›‘ç£ç¨‹åº(monitor)è‡ªåŠ¨ä¾æ¬¡å¤„ç†ã€‚å…¶ä¸»è¦ç‰¹å¾æ˜¯:ç”¨æˆ·è„±æœºä½¿ç”¨è®¡ç®—æœºã€æˆæ‰¹å¤„ç†ã€å¤šé“ç¨‹åºè¿è¡Œã€‚</p>
<p>åˆ†æ—¶ç³»ç»Ÿ(timesharingoperationsystem):æŠŠå¤„ç†æœºçš„è¿è¡Œæ—¶é—´åˆ†æˆå¾ˆçŸ­çš„æ—¶é—´ç‰‡,æŒ‰æ—¶é—´ç‰‡è½®è½¬çš„æ–¹å¼,æŠŠå¤„ç†æœºåˆ†é…ç»™å„è¿›ç¨‹ä½¿ç”¨ã€‚å…¶ä¸»è¦ç‰¹å¾æ˜¯äº¤äº’æ€§ã€å¤šç”¨æˆ·åŒæ—¶æ€§ã€ç‹¬ç«‹æ€§ã€‚</p>
<p>æ‰€è°“â€œå®æ—¶â€ï¼Œæ˜¯è¡¨ç¤ºâ€œåŠæ—¶â€ï¼Œè€Œå®æ—¶ç³»ç»Ÿæ˜¯æŒ‡ç³»ç»Ÿèƒ½åŠæ—¶å“åº”å¤–éƒ¨äº‹ä»¶çš„è¯·æ±‚ï¼Œåœ¨è§„å®šçš„æ—¶é—´å†…å®Œæˆå¯¹è¯¥äº‹ä»¶çš„å¤„ç†ï¼Œå¹¶æ§åˆ¶æ‰€æœ‰å®æ—¶ä»»åŠ¡åè°ƒä¸€è‡´çš„è¿è¡Œã€‚å…¶ç‰¹å¾ä¸»è¦ä½“ç°åœ¨å®æ—¶æ§åˆ¶å’Œå®æ—¶ä¿¡æ¯å¤„ç†ã€‚</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ä¹‹è¾“å…¥è¾“å‡ºç³»ç»Ÿ</title>
    <url>/2023/06/14/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/2/</url>
    <content><![CDATA[<h1 id="è¾“å…¥è¾“å‡ºç³»ç»Ÿ"><a href="#è¾“å…¥è¾“å‡ºç³»ç»Ÿ" class="headerlink" title="è¾“å…¥è¾“å‡ºç³»ç»Ÿ"></a>è¾“å…¥è¾“å‡ºç³»ç»Ÿ</h1><p>â€‹	è¾“å…¥è¾“å‡ºç³»ç»Ÿæ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸»æœºä¸å¤–éƒ¨è¿›è¡Œé€šä¿¡çš„ç³»ç»Ÿã€‚åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œé€šå¸¸æŠŠå¤„ç†æœºå’Œä¸»å­˜å‚¨å™¨ä¹‹å¤–çš„éƒ¨åˆ†ç§°ä¸ºè¾“å…¥è¾“å‡ºç³»ç»Ÿï¼Œè¾“å…¥è¾“å‡ºç³»ç»Ÿçš„ç‰¹ç‚¹æ˜¯å¼‚æ­¥æ€§ã€å®æ—¶æ€§å’Œè®¾å¤‡æ— å…³æ€§ã€‚</p>
<h2 id="I-x2F-Oç³»ç»Ÿç®€ä»‹"><a href="#I-x2F-Oç³»ç»Ÿç®€ä»‹" class="headerlink" title="I&#x2F;Oç³»ç»Ÿç®€ä»‹"></a>I&#x2F;Oç³»ç»Ÿç®€ä»‹</h2><p>â€‹	<strong>è®¾å¤‡ç®¡ç†çš„å¯¹è±¡</strong>ï¼šä¸»è¦æ˜¯I&#x2F;Oè®¾å¤‡ã€‚<br>â€‹	<strong>è®¾å¤‡ç®¡ç†çš„åŸºæœ¬ä»»åŠ¡</strong>ï¼šå®Œæˆç”¨æˆ·æå‡ºçš„I&#x2F;Oè¯·æ±‚ï¼Œæé«˜I&#x2F;Oé€Ÿç‡ä»¥åŠæ”¹å–„I&#x2F;Oè®¾å¤‡çš„åˆ©ç”¨ç‡ã€‚<br>â€‹	<strong>è®¾å¤‡ç®¡ç†çš„ä¸»è¦åŠŸèƒ½æœ‰</strong>ï¼šç¼“å†²åŒºç®¡ç†ã€è®¾å¤‡åˆ†é…ã€è®¾å¤‡å¤„ç†ã€è™šæ‹Ÿè®¾å¤‡åŠå®ç°è®¾å¤‡ç‹¬ç«‹æ€§ç­‰ã€‚</p>
<p>â€‹	I&#x2F;Oè®¾å¤‡ç±»å‹ç¹å¤šï¼ŒæŒ‰è®¾å¤‡çš„<strong>å…±äº«å±æ€§</strong>åˆ†ç±»ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼Œ<strong>ç‹¬å è®¾å¤‡</strong>ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…åªå…è®¸ä¸€ä¸ªç”¨æˆ·ï¼ˆè¿›ç¨‹ï¼‰è®¿é—®çš„è®¾å¤‡ï¼Œå³ä¸´ç•Œèµ„æºã€‚<strong>å…±äº«è®¾å¤‡</strong>ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…å…è®¸å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿é—®çš„è®¾å¤‡ï¼Œå½“ç„¶ï¼Œæ¯ä¸€æ—¶åˆ»ä»ç„¶åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®ï¼Œå¦‚ç£ç›˜ï¼ˆå¯å¯»å€å’Œå¯éšæœºè®¿é—®ï¼‰ã€‚<strong>è™šæ‹Ÿè®¾å¤‡</strong>ï¼Œé€šè¿‡è™šæ‹ŸæŠ€æœ¯å°†ä¸€å°è®¾å¤‡å˜æ¢ä¸ºè‹¥å¹²å°é€»è¾‘è®¾å¤‡ï¼Œä¾›è‹¥å¹²ä¸ªç”¨æˆ·ï¼ˆè¿›ç¨‹ï¼‰åŒæ—¶ä½¿ç”¨ã€‚</p>
<p><strong>I&#x2F;O ç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½</strong></p>
<ol>
<li>è®¾å¤‡åˆ†é…</li>
<li>è®¾å¤‡æ˜ å°„</li>
<li>è®¾å¤‡é©±åŠ¨</li>
<li>I&#x2F;Oç¼“å†²åŒºçš„ç®¡ç†</li>
</ol>
<p><strong>é€šç”¨è®¾å¤‡ç®¡ç†åˆ†å±‚æ¨¡å‹</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_20-16-19.png"></p>
<p>â€‹	é€šå¸¸ï¼Œè®¾å¤‡å¹¶ä¸æ˜¯ç›´æ¥ä¸CPUè¿›è¡Œé€šä¿¡ï¼Œè€Œæ˜¯ä¸è®¾å¤‡æ§åˆ¶å™¨é€šä¿¡ï¼Œå› æ­¤ï¼Œåœ¨I&#x2F;Oè®¾å¤‡ä¸­åº”è¯¥å«æœ‰ä¸è®¾å¤‡æ§åˆ¶å™¨ä¹‹é—´çš„æ¥å£ï¼Œåœ¨è¯¥æ¥å£æœ‰ä¸‰ç§ç±»å‹çš„ä¿¡å·ï¼Œå„å¯¹åº”ä¸€æ¡ä¿¡å·çº¿ã€‚</p>
<p>ã€€â‘  æ•°æ®ä¿¡å·çº¿ï¼Œç”¨äºåœ¨è®¾å¤‡æ§åˆ¶å™¨ä¹‹é—´ä¼ é€æ•°æ®ä¿¡å·ï¼Œ<em>å¯¹äºè¾“å…¥è®¾å¤‡è€Œè¨€</em>ï¼Œç”±å¤–ç•Œè¾“å…¥çš„ä¿¡å·ç»è½¬æ¢å™¨è½¬æ¢åæ‰€å½¢æˆçš„æ•°æ®ï¼Œé€šå¸¸å…ˆé€å…¥ç¼“å†²å™¨ä¸­ï¼Œå½“æ•°é‡è¾¾åˆ°ä¸€å®šçš„æ¯”ç‰¹ï¼ˆå­—ç¬¦ï¼‰æ•°åï¼Œå†ä»ç¼“å†²å™¨é€šè¿‡ä¸€ç»„ä¿¡å·çº¿ä¼ é€ç»™è®¾å¤‡æ§åˆ¶å™¨ã€‚<em>å¯¹è¾“å‡ºè®¾å¤‡è€Œè¨€</em>ï¼Œåˆ™å…ˆå°†ä»è®¾å¤‡æ§åˆ¶å™¨ç»è¿‡æ•°æ®ä¿¡å·çº¿ä¼ é€æ¥çš„ä¸€æ‰¹æ•°æ®å…ˆæš‚å­˜äºç¼“å†²å™¨ä¸­ï¼Œç»è½¬æ¢å™¨åšé€‚å½“è½¬æ¢åï¼Œå†é€ä¸ªå­—ç¬¦åœ°è¾“å‡ºã€‚</p>
<p>ã€€â‘¡ æ§åˆ¶ä¿¡å·çº¿ï¼Œä½œä¸ºç”±è®¾å¤‡æ§åˆ¶å™¨å‘I&#x2F;Oè®¾å¤‡å‘é€æ§åˆ¶ä¿¡å·æ—¶çš„é€šè·¯ï¼Œè¯¥ä¿¡å·è§„å®šäº†è®¾å¤‡å°†è¦æ‰§è¡Œçš„æ“ä½œï¼Œå¦‚è¯»æ“ä½œï¼ˆæŒ‡ç”±è®¾å¤‡å‘æ§åˆ¶å™¨ä¼ é€æ•°æ®ï¼‰æˆ–å†™æ“ä½œï¼ˆç”±æ§åˆ¶å™¨æ¥å—æ•°æ®ï¼‰ï¼Œæˆ–æ‰§è¡Œç£å¤´ç§»åŠ¨ç­‰æ“ä½œã€‚</p>
<p>ã€€â‘¢ çŠ¶æ€ä¿¡å·çº¿ï¼Œç”¨äºä¼ é€è®¾å¤‡å½“å‰çŠ¶æ€çš„ä¿¡å·ï¼Œè®¾å¤‡çš„å½“å‰çŠ¶æ€æœ‰æ­£åœ¨è¯»ï¼ˆæˆ–å†™ï¼‰ï¼›è®¾å¤‡å·²è¯»ï¼ˆå†™ï¼‰å®Œæˆï¼Œå¹¶å‡†å¤‡å¥½æ–°çš„æ•°æ®ä¼ é€ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160628151650952-1466573946.png"></p>
<p><em><strong>è®¾å¤‡æ§åˆ¶å™¨</strong></em>æ˜¯è®¡ç®—æœºä¸­çš„ä¸€ä¸ªå®ä½“ï¼Œå…¶<strong>ä¸»è¦èŒè´£</strong>æ˜¯<em><strong>æ§åˆ¶ä¸€ä¸ªæˆ–å¤šä¸ªI&#x2F;Oè®¾å¤‡</strong></em>ï¼Œä»¥å®ç°I&#x2F;Oè®¾å¤‡å’Œè®¡ç®—æœºä¹‹é—´çš„æ•°æ®äº¤æ¢ï¼Œå®ƒæ˜¯CPUä¸I&#x2F;Oè®¾å¤‡ä¹‹é—´çš„æ¥å£ï¼Œå®ƒæ¥æ”¶ä»CPUå‘æ¥çš„å‘½ä»¤ï¼Œå¹¶å»æ§åˆ¶I&#x2F;Oè®¾å¤‡å·¥ä½œï¼Œä»¥ä½¿å¤„ç†ä»ç¹æ‚çš„è®¾å¤‡æ§åˆ¶äº‹åŠ¡ä¸­è§£è„±å‡ºæ¥ã€‚å®ƒæ˜¯ä¸€ä¸ªå¯ç¼–å€çš„è®¾å¤‡ï¼Œå½“å®ƒä»…æ§åˆ¶ä¸€ä¸ªè®¾å¤‡æ—¶ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå”¯ä¸€çš„è®¾å¤‡åœ°å€ï¼Œè‹¥æ§åˆ¶å™¨å¯è¿æ¥å¤šä¸ªè®¾å¤‡æ—¶ï¼Œåˆ™åº”è¯¥å«æœ‰å¤šä¸ªè®¾å¤‡åœ°å€ï¼Œå¹¶ä½¿æ¯ä¸ªè®¾å¤‡åœ°å€å¯¹åº”ä¸€ä¸ªè®¾å¤‡ã€‚</p>
<p>åœ¨æ§åˆ¶å™¨ä¸­è®¾ç½®ä¸€çŠ¶æ€å¯„å­˜å™¨ï¼Œç”¨å…¶ä¸­çš„æ¯ä¸€ä½æ¥åæ˜ è®¾å¤‡çš„æŸä¸€ç§çŠ¶æ€ï¼Œå½“CPUå°†è¯¥å¯„å­˜å™¨çš„å†…å­˜è¯»å…¥åï¼Œä¾¿å¯äº†è§£è¯¥è®¾å¤‡çš„çŠ¶æ€ã€‚<strong>I&#x2F;Oé€»è¾‘</strong>ï¼Œç”¨äºå®ç°å¯¹è®¾å¤‡çš„æ§åˆ¶ï¼Œé€šè¿‡ä¸€ç»„æ§åˆ¶çº¿ä¸å¤„ç†æœºäº¤äº’ï¼Œå¤„ç†æœºåˆ©ç”¨è¯¥é€»è¾‘å‘æ§åˆ¶å™¨å‘é€I&#x2F;Oå‘½ä»¤ï¼ŒI&#x2F;Oé€»è¾‘å¯¹æ”¶åˆ°çš„å‘½ä»¤è¿›è¡Œè¯‘ç ï¼Œæ¯å½“CPUè¦å¯åŠ¨ä¸€ä¸ªè®¾å¤‡æ—¶ï¼Œ<em>ä¸€æ–¹é¢å°†å¯åŠ¨å‘½ä»¤å‘é€ç»™æ§åˆ¶å™¨</em>ï¼Œ<em>å¦ä¸€æ–¹é¢åˆåŒæ—¶é€šè¿‡åœ°å€çº¿æŠŠåœ°å€å‘é€ç»™æ§åˆ¶å™¨</em>ï¼Œç”±æ§åˆ¶å™¨çš„I&#x2F;Oé€»è¾‘å¯¹æ”¶åˆ°çš„åœ°å€è¿›è¡Œè¯‘ç ï¼Œå†æ ¹æ®æ‰€è¯‘å‡ºçš„å‘½ä»¤å¯¹æ‰€é€‰è®¾å¤‡è¿›è¡Œæ§åˆ¶ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_20-34-48.png"></p>
<p> <em><strong>I&#x2F;Oé€šé“</strong></em></p>
<p>ã€€è™½ç„¶åœ¨CPUä¸I&#x2F;Oè®¾å¤‡ä¹‹é—´å¢åŠ äº†è®¾å¤‡æ§åˆ¶å™¨åï¼Œå¯ä»¥å¤§å¤§å‡å°‘CPUå¯¹I&#x2F;Oçš„å¹²é¢„ï¼Œä½†æ˜¯å½“ä¸»æœºæ‰€é…ç½®çš„å¤–è®¾å¾ˆå¤šæ—¶ï¼ŒCPUçš„è´Ÿæ‹…ä»ç„¶å¾ˆé‡ï¼Œå› æ­¤ï¼Œåœ¨CPUå’Œè®¾å¤‡æ§åˆ¶å™¨ä¹‹é—´åˆå¢è®¾äº†é€šé“ã€‚å…¶ä¸»è¦ç›®çš„ä½¿ä¸€äº›åŸæ¥ç”±CPUå¤„ç†çš„I&#x2F;Oä»»åŠ¡è½¬ç”±é€šé“æ¥æ‰¿æ‹…ï¼Œä»è€ŒæŠŠCPUä»ç¹æ‚çš„I&#x2F;Oä»»åŠ¡ä¸­è§£è„±å‡ºæ¥ã€‚åœ¨è®¾ç½®äº†é€šé“åï¼Œ<strong>CPUåªéœ€è¦å‘é€šé“å‘é€ä¸€æ¡I&#x2F;OæŒ‡ä»¤ï¼Œé€šé“åœ¨æ”¶åˆ°è¯¥æŒ‡ä»¤åï¼Œä¾¿ä»å†…å­˜ä¸­å–å‡ºæœ¬æ¬¡è¦æ‰§è¡Œçš„é€šé“ç¨‹åºï¼Œç„¶åæ‰§è¡Œè¯¥é€šé“ç¨‹åºï¼Œä»…å½“é€šé“å®Œæˆäº†è§„å®šçš„I&#x2F;Oä»»åŠ¡åï¼Œæ‰å‘CPUå‘ä¸­æ–­ä¿¡å·</strong>ã€‚I&#x2F;Oé€šé“æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¤„ç†æœºï¼Œ<em>å…·æœ‰æ‰§è¡ŒI&#x2F;OæŒ‡ä»¤çš„èƒ½åŠ›</em>ï¼Œå¹¶é€šè¿‡æ‰§è¡Œé€šé“ï¼ˆI&#x2F;Oï¼‰ç¨‹åºæ¥æ§åˆ¶I&#x2F;Oæ“ä½œï¼Œä½†I&#x2F;Oé€šé“ä¸ä¸€èˆ¬çš„å¤„ç†æœºä¸åŒï¼Œå› ä¸ºå…¶æŒ‡ä»¤ç±»å‹å•ä¸€åŒæ—¶æ²¡æœ‰è‡ªå·±çš„å†…å­˜ï¼Œ<em>ä¸CPUå…±äº«ä¸»å†…å­˜</em>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_20-35-21.png"></p>
<p>è™šæ‹Ÿè®¾å¤‡æ˜¯æŒ‡è¢«å¤šä¸ªç”¨æˆ·æˆ–è¿›ç¨‹äº¤æ›¿ä½¿ç”¨çš„è®¾å¤‡ï¼Œå®è§‚ä¸Šå¥½è±¡å¤šä¸ªç”¨æˆ·åŒæ—¶åœ¨ä½¿ç”¨ã€‚(Ã—ï¼‰</p>
<p><font color=red>è™šæ‹Ÿè®¾å¤‡æ˜¯æŒ‡é‡‡ç”¨é‡‡ç”¨æŸç§I&#x2F;OæŠ€æœ¯ï¼Œå°†æŸä¸ªç‹¬å è®¾å¤‡æ”¹è¿›ä¸ºå¤šç”¨æˆ·å…±äº«çš„è®¾å¤‡ï¼Œä»¥æé«˜èµ„æºçš„åˆ©ç”¨ç‡ã€‚(é€šè¿‡è™šæ‹ŸæŠ€æœ¯å°†ä¸€å°ç‹¬å è®¾å¤‡è™šæ‹Ÿæˆå¤šå°é€»è¾‘è®¾å¤‡ï¼Œä¾›å¤šä¸ªè¿›ç¨‹åŒæ—¶ä½¿ç”¨)</font><br>æˆ‘æ„Ÿè§‰è¯´æ³•å·®ä¸å¤šï¼Œä½†æ˜¯ç½‘ä¸Šç»™çš„ç­”æ¡ˆæ˜¯âŒã€‚</p>
<p>é€šé“æŠ€æœ¯æ ¹æœ¬ä¸Šæ˜¯ä»è½¯ä»¶ä¸Šè§£å†³æ“ä½œç³»ç»Ÿå¯¹è¾“å…¥è¾“å‡ºæ“ä½œçš„ æ§åˆ¶é—®é¢˜ã€‚ï¼ˆÃ— ï¼‰åº”è¯¥æ˜¯ç¡¬ä»¶</p>
<p>é€»è¾‘è®¾å¤‡æ˜¯ç‰©ç†è®¾å¤‡å±æ€§çš„è¡¨ç¤ºï¼Œç”¨æ¥æŒ‡å®šæŸä¸€å…·ä½“è®¾å¤‡ã€‚ï¼ˆÃ—ï¼‰ä¸ç‰¹æŒ‡æŸä¸ªå…·ä½“è®¾å¤‡ï¼Œè€Œæ˜¯å¯¹åº”ä¸€ç±»è®¾å¤‡ã€‚</p>
<p>ä»è®¾å¤‡çš„èµ„æºå±æ€§åˆ†ç±»ï¼Œå¯æŠŠè®¾å¤‡åˆ†ä¸ºç‹¬å è®¾å¤‡ã€å…±äº«è®¾å¤‡å’Œè™šæ‹Ÿè®¾å¤‡ã€‚ï¼ˆ âˆšï¼‰</p>
<p>ç”¨æˆ·åœ¨ä½¿ç”¨I&#x2F;Oè®¾å¤‡æ—¶ï¼Œé€šå¸¸é‡‡ç”¨ç‰©ç†è®¾å¤‡åï¼ŒæŒ‡æ˜å…·ä½“çš„è®¾å¤‡ã€‚ï¼ˆÃ—ï¼‰ç”¨æˆ·åœ¨ä½¿ç”¨I&#x2F;Oè®¾å¤‡æ—¶ï¼Œé€šå¸¸é‡‡ç”¨é€»è¾‘è®¾å¤‡åï¼ŒæŒ‡æ˜è®¾å¤‡ç±»å‹ã€‚</p>
<h2 id="ä¸­æ–­å¤„ç†"><a href="#ä¸­æ–­å¤„ç†" class="headerlink" title="ä¸­æ–­å¤„ç†"></a>ä¸­æ–­å¤„ç†</h2><p><strong>ä¸­æ–­å¤„ç†ç¨‹åº</strong></p>
<p>å¯¹äºä¸ºæ¯ä¸€ç±»è®¾å¤‡è®¾ç½®ä¸€ä¸ªI&#x2F;Oè¿›ç¨‹çš„è®¾å¤‡å¤„ç†æ–¹å¼ï¼Œå…¶ä¸­æ–­å¤„ç†ç¨‹åºçš„å¤„ç†è¿‡ç¨‹åˆ†æˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤<br>â–ªæµ‹å®šæ˜¯å¦æœ‰æœªå“åº”çš„ä¸­æ–­ä¿¡å·<br>â–ªç¨‹åºå®Œæˆå½“å‰æŒ‡ä»¤åæµ‹è¯•æ˜¯å¦æœ‰æœªå“åº”çš„ä¸­æ–­ä¿¡å·ã€‚<br>â–ªå¦‚æœæ²¡æœ‰ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚<br>â–ªå¦‚æœæœ‰ï¼Œåˆ™åœæ­¢åŸæœ‰è¿›ç¨‹çš„æ‰§è¡Œï¼Œå‡†å¤‡è½¬å»æ‰§è¡Œä¸­æ–­å¤„ç†ç¨‹åºï¼Œä¸ºæŠŠå¤„ç†æœºçš„æ§åˆ¶æƒè½¬äº¤ç»™ä¸­æ–­å¤„ç†ç¨‹åºåšå‡†å¤‡ã€‚</p>
<p><strong>ä¿æŠ¤è¢«ä¸­æ–­è¿›ç¨‹çš„CPU ç¯å¢ƒ</strong></p>
<p>é€šå¸¸ç”±ç¡¬ä»¶è‡ªåŠ¨å°†å¤„ç†æœºçŠ¶æ€å­—PSW å’Œç¨‹åºè®¡æ•°å™¨(PC)ä¸­çš„å†…å®¹ï¼Œä¿å­˜åœ¨ä¸­æ–­ä¿ç•™åŒº(æ ˆ)ä¸­ï¼Œç„¶åæŠŠè¢«ä¸­æ–­è¿›ç¨‹çš„CPUç°åœºä¿¡æ¯(å³åŒ…æ‹¬æ‰€æœ‰çš„CPUå¯„å­˜å™¨ï¼Œå¦‚é€šç”¨å¯„å­˜å™¨ã€æ®µå¯„å­˜å™¨ç­‰å†…å®¹)éƒ½å‹å…¥ä¸­æ–­æ ˆä¸­ã€‚</p>
<p><strong>è½¬å…¥ç›¸åº”çš„è®¾å¤‡å¤„ç†ç¨‹åº</strong></p>
<p>ç”±å¤„ç†æœºå¯¹å„ä¸ªä¸­æ–­æºè¿›è¡Œæµ‹è¯•ï¼Œä»¥ç¡®å®šå¼•èµ·æœ¬æ¬¡ä¸­æ–­çš„I&#x2F;O è®¾å¤‡ï¼Œå¹¶å‘é€ä¸€åº”ç­”ä¿¡å·ç»™å‘å‡ºä¸­æ–­è¯·æ±‚çš„è¿›ç¨‹ï¼Œä½¿ä¹‹æ¶ˆé™¤è¯¥ä¸­æ–­è¯·æ±‚ä¿¡å·ï¼Œç„¶åå°†ç›¸åº”çš„è®¾å¤‡ä¸­æ–­å¤„ç†ç¨‹åºçš„å…¥å£åœ°å€è£…å…¥åˆ°ç¨‹åºè®¡æ•°å™¨ä¸­ï¼Œä½¿å¤„ç†æœºè½¬å‘ä¸­æ–­å¤„ç†ç¨‹åºã€‚</p>
<p><strong>ä¸­æ–­å¤„ç†</strong></p>
<p>è¯¥ç¨‹åºé¦–å…ˆä»è®¾å¤‡æ§åˆ¶å™¨ä¸­è¯»å‡ºè®¾å¤‡çŠ¶æ€ï¼Œä»¥åˆ¤åˆ«æœ¬æ¬¡ä¸­æ–­æ˜¯æ­£å¸¸å®Œæˆä¸­æ–­ï¼Œè¿˜æ˜¯å¼‚å¸¸ç»“æŸä¸­æ–­ã€‚<br>â–ª è‹¥æ˜¯å‰è€…ï¼Œä¸­æ–­ç¨‹åºä¾¿è¿›è¡Œç»“æŸå¤„ç†ï¼›è‹¥è¿˜æœ‰å‘½ä»¤ï¼Œå¯å†å‘æ§åˆ¶å™¨å‘é€æ–°çš„å‘½ä»¤ï¼Œè¿›è¡Œæ–°ä¸€è½®çš„æ•°æ®ä¼ é€ã€‚<br>â–ª è‹¥æ˜¯å¼‚å¸¸ç»“æŸä¸­æ–­ï¼Œåˆ™æ ¹æ®å‘ç”Ÿå¼‚å¸¸çš„åŸå› åšç›¸åº”çš„å¤„ç†ã€‚</p>
<p><strong>æ¢å¤è¢«ä¸­æ–­è¿›ç¨‹çš„ç°åœº</strong></p>
<p>å½“ä¸­æ–­å¤„ç†å®Œæˆä»¥åï¼Œä¾¿å¯å°†ä¿å­˜åœ¨ä¸­æ–­æ ˆä¸­çš„è¢«ä¸­æ–­è¿›ç¨‹çš„ç°åœºä¿¡æ¯å–å‡ºï¼Œå¹¶è£…å…¥åˆ°ç›¸åº”çš„å¯„å­˜å™¨ä¸­ï¼Œå…¶ä¸­åŒ…æ‹¬è¯¥ç¨‹åºä¸‹ä¸€æ¬¡è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€N+1ã€å¤„ç†æœºçŠ¶æ€å­—<br>PSWï¼Œä»¥åŠå„é€šç”¨å¯„å­˜å™¨å’Œæ®µå¯„å­˜å™¨çš„å†…å®¹ã€‚è¿™æ ·ï¼Œå½“å¤„ç†æœºå†æ‰§è¡Œæœ¬ç¨‹åºæ—¶ï¼Œä¾¿ä»N+1å¤„å¼€å§‹ï¼Œæœ€ç»ˆè¿”å›åˆ°è¢«ä¸­æ–­çš„ç¨‹åºã€‚</p>
<h2 id="I-x2F-Oè®¾å¤‡çš„æ§åˆ¶æ–¹å¼"><a href="#I-x2F-Oè®¾å¤‡çš„æ§åˆ¶æ–¹å¼" class="headerlink" title="I&#x2F;Oè®¾å¤‡çš„æ§åˆ¶æ–¹å¼"></a>I&#x2F;Oè®¾å¤‡çš„æ§åˆ¶æ–¹å¼</h2><p><strong>è½®è¯¢çš„å¯ç¼–ç¨‹I&#x2F;Oæ–¹å¼</strong></p>
<p>â€‹	å¯¹I&#x2F;Oè®¾å¤‡çš„æ§åˆ¶é‡‡å–<strong>ç¨‹åºI&#x2F;O</strong>æ–¹å¼ï¼Œæˆ–ç§°ä¸º<font color=blue>å¿™-ç­‰å¾…</font>æ–¹å¼ï¼Œå³åœ¨å¤„ç†æœºå‘æ§åˆ¶å™¨å‘å‡ºä¸€æ¡I&#x2F;OæŒ‡ä»¤å¯åŠ¨è¾“å…¥è®¾å¤‡è¾“å…¥æ•°æ®æ—¶ï¼Œè¦åŒæ—¶æŠŠçŠ¶æ€å¯„å­˜å™¨ä¸­çš„å¿™&#x2F;é—²æ ‡å¿—busyè®¾ç½®ä¸º1ï¼Œç„¶åä¾¿ä¸æ–­åœ°å¾ªç¯æµ‹è¯•busyï¼Œåªæœ‰å½“å…¶ä¸º0æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥å®Œæˆï¼Œäºæ˜¯å¤„ç†æœºå°†æ•°æ®å¯„å­˜å™¨ä¸­çš„æ•°æ®å–å‡ºï¼Œé€å…¥å†…å­˜æŒ‡å®šå•å…ƒä¸­ï¼Œè¿™æ ·ä¾¿å®Œæˆäº†ä¸€æ¬¡çš„I&#x2F;Oã€‚åœ¨ç¨‹åºI&#x2F;Oæ–¹å¼ä¸­ï¼Œç”±äºCPUçš„é«˜é€Ÿæ€§å’ŒI&#x2F;Oè®¾å¤‡çš„ä½é€Ÿæ€§ï¼Œè‡´ä½¿CPUçš„ç»å¤§éƒ¨åˆ†æ—¶é—´éƒ½å¤„äºç­‰å¾…I&#x2F;Oè®¾å¤‡å®Œæˆæ•°æ®I&#x2F;Oçš„å¾ªç¯æµ‹è¯•ä¸­ï¼Œé€ æˆå¯¹CPUçš„æå¤§æµªè´¹ã€‚</p>
<p><strong>ä¸­æ–­çš„å¯ç¼–ç¨‹I&#x2F;Oæ–¹å¼</strong></p>
<p>ã€€å½“æŸè¿›ç¨‹è¦å¯åŠ¨æŸä¸ªI&#x2F;Oè®¾å¤‡å·¥ä½œæ—¶ï¼Œä¾¿ç”±CPUå‘ç›¸åº”çš„è®¾å¤‡æ§åˆ¶å™¨å‘å‡ºä¸€æ¡I&#x2F;Oå‘½ä»¤ï¼Œç„¶åç«‹å³è¿”å›ç»§ç»­æ‰§è¡ŒåŸæ¥çš„ä»»åŠ¡ï¼Œè®¾å¤‡æ§åˆ¶å™¨äºæ˜¯æŒ‰ç…§è¯¥å‘½ä»¤çš„è¦æ±‚å»æ§åˆ¶æŒ‡å®šI&#x2F;Oè®¾å¤‡ï¼Œæ­¤æ—¶ï¼ŒCPUä¸I&#x2F;Oè®¾å¤‡å¹¶è¡Œæ“ä½œã€‚ä¸€æ—¦æ•°æ®è¿›å…¥æ•°æ®å¯„å­˜å™¨ï¼Œæ§åˆ¶å™¨ä¾¿é€šè¿‡æ§åˆ¶çº¿å‘CPUå‘é€ä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼Œç”±CPUæ£€æŸ¥è¾“å…¥è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºé”™ï¼Œè‹¥æ— é”™ï¼Œä¾¿ç”±æ§åˆ¶å™¨å‘é€å–èµ°æ•°æ®çš„ä¿¡å·ï¼Œå†é€šè¿‡æ§åˆ¶å™¨åŠæ•°æ®çº¿å°†æ•°æ®å†™å…¥å†…å­˜æŒ‡å®šå•å…ƒä¸­ã€‚åœ¨I&#x2F;Oè®¾å¤‡è¾“å…¥æ¯ä¸ªæ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œç”±äºæ— éœ€CPUå¹²é¢„ï¼Œå› è€Œå¯ä½¿CPUä¸I&#x2F;Oè®¾å¤‡å¹¶è¡Œå·¥ä½œï¼Œä»…å½“å®Œæˆä¸€ä¸ªæ•°æ®è¾“å…¥æ—¶ï¼Œæ‰éœ€CPUèŠ±è´¹æçŸ­çš„æ—¶é—´å»åšä¸€äº›ä¸­æ–­å¤„ç†ã€‚</p>
<p><strong>ç›´æ¥å­˜å‚¨å™¨è®¿é—®æ–¹å¼</strong></p>
<p>ã€€è™½ç„¶ä¸­æ–­é©±åŠ¨I&#x2F;Oæ¯”ç¨‹åºI&#x2F;Oæ–¹å¼æ›´æœ‰æ•ˆï¼Œä½†æ˜¯ï¼Œå®ƒä»æ˜¯ä»¥å­—ï¼ˆèŠ‚ï¼‰ä¸ºå•ä½è¿›è¡ŒI&#x2F;Oçš„ï¼Œæ¯å½“å®Œæˆä¸€ä¸ªå­—ï¼ˆèŠ‚ï¼‰çš„I&#x2F;Oæ—¶ï¼Œæ§åˆ¶å™¨ä¾¿è¦å‘CPUè¯·æ±‚ä¸€æ¬¡ä¸­æ–­ï¼Œæ¢è¨€ä¹‹ï¼Œé‡‡ç”¨ä¸­æ–­é©±åŠ¨I&#x2F;Oæ–¹å¼æ—¶çš„CPUæ˜¯ä»¥å­—ï¼ˆèŠ‚ï¼‰ä¸ºå•ä½è¿›è¡Œå¹²é¢„çš„ï¼Œå°†è¿™ç§æ–¹å¼ç”¨äºå—è®¾å¤‡çš„I&#x2F;Oæ˜¯éå¸¸ä½æ•ˆçš„ï¼Œä¾‹å¦‚ï¼Œä¸ºäº†ä»ç£ç›˜è¯»å–1KBçš„æ•°æ®å—ï¼Œéœ€è¦ä¸­æ–­CPU1Kæ¬¡ï¼Œä¸ºäº†è¿›ä¸€æ­¥å‡å°‘CPUå¯¹I&#x2F;Oçš„å¹²é¢„è€Œå¼•å…¥äº†ç›´æ¥å­˜å‚¨å™¨è®¿é—®æ–¹å¼ï¼Œè¯¥æ–¹å¼çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<p>ã€€â‘  æ•°æ®ä¼ è¾“çš„åŸºæœ¬å•ä½æ˜¯<strong>æ•°æ®å—</strong>ï¼Œå³åœ¨CPUä¸I&#x2F;Oè®¾å¤‡ä¹‹é—´ï¼Œæ¯æ¬¡ä¼ é€è‡³å°‘ä¸€ä¸ªæ•°æ®å—ã€‚</p>
<p>ã€€â‘¡ æ‰€ä¼ é€çš„æ•°æ®æ˜¯<strong>ä»è®¾å¤‡ç›´æ¥é€å…¥å†…å­˜</strong>çš„ï¼Œæˆ–è€…ç›¸åã€‚</p>
<p>ã€€â‘¢ ä»…åœ¨ä¼ é€ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å—çš„å¼€å§‹å’Œç»“æŸæ—¶ï¼Œéœ€è¦CPUå¹²é¢„ï¼Œæ•´å—æ•°æ®çš„ä¼ é€æ˜¯åœ¨æ§åˆ¶å™¨çš„æ§åˆ¶ä¸‹å®Œæˆçš„ã€‚</p>
<p>ã€€DMAæ§åˆ¶å™¨ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œä¸»æœºä¸DMAæ§åˆ¶å™¨çš„æ¥å£ï¼›DMAæ§åˆ¶å™¨ä¸å—è®¾å¤‡çš„æ¥å£ï¼›I&#x2F;Oæ§åˆ¶é€»è¾‘ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160628173514952-543939858.png"></p>
<p>ã€€â‘  å‘½ä»¤&#x2F;çŠ¶æ€å¯„å­˜å™¨ï¼ˆCRï¼‰ï¼Œç”¨äºæ¥æ”¶ä»CPUå‘é€æ¥çš„I&#x2F;Oå‘½ä»¤ï¼Œæˆ–æœ‰å…³æ§åˆ¶ä¿¡æ¯ï¼Œæˆ–è®¾å¤‡çš„çŠ¶æ€ã€‚</p>
<p>ã€€â‘¡ å†…å­˜åœ°å€å¯„å­˜å™¨ï¼ˆMARï¼‰ï¼Œåœ¨è¾“å…¥æ—¶ï¼Œå®ƒå­˜æ”¾æŠŠæ•°æ®ä»è®¾å¤‡ä¼ é€åˆ°å†…å­˜çš„èµ·å§‹ç›®æ ‡åœ°å€ï¼Œåœ¨è¾“å‡ºæ—¶ï¼Œå®ƒå­˜æ”¾ç”±å†…å­˜åˆ°è®¾å¤‡çš„å†…å­˜æºåœ°å€ã€‚</p>
<p>ã€€â‘¢ æ•°æ®å¯„å­˜å™¨ï¼ˆDRï¼‰ï¼Œç”¨äºæš‚å­˜ä»è®¾å¤‡åˆ°å†…å­˜ï¼Œæˆ–ä»å†…å­˜åˆ°è®¾å¤‡çš„æ•°æ®ã€‚</p>
<p>ã€€â‘£ æ•°æ®è®¡æ•°å™¨ï¼ˆDCï¼‰ï¼Œå­˜æ”¾æœ¬æ¬¡CPUè¦è¯»æˆ–å†™çš„å­—ï¼ˆèŠ‚ï¼‰æ•°ã€‚</p>
<p> ã€€å½“CPUè¦ä»ç£ç›˜è¯»å…¥ä¸€ä¸ªæ•°æ®å—æ—¶ï¼Œä¾¿å‘ç£ç›˜æ§åˆ¶å™¨å‘é€ä¸€æ¡è¯»å‘½ä»¤ï¼Œè¯¥å‘½ä»¤è¢«é€åˆ°å…¶ä¸­çš„å‘½ä»¤å¯„å­˜å™¨ï¼ˆCRï¼‰ä¸­ï¼ŒåŒæ—¶ï¼Œè¿˜éœ€è¦å‘é€æœ¬æ¬¡è¦å°†æ•°æ®è¯»å…¥çš„å†…å­˜èµ·å§‹ç›®æ ‡åœ°å€ï¼Œè¯¥åœ°å€è¢«é€å…¥å†…å­˜åœ°å€å¯„å­˜å™¨ï¼ˆMARï¼‰ä¸­ï¼Œæœ¬æ¬¡è¦è¯»æ•°æ®çš„å­—ï¼ˆèŠ‚ï¼‰æ•°è¢«é€å…¥æ•°æ®å¯„å­˜å™¨ï¼ˆDCï¼‰ä¸­ï¼Œè¿˜é¡»å°†ç£ç›˜ä¸­çš„æºåœ°å€ç›´æ¥é€è‡³DMAæ§åˆ¶å™¨çš„I&#x2F;Oæ§åˆ¶é€»è¾‘ä¸Šï¼Œç„¶åï¼Œå¯åŠ¨DMAæ§åˆ¶å™¨è¿›è¡Œæ•°æ®ä¼ é€ï¼Œä»¥åï¼ŒCPUä¾¿å¯å»å¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œæ­¤åï¼Œæ•´ä¸ªæ•°æ®ä¼ é€è¿‡ç¨‹ä¾¿ç”±DMAæ§åˆ¶å™¨è¿›è¡Œæ§åˆ¶ï¼Œå½“DMAæ§åˆ¶å™¨å·²ä»ç£ç›˜ä¸­è¯»å…¥ä¸€ä¸ªå­—ï¼ˆèŠ‚ï¼‰çš„æ•°æ®å¹¶é€å…¥æ•°æ®å¯„å­˜å™¨ï¼ˆDRï¼‰åï¼Œå†æŒªç”¨ä¸€ä¸ªå­˜å‚¨å™¨å‘¨æœŸï¼Œå°†è¯¥å­—ï¼ˆèŠ‚ï¼‰ä¼ é€åˆ°MARæ‰€æŒ‡ç¤ºçš„å†…å­˜å•å…ƒä¸­ï¼Œæ¥ç€ä¾¿å¯¹MARå†…å®¹åŠ 1ï¼Œå°†DCå†…å­˜å‡1ï¼Œè‹¥å‡åDCå†…å­˜ä¸ä¸º0ï¼Œè¡¨ç¤ºä¼ é€æœªå®Œæˆï¼Œä¾¿ç»§ç»­ä¼ é€ä¸‹ä¸€ä¸ªå­—ï¼ˆèŠ‚ï¼‰ï¼Œå¦åˆ™ï¼Œç”±DMAæ§åˆ¶å‘å‡ºä¸­æ–­è¯·æ±‚ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160628174538171-789907791.png"></p>
<p>ã€€ä¸‹å›¾å±•ç¤ºäº†ä¸‰ç§ä¸åŒæ–¹å¼çš„æµç¨‹ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160628193955531-1354950266.png">ã€€ã€€</p>
<p><strong>I&#x2F;Oé€šé“æ§åˆ¶æ–¹å¼</strong></p>
<p>ã€€è™½ç„¶DMAæ–¹å¼æ¯”èµ·ä¸­æ–­æ–¹å¼å·²ç»æ˜¾è‘—åœ°å‡å°‘CPUçš„å¹²é¢„ï¼Œå³å·²ç”±ä»¥å­—ï¼ˆèŠ‚ï¼‰ä¸ºå•ä½çš„å¹²é¢„å‡å°‘åˆ°äº†ä»¥æ•°æ®å—ä¸ºå•ä½è¿›è¡Œå¹²é¢„ï¼Œä½†CPUæ¯å‘å‡ºä¸€æ¡I&#x2F;OæŒ‡ä»¤ï¼Œä¹Ÿåªèƒ½å»è¯»ï¼ˆæˆ–å†™ï¼‰ä¸€ä¸ªè¿ç»­çš„æ•°æ®å—ï¼Œè€Œå½“æˆ‘ä»¬éœ€è¦ä¸€æ¬¡å»è¯»å¤šä¸ªæ•°æ®å—ä¸”å°†ä»–ä»¬åˆ†åˆ«ä¼ é€åˆ°ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œæˆ–è€…ç›¸åæ—¶ï¼Œåˆ™é¡»ç”±CPUåˆ†åˆ«å‘å‡ºå¤šæ¡I&#x2F;OæŒ‡ä»¤åŠè¿›è¡Œå¤šæ¬¡ä¸­æ–­æ‰èƒ½å®Œæˆã€‚I&#x2F;Oé€šé“æ–¹å¼æ˜¯DMAçš„å‘å±•ï¼Œå®ƒå¯ä»¥è¿›ä¸€æ­¥å‡å°‘CPUçš„å¹²é¢„ï¼Œå³æŠŠä¸€ä¸ªæ•°æ®å—çš„è¯»ï¼ˆæˆ–å†™ï¼‰ä¸ºå•ä½çš„å¹²é¢„å‡å°‘ä¸º<strong>å¯¹ä¸€ç»„æ•°æ®å—çš„è¯»ï¼ˆæˆ–å†™ï¼‰åŠæœ‰å…³çš„æ§åˆ¶å’Œç®¡ç†ä¸ºå•ä½çš„å¹²é¢„</strong>ã€‚åŒæ—¶ï¼Œå¯ä»¥å®ç°CPUã€é€šé“ã€I&#x2F;Oè®¾å¤‡çš„å¹¶è¡Œæ“ä½œï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_21-17-58.png"></p>
<p><strong>ä»€ä¹ˆæ˜¯ä¸­æ–­ï¼Ÿç³»ç»Ÿå†…éƒ¨ä¸­æ–­ä¸å¤–éƒ¨ä¸­æ–­æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>ä¸­æ–­æ˜¯æŒ‡è®¡ç®—æœºåœ¨æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œç”±äºæŸäº›äº‹ä»¶çš„å‘ç”Ÿè€Œæš‚æ—¶ä¸­æ­¢å½“å‰ç¨‹åºçš„æ‰§è¡Œï¼Œè½¬è€Œå»æ‰§è¡Œç›¸åº”çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¤„ç†å®Œæ¯•åå†è¿”å›åŸæ¥ç¨‹åºç»§ç»­æ‰§è¡Œçš„è¿‡ç¨‹</p>
<p>ä¸­æ–­å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šç³»ç»Ÿå†…éƒ¨ä¸­æ–­å’Œå¤–éƒ¨ä¸­æ–­ã€‚ç³»ç»Ÿå†…éƒ¨ä¸­æ–­æ˜¯æŒ‡ç”±CPUå†…éƒ¨äº§ç”Ÿçš„ä¸­æ–­ï¼Œä¾‹å¦‚é™¤é›¶é”™è¯¯ã€æº¢å‡ºé”™è¯¯ç­‰ã€‚å¤–éƒ¨ä¸­æ–­æ˜¯æŒ‡ç”±CPUå¤–éƒ¨äº§ç”Ÿçš„ä¸­æ–­ï¼Œä¾‹å¦‚æ¥è‡ªå¤–è®¾çš„ä¸­æ–­è¯·æ±‚ã€‚å¤–éƒ¨ä¸­æ–­å¯ä»¥è¿›ä¸€æ­¥åˆ†ä¸ºå¯å±è”½ä¸­æ–­å’Œä¸å¯å±è”½ä¸­æ–­ã€‚å¯å±è”½ä¸­æ–­æ˜¯æŒ‡å¯ä»¥è¢«å±è”½æˆ–å¿½ç•¥çš„ä¸­æ–­ï¼Œä¾‹å¦‚æ¥è‡ªç¡¬ç›˜ã€æ‰“å°æœºã€ç½‘å¡ç­‰å¤–è®¾çš„ä¸­æ–­è¯·æ±‚ã€‚ä¸å¯å±è”½ä¸­æ–­æ˜¯æŒ‡ä¸èƒ½è¢«å±è”½æˆ–å¿½ç•¥çš„ä¸­æ–­ï¼Œä¾‹å¦‚ç”µæºæ‰ç”µã€ç¡¬ä»¶çº¿è·¯æ•…éšœç­‰ã€‚</p>
<p><strong>ç¼ºé¡µä¸­æ–­ä¸ä¸€èˆ¬ä¸­æ–­çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ç¼ºé¡µä¸­æ–­ä½œä¸ºä¸­æ–­,åŒæ ·éœ€è¦ç»å†ä¿æŠ¤CPUç°åœºã€åˆ†æä¸­æ–­åŸå› ã€è½¬ç¼ºé¡µä¸­æ–­å¤„ç†ç¨‹åºè¿›è¡Œå¤„ç†ã€æ¢å¤CPUç°åœºç­‰æ­¥éª¤ã€‚ä½†ç¼ºé¡µä¸­æ–­åˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„ä¸­æ–­,å®ƒä¸ä¸€èˆ¬ä¸­æ–­çš„ä¸»è¦åŒºåˆ«æ˜¯:</p>
<p>(1) åœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´äº§ç”Ÿå’Œå¤„ç†ä¸­æ–­ä¿¡å·ã€‚é€šå¸¸,CPUéƒ½æ˜¯åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®Œåå»æ£€æŸ¥æ˜¯å¦æœ‰ä¸­æ–­è¯·æ±‚åˆ°è¾¾ã€‚è‹¥æœ‰ä¾¿å»å“åº”ä¸­æ–­;å¦åˆ™ç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚è€Œç¼ºé¡µä¸­æ–­æ˜¯åœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´,å‘ç°æ‰€è¦è®¿é—®çš„æŒ‡ä»¤æˆ–æ•°æ®ä¸åœ¨å†…å­˜æ—¶äº§ç”Ÿå’Œå¤„ç†çš„ã€‚</p>
<p>(2) ä¸€æ¡æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´,å¯èƒ½äº§ç”Ÿå¤šæ¬¡ç¼ºé¡µä¸­æ–­ã€‚ä¾‹å¦‚,å¯¹äºä¸€æ¡è¯»å–æ•°æ®çš„å¤šå­—èŠ‚æŒ‡ä»¤,æŒ‡ä»¤æœ¬èº«è·¨è¶Šä¸¤ä¸ªé¡µé¢,å‡å®šæŒ‡ä»¤åä¸€éƒ¨åˆ†æ‰€åœ¨é¡µé¢å’Œæ•°æ®æ‰€åœ¨é¡µé¢å‡ä¸åœ¨å†…å­˜,åˆ™è¯¥æŒ‡ä»¤çš„æ‰§è¡Œè‡³å°‘äº§ç”Ÿä¸¤æ¬¡ç¼ºé¡µä¸­æ–­ã€‚</p>
<p>æ€»ä¹‹ï¼Œç¼ºé¡µä¸­æ–­ä¸ä¸€èˆ¬ä¸­æ–­çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬äº§ç”Ÿå’Œå¤„ç†çš„æ—¶é—´ä¸åŒã€‚ç¼ºé¡µä¸­æ–­æ˜¯åœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´äº§ç”Ÿå’Œå¤„ç†çš„ï¼Œè€Œä¸€èˆ¬ä¸­æ–­æ˜¯åœ¨æŒ‡ä»¤æ‰§è¡Œå®Œåæ£€æŸ¥æ˜¯å¦æœ‰ä¸­æ–­è¯·æ±‚å†è¿›è¡Œå¤„ç†çš„ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯è®¾å¤‡çš„ç‹¬ç«‹æ€§ï¼Ÿ</strong></p>
<p>ä¹Ÿç§°è®¾å¤‡æ— å…³æ€§ï¼ŒæŒ‡åº”ç”¨ç¨‹åºç‹¬ç«‹äºå…·ä½“ä½¿ç”¨çš„ç‰©ç†è®¾å¤‡ã€‚åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨é€»è¾‘è®¾å¤‡åè¯·æ±‚ä½¿ç”¨æŸç±»è®¾å¤‡ï¼Œç³»ç»Ÿå®é™…æ‰§è¡Œæ—¶ä½¿ç”¨ç‰©ç†è®¾å¤‡åï¼Œç³»ç»Ÿå®Œæˆé€»è¾‘è®¾å¤‡ååˆ°ç‰©ç†è®¾å¤‡åçš„è½¬æ¢ã€‚</p>
<p><strong>I&#x2F;Oæ§åˆ¶æ–¹å¼ä¸­çš„ä¸­æ–­æ§åˆ¶æ–¹å¼å’ŒDMAæ–¹å¼æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</strong></p>
<p>(1) ä¸­æ–­æ–¹å¼æ˜¯åœ¨æ•°æ®ç¼“å†²å¯„å­˜åŒºæ»¡å,å‘ä¸­æ–­è¯·æ±‚,CPUè¿›è¡Œä¸­æ–­å¤„ç†,ä½†å®ƒä»¥å­—ï¼ˆèŠ‚)ä¸ºå•ä½è¿›è¡ŒI&#x2F;0ï¼Œå¯¹å—è®¾å¤‡ä½æ•ˆã€‚;DMAæ–¹å¼åˆ™æ˜¯åœ¨æ‰€è¦æ±‚ä¼ é€çš„æ•°æ®å—å…¨éƒ¨ä¼ é€ç»“æŸæ—¶è¦æ±‚CPUè¿›è¡Œä¸­æ–­å¤„ç†,å¤§å¤§å‡å°‘äº†CPUè¿›è¡Œä¸­æ–­å¤„ç†çš„æ¬¡æ•°ã€‚</p>
<p>(2) ä¸­æ–­æ–¹å¼çš„æ•°æ®ä¼ é€æ˜¯ç”±CPUæ§åˆ¶å®Œæˆçš„;è€ŒDMAæ–¹å¼åˆ™æ˜¯åœ¨DMAæ§åˆ¶å™¨çš„æ§åˆ¶ä¸‹ä¸ç»è¿‡CPUæ§åˆ¶å®Œæˆçš„ã€‚</p>
<h2 id="ç¼“å†²ç®¡ç†"><a href="#ç¼“å†²ç®¡ç†" class="headerlink" title="ç¼“å†²ç®¡ç†"></a>ç¼“å†²ç®¡ç†</h2><p>ã€€åœ¨è®¾å¤‡ç®¡ç†ä¸­ï¼Œä¸ºäº†ç¼“å’ŒCPUä¸I&#x2F;Oè®¾å¤‡é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ï¼Œæé«˜CPUä¸I&#x2F;Oè®¾å¤‡çš„å¹¶è¡Œæ€§ï¼Œåœ¨I&#x2F;Oè®¾å¤‡ä¸å¤„ç†æœºäº¤æ¢æ•°æ®æ—¶éƒ½ç”¨åˆ°äº†ç¼“å†²åŒºã€‚</p>
<p>ã€€â‘  ç¼“å’ŒCPUå’ŒI&#x2F;Oè®¾å¤‡é—´é€Ÿåº¦ä¸åŒ¹é…çš„çŸ›ç›¾ã€‚</p>
<p>ã€€â‘¡ å‡å°‘å¯¹CPUçš„ä¸­æ–­é¢‘ç‡ï¼Œæ”¾å®½å¯¹CPUä¸­æ–­å“åº”æ—¶é—´çš„é™åˆ¶ã€‚</p>
<p>ã€€â‘¢ æé«˜CPUå’ŒI&#x2F;Oè®¾å¤‡ä¹‹é—´çš„å¹¶è¡Œæ€§ã€‚</p>
<p><strong>å•ç¼“å†²</strong></p>
<p>ã€€æ¯å½“ç”¨æˆ·è¿›ç¨‹å‘å‡ºä¸€ä¸ªI&#x2F;Oè¯·æ±‚æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¾¿åœ¨ä¸»å­˜ä¸­ä¸ºä¹‹åˆ†é…ä¸€ä¸ªç¼“å†²åŒºï¼Œå‡å®šä»ç£ç›˜æŠŠä¸€å—æ•°æ®è¾“å…¥åˆ°ç¼“å†²åŒºçš„æ—¶é—´ä¸ºTï¼Œæ“ä½œç³»ç»Ÿå°†è¯¥ç¼“å†²åŒºä¸­çš„æ•°æ®ä¼ é€åˆ°ç”¨æˆ·åŒºçš„æ—¶é—´ä¸ºMï¼Œè€ŒCPUå¯¹è¿™ä¸€å—æ•°æ®å¤„ç†ï¼ˆè®¡ç®—ï¼‰çš„æ—¶é—´ä¸ºCï¼Œç”±äºTå’ŒCæ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼Œå½“T&gt;Cæ—¶ï¼Œç³»ç»Ÿå¯¹æ¯ä¸€å—æ•°æ®çš„å¤„ç†æ—¶é—´ä¸ºM+Tï¼Œåä¹‹ï¼Œä¸ºM+Cï¼Œç³»ç»Ÿå¯¹æ¯ä¸€å—æ•°æ®çš„å¤„ç†æ—¶é—´ä¸º<strong>Max(Cï¼ŒT) + M</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160628201003046-1717232929.png"></p>
<p>ã€€åœ¨å­—ç¬¦è®¾å¤‡è¾“å…¥æ—¶ï¼Œç¼“å†²åŒºç”¨äºæš‚å­˜ç”¨æˆ·è¾“å…¥çš„ä¸€è¡Œæ•°æ®ï¼Œåœ¨è¾“å…¥æœŸé—´ï¼Œç”¨æˆ·è¿›ç¨‹è¢«æŒ‚èµ·ä»¥ç­‰å¾…æ•°æ®è¾“å…¥å®Œæ¯•ï¼Œåœ¨è¾“å‡ºæ—¶ï¼Œç”¨æˆ·è¿›ç¨‹å°†ä¸€è¡Œæ•°æ®è¾“å…¥åˆ°ç¼“å†²åŒºåï¼Œç»§ç»­è¿›è¡Œå¤„ç†ï¼Œå½“ç”¨æˆ·è¿›ç¨‹å·²æœ‰ç¬¬äºŒè¡Œæ•°æ®è¾“å‡ºæ—¶ï¼Œå¦‚æœç¬¬ä¸€è¡Œæ•°æ®å°šæœªè¢«æå–å®Œæ¯•ï¼Œåˆ™æ­¤æ—¶ç”¨æˆ·è¿›ç¨‹åº”è¯¥é˜»å¡ã€‚</p>
<p><strong>åŒç¼“å†²</strong></p>
<p>ã€€ä¸ºäº†åŠ å¿«è¾“å…¥å’Œè¾“å‡ºçš„é€Ÿåº¦ï¼Œæé«˜è®¾å¤‡åˆ©ç”¨ç‡ï¼Œäººä»¬åˆå¼•å…¥äº†åŒç¼“å†²åŒºæœºåˆ¶ï¼Œç§°ä¸ºç¼“å†²å¯¹æ¢ï¼Œåœ¨è®¾å¤‡è¾“å…¥æ—¶ï¼Œå…ˆå°†æ•°æ®é€å…¥ç¬¬ä¸€ä¸ªç¼“å†²åŒºï¼Œè£…æ»¡åä¾¿è½¬å‘ç¬¬äºŒä¸ªç¼“å†²åŒºï¼Œæ­¤æ—¶æ“ä½œç³»ç»Ÿå¯ä»¥ä»ç¬¬ä¸€ç¼“å†²åŒºä¸­ç§»å‡ºæ•°æ®ï¼Œå¹¶é€å…¥ç”¨æˆ·è¿›ç¨‹ï¼Œæ¥ç€ç”±CPUå¯¹æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œåœ¨åŒç¼“å†²æ—¶ï¼Œç³»ç»Ÿå¤„ç†ä¸€å—æ•°æ®çš„æ—¶é—´å¯ä»¥ç²—ç•¥åœ°è®¤ä¸ºæ˜¯Max(Cï¼ŒT)ï¼Œå¦‚æœC&lt;Tï¼Œå¯ä½¿å—è®¾å¤‡è¿ç»­è¾“å…¥ï¼Œå¦‚æœC&gt;Tï¼Œåˆ™å¯ä½¿CPUä¸å¿…ç­‰å¾…è®¾å¤‡è¾“å…¥ã€‚å¯¹äºå­—ç¬¦è®¾å¤‡ï¼Œè‹¥é‡‡ç”¨è¡Œè¾“å…¥æ–¹å¼ï¼Œåˆ™é‡‡ç”¨åŒç¼“å†²é€šå¸¸èƒ½æ¶ˆé™¤ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œå³ç”¨æˆ·åœ¨è¾“å…¥å®Œç¬¬ä¸€è¡Œåï¼Œåœ¨CPUæ‰§è¡Œç¬¬ä¸€è¡Œä¸­çš„å‘½ä»¤æ—¶ï¼Œç”¨æˆ·å¯ç»§ç»­å‘ç¬¬äºŒç¼“å†²åŒºè¾“å…¥ä¸‹ä¸€è¡Œæ•°æ®ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160628202211796-1310715249.png"></p>
<p><strong>å¾ªç¯ç¼“å†²</strong></p>
<p>ã€€å½“è¾“å…¥ä¸è¾“å‡ºæˆ–ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„é€Ÿåº¦åŸºæœ¬ç›¸åŒ¹é…æ—¶ï¼Œé‡‡ç”¨åŒç¼“å†²èƒ½è·å¾—è¾ƒå¥½çš„æ•ˆæœï¼Œå¯ä½¿ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…åŸºæœ¬ä¸Šèƒ½å¹¶è¡Œæ“ä½œï¼Œä½†è‹¥ä¸¤è€…é€Ÿåº¦ç›¸å·®ç”šè¿œï¼ŒåŒç¼“å†²çš„æ•ˆæœåˆ™ä¸å¤Ÿç†æƒ³ï¼Œå› æ­¤ï¼Œå¼•å…¥äº†å¤šç¼“å†²æœºåˆ¶ï¼Œå¯å°†å¤šä¸ªç¼“å†²ç»„ç»‡æˆå¾ªç¯ç¼“å†²å½¢å¼ã€‚å¯¹äºç”¨ä½œè¾“å…¥çš„å¾ªç¯ç¼“å†²ï¼Œé€šå¸¸æ˜¯æä¾›ç»™è¾“å…¥è¿›ç¨‹æˆ–è®¡ç®—è¿›ç¨‹ä½¿ç”¨ï¼Œè¾“å…¥è¿›ç¨‹ä¸æ–­å‘ç©ºç¼“å†²å»è¾“å…¥æ•°æ®ï¼Œè€Œè®¡ç®—è¿›ç¨‹åˆ™ä»ä¸­æå–æ•°æ®è¿›è¡Œè®¡ç®—ã€‚</p>
<p>ã€€å¾ªç¯ç¼“å†²åŒºçš„ç»„æˆå¦‚ä¸‹</p>
<p>ã€€â‘  å¤šä¸ªç¼“å†²åŒºï¼Œåœ¨å¾ªç¯ç¼“å†²åŒºä¸­åŒ…æ‹¬å¤šä¸ªç¼“å†²åŒºï¼Œæ¯ä¸ªç¼“å†²åŒºçš„å¤§å°ç›¸åŒï¼Œä½œä¸ºè¾“å…¥çš„å¤šç¼“å†²åŒºå¯åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼Œç”¨äºè£…è¾“å…¥æ•°æ®çš„ç©ºç¼“å†²åŒºRã€å·²è£…æ»¡æ•°æ®çš„ç¼“å†²åŒºGä»¥åŠè®¡ç®—è¿›ç¨‹æ­£åœ¨ä½¿ç”¨çš„å…ˆè¡Œå·¥ä½œç¼“å†²åŒºC</p>
<p>ã€€â‘¡ å¤šä¸ªæŒ‡é’ˆï¼Œä½œä¸ºè¾“å…¥çš„ç¼“å†²åŒºå¯è®¾ç½®ä¸‰ä¸ªæŒ‡é’ˆï¼Œç”¨äºæŒ‡ç¤ºè®¡ç®—è¿›ç¨‹ä¸‹ä¸€ä¸ªå¯ç”¨ç¼“å†²åŒºGçš„æŒ‡é’ˆNextgã€æŒ‡ç¤ºè¾“å…¥è¿›ç¨‹ä¸‹æ¬¡å¯ç”¨çš„ç©ºç¼“å†²åŒºRçš„æŒ‡é’ˆNextiã€ä»¥åŠç”¨äºæŒ‡ç¤ºè®¡ç®—è¿›ç¨‹æ­£åœ¨ä½¿ç”¨çš„ç¼“å†²åŒºCçš„æŒ‡é’ˆCurrentã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160628203538952-358207840.png"></p>
<p>ã€€è®¡ç®—è¿›ç¨‹å’Œè¾“å…¥è¿›ç¨‹å¯ä»¥åˆ©ç”¨ä¸‹è¿°ä¸¤ä¸ªè¿‡ç¨‹æ¥ä½¿ç”¨å¾ªç¯ç¼“å†²åŒºï¼ˆå¾ªç¯ç¼“å†²çš„ä½¿ç”¨ï¼‰ã€‚</p>
<p>ã€€â‘  Getbufè¿‡ç¨‹ï¼Œå½“è®¡ç®—è¿›ç¨‹è¦ä½¿ç”¨ç¼“å†²åŒºä¸­çš„æ•°æ®æ—¶ï¼Œå¯è°ƒç”¨Getbufè¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹å°†ç”±æŒ‡é’ˆNextgæ‰€æŒ‡ç¤ºçš„ç¼“å†²åŒºæä¾›ç»™è¿›ç¨‹ä½¿ç”¨ï¼Œç›¸åº”çš„ï¼Œé¡»æŠŠå®ƒæ”¹ä¸ºç°è¡Œå·¥ä½œç¼“å†²åŒºï¼Œå¹¶å°†CurrentæŒ‡é’ˆæŒ‡å‘è¯¥ç¼“å†²åŒºçš„ç¬¬ä¸€ä¸ªå•å…ƒï¼ŒåŒæ—¶å°†Nextgç§»å‘ä¸‹ä¸€ä¸ªGç¼“å†²åŒºï¼Œç±»ä¼¼åœ°ï¼Œå½“è¾“å…¥è¿›ç¨‹è¦ä½¿ç”¨ç©ºç¼“å†²åŒºæ¥è£…å…¥æ•°æ®æ—¶ï¼Œè°ƒç”¨Getbufè¿‡ç¨‹ï¼Œç”±è¯¥è¿‡ç¨‹å°†æŒ‡é’ˆNextiæ‰€æŒ‡ç¤ºçš„ç¼“å†²åŒºæä¾›ç»™è¾“å…¥è¿›ç¨‹ä½¿ç”¨ï¼ŒåŒæ—¶å°†NextiæŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªRç¼“å†²åŒºã€‚</p>
<p>ã€€â‘¡ Releasebufè¿‡ç¨‹ï¼Œå½“è®¡ç®—è¿›ç¨‹æŠŠCç¼“å†²åŒºä¸­çš„æ•°æ®æå–å®Œæ¯•æ—¶ï¼Œä¾¿è°ƒç”¨Releasebufè¿‡ç¨‹ï¼Œå°†ç¼“å†²åŒºCé‡Šæ”¾ï¼Œæ­¤æ—¶ï¼ŒæŠŠè¯¥ç¼“å†²åŒºç”±å½“å‰ï¼ˆç°è¡Œï¼‰å·¥ä½œç¼“å†²åŒºCæ”¹ä¸ºç©ºç¼“å†²åŒºRï¼Œç±»ä¼¼åœ°ï¼Œå½“è¾“å…¥è¿›ç¨‹æŠŠç¼“å†²åŒºè£…æ»¡æ—¶ï¼Œä¹Ÿåº”è¯¥è°ƒç”¨Releasebufè¿‡ç¨‹ï¼Œå°†è¯¥ç¼“å†²åŒºé‡Šæ”¾ï¼Œå¹¶æ”¹ä¸ºGç¼“å†²åŒºã€‚</p>
<p>ã€€ä½¿ç”¨è¾“å…¥å¾ªç¯ç¼“å†²ï¼Œå¯ä½¿è¾“å…¥è¿›ç¨‹å’Œè®¡ç®—è¿›ç¨‹å¹¶è¡Œæ‰§è¡Œï¼ˆ<strong>è¿›ç¨‹åŒæ­¥</strong>ï¼‰ï¼Œç›¸åº”åœ°ï¼ŒæŒ‡é’ˆNextiå’ŒæŒ‡é’ˆNextgå°†ä¸æ–­åœ°æ²¿ç€é¡ºæ—¶é’ˆæ–¹å‘ç§»åŠ¨ï¼Œè¿™æ ·å°±ä¼šå‡ºç°å¦‚ä¸‹ä¸¤ç§æƒ…å†µã€‚</p>
<p>ã€€â‘  NextiæŒ‡é’ˆè¿½èµ¶ä¸ŠNextgæŒ‡é’ˆï¼Œè¿™æ„å‘³ç€è¾“å…¥è¿›ç¨‹çš„é€Ÿåº¦å¤§äºè®¡ç®—è¿›ç¨‹å¤„ç†æ•°æ®çš„é€Ÿåº¦ï¼Œå·²æŠŠå…¨éƒ¨å¯ç”¨çš„ç©ºç¼“å†²åŒºè£…æ»¡ï¼Œå†æ— ç¼“å†²åŒºå¯ç”¨ï¼Œæ­¤æ—¶ï¼Œè¾“å…¥è¿›ç¨‹åº”è¯¥é˜»å¡ï¼Œç›´åˆ°è®¡ç®—è¿›ç¨‹æŠŠæŸä¸ªç¼“å†²åŒºä¸­çš„æ•°æ®å…¨éƒ¨æå–å®Œï¼Œä½¿ä¹‹æˆä¸ºç©ºç¼“å†²åŒºRï¼Œå¹¶è°ƒç”¨Releasebufè¿‡ç¨‹å°†å®ƒé‡Šæ”¾æ—¶ï¼Œæ‰å°†è¾“å…¥è¿›ç¨‹å”¤é†’ï¼Œè¿™ç§æƒ…å†µç§°ä¸º<strong>ç³»ç»Ÿå—è®¡ç®—é™åˆ¶</strong>ã€‚</p>
<p>ã€€â‘¡ NextgæŒ‡é’ˆè¿½èµ¶ä¸ŠNextiæŒ‡é’ˆï¼Œè¿™æ„å‘³ç€è¾“å…¥æ•°æ®çš„é€Ÿåº¦ä½äºè®¡ç®—è¿›ç¨‹å¤„ç†æ•°æ®çš„é€Ÿåº¦ï¼Œä½¿å…¨éƒ¨è£…æœ‰è¾“å…¥æ•°æ®çš„ç¼“å†²åŒºéƒ½è¢«æŠ½ç©ºï¼Œå†æ— è£…æœ‰æ•°æ®çš„ç¼“å†²åŒºä¾›è®¡ç®—è¿›ç¨‹æå–æ•°æ®ï¼Œè¿™æ—¶ï¼Œè®¡ç®—è¿›ç¨‹åº”è¯¥é˜»å¡ï¼Œç›´è‡³è¾“å…¥è¿›ç¨‹åˆè£…æ»¡æŸä¸ªç¼“å†²åŒºï¼Œå¹¶è°ƒç”¨Releasebufè¿‡ç¨‹å°†å®ƒé‡Šæ”¾æ—¶ï¼Œæ‰å»å”¤é†’è®¡ç®—è¿›ç¨‹ï¼Œè¿™ç§æƒ…å†µç§°ä¸º<strong>ç³»ç»Ÿå—I&#x2F;Oé™åˆ¶</strong>ã€‚</p>
<p><strong>ç¼“å†²æ± </strong></p>
<p>â€‹	ä¸Šè¿°çš„ç¼“å†²åŒºä»…é€‚ç”¨äºæŸç‰¹å®šçš„I&#x2F;Oè¿›ç¨‹å’Œè®¡ç®—è¿›ç¨‹ï¼Œå› è€Œå®ƒä»¬å±äºä¸“ç”¨ç¼“å†²ï¼Œå½“ç³»ç»Ÿè¾ƒå¤§æ—¶ï¼Œå°†ä¼šæœ‰è®¸å¤šè¿™æ ·çš„å¾ªç¯ç¼“å†²ï¼Œè¿™æ ·ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œè€Œä¸”åˆ©ç”¨ç‡ä¸é«˜ï¼Œä¸ºäº†æé«˜ç¼“å†²åŒºçš„åˆ©ç”¨ç‡ï¼Œå¼•å…¥ç¼“å†²æ± ï¼Œåœ¨æ± ä¸­è®¾ç½®äº†å¤šä¸ªå¯ä¾›è‹¥å¹²ä¸ªè¿›ç¨‹å…±äº«çš„ç¼“å†²åŒºã€‚</p>
<p>å¯¹äºæ—¢å¯ä»¥ç”¨äºè¾“å‡ºçš„å…±ç”¨ç¼“å†²æ± ï¼Œå…¶ä¸­è‡³å°‘åŒ…å«æœ‰ä¸€ä¸‹ä¸‰ç§ç±»å‹çš„ç¼“å†²åŒºï¼š</p>
<p>ã€€â‘  ç©ºï¼ˆé—²ï¼‰ç¼“å†²åŒºã€‚</p>
<p>ã€€â‘¡ è£…æ»¡è¾“å…¥æ•°æ®çš„ç¼“å†²åŒºã€‚</p>
<p>ã€€â‘¢ è£…æ»¡è¾“å‡ºæ•°æ®çš„ç¼“å†²åŒºã€‚</p>
<p>ã€€ä¸ºäº†ç®¡ç†æ–¹ä¾¿ï¼Œå°†ç›¸åŒç±»å‹çš„ç¼“å†²åŒºé“¾æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œå½¢æˆäº†ç©ºç¼“å†²é˜Ÿåˆ—emqã€è¾“å…¥é˜Ÿåˆ—inqã€è¾“å‡ºé˜Ÿåˆ—outqã€‚è¿˜å…·æœ‰å››ç§å·¥ä½œç¼“å†²åŒºï¼Œç”¨äºæ”¶å®¹è¾“å…¥æ•°æ®çš„å·¥ä½œç¼“å†²åŒºã€ç”¨äºæå–è¾“å…¥æ•°æ®çš„å·¥ä½œç¼“å†²åŒºã€ç”¨äºæ”¶å®¹è¾“å‡ºæ•°æ®çš„å·¥ä½œç¼“å†²åŒºã€ç”¨äºæå–è¾“å‡ºæ•°æ®çš„å·¥ä½œç¼“å†²åŒºã€‚</p>
<p>ã€€ç¼“å†²åŒºå¯ä»¥å·¥ä½œåœ¨æ”¶å®¹è¾“å…¥ã€æå–è¾“å…¥ã€æ”¶å®¹è¾“å‡ºã€æå–è¾“å‡ºå››ç§å·¥ä½œæ–¹å¼ä¸‹ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_09-33-43.png"></p>
<p>ã€€â‘  <strong>æ”¶å®¹è¾“å…¥</strong>ï¼Œåœ¨è¾“å…¥è¿›ç¨‹éœ€è¦è¾“å…¥æ•°æ®æ—¶ï¼Œä¾¿è°ƒç”¨Getbuf(emp)è¿‡ç¨‹ï¼Œä»ç©ºç¼“å†²é˜Ÿåˆ—çš„é˜Ÿé¦–å–å‡ºä¸€ä¸ªç©ºç¼“å†²åŒºï¼ŒæŠŠå®ƒä½œä¸ºæ”¶å®¹è¾“å…¥å·¥ä½œç¼“å†²hinï¼Œç„¶åï¼ŒæŠŠæ•°æ®è¾“å…¥å…¶ä¸­ï¼Œè£…æ»¡åå†è°ƒç”¨Putbuf(inq,hin)è¿‡ç¨‹ï¼Œå°†è¯¥ç¼“å†²åŒºæŒ‚åœ¨è¾“å…¥é˜Ÿåˆ—ä¸Šã€‚</p>
<p>ã€€â‘¡ <strong>æå–è¾“å…¥</strong>ï¼Œå½“è®¡ç®—è¿›ç¨‹éœ€è¦è¾“å…¥æ•°æ®æ—¶ï¼Œè°ƒç”¨Getbuf(inq)è¿‡ç¨‹ï¼Œä»è¾“å…¥é˜Ÿåˆ—é˜Ÿé¦–å–å‡ºä¸€ä¸ªç¼“å†²åŒºï¼Œä½œä¸ºæå–è¾“å…¥å·¥ä½œç¼“å†²åŒºsinï¼Œè®¡ç®—è¿›ç¨‹ä»ä¸­æå–æ•°æ®ï¼Œè®¡ç®—è¿›ç¨‹ç”¨å®Œè¯¥æ•°æ®åï¼Œå†è°ƒç”¨Putbuf(emq,sin)è¿‡ç¨‹ï¼Œå°†è¯¥ç¼“å†²åŒºæŒ‚åˆ°ç©ºç¼“å†²é˜Ÿåˆ—emqä¸Šã€‚</p>
<p>ã€€â‘¢ <strong>æ”¶å®¹è¾“å‡º</strong>ï¼Œå½“è®¡ç®—è¿›ç¨‹éœ€è¦è¾“å‡ºæ—¶ï¼Œè°ƒç”¨Getbuf(emq)è¿‡ç¨‹ä»ç©ºç¼“å†²åŒºé˜Ÿåˆ—emqçš„é˜Ÿé¦–å–å‡ºä¸€ä¸ªç©ºç¼“å†²åŒºï¼Œä½œä¸ºæ”¶å®¹è¾“å‡ºå·¥ä½œç¼“å†²åŒºhoutï¼Œå½“å…¶ä¸­è£…æ»¡è¾“å‡ºæ•°æ®åï¼Œåˆè°ƒç”¨Putbuf(outq,hout)è¿‡ç¨‹ï¼Œå°†è¯¥ç¼“å†²åŒºæŒ‚åœ¨outqæœ«å°¾ã€‚</p>
<p>ã€€â‘£ <strong>æå–è¾“å‡º</strong>ï¼Œç”±è¾“å‡ºè¿›ç¨‹è°ƒç”¨Getbuf(outq)è¿‡ç¨‹ï¼Œä»è¾“å‡ºé˜Ÿåˆ—é˜Ÿé¦–å–å‡ºä¸€ä¸ªè£…æ»¡è¾“å‡ºæ•°æ®çš„ç¼“å†²åŒºï¼Œä½œä¸ºæå–è¾“å‡ºå·¥ä½œç¼“å†²åŒºsoutï¼Œåœ¨æ•°æ®æå–å®Œåï¼Œå†è°ƒç”¨Putbuf(emq,sout)è¿‡ç¨‹ï¼Œå°†è¯¥ç¼“å†²åŒºæŒ‚åœ¨ç©ºç¼“å†²é˜Ÿåˆ—æœ«å°¾ã€‚</p>
<h2 id="ä¸è®¾å¤‡æ— å…³çš„I-x2F-Oè½¯ä»¶"><a href="#ä¸è®¾å¤‡æ— å…³çš„I-x2F-Oè½¯ä»¶" class="headerlink" title="ä¸è®¾å¤‡æ— å…³çš„I&#x2F;Oè½¯ä»¶"></a>ä¸è®¾å¤‡æ— å…³çš„I&#x2F;Oè½¯ä»¶</h2><p><em><strong>è®¾å¤‡ç‹¬ç«‹æ€§</strong></em></p>
<p>ã€€åº”ç”¨ç¨‹åºç‹¬ç«‹äºå…·ä½“ä½¿ç”¨çš„ç‰©ç†è®¾å¤‡ï¼Œä¸ºäº†å®ç°è®¾å¤‡ç‹¬ç«‹æ€§è€Œå¼•å…¥äº†<strong>é€»è¾‘è®¾å¤‡</strong>å’Œ<strong>ç‰©ç†è®¾å¤‡</strong>è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œä½¿ç”¨é€»è¾‘è®¾å¤‡åç§°æ¥è¯·æ±‚ä½¿ç”¨æŸç±»è®¾å¤‡ï¼Œè€Œç³»ç»Ÿåœ¨å®é™…æ‰§è¡Œæ—¶ï¼Œè¿˜å¿…é¡»ä½¿ç”¨ç‰©ç†è®¾å¤‡åç§°ã€‚å› æ­¤ï¼Œç³»ç»Ÿéœ€å…·æœ‰å°†é€»è¾‘è®¾å¤‡åç§°è½¬æ¢ä¸ºæŸç‰©ç†è®¾å¤‡åç§°çš„åŠŸèƒ½ï¼Œè¿™ç±»ä¼¼äºå­˜å‚¨å™¨ç®¡ç†æ‰€ä»‹ç»çš„é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€çš„æ¦‚å¿µï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„æ˜¯é€»è¾‘åœ°å€ï¼Œç³»ç»Ÿåœ¨åˆ†é…å’Œä½¿ç”¨å†…å­˜æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ç‰©ç†åœ°å€ã€‚</p>
<p>å®ç°è®¾å¤‡ç‹¬ç«‹æ€§åï¼Œå¯å¸¦æ¥<em>ä¸¤æ–¹é¢</em>çš„å¥½å¤„ã€‚</p>
<p>ã€€â‘  <strong>è®¾å¤‡åˆ†é…æ—¶çš„çµæ´»æ€§</strong>ï¼Œè¿›ç¨‹èƒ½å¤Ÿä»¥é€»è¾‘è®¾å¤‡åç§°æ¥è¯·æ±‚æŸç±»è®¾å¤‡æ—¶ï¼Œç³»ç»Ÿå¯ç«‹å³å°†è¯¥ç±»è®¾å¤‡ä¸­çš„ä»»ä¸€å°åˆ†é…ç»™è¿›ç¨‹ï¼Œä»…å½“æ‰€æœ‰æ­¤ç±»è®¾å¤‡å…¨éƒ¨åˆ†é…å®Œæ¯•æ—¶ï¼Œè¿›ç¨‹æ‰ä¼šé˜»å¡ã€‚</p>
<p>ã€€â‘¡ <strong>æ˜“äºå®ç°I&#x2F;Oé‡å®šå‘</strong>ï¼Œç”¨äºI&#x2F;Oæ“ä½œçš„è®¾å¤‡å¯ä»¥æ›´æ¢ï¼Œè€Œä¸å¿…æ”¹å˜åº”ç”¨ç¨‹åºã€‚ã€€ã€€</p>
<p>é©±åŠ¨ç¨‹åºæ˜¯ä¸€ä¸ªä¸ç¡¬ä»¶(æˆ–è®¾å¤‡)ç´§å¯†ç›¸å…³çš„è½¯ä»¶ï¼Œä¸ºäº†å®ç°è®¾å¤‡ç‹¬ç«‹æ€§ï¼Œå¿…é¡»å†åœ¨é©±åŠ¨ç¨‹åºä¹‹ä¸Šè®¾ç½®ä¸€å±‚è½¯ä»¶ï¼Œç§°ä¸º<strong>è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶</strong>ã€‚</p>
<p>è®¾å¤‡ç‹¬ç«‹æ€§è½¯ä»¶çš„ä¸»è¦åŠŸèƒ½å¯åˆ†ä¸ºä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š<br>(1) æ‰§è¡Œæ‰€æœ‰è®¾å¤‡çš„å…¬æœ‰æ“ä½œã€‚<br>â‘  å¯¹ç‹¬ç«‹è®¾å¤‡çš„åˆ†é…ä¸å›æ”¶ï¼›<br>â‘¡ å°†é€»è¾‘è®¾å¤‡åæ˜ å°„ä¸ºç‰©ç†è®¾å¤‡åï¼Œè¿›ä¸€æ­¥å¯ä»¥æ‰¾åˆ°ç›¸åº”ç‰©ç†è®¾å¤‡çš„é©±åŠ¨ç¨‹åºï¼›<br>â‘¢ å¯¹è®¾å¤‡è¿›è¡Œä¿æŠ¤ï¼Œç¦æ­¢ç”¨æˆ·ç›´æ¥è®¿é—®è®¾å¤‡ï¼›<br>â‘£ ç¼“å†²ç®¡ç†<br>â‘¤ å·®é”™æ§åˆ¶<br>â‘¥ æä¾›ç‹¬ç«‹äºè®¾å¤‡çš„é€»è¾‘å—</p>
<p>(2) å‘ç”¨æˆ·å±‚(æˆ–æ–‡ä»¶å±‚)è½¯ä»¶æä¾›ç»Ÿä¸€æ¥å£<br>æ— è®ºä½•ç§è®¾å¤‡ï¼Œå®ƒä»¬å‘ç”¨æˆ·æ‰€æä¾›çš„æ¥å£åº”è¯¥æ˜¯ç›¸åŒçš„ã€‚ä¾‹å¦‚ï¼Œå¯¹å„ç§è®¾å¤‡çš„è¯»æ“ä½œï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­éƒ½ä½¿ç”¨readï¼›è€Œå¯¹å„ç§è®¾å¤‡çš„å†™æ“ä½œï¼Œä¹Ÿéƒ½ä½¿ç”¨writeã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_21-41-20.png"></p>
<h2 id="ç£ç›˜ç³»ç»ŸåŠç£ç›˜è°ƒåº¦"><a href="#ç£ç›˜ç³»ç»ŸåŠç£ç›˜è°ƒåº¦" class="headerlink" title="ç£ç›˜ç³»ç»ŸåŠç£ç›˜è°ƒåº¦"></a>ç£ç›˜ç³»ç»ŸåŠç£ç›˜è°ƒåº¦</h2><p>ç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œéƒ½é…ç½®äº†ç£ç›˜å­˜å‚¨å™¨ï¼Œå¹¶ä»¥å®ƒä¸ºä¸»æ¥å­˜æ”¾æ–‡ä»¶ã€‚å¯¹æ–‡ä»¶çš„æ“ä½œï¼Œéƒ½å°†æ¶‰åŠåˆ°å¯¹ç£ç›˜çš„è®¿é—®ï¼Œç£ç›˜Iï¼Oé€Ÿåº¦çš„é«˜ä½å’Œç£ç›˜ç³»ç»Ÿçš„å¯é æ€§ï¼Œéƒ½å°†ç›´æ¥å½±å“åˆ°ç³»ç»Ÿæ€§èƒ½ã€‚å› æ­¤ï¼Œè®¾æ³•æ”¹å–„ç£ç›˜ç³»ç»Ÿçš„æ€§èƒ½ï¼Œå·²æˆä¸ºç°ä»£æ“ä½œç³»ç»Ÿçš„é‡è¦ä»»åŠ¡ä¹‹ä¸€ ã€‚</p>
<p>æé«˜ç£ç›˜I&#x2F;Oé€Ÿåº¦çš„ä¸»è¦é€”å¾„ï¼š<br>ï¼ˆ1ï¼‰é€‰æ‹©æ€§èƒ½å¥½çš„ç£ç›˜<br>ï¼ˆ2ï¼‰é‡‡ç”¨å¥½çš„ç£ç›˜è°ƒåº¦ç®—æ³•<br>ï¼ˆ3ï¼‰è®¾ç½®ç£ç›˜é«˜é€Ÿç¼“å­˜ï¼ˆDisk Cacheï¼‰<br>ï¼ˆ4ï¼‰å…¶å®ƒæ–¹æ³•<br>ï¼ˆ5ï¼‰é‡‡ç”¨é«˜åº¦å¯é ã€å¿«é€Ÿçš„å®¹é‡ç£ç›˜ç³»ç»Ÿâ€”â€”ç£ç›˜å†—ä½™é˜µåˆ—</p>
<p>æ•°æ®çš„ç»„ç»‡å’Œæ ¼å¼<br>â–ª å­˜å‚¨é¢(surface)<br>â–ª ç£é“(track)<br>â–ª æŸ±é¢<br>â–ª æ‰‡åŒº(sectors)</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_21-51-03.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_21-51-19.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_21-52-33.png"></p>
<p><em><strong>ç£ç›˜è°ƒåº¦</strong></em></p>
<p>ã€€ç£ç›˜æ˜¯å¤šä¸ªè¿›ç¨‹å…±äº«çš„è®¾å¤‡ï¼Œå½“æœ‰å¤šä¸ªè¿›ç¨‹éƒ½è¦æ±‚è®¿é—®ç£ç›˜æ—¶ï¼Œåº”é‡‡ç”¨ä¸€ç§æœ€ä½³çš„è°ƒåº¦ç®—æ³•ï¼Œä½¿<strong>å„è¿›ç¨‹å¯¹ç£ç›˜çš„å¹³å‡è®¿é—®æ—¶é—´æœ€å°</strong>ã€‚ç”±äºåœ¨è®¿é—®ç£ç›˜ä¸­ï¼Œä¸»è¦æ˜¯å¯»é“æ—¶é—´ï¼Œå› æ­¤ï¼Œç£ç›˜è°ƒåº¦çš„ç›®æ ‡æ˜¯<strong>ä½¿ç£ç›˜çš„å¹³å‡å¯»é“æ—¶é—´æœ€å°‘</strong>ã€‚</p>
<p>è¯·æ±‚åºåˆ—ï¼š55,58,39,18,90,160,150,38,184</p>
<p>ã€€â‘  <strong>å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFS, First Come First Serviceï¼‰</strong>ï¼Œè¿™æ˜¯ä¸€ç§æœ€ç®€å•çš„ç£ç›˜è°ƒåº¦ç®—æ³•ï¼Œå…¶æ ¹æ®è¿›ç¨‹è¯·æ±‚è®¿é—®ç£ç›˜çš„å…ˆåé¡ºåºè¿›è¡Œè°ƒåº¦ï¼Œä¼˜ç‚¹æ˜¯<strong>å…¬å¹³ã€ç®€å•</strong>ï¼Œæ¯ä¸ªè¿›ç¨‹çš„è¯·æ±‚éƒ½èƒ½å¾—åˆ°ä¾æ¬¡å¤„ç†ï¼Œä¸ä¼šå‡ºç°æŸä¸ªè¿›ç¨‹çš„è¯·æ±‚é•¿æœŸå¾—ä¸åˆ°æ»¡è¶³çš„æƒ…å†µã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160629084945437-806152901.png"></p>
<p>ã€€â‘¡ <strong>æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆï¼ˆSSTFï¼ŒShortest Seek Time Firstï¼‰</strong>ï¼Œè¦æ±‚è®¿é—®çš„ç£é“ä¸å½“å‰ç£å¤´æ‰€åœ¨çš„ç£é“è·ç¦»æœ€è¿‘ï¼Œä»¥ä½¿æ¯æ¬¡çš„å¯»é“æ—¶é—´æœ€çŸ­ã€‚ä½†è¿™ç§ç®—æ³•ä¸èƒ½ä¿è¯å¹³å‡å¯»é“æ—¶é—´æœ€çŸ­ã€‚SSTFç®—æ³•è™½ç„¶èƒ½è·å¾—è¾ƒå¥½çš„å¯»é“æ€§èƒ½ï¼Œä½†å´å¯èƒ½å¯¼è‡´æŸä¸ªè¿›ç¨‹å‘ç”Ÿ<strong>â€œé¥¥é¥¿â€</strong>ç°è±¡ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160629085421124-1044322453.png"></p>
<p>ã€€â‘¢ <strong>æ‰«æï¼ˆSCANï¼‰ç®—æ³•</strong>ï¼Œè¯¥ç®—æ³•ä¸ä»…è€ƒè™‘åˆ°æ¬²è®¿é—®çš„ç£ç›˜ä¸å½“å‰ç£é“ä¹‹é—´çš„è·ç¦»ï¼Œæ›´<strong>ä¼˜å…ˆè€ƒè™‘çš„æ˜¯ç£å¤´å½“å‰çš„ç§»åŠ¨æ–¹å‘</strong>ã€‚ä¾‹å¦‚ï¼Œå½“ç£å¤´æ­£åœ¨è‡ªé‡Œå‘å¤–ç§»åŠ¨æ—¶ï¼ŒSCANç®—æ³•æ‰€è€ƒè™‘çš„ä¸‹ä¸€ä¸ªè®¿é—®å¯¹è±¡ï¼Œåº”æ˜¯å…¶æ¬²è®¿é—®çš„ç£é“æ—¢åœ¨å½“å‰ç£é“ä¹‹å¤–ï¼Œåˆæ˜¯è·ç¦»æœ€è¿‘çš„ã€‚ç›´è‡³å†æ— æ›´å¤–çš„ç£é“éœ€è¦è®¿é—®æ—¶ï¼Œæ‰å°†ç£è‡‚æ¢å‘è‡ªå¤–å‘é‡Œç§»åŠ¨ã€‚å…¶ç±»ä¼¼ç”µæ¢¯çš„è¿è¡Œï¼Œä¹Ÿç§°ä¸º<strong>ç”µæ¢¯è°ƒåº¦ç®—æ³•</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160629090041437-489747422.png"></p>
<p>ã€€ã€€â‘£ <strong>å¾ªç¯æ‰«æï¼ˆCSCANï¼‰ç®—æ³•</strong>ï¼ŒSCANç®—æ³•æ—¢èƒ½å¤Ÿè·å¾—è¾ƒå¥½çš„å¯»é“æ€§èƒ½ï¼Œåˆèƒ½é˜²æ­¢é¥¥é¥¿ç°è±¡ï¼Œä½†æ˜¯ï¼Œå½“ç£å¤´åˆšä»é‡Œå‘å¤–ç§»åŠ¨è€Œè¶Šè¿‡äº†æŸä¸ªç£é“æ—¶ï¼Œæ°å¥½åˆæœ‰ä¸€è¿›ç¨‹è¯·æ±‚è®¿é—®æ­¤ç£é“ï¼Œè¿™æ—¶ï¼Œè¯¥è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼Œå¾…ç£å¤´ç»§ç»­ä»é‡Œå‘å¤–ï¼Œç„¶åå†ä»å¤–å‘é‡Œæ‰«æå®Œæ‰€æœ‰è¦è®¿é—®çš„ç£é“åï¼Œæ‰å¤„ç†è¯¥è¿›ç¨‹çš„è¯·æ±‚ï¼Œè‡´ä½¿è¯¥è¿›ç¨‹çš„è¯·æ±‚è¢«å¤§å¤§åœ°æ¨è¿Ÿã€‚ä¸ºäº†å‡å°‘è¿™ç§å»¶è¿Ÿï¼Œ<strong>CSCANç®—æ³•è§„å®šç£å¤´å•å‘ç§»åŠ¨</strong>ï¼Œä¾‹å¦‚ï¼Œè‡´ä½¿è‡ªé‡Œå‘å¤–ç§»åŠ¨ï¼Œå½“ç£å¤´ç§»åˆ°æœ€å¤–çš„ç£é“è®¿é—®åï¼Œç£å¤´ç«‹å³è¿”å›æœ€é‡Œçš„æ¬²è®¿é—®çš„ç£é“ï¼Œäº¦å³<strong>å°†æœ€å°çš„ç£é“å·ç´§æ¥ç€æœ€å¤§çš„ç£é“å·æ„æˆå¾ªç¯ï¼Œè¿›è¡Œå¾ªç¯æ‰«æ</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160629091148124-624346017.png"></p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ä¹‹å­˜å‚¨å™¨ç®¡ç†</title>
    <url>/2023/06/14/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/1/</url>
    <content><![CDATA[<h1 id="å­˜å‚¨å™¨ç®¡ç†"><a href="#å­˜å‚¨å™¨ç®¡ç†" class="headerlink" title="å­˜å‚¨å™¨ç®¡ç†"></a>å­˜å‚¨å™¨ç®¡ç†</h1><p>æ“ä½œç³»ç»Ÿçš„èŒèƒ½ä¹‹ä¸€ï¼Œä¸»è¦ä»»åŠ¡æ˜¯ä¸º<a href="https://baike.baidu.com/item/%E5%A4%9A%E9%81%93%E7%A8%8B%E5%BA%8F?fromModule=lemma_inlink">å¤šé“ç¨‹åº</a>çš„è¿è¡Œæä¾›è‰¯å¥½çš„ç¯å¢ƒï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨å­˜å‚¨å™¨ï¼Œæé«˜å­˜å‚¨å™¨çš„åˆ©ç”¨ç‡ä»¥åŠèƒ½ä»é€»è¾‘ä¸Š<a href="https://baike.baidu.com/item/%E6%89%A9%E5%85%85%E5%86%85%E5%AD%98?fromModule=lemma_inlink">æ‰©å……å†…å­˜</a>ã€‚ä¸»è¦ç›®çš„å’ŒåŠŸèƒ½ï¼š</p>
<p>1ã€ä¸»å­˜å‚¨å™¨çš„åˆ†é…å’Œç®¡ç†</p>
<p>2ã€æé«˜ä¸»å­˜å‚¨å™¨çš„åˆ©ç”¨ç‡</p>
<p>3ã€â€œæ‰©å……â€ä¸»å­˜å®¹é‡</p>
<p>4ã€å­˜å‚¨ä¿æŠ¤</p>
<h2 id="å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„"><a href="#å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„" class="headerlink" title="å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„"></a>å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„</h2><p><strong>ä¸»å­˜å‚¨å™¨</strong></p>
<p>ã€€ç”¨äºä¿å­˜è¿›ç¨‹è¿è¡Œæ—¶çš„ç¨‹åºå’Œæ•°æ®ã€‚CPUçš„ æ§åˆ¶éƒ¨ä»¶åªèƒ½ä»ä¸»å­˜ä¸­å–å¾—æŒ‡ä»¤å’Œæ•°æ®åˆ°CPUå¯„ å­˜å™¨ï¼ŒåŒæ ·ï¼ŒCPUå¯„å­˜å™¨ä¸­çš„æ•°æ®å¯å­˜å…¥ä¸»å­˜ã€‚ CPUä¸å¤–è®¾äº¤æ¢æ•°æ®å¿…é¡»ä¾æ‰˜äºä¸»å­˜ã€‚</p>
<p><strong>å¯„å­˜å™¨</strong></p>
<p>ã€€å¯„å­˜å™¨è®¿é—®é€Ÿåº¦æœ€å¿«ï¼Œèƒ½ä¸CPUåè°ƒå·¥ä½œï¼Œä»·æ ¼æ˜‚è´µï¼Œå®¹é‡ä¸å¤§ï¼Œå¯„å­˜å™¨ç”¨äºåŠ é€Ÿå­˜å‚¨å™¨çš„è®¿é—®é€Ÿåº¦ï¼Œå¦‚ç”¨å¯„å­˜å™¨å­˜æ”¾æ“ä½œæ•°ï¼Œæˆ–ç”¨ä½œåœ°å€å¯„å­˜å™¨åŠ å¿«åœ°å€è½¬æ¢é€Ÿåº¦ç­‰ã€‚</p>
<p><strong>é«˜é€Ÿç¼“å­˜</strong></p>
<p>â€‹	CPUå¯¹é«˜é€Ÿç¼“å­˜çš„è®¿é—®ï¼Œå…¶é€Ÿåº¦æ¯”è®¿é—®ä¸»å­˜å¿«ï¼Œæ¯”è®¿é—®å¯„å­˜å™¨æ…¢ã€‚ æ ¹æ®ç¨‹åºæ‰§è¡Œçš„å±€éƒ¨æ€§åŸç†ï¼Œå°†ä¸»å­˜ä¸­ä¸€äº›ç»å¸¸è®¿é—®çš„æ•°æ®å­˜æ”¾åœ¨é«˜é€Ÿç¼“å­˜ä¸­ï¼Œå‡å°‘è®¿é—®ä¸»å­˜çš„æ¬¡æ•°ï¼Œæé«˜ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ã€‚ æœ‰äº›è®¡ç®—æœºç³»ç»Ÿè®¾ç½®äº†ä¸¤çº§é«˜é€Ÿç¼“å­˜ï¼Œå³ï¼Œä¸€çº§é«˜é€Ÿç¼“å­˜ä¸äºŒçº§é«˜é€Ÿç¼“å­˜ã€‚cpuè®¿é—®ä¸€çº§é«˜é€Ÿç¼“å­˜æœ€å¿«ã€‚ï¼ˆi9 12900Kï¼Œä¸‰çº§ç¼“å­˜ï¼š30MBï¼‰</p>
<p><strong>ç£ç›˜ç¼“å­˜</strong></p>
<p>ã€€å†…å­˜ä¸­ä¸€å—å­˜å‚¨åŒºï¼Œå¯¹åº”äºæŸå›ºå®šç£ç›˜ï¼Œä¸´æ—¶å­˜å‚¨ç£ç›˜æ•°æ®ï¼ˆå¦‚ï¼Œæ•°æ®é¢„å–ï¼‰ã€‚ç£ç›˜çš„IOé€Ÿåº¦è¿œä½äºå¯¹ä¸»å­˜çš„è®¿é—®é€Ÿåº¦ï¼Œå› æ­¤å°†é¢‘ç¹ä½¿ç”¨çš„ä¸€éƒ¨åˆ†ç£ç›˜æ•°æ®å’Œä¿¡æ¯æš‚æ—¶å­˜æ”¾åœ¨ç£ç›˜ç¼“å­˜ä¸­ï¼Œå¯å‡å°‘è®¿é—®ç£ç›˜çš„æ¬¡æ•°ï¼Œç£ç›˜ç¼“å­˜æœ¬èº«å¹¶ä¸æ˜¯ä¸€ç§å®é™…å­˜åœ¨çš„å­˜å‚¨ä»‹è´¨ï¼Œå®ƒä¾æ‰˜äºå›ºå®šç£ç›˜ï¼Œæä¾›å¯¹ä¸»å­˜å‚¨å™¨ç©ºé—´çš„æ‰©å……ï¼Œå³<strong>åˆ©ç”¨ä¸»å­˜ä¸­çš„å­˜å‚¨ç©ºé—´ï¼Œæ¥æš‚å­˜ä»ç£ç›˜ä¸­è¯»å‡ºæˆ–å†™å…¥çš„ä¿¡æ¯</strong>ï¼Œä¸»å­˜å¯ä»¥çœ‹åšæ˜¯è¾…å­˜çš„é«˜é€Ÿç¼“å­˜ï¼Œå› ä¸ºï¼Œè¾…å­˜ä¸­çš„æ•°æ®å¿…é¡»å¤åˆ¶åˆ°ä¸»å­˜æ–¹èƒ½ä½¿ç”¨ï¼Œåä¹‹ï¼Œæ•°æ®ä¹Ÿå¿…é¡»å…ˆå­˜åœ¨ä¸»å­˜ä¸­ï¼Œæ‰èƒ½è¾“å‡ºåˆ°è¾…å­˜ã€‚</p>
<blockquote>
<p>é€Ÿåº¦ï¼šå¯„å­˜å™¨&gt;é«˜é€Ÿç¼“å­˜&gt;ä¸»å­˜&gt;ç£ç›˜ç¼“å­˜<br>å®¹é‡ï¼šå¯„å­˜å™¨&lt;é«˜é€Ÿç¼“å­˜&lt;ä¸»å­˜&lt;ç£ç›˜ç¼“å­˜<br>ä»·æ ¼ï¼šå¯„å­˜å™¨&gt;é«˜é€Ÿç¼“å­˜&gt;ä¸»å­˜&gt;ç£ç›˜ç¼“å­˜</p>
</blockquote>
<h3 id="å­˜å‚¨åˆ†é…çš„ä¸‰ç§æ–¹å¼"><a href="#å­˜å‚¨åˆ†é…çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="å­˜å‚¨åˆ†é…çš„ä¸‰ç§æ–¹å¼"></a>å­˜å‚¨åˆ†é…çš„ä¸‰ç§æ–¹å¼</h3><p>1.<strong>ç›´æ¥æŒ‡å®šæ–¹å¼</strong>ï¼šç¨‹åºå‘˜åœ¨ç¼–ç¨‹åºæ—¶ï¼Œæˆ–ç¼–è¯‘ç¨‹åº(æ±‡ç¼–ç¨‹åº)å¯¹æºç¨‹åºè¿›è¡Œç¼–è¯‘(æ±‡ç¼–)æ—¶ï¼Œä½¿ç”¨å®é™…å­˜å‚¨åœ°å€ã€‚</p>
<p>2.<strong>é™æ€åˆ†é…æ–¹å¼</strong>(Static Allocation) ï¼š ç”¨æˆ·åœ¨ç¼–ç¨‹æ—¶ï¼Œæˆ–ç”±ç¼–è¯‘ç¨‹åºäº§ç”Ÿçš„ç›®çš„ç¨‹åºï¼Œå‡å¯ä»å…¶åœ°å€ç©ºé—´çš„é›¶åœ°å€å¼€å§‹ï¼›å½“è£…é…ç¨‹åºå¯¹å…¶è¿›è¡Œè¿æ¥è£…å…¥æ—¶æ‰ç¡®å®šå®ƒä»¬åœ¨ä¸»å­˜ä¸­çš„ç›¸åº”ä½ç½®ï¼Œä»è€Œç”Ÿæˆå¯æ‰§è¡Œç¨‹åºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­˜å‚¨åˆ†é…æ˜¯åœ¨è£…å…¥æ—¶å®ç°çš„ã€‚</p>
<p>3.<strong>åŠ¨æ€åˆ†é…æ–¹å¼</strong>(Dynamic Allocation)ï¼š åŠ¨æ€åˆ†é…æ˜¯ä¸€ç§æ›´åŠ æœ‰æ•ˆçš„ä½¿ç”¨ä¸»å­˜å‚¨å™¨çš„æ–¹æ³•ã€‚ è¿™ç§åŠ¨æ€å­˜å‚¨åˆ†é…æ–¹å¼çš„ç‰¹ç‚¹æ˜¯ï¼š </p>
<blockquote>
<p>(1)ä½œä¸šåœ¨å­˜å‚¨ç©ºé—´ä¸­çš„ä½ç½®ï¼Œä¹Ÿæ˜¯åœ¨å…¶è£…å…¥æ—¶ç¡®å®šçš„ï¼›<br>(2)åœ¨å…¶æ‰§è¡Œè¿‡ç¨‹ä¸­å¯æ ¹æ®éœ€è¦ç”³è¯·é™„åŠ çš„å­˜å‚¨ç©ºé—´ï¼›<br>(3)ä¸€ä¸ªä½œä¸šå·²å ç”¨çš„éƒ¨åˆ†å­˜å‚¨åŒºåŸŸä¸å†éœ€è¦æ—¶ï¼Œå¯ä»¥è¦æ±‚å½’è¿˜ç»™ç³»ç»Ÿã€‚</p>
</blockquote>
<p>å…³äºåç©ºé—´ï¼Œåœ°å€ç©ºé—´(é€»è¾‘åœ°å€é›†åˆï¼Œè™š)ï¼Œå­˜å‚¨ç©ºé—´(ç‰©ç†åœ°å€é›†åˆï¼Œå®)çš„ç†è§£:</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_09-18-41.png"></p>
<h2 id="ç¨‹åºçš„è£…å…¥å’Œé“¾æ¥"><a href="#ç¨‹åºçš„è£…å…¥å’Œé“¾æ¥" class="headerlink" title="ç¨‹åºçš„è£…å…¥å’Œé“¾æ¥"></a>ç¨‹åºçš„è£…å…¥å’Œé“¾æ¥</h2><p>â€‹	ä¸ºäº†ä½¿ç¨‹åºèƒ½å¤Ÿè¿è¡Œï¼Œå¿…é¡»å…ˆä¸ºä¹‹åˆ›å»ºè¿›ç¨‹ï¼Œè€Œåˆ›å»ºè¿›ç¨‹çš„ç¬¬ä¸€ä»¶äº‹ï¼Œå°±æ˜¯å°†ç¨‹åºå’Œæ•°æ®è£…å…¥å†…å­˜ï¼Œå¦‚ä½•å°†ä¸€ä¸ªç”¨æˆ·æºç¨‹åºå˜ä¸ºä¸€ä¸ªå¯åœ¨å†…å­˜ä¸­æ‰§è¡Œçš„ç¨‹åºï¼Œé€šå¸¸è¦ç»è¿‡å¦‚ä¸‹å‡ æ­¥ï¼Œé¦–å…ˆæ˜¯ç¼–è¯‘ï¼ˆç”±ç¼–è¯‘ç¨‹åºå°†ç”¨æˆ·æºä»£ç ç¼–è¯‘æˆè‹¥å¹²ä¸ªç›®æ ‡æ¨¡å—ï¼‰ï¼Œå…¶æ¬¡æ˜¯é“¾æ¥ï¼ˆç”±é“¾æ¥ç¨‹åºå°†ç¼–è¯‘åå½¢æˆçš„ä¸€ç»„ç›®æ ‡æ¨¡å—ï¼Œä»¥åŠå®ƒä»¬æ‰€éœ€è¦çš„åº“å‡½æ•°é“¾æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„è£…å…¥æ¨¡å—ï¼‰ï¼Œæœ€åæ˜¯è£…å…¥ï¼ˆç”±è£…å…¥ç¨‹åºå°†è£…å…¥æ¨¡å—è£…å…¥å†…å­˜ï¼‰ã€‚</p>
<h3 id="ç¨‹åºçš„è£…å…¥"><a href="#ç¨‹åºçš„è£…å…¥" class="headerlink" title="ç¨‹åºçš„è£…å…¥"></a>ç¨‹åºçš„è£…å…¥</h3><p>â‘  <strong>ç»å¯¹è£…å…¥æ–¹å¼</strong>ï¼Œå¦‚æœåœ¨ç¼–è¯‘æ—¶çŸ¥é“ç¨‹åºé©»ç•™åœ¨å†…å­˜çš„ä»€ä¹ˆä½ç½®ï¼Œé‚£ä¹ˆï¼Œç¼–è¯‘ç¨‹åºå°†äº§ç”Ÿç»å¯¹åœ°å€çš„ç›®æ ‡ä»£ç ï¼Œç»å¯¹è£…å…¥æ–¹å¼æŒ‰ç…§è£…å…¥æ¨¡å—ä¸­çš„åœ°å€ï¼Œå°†ç¨‹åºå’Œæ•°æ®è£…å…¥å†…å­˜ï¼Œè£…å…¥æ¨¡å—è¢«è£…å…¥å†…å­˜åï¼Œç”±äºç¨‹åºä¸­çš„<strong>é€»è¾‘åœ°å€ä¸å®é™…å†…å­˜åœ°å€å®Œå…¨ç›¸åŒ</strong>ï¼Œæ•…ä¸éœ€è¦å¯¹ç¨‹åºå’Œæ•°æ®çš„åœ°å€è¿›è¡Œä¿®æ”¹ã€‚</p>
<p>â‘¡ <strong>å¯é‡å®šä½è£…å…¥æ–¹å¼</strong>ï¼Œç»å¯¹è£…å…¥æ–¹å¼åªé€‚ç”¨äºå•é“ç¨‹åºç¯å¢ƒï¼Œåœ¨å¤šé“ç¨‹åºç¯å¢ƒä¸‹(ç¼–è¯‘ç¨‹åºä¸å¯èƒ½äº‹å…ˆçŸ¥é“æ‰€ç¼–è¯‘çš„ç›®æ ‡æ¨¡å—åº”æ”¾åœ¨å†…å­˜çš„ä½•å¤„)ï¼Œæ‰€å¾—åˆ°çš„ç›®æ ‡æ¨¡å—çš„èµ·å§‹åœ°å€é€šå¸¸éƒ½æ˜¯ä»¥0å¼€å§‹çš„ï¼Œç¨‹åºä¸­çš„å…¶ä»–åœ°å€ä¹Ÿéƒ½æ˜¯ç›¸å¯¹äºèµ·å§‹åœ°å€è®¡ç®—çš„ï¼Œæ­¤æ—¶åº”é‡‡ç”¨å¯é‡å®šä½è£…å…¥æ–¹å¼ï¼Œæ ¹æ®å†…å­˜çš„å½“å‰æƒ…å†µï¼Œå°†è£…å…¥æ¨¡å—è£…å…¥åˆ°å†…å­˜çš„é€‚å½“ä½ç½®ã€‚è¯¥æ–¹å¼ä¼šä½¿è£…å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰é€»è¾‘åœ°å€ä¸å®é™…è£…å…¥å†…å­˜çš„ç‰©ç†åœ°å€ä¸åŒï¼Œéœ€è¦å¯¹æ•°æ®åœ°å€å’ŒæŒ‡ä»¤åœ°å€è¿›è¡Œä¿®æ”¹ï¼Œé€šå¸¸æŠŠå†è£…å…¥æ—¶å¯¹ç›®æ ‡ç¨‹åºä¸­æŒ‡ä»¤å’Œæ•°æ®çš„ä¿®æ”¹è¿‡ç¨‹ç§°ä¸ºé‡å®šä½ã€‚</p>
<p><em><strong>é™æ€é‡å®šä½</strong></em>  </p>
<p>åœ°å€å˜æ¢æ˜¯åœ¨è£…å…¥å†…å­˜æ—¶ä¸€æ¬¡å®Œæˆçš„ï¼Œä¸”ä»¥åä¸èƒ½ç§»åŠ¨ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹,ç‰©ç†åœ°å€&#x3D;ç›¸å¯¹åœ°å€+å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ï¼Œé€‚ç”¨äºå¤šé“ç¨‹åºç¯å¢ƒï¼Œå¯ä»¥å°†è£…å…¥æ¨¡å—è£…å…¥åˆ°å†…å­˜ä¸­ä»»ä½•å…è®¸çš„ä½ç½®ã€‚</p>
<p><em><strong>åŠ¨æ€é‡å®šä½</strong></em></p>
<p>è£…å…¥ç¨‹åºå°†è£…å…¥æ¨¡å—è£…å…¥å†…å­˜åï¼Œå¹¶ä¸ç«‹å³æŠŠè£…å…¥æ¨¡å—ä¸­çš„ç›¸å¯¹åœ°å€è½¬æ¢ä¸ºç»å¯¹åœ°å€ï¼Œè€Œæ˜¯æŠŠè¿™ç§åœ°å€è½¬æ¢æ¨è¿Ÿåˆ°<font color=red>ç¨‹åºæ‰§è¡Œæ—¶</font>è¿›è¡Œã€‚åœ¨ç¡¬ä»¶åœ°å€å˜æ¢æœºæ„çš„æ”¯æŒä¸‹ï¼Œéšç€å¯¹æ¯æ¡æŒ‡ä»¤æˆ–æ•°æ®çš„è®¿é—®è‡ªåŠ¨è¿›è¡Œåœ°å€å˜æ¢ã€‚åˆ©ç”¨ä¸€ä¸ªé‡å®šä½å¯„å­˜å™¨(RR)æ¥å®ç°ã€‚</p>
<h3 id="ç¨‹åºçš„é“¾æ¥"><a href="#ç¨‹åºçš„é“¾æ¥" class="headerlink" title="ç¨‹åºçš„é“¾æ¥"></a>ç¨‹åºçš„é“¾æ¥</h3><p>â‘  <strong>é™æ€é“¾æ¥</strong>ï¼Œåœ¨ç¨‹åºè¿è¡Œä¹‹å‰ï¼Œå…ˆå°†å„ç›®æ ‡æ¨¡å—åŠå®ƒä»¬æ‰€éœ€çš„åº“å‡½æ•°ï¼Œé“¾æ¥æˆä¸€ä¸ª</p>
<p>å®Œæ•´çš„è£…å…¥æ¨¡å—ï¼ˆåˆç§°æ‰§è¡Œæ¨¡å—ï¼‰ï¼Œéœ€è¦å¯¹ç›¸å¯¹åœ°å€è¿›è¡Œä¿®æ”¹ï¼ˆç”±äºç¼–è¯‘ç¨‹åºäº§ç”Ÿçš„æ‰€æœ‰ç›®æ ‡æ¨¡å—ä¸­ï¼Œä½¿ç”¨çš„éƒ½æ˜¯ç›¸å¯¹åœ°å€ï¼Œå…¶èµ·å§‹åœ°å€éƒ½ä¸º0ï¼Œæ¯ä¸ªæ¨¡å—ä¸­çš„åœ°å€éƒ½æ˜¯ç›¸å¯¹äºèµ·å§‹åœ°å€è®¡ç®—çš„ï¼‰ã€‚ä¹Ÿéœ€è¦å˜æ¢å¤–éƒ¨è°ƒç”¨ç¬¦å·ï¼ˆå°†æ¯ä¸ªæ¨¡å—ä¸­æ‰€ç”¨çš„å¤–éƒ¨è°ƒç”¨ç¬¦å·éƒ½å˜æ¢ä¸ºç›¸å¯¹åœ°å€ï¼‰ï¼Œè¿™ç§å…ˆè¿›è¡Œé“¾æ¥æ‰€<strong>å½¢æˆçš„ä¸€ä¸ªå®Œæ•´çš„è£…å…¥æ¨¡å—</strong>ï¼Œåˆç§°ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé€šå¸¸éƒ½ä¸å†æ‹†å¼€å®ƒï¼Œè¦è¿è¡Œæ—¶å¯ç›´æ¥å°†å®ƒè£…å…¥å†…å­˜ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_09-44-17.png"></p>
<p>â‘¡ <strong>è£…å…¥æ—¶åŠ¨æ€é“¾æ¥</strong>ï¼Œç”¨æˆ·æºç¨‹åºç»ç¼–è¯‘åæ‰€å¾—æ˜¯ç›®æ ‡æ¨¡å—ï¼Œæ˜¯åœ¨<strong>è£…å…¥å†…å­˜æ—¶è¾¹è£…å…¥è¾¹é“¾æ¥</strong>çš„ï¼Œå³åœ¨è£…å…¥ä¸€ä¸ªç›®æ ‡æ¨¡å—æ—¶ï¼Œè‹¥å‘ç”Ÿä¸€ä¸ªå¤–éƒ¨æ¨¡å—è°ƒç”¨äº‹ä»¶ï¼Œå°†å¼•èµ·è£…å…¥ç¨‹åºå»æ‰¾å‡ºç›¸åº”çš„å¤–éƒ¨ç›®æ ‡æ¨¡å—ï¼Œå¹¶å°†å®ƒè£…å…¥å†…å­˜ï¼Œè£…å…¥æ—¶åŠ¨æ€é“¾æ¥æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼Œä¾¿äºä¿®æ”¹å’Œæ›´æ–°ï¼ˆå„ç›®æ ‡æ¨¡å—æ˜¯åˆ†å¼€çš„å­˜æ”¾çš„ï¼Œæ‰€ä»¥è¦ä¿®æ”¹æˆ–æ›´æ–°å„ç›®æ ‡æ¨¡å—éå¸¸å®¹æ˜“ï¼‰ï¼Œä¾¿äºå®ç°å¯¹ç›®æ ‡æ¨¡å—çš„å…±äº«ï¼ˆå¾ˆå®¹æ˜“å°†ä¸€ä¸ªç›®æ ‡æ¨¡å—é“¾æ¥åˆ°å‡ ä¸ªåº”ç”¨æ¨¡å—ä¸Šï¼Œå®ç°å¤šä¸ªåº”ç”¨ç¨‹åºå¯¹è¯¥æ¨¡å—çš„å…±äº«ï¼‰ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_09-46-03.png"></p>
<p>é‡‡ç”¨è£…å…¥æ—¶åŠ¨æ€é“¾æ¥æ–¹å¼ï¼Œè™½ç„¶å¯å°†ä¸€ä¸ªè£…å…¥æ¨¡å—è£…å…¥ åˆ°å†…å­˜çš„ä»»ä½•åœ°æ–¹ï¼Œä½†è£…å…¥æ¨¡å—çš„ç»“æ„æ˜¯é™æ€çš„ï¼Œè¡¨ç°åœ¨ï¼š 1. è¿›ç¨‹ï¼ˆç¨‹åºï¼‰åœ¨æ•´ä¸ªæ‰§è¡ŒæœŸé—´ï¼Œè£…å…¥æ¨¡å—æ˜¯ä¸æ”¹å˜çš„ï¼› 2. æ¯æ¬¡è¿è¡Œæ—¶çš„è£…å…¥æ¨¡å—æ˜¯ç›¸åŒçš„ã€‚å¹¶ä¸”äº‹å…ˆæ— æ³•çŸ¥é“æœ¬æ¬¡ è¦è¿è¡Œå“ªäº›æ¨¡å—ï¼Œåªèƒ½å°†æ‰€æœ‰å¯èƒ½è¦è¿è¡Œçš„æ¨¡å—åœ¨è£…å…¥æ—¶ å…¨éƒ¨é“¾æ¥åœ¨ä¸€èµ·ï¼Œè€Œå®é™…ä¸Šå¾€å¾€æœ‰äº›ç›®æ ‡æ¨¡å—æ ¹æœ¬ä¸ä¼šè¿ è¡Œã€‚</p>
<p>â‘¢ <strong>è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥</strong>ï¼Œå°†æŸäº›æ¨¡å—çš„é“¾æ¥æ¨è¿Ÿåˆ°<strong>ç¨‹åºæ‰§è¡Œæ—¶æ‰è¿›è¡Œé“¾æ¥</strong>ï¼Œå³åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“å‘ç°ä¸€ä¸ªè¢«è°ƒç”¨æ¨¡å—å°šæœªè£…å…¥å†…å­˜æ—¶ï¼Œç«‹å³ç”±OSå»æ‰¾åˆ°è¯¥æ¨¡å—å¹¶å°†ä¹‹è£…å…¥å†…å­˜ï¼ŒæŠŠå®ƒé“¾æ¥åˆ°è°ƒç”¨è€…æ¨¡å—ä¸Šï¼Œå‡¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœªè¢«è°ƒç”¨åˆ°çš„æ¨¡å—ï¼Œéƒ½ä¸ä¼šè¢«è°ƒå…¥å†…å­˜å’Œè¢«é“¾æ¥åˆ°è£…å…¥æ¨¡å—ä¸Šï¼Œè¿™æ ·ä¸ä»…åŠ å¿«ç¨‹åºçš„è£…å…¥è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹ŸèŠ‚çœäº†å¤§é‡çš„å†…å­˜ç©ºé—´ã€‚</p>
<p><font color=red>è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥æ˜¯ç›®å‰æœ€å¸¸ä½¿ç”¨çš„é“¾æ¥æ–¹å¼</font>ã€‚</p>
<h2 id="è¿ç»­åˆ†é…å­˜å‚¨ç®¡ç†æ–¹å¼"><a href="#è¿ç»­åˆ†é…å­˜å‚¨ç®¡ç†æ–¹å¼" class="headerlink" title="è¿ç»­åˆ†é…å­˜å‚¨ç®¡ç†æ–¹å¼"></a>è¿ç»­åˆ†é…å­˜å‚¨ç®¡ç†æ–¹å¼</h2><h3 id="è¿ç»­åˆ†é…æ–¹å¼"><a href="#è¿ç»­åˆ†é…æ–¹å¼" class="headerlink" title="è¿ç»­åˆ†é…æ–¹å¼"></a>è¿ç»­åˆ†é…æ–¹å¼</h3><p><strong>å•ä¸€è¿ç»­åˆ†é…</strong></p>
<p>ã€€è¿™æ˜¯ä¸€ç§æœ€ç®€å•çš„å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œä½†åªèƒ½åœ¨å•ç”¨æˆ·ã€å•ä»»åŠ¡çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œå°†å†…å­˜åˆ†ä¸ºç³»ç»ŸåŒºå’Œç”¨æˆ·åŒºï¼Œç³»ç»ŸåŒºä¾›OSä½¿ç”¨ï¼Œé€šå¸¸æ”¾åœ¨å†…å­˜çš„ä½åœ°å€ï¼Œç”¨æˆ·åŒºæ˜¯æŒ‡é™¤ç³»ç»ŸåŒºä»¥å¤–çš„å…¨éƒ¨å†…å­˜ç©ºé—´ï¼Œæä¾›ç»™ç”¨æˆ·ä½¿ç”¨ã€‚</p>
<p><strong>å›ºå®šåˆ†åŒºåˆ†é…</strong></p>
<p>ã€€å›ºå®šåˆ†åŒºåˆ†é…æ˜¯ä¸€ç§æœ€ç®€å•çš„å¯è¿è¡Œå¤šé“ç¨‹åºçš„å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œå°†å†…å­˜ç”¨æˆ·ç©ºé—´åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå›ºå®šå¤§å°çš„åŒºåŸŸï¼Œåœ¨æ¯ä¸ªåˆ†åŒºåªè£…å…¥ä¸€é“ä½œä¸šï¼Œè¿™æ ·ï¼Œä¾¿å…è®¸å¤šé“ä½œä¸šå¹¶å‘æ‰§è¡Œï¼Œå½“æœ‰ç©ºé—²åˆ†åŒºæ—¶ï¼Œä¾¿å¯ä»¥å†ä»å¤–å­˜çš„åå¤‡ä½œä¸šé˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªé€‚å½“å¤§å°çš„ä½œä¸šè£…å…¥è¯¥åˆ†åŒºï¼Œå½“è¯¥ä½œä¸šç»“æŸæ—¶ï¼Œåˆå¯å†ä»åå¤‡ä½œä¸šé˜Ÿåˆ—ä¸­æ‰¾å‡ºå¦ä¸€ä½œä¸šè°ƒå…¥è¯¥åˆ†åŒºã€‚</p>
<p>ã€€å¯¹äºå†…å­˜çš„ç”¨æˆ·ç©ºé—´çš„åˆ’åˆ†ï¼Œæœ‰å¦‚ä¸‹ä¸¤ç§æ–¹æ³•ã€‚</p>
<p>ã€€â‘  åˆ†åŒºå¤§å°ç›¸ç­‰ï¼Œå³æ‰€æœ‰çš„å†…å­˜åˆ†åŒºå¤§å°ç›¸ç­‰ã€‚ç¼ºç‚¹æ˜¯ç¼ºä¹çµæ´»æ€§ï¼Œå³å½“ç¨‹åºå¤ªå°æ—¶ï¼Œä¼šé€ æˆå†…å­˜èµ„æºçš„æµªè´¹ï¼Œç¨‹åºå¤ªå¤§æ—¶ï¼Œä¸€ä¸ªåˆ†åŒºç”±ä¸è¶³ä»¥è£…å…¥è¯¥ç¨‹åºï¼Œåªæ˜¯è¯¥ç¨‹åºæ— æ³•è¿è¡Œã€‚</p>
<p>ã€€â‘¡ åˆ†åŒºå¤§å°ä¸ç­‰ï¼ŒæŠŠå†…å­˜åŒºåˆ’åˆ†æˆå«æœ‰å¤šä¸ªè¾ƒå°çš„åˆ†åŒºã€é€‚é‡ä¸­ç­‰åˆ†é…å’Œå°‘é‡å¤§åˆ†åŒºï¼Œè¿™æ ·ï¼Œä¾¿å¯æ ¹æ®ç¨‹åºçš„å¤§å°ä¸ºä¹‹åˆ†é…é€‚å½“çš„åˆ†åŒºã€‚</p>
<p>ã€€ä¸ºäº†ä¾¿äºå†…å­˜åˆ†é…ï¼Œå°†åˆ†åŒºæŒ‰å¤§å°è¿›è¡Œæ’é˜Ÿï¼Œå¹¶ä¸ºä¹‹å»ºç«‹ä¸€å¼ <strong>åˆ†åŒºè¯´æ˜</strong>è¡¨ï¼Œå…¶ä¸­å„è¡¨é¡¹åŒ…æ‹¬å¯ç”¨äºåˆ†é…çš„åˆ†åŒºæ•°ã€æ¯ä¸ªåˆ†åŒºçš„èµ·å§‹åœ°å€ã€å¤§å°ã€çŠ¶æ€ï¼ˆæ˜¯å¦å·²åˆ†é…ï¼‰ï¼Œå½“æœ‰ä¸€ä¸ªç¨‹åºéœ€è¦è£…å…¥æ—¶ï¼Œç”±å†…å­˜åˆ†é…ç¨‹åºæ£€ç´¢è¯¥è¡¨ï¼Œä»ä¸­æ‰¾å‡ºä¸€ä¸ªèƒ½æ»¡è¶³è¦æ±‚çš„ï¼Œå°šæœªåˆ†é…çš„åˆ†åŒºï¼Œå°†ä¹‹åˆ†é…ç»™è¯¥ç¨‹åºï¼Œç„¶åå°†è¯¥è¡¨é¡¹ä¸­çš„çŠ¶æ€è®¾ç½®ä¸ºå·²åˆ†é…ï¼Œè‹¥æœªæ‰¾åˆ°å¤§å°è¶³å¤Ÿçš„åˆ†åŒºï¼Œåˆ™æ‹’ç»ä¸ºè¯¥ç”¨æˆ·åˆ†é…å†…å­˜ã€‚</p>
<table>
<thead>
<tr>
<th>åˆ†åŒºå·</th>
<th>å¤§å°</th>
<th>å§‹å€</th>
<th>çŠ¶æ€</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>12K</td>
<td>20K</td>
<td>å·²åˆ†é…</td>
</tr>
<tr>
<td>2</td>
<td>32K</td>
<td>32K</td>
<td>å·²åˆ†é…</td>
</tr>
<tr>
<td>3</td>
<td>64K</td>
<td>64K</td>
<td>å·²åˆ†é…</td>
</tr>
<tr>
<td>4</td>
<td>128K</td>
<td>128K</td>
<td>æœªåˆ†é…</td>
</tr>
</tbody></table>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-02-41.png"></p>
<p>å†…å­˜ä¸­å·²åˆ†é…ç»™ç”¨æˆ·ä½†æœªè¢«åˆ©ç”¨çš„åŒºåŸŸç§° ä¸º <font color=red>â€œå†…é›¶å¤´â€ ï¼ˆå†…ç¢ç‰‡ï¼‰</font>ã€‚ å›ºå®šåˆ†åŒºåˆ†é…æœ‰å†…é›¶å¤´äº§ç”Ÿã€‚</p>
<p><font color=red>å¤–é›¶å¤´</font>(External Fragment )ï¼š æ²¡æœ‰åˆ†é…ä½†æ— æ³•åˆ†é…çš„ç©ºé—´ ï¼Œå¤ªå°è€Œæ— æ³•åˆ†é…ï¼Œâ€œåˆ†ä¸å‡ºå»çš„ç©ºé—´â€</p>
<p><strong>åŠ¨æ€åˆ†åŒºåˆ†é…</strong></p>
<p>åŠ¨æ€åˆ†åŒºåˆ†é…æ˜¯æŒ‡æ ¹æ®è¿›ç¨‹çš„å®é™…éœ€è¦ï¼ŒåŠ¨æ€åœ°ä¸ºä¹‹åˆ†é…è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚å³åˆ†åŒºçš„è¾¹ç•Œå¯ä»¥ç§»åŠ¨ï¼Œåˆ†åŒºçš„å¤§å°æ˜¯å¯å˜çš„ã€‚åŠ¨æ€åˆ†åŒºåˆæœ‰ä¸¤ç§ä¸åŒé€‰æ‹©ï¼Œä¸€ç§æ˜¯åˆ†åŒºçš„æ•°ç›®å›ºå®šå¤§å°æ˜¯å¯å˜çš„ï¼Œè€Œå¦ä¸€ç§åˆ™å…è®¸åˆ†åŒºçš„æ•°ç›®å’Œå¤§å°éƒ½æ˜¯å¯å˜çš„ã€‚ ä¸ºäº†è¯´æ˜å®ƒä»¬ä¹‹é—´çš„é‡è¦å·®å¼‚ï¼Œæˆ‘ ä»¬è€ƒè™‘ä¸€ä¸ªå…·æœ‰256Kå­—èŠ‚å­˜å‚¨å™¨çš„ç³»ç»Ÿã€‚</p>
<p><em>åˆ†åŒºæ•°ç›®å›ºå®š</em></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-13-50.png"></p>
<p><em>åˆ†åŒºæ•°ç›®å¯å˜</em></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-14-02.png"></p>
<p>ä¸ºå®ç°å¯å˜åˆ†åŒºåˆ†é…ï¼Œå¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-16-26.png"></p>
<p><strong>å¯é‡å®šä½åˆ†åŒºåˆ†é…</strong></p>
<p>â€‹	åœ¨è¿ç»­åˆ†é…æ–¹å¼ä¸­ï¼Œå¿…é¡»æŠŠä¸€ä¸ªç³»ç»Ÿæˆ–ç”¨æˆ·ç¨‹åºè£…å…¥ä¸€è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè‹¥æœåœ¨ç³»ç»Ÿä¸­åªæœ‰è‹¥å¹²ä¸ªå°çš„åˆ†åŒºï¼Œå³ä½¿ä»–ä»¬å®¹é‡æ€»å’Œå¤§äºè¦è£…å…¥çš„ç¨‹åºï¼Œä½†ç”±äºè¿™äº›åˆ†åŒºä¸ç›¸é‚»æ¥ï¼Œä¹Ÿæ— æ³•æŠŠè¯¥ç¨‹åºè£…å…¥å†…å­˜ã€‚è‹¥æƒ³è£…å…¥ï¼Œåˆ™å°†å†…å­˜ä¸­çš„æ‰€æœ‰ä½œä¸šè¿›è¡Œç§»åŠ¨ï¼Œä½¿ä»–ä»¬å…¨éƒ¨ç›¸é‚»æ¥ï¼Œè¿™æ ·ï¼Œå³å¯æŠŠåŸæ¥åˆ†æ•£çš„å¤šä¸ªå°åˆ†åŒºæ‹¼æ¥æˆä¸€ä¸ªå¤§åˆ†åŒºï¼Œè¿™æ—¶ï¼Œå°±å¯ä»¥æŠŠä½œä¸šè£…å…¥è¯¥åŒºã€‚ç»è¿‡ç´§å‡‘åçš„æŸäº›ç”¨æˆ·ç¨‹åºåœ¨å†…å­˜ä¸­çš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œæ­¤æ—¶è‹¥ä¸å¯¹ç¨‹åºå’Œæ•°æ®çš„åœ°å€åŠ ä»¥ä¿®æ”¹ï¼ˆå˜æ¢ï¼‰ï¼Œåˆ™ç¨‹åºå¿…å°†æ— æ³•æ‰§è¡Œï¼Œä¸ºæ­¤ï¼Œ<strong>åœ¨æ¯æ¬¡ç´§å‡‘ä¹‹åï¼Œéƒ½å¿…é¡»å¯¹ç§»åŠ¨äº†çš„æ•°æ®å’Œç¨‹åºè¿›è¡Œé‡å®šå‘</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160625173645781-121254084.png"></p>
<p>ã€€åœ¨åŠ¨æ€è¿è¡Œæ—¶è£…å…¥çš„æ–¹å¼ä¸­ï¼Œä½œä¸šè£…å…¥å†…å­˜åçš„æ‰€æœ‰åœ°å€éƒ½ä»ç„¶æ˜¯ç›¸å¯¹åœ°å€ï¼Œå°†ç›¸å¯¹åœ°å€è½¬åŒ–ä¸ºç‰©ç†åœ°å€çš„å·¥ä½œï¼Œé€€æ¨è¿Ÿåˆ°ç¨‹åºæŒ‡ä»¤è¦çœŸæ­£æ‰§è¡Œæ—¶è¿›è¡Œã€‚ä¸ºäº†ä½¿åœ°å€å˜æ¢ä¸å½±å“æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦ï¼Œåœ¨ç³»ç»Ÿä¸­å¢è®¾äº†ä¸€ä¸ªé‡å®šä½å¯„å­˜å™¨ï¼Œç”¨å®ƒæ¥å­˜æ”¾ç¨‹åºï¼ˆæ•°æ®ï¼‰åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ã€‚åœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼ŒçœŸæ­£è®¿é—®çš„å†…å­˜åœ°å€æ˜¯ç›¸å¯¹åœ°å€ä¸é‡å®šä½å¯„å­˜å™¨ä¸­çš„åœ°å€ç›¸åŠ è€Œå½¢æˆçš„ã€‚è¯¥åŠ¨ä½œæ˜¯éšç€å¯¹æ¯æ¡æŒ‡ä»¤æˆ–æ•°æ®çš„è®¿é—®è‡ªåŠ¨è¿›è¡Œçš„ï¼Œæ•…ç§°ä¸º<strong>åŠ¨æ€é‡å®šä½</strong>ï¼Œå½“ç³»ç»Ÿå¯¹å†…å­˜è¿›è¡Œäº†ç´§å‡‘è€Œä½¿è‹¥å¹²ç¨‹åºåœ¨å†…å­˜ä¸­ç§»åŠ¨æ—¶ï¼Œä¸éœ€è¦å¯¹ç¨‹åºåšä»»ä½•ä¿®æ”¹ï¼Œåªè¦ç”¨è¯¥ç¨‹åºåœ¨å†…å­˜çš„æ–°èµ·å§‹åœ°å€å»ç½®æ¢åŸæ¥çš„èµ·å§‹åœ°å€å³å¯ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-59-06.png"></p>
<p>ã€€åŠ¨æ€é‡å®šä½åˆ†åŒºåˆ†é…ç®—æ³•ä¸åŠ¨æ€åˆ†åŒºåˆ†é…ç®—æ³•åŸºæœ¬ä¸Šç›¸åŒï¼Œå·®åˆ«ä»…åœ¨äºï¼šåœ¨è¿™ç§åˆ†é…ç®—æ³•ä¸­ï¼Œ<strong>å¢åŠ äº†ç´§å‡‘åŠŸèƒ½</strong>ï¼Œé€šå¸¸ï¼Œåœ¨æ‰¾ä¸åˆ°è¶³å¤Ÿå¤§çš„ç©ºé—²åˆ†åŒºæ¥æ»¡è¶³ç”¨æˆ·éœ€æ±‚æ—¶è¿›è¡Œç´§å‡‘ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-59-26.png"></p>
<h3 id="åˆ†åŒºåˆ†é…ç®—æ³•"><a href="#åˆ†åŒºåˆ†é…ç®—æ³•" class="headerlink" title="åˆ†åŒºåˆ†é…ç®—æ³•"></a>åˆ†åŒºåˆ†é…ç®—æ³•</h3><ul>
<li><p><strong>æœ€ä½³é€‚åº”ç®—æ³•</strong>(Best fit: BF) ï¼šå°±æ˜¯ä¸ºä¸€ä½œä¸šé€‰æ‹©åˆ†åŒºæ—¶æ€»æ˜¯å¯»æ‰¾<em><strong>å…¶å¤§å°æœ€æ¥è¿‘ä½œä¸šæ‰€è¦æ±‚çš„å­˜å‚¨åŒºåŸŸ</strong></em>ã€‚å³ï¼šæŠŠä½œä¸šæ”¾ å…¥è¿™æ ·çš„åˆ†åŒºåå‰©ä¸‹çš„é›¶å¤´æœ€å°ã€‚ </p>
<p>  ä¼˜ç‚¹ï¼šå¦‚æœå­˜å‚¨ç©ºé—´ä¸­å…·æœ‰æ­£å¥½æ˜¯æ‰€è¦æ±‚å¤§å°çš„å­˜å‚¨ç©ºç™½åŒºï¼Œåˆ™å¿…ç„¶è¢«é€‰ä¸­ï¼›å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ç©ºç™½åŒºï¼Œä¹Ÿåªå¯¹æ¯”è¦æ±‚ç¨å¤§çš„ç©ºç™½åŒºè¿›è¡Œåˆ’åˆ†ï¼Œè€Œç»ä¸ä¼šå»åˆ’åˆ†ä¸€ä¸ªæ›´å¤§çš„ç©ºç™½åŒºã€‚å› æ­¤ï¼Œå…¶åé‡åˆ°å¤§ä½œä¸šåˆ°æ¥æ—¶ï¼Œä½œä¸šè¦æ±‚çš„å­˜å‚¨åŒºåŸŸå°±æ¯”è¾ƒå®¹æ˜“å¾—åˆ°æ»¡è¶³ã€‚ ä¸ºäº†åŠ å¿«æŸ¥æ‰¾é€Ÿåº¦ï¼Œåº”å°†å­˜å‚¨ç©ºé—´ä¸­æ‰€æœ‰çš„ç©ºç™½åŒºæŒ‰å…¶<strong>å¤§å°é€’å¢</strong>çš„é¡ºåºé“¾æ¥èµ·æ¥ï¼Œç»„æˆä¸€ç©ºç™½åŒºé“¾(Free List)ã€‚</p>
<p>  <img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-22-52.png"></p>
<p>  ç¼ºç‚¹ï¼šé‡‡ç”¨æœ€ä½³é€‚åº”ç®—æ³•ï¼Œåœ¨æ¯æ¬¡åˆ†é…æ—¶ï¼Œæ€»æ˜¯äº§ç”Ÿæœ€å°çš„ç©ºç™½åŒºã€‚å› æ­¤ï¼Œç»è¿‡ä¸€æ®µæ—¶æœŸåï¼Œå­˜å‚¨ç©ºé—´ä¸­ å¯èƒ½ç•™è®¸å¤šè¿™æ ·çš„ç©ºç™½åŒºï¼Œç”±äºå…¶å¤ªå°è€Œæ— æ³•ä½¿ç”¨ã€‚ä¸ºäº†æ”¹å–„è¿™ç§æƒ…å†µï¼Œåœ¨è¯¥ç®—æ³•ä¸­è®¾ç½®ä¸€å‚æ•°Gï¼Œç”¨å®ƒæ¥ç¡® å®šæœ€å°åˆ†åŒºçš„å¤§å°ã€‚å½“é€‰æ‹©ä¸€ä¸ªåˆ†åŒºæ—¶ï¼Œå¦‚æœé€‰ä¸­çš„ç©ºç™½åŒºä¸è¦æ±‚çš„å¤§å°ä¹‹å·®å°äºGï¼Œåˆ™ä¸å†å¯¹å®ƒåˆ’åˆ†ï¼Œè€ŒæŠŠæ•´ä¸ªè¿™ä¸ªç©ºç™½åŒºåˆ†é…ç»™ç”³è¯·çš„ä½œä¸šã€‚ æœ€ä½³é€‚åº”ç®—æ³•çš„å¦ä¸€ç¼ºç‚¹æ˜¯ï¼šåœ¨å›æ”¶ä¸€ä¸ªåˆ†åŒºæ—¶ï¼Œ ä¸ºäº†æŠŠå®ƒæ’å…¥åˆ°ç©ºç™½åŒºé“¾ä¸­åˆé€‚çš„ä½ç½®ä¸Šä¹Ÿé¢‡ä¸ºè´¹æ—¶ã€‚ æ‰€ä»¥ï¼Œè¿™ç§ç®—æ³•ä¹çœ‹èµ·æ¥æ˜¯æœ€ä½³çš„ï¼Œå…¶å®åˆ™ä¸ç„¶ã€‚ã€€</p>
</li>
<li><p><strong>æœ€åé€‚åº”ç®—æ³•</strong>(Worst fit: WF)ï¼šä¸æœ€ä½³é€‚åº”ç®—æ³•ç›¸åï¼Œå®ƒåœ¨ä¸ºä½œä¸šé€‰æ‹©å­˜å‚¨åŒºåŸŸæ—¶ï¼Œæ€»æ˜¯å¯»æ‰¾æœ€å¤§çš„ç©ºç™½åŒºã€‚åœ¨åˆ’åˆ†åå‰©ä¸‹çš„ç©ºç™½åŒºä¹Ÿæ˜¯æœ€å¤§çš„ï¼Œå› è€Œå¯¹ä»¥åçš„åˆ†é…å¾ˆå¯èƒ½ä»ç„¶æ˜¯æœ‰ç”¨çš„ï¼Œè¿™æ˜¯è¯¥ç®—æ³•çš„ä¸€ä¸ªä¼˜ç‚¹ã€‚ä½†æ˜¯ï¼Œç”±äºæœ€å¤§çš„ç©ºç™½å—æ€»æ˜¯é¦–å…ˆè¢«åˆ†é…è€Œè¿›è¡Œ åˆ’åˆ†ï¼Œå½“æœ‰å¤§çš„ä½œä¸šæ—¶ï¼Œå…¶å­˜å‚¨ç©ºé—´çš„ç”³è¯·å¾€å¾€å¾—ä¸åˆ°æ»¡è¶³ï¼Œè¿™æ˜¯è¯¥ç®—æ³•çš„ä¸€ä¸ªç¼ºç‚¹ã€‚ä¸ºäº†æ”¯æŒè¿™ä¸ªç®—æ³•çš„å®ç°ï¼Œç©ºç™½å—åº”ä»¥<strong>å¤§å°é€’å‡</strong>çš„é¡ºåºé“¾æ¥èµ·æ¥ã€‚</p>
</li>
<li><p><strong>é¦–æ¬¡é€‚åº”ç®—æ³•</strong>(First Fit: FF) ï¼šæ¯ä¸ªç©ºç™½åŒºæŒ‰å…¶åœ¨å­˜å‚¨ç©ºé—´ä¸­<strong>åœ°å€é€’å¢</strong>çš„é¡ºåºé“¾åœ¨ä¸€ èµ·ï¼Œå³æ¯ä¸ªåç»§ç©ºç™½åŒºçš„èµ·å§‹åœ°å€æ€»æ˜¯æ¯”å‰è€…çš„å¤§ã€‚åœ¨ ä¸ºä½œä¸šåˆ†é…å­˜å‚¨åŒºåŸŸæ—¶ï¼Œä»è¿™ä¸ªç©ºç™½åŒºé“¾çš„å§‹ç«¯å¼€å§‹æŸ¥æ‰¾ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªè¶³ä»¥æ»¡è¶³è¯·æ±‚çš„ç©ºç™½å—ï¼Œè€Œä¸ç®¡å®ƒç©¶ç«Ÿ æœ‰å¤šå¤§ã€‚ æ˜¾ç„¶ï¼Œè¿™ä¸ªç®—æ³•å€¾å‘äºä¼˜å…ˆåˆ©ç”¨å­˜å‚¨ç©º é—´ä¸­ä½å€éƒ¨åˆ†çš„ç©ºç™½åŒºã€‚</p>
<p>ä¸»è¦ä¼˜ç‚¹ï¼šç®—æ³•ç®€å•ï¼ŒæŸ¥æ‰¾é€Ÿåº¦å¿«ï¼›ç•™åœ¨é«˜å€éƒ¨åˆ†çš„å¤§çš„ç©ºç™½åŒºè¢«åˆ’åˆ†çš„æœºä¼šè¾ƒå°‘ï¼Œå› è€Œåœ¨å¤§ä½œä¸šåˆ°æ¥æ—¶ä¹Ÿæ¯”è¾ƒå®¹æ˜“å¾—åˆ°æ»¡è¶³ã€‚ ä¸»è¦ç¼ºç‚¹ï¼šè¿™ç§ç®—æ³•å¸¸å¸¸åˆ©ç”¨ä¸€ä¸ªå¤§çš„ç©ºç™½åŒºé€‚åº”å°ä½œä¸šçš„è¯·æ±‚ï¼Œä»è€Œç•™ä¸‹ä¸€äº›è¾ƒå°çš„æ— æ³•ç”¨çš„ç©ºç™½åŒºï¼Œå­˜å‚¨ç©ºé—´åˆ©ç”¨ç‡ä¸é«˜ï¼›è€Œä¸”ï¼Œç”±äºæ‰€æœ‰çš„è¯·æ±‚éƒ½æ˜¯ä»ç©ºç™½åŒºé“¾çš„å§‹ç«¯å¼€å§‹æŸ¥æ‰¾ï¼Œå› è€Œè¿™äº›å°è€Œæ— ç”¨çš„ç©ºç™½åŒºé›†ä¸­åœ¨è¿™ä¸ªé“¾çš„å‰ç«¯ï¼Œç›¸åº”åœ°ï¼Œä¸€äº›è¾ƒå¤§ç©ºç™½åŒºåœ¨é“¾çš„å°¾ç«¯æ‰èƒ½å‘ç°ï¼Œè¿™ç§æƒ…å†µå°†ä½¿æ‰¾åˆ°åˆé€‚ç©ºç™½åŒºçš„é€Ÿåº¦é™ä½ã€‚<strong>åœ¨ä½åœ°å€éƒ¨åˆ†ä¼šç§¯ç´¯å¤§é‡å¤–é›¶å¤´</strong>ã€‚</p>
</li>
<li><p><strong>ä¸‹æ¬¡é€‚åº”ç®—æ³•</strong>(Next fit: NF) ï¼šè¯¥ç®—æ³•å®é™…ä¸Šæ˜¯é¦–æ¬¡é€‚åº”ç®—æ³•çš„ä¸€ç§å˜å½¢ï¼Œæ•…ä¹Ÿè¢«ç§°ä¸ºå¸¦æ—‹è½¬æŒ‡é’ˆçš„é¦–æ¬¡é€‚åº”ç®—æ³•(Next Fit with Roving Pointer)ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬æŠŠå­˜å‚¨ç©ºé—´ä¸­ç©ºç™½åŒºæ„æˆä¸€ä¸ªå¾ªç¯é“¾ã€‚æ¯æ¬¡ä¸ºå­˜å‚¨è¯·æ±‚æŸ¥æ‰¾åˆé€‚çš„åˆ†åŒºæ—¶ï¼Œæ€»æ˜¯ä»<em><strong>ä¸Šæ¬¡æŸ¥æ‰¾ç»“æŸçš„åœ°æ–¹å¼€å§‹</strong></em>ï¼Œåªè¦æ‰¾åˆ°ä¸€ä¸ªè¶³å¤Ÿå¤§çš„ç©ºç™½åŒºï¼Œå°±å°†å®ƒåˆ’åˆ†ååˆ†é…å‡ºå»ã€‚æ˜¾ç„¶ï¼Œé‡‡ç”¨è¿™ä¸€ç­–ç•¥åï¼Œå­˜å‚¨ç©ºé—´çš„åˆ©ç”¨æ›´åŠ å‡è¡¡ï¼Œè€Œä¸è‡³äºä½¿å°çš„ç©ºç™½åŒºé›†ä¸­äºå­˜å‚¨å™¨çš„ä¸€ç«¯ã€‚ ä½†æ˜¯ï¼Œåœ¨å­˜å‚¨å™¨çš„å¦ä¸€ç«¯ä¹Ÿä¸å¯èƒ½ä¿ç•™å¤§çš„ç©ºç™½å—ï¼Œå› æ­¤ï¼Œå½“éœ€è¦è·å¾—ç›¸å½“å¤§çš„ç©ºç™½åŒºæ—¶ï¼Œèƒ½æ»¡è¶³çš„å¯èƒ½æ€§å‡å°‘äº†ã€‚</p>
</li>
<li><p><strong>å¿«é€Ÿé€‚åº”ç®—æ³•</strong>ï¼ˆQuik fit: QF)ï¼šå°†ç©ºé—²åˆ†åŒºæ ¹æ®å…¶å®¹é‡å¤§å°è¿›è¡Œåˆ†ç±»ï¼Œå¯¹äºæ¯ä¸€ç±»å…·<br>æœ‰ç›¸åŒå®¹é‡çš„æ‰€æœ‰ç©ºé—²åˆ†åŒºï¼Œå•ç‹¬è®¾ç«‹ä¸€ä¸ªç©ºé—²åˆ†åŒºé“¾è¡¨ã€‚è¿™æ ·ï¼Œç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªç©ºé—²åˆ†åŒºé“¾è¡¨ï¼›åŒæ—¶ï¼Œåœ¨å†…å­˜ä¸­è®¾ç«‹ä¸€å¼ ç®¡ç†åˆ†åŒºç±»å‹ï¼Œå¹¶è®°å½•äº†è¯¥ç±»å‹ç©ºé—²åˆ†åŒºé“¾è¡¨è¡¨å¤´çš„ç´¢å¼•è¡¨ï¼Œè¯¥è¡¨çš„æ¯ä¸€ä¸ªè¡¨é¡¹è®°å½•äº†å¯¹åº”ç±»å‹ç©ºé—²åˆ†åŒºé“¾è¡¨è¡¨å¤´çš„æŒ‡é’ˆã€‚<br>â¢åˆ†é…è¿‡ç¨‹ï¼šæ ¹æ®è¿›ç¨‹çš„é•¿åº¦ï¼Œå¯»æ‰¾åˆ°èƒ½å®¹çº³å®ƒçš„æœ€å°ç©ºé—²åˆ†åŒºé“¾è¡¨ï¼Œå¹¶å–ä¸‹ç¬¬ä¸€å—è¿›è¡Œåˆ†é…å³å¯ã€‚</p>
<p>ä¼˜ç‚¹ï¼š1.æŸ¥æ‰¾æ•ˆç‡é«˜ã€‚2.è¯¥ç®—æ³•åœ¨è¿›è¡Œç©ºé—²åˆ†åŒºåˆ†é…æ—¶ï¼Œä¸ä¼šå¯¹ä»»ä½•åˆ†åŒºäº§ç”Ÿåˆ†<br>å‰²ï¼Œæ‰€ä»¥èƒ½ä¿ç•™å¤§çš„åˆ†åŒºï¼Œæ»¡è¶³å¯¹å¤§ç©ºé—´çš„éœ€æ±‚ï¼Œä¹Ÿä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚<br>â¢ç¼ºç‚¹ï¼š1.åœ¨åˆ†åŒºå½’è¿˜ä¸»å­˜æ—¶ç®—æ³•å¤æ‚ï¼Œç³»ç»Ÿå¼€é”€è¾ƒå¤§ã€‚2.è¯¥ç®—æ³•åœ¨åˆ†é…ç©ºé—²åˆ†åŒºæ—¶æ˜¯ä»¥è¿›ç¨‹ä¸ºå•ä½ï¼Œä¸€ä¸ªåˆ†åŒºåªå±äºä¸€ä¸ªè¿›ç¨‹ï¼Œå› æ­¤åœ¨ä¸ºè¿›ç¨‹æ‰€åˆ†é…çš„ä¸€ä¸ªåˆ†åŒºä¸­ï¼Œæˆ–<br>å¤šæˆ–å°‘åœ°å­˜åœ¨ä¸€å®šçš„æµªè´¹ã€‚ç©ºé—²åˆ†åŒºåˆ’åˆ†è¶Šç»†ï¼Œæµªè´¹åˆ™è¶Šä¸¥é‡ã€‚</p>
</li>
</ul>
<h3 id="åˆ†åŒºåˆ†é…æ“ä½œ"><a href="#åˆ†åŒºåˆ†é…æ“ä½œ" class="headerlink" title="åˆ†åŒºåˆ†é…æ“ä½œ"></a>åˆ†åŒºåˆ†é…æ“ä½œ</h3><p><em>åˆ†é…å†…å­˜</em></p>
<p>ç³»ç»Ÿåˆ©ç”¨æŸç§åˆ†é…ç®—æ³•ï¼Œä»ç©ºé—²åˆ†åŒºé“¾ï¼ˆè¡¨ï¼‰ä¸­æ‰¾åˆ°æ‰€éœ€å¤§å°çš„åˆ†åŒºï¼Œå…¶æµç¨‹å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-42-15.png"></p>
<p><em>å›æ”¶å†…å­˜</em></p>
<p>å½“è¿›ç¨‹è¿è¡Œå®Œæ¯•é‡Šæ”¾å†…å­˜æ—¶ï¼Œç³»ç»Ÿæ ¹æ®å›æ”¶åŒºçš„é¦–å€ï¼Œä»ç©ºé—²åŒºé“¾ï¼ˆè¡¨ï¼‰ä¸­æ‰¾åˆ°ç›¸åº”çš„æ’å…¥ç‚¹ï¼Œæ­¤æ—¶ä¼šå‡ºç°å¦‚ä¸‹å››ç§æƒ…å†µä¹‹ä¸€ï¼š<strong>å›æ”¶åˆ†åŒºä¸æ’å…¥ç‚¹çš„å‰ä¸€ä¸ªç©ºé—²åŒºF1ç›¸é‚»æ¥</strong>ï¼Œæ­¤æ—¶å°†å›æ”¶åŒºä¸æ’å…¥ç‚¹çš„å‰ä¸€åˆ†åŒºåˆå¹¶ï¼Œä¸å¿…ä¸ºå›æ”¶åŒºåˆ†é…æ–°è¡¨é¡¹ï¼Œåªéœ€è¦ä¿®æ”¹å‰ä¸€åˆ†åŒºF1çš„å¤§å°ã€‚<strong>å›æ”¶åˆ†åŒºä¸æ’å…¥ç‚¹çš„åä»¥ç©ºé—²åˆ†åŒºF2ç›¸é‚»æ¥</strong>ï¼Œæ­¤æ—¶å°†ä¸¤åˆ†åŒºåˆå¹¶ï¼Œå½¢æˆæ–°çš„ç©ºé—²åˆ†åŒºï¼Œç”¨å›æ”¶åŒºçš„é¦–å€ä½œä¸ºæ–°ç©ºé—²åŒºçš„é¦–å€ï¼Œå¤§å°ä¸ºä¸¤è€…ä¹‹å’Œã€‚<strong>å›æ”¶åŒºåŒæ—¶ä¸æ’å…¥ç‚¹çš„å‰ã€åä¸¤ä¸ªåˆ†åŒºé‚»æ¥</strong>ï¼Œæ­¤æ—¶å°†ä¸‰ä¸ªåˆ†åŒºåˆå¹¶ï¼Œä½¿ç”¨F1çš„è¡¨é¡¹å’ŒF1çš„é¦–å€ï¼Œå–æ¶ˆF2çš„è¡¨é¡¹ï¼Œå¤§å°ä¸ºä¸‰è€…ä¹‹å’Œã€‚<strong>å›æ”¶åŒºæ—¢ä¸ä¸F1é‚»æ¥ï¼Œä¹Ÿä¸ä¸F2é‚»æ¥</strong>ï¼Œè¿™æ—¶ä¸ºå›æ”¶åŒºå•ç‹¬å»ºç«‹ä¸€ä¸ªæ–°è¡¨é¡¹ï¼Œå¡«å†™å›æ”¶åŒºçš„é¦–å€å’Œå¤§å°ï¼Œå¹¶æ ¹æ®å…¶é¦–å€æ’å…¥åˆ°ç©ºé—²é“¾ä¸­çš„é€‚å½“ä½ç½®ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160625171237203-1234395843.png"></p>
<h3 id="ä¼™ä¼´ç³»ç»Ÿ"><a href="#ä¼™ä¼´ç³»ç»Ÿ" class="headerlink" title="ä¼™ä¼´ç³»ç»Ÿ"></a>ä¼™ä¼´ç³»ç»Ÿ</h3><p>â€‹	ä¼™ä¼´ç³»ç»Ÿè§„å®šï¼Œæ— è®ºå·²åˆ†é…åˆ†åŒºè¿˜æ˜¯ç©ºé—²åˆ†åŒºï¼Œå…¶å¤§å°å‡ä¸º2çš„kæ¬¡å¹‚ï¼Œkä¸ºæ•´æ•°ï¼Œ1&lt;&#x3D; k &lt;&#x3D; mï¼Œå…¶ä¸­ï¼Œ2^1è¡¨ç¤ºåˆ†é…çš„æœ€å°åˆ†åŒºçš„å¤§å°ï¼Œ2^mè¡¨ç¤ºåˆ†é…çš„æœ€å¤§åˆ†åŒºçš„å¤§å°ï¼Œé€šå¸¸2^mæ˜¯æ•´ä¸ªå¯åˆ†é…å†…å­˜çš„å¤§å°ã€‚å‡è®¾ç³»ç»Ÿå¼€å§‹æ—¶çš„åˆå§‹å®¹é‡ä¸º2^mä¸ªå­—ï¼Œç”±äºä¸æ–­åˆ‡åˆ†ï¼Œå¯èƒ½ä¼šå½¢æˆè‹¥å¹²ä¸ªä¸è¿ç»­çš„ç©ºé—²åˆ†åŒºï¼Œå°†è¿™äº›ç©ºé—²åˆ†åŒºæ ¹æ®åˆ†åŒºçš„å¤§å°è¿›è¡Œåˆ†ç±»ï¼Œå¯¹äºæ¯ä¸€ç±»å…·æœ‰ç›¸åŒå¤§å°çš„æ‰€æœ‰ç©ºé—²åˆ†åŒºï¼Œå•ç‹¬è®¾ç«‹ä¸€ä¸ªç©ºé—²åˆ†åŒºåŒå‘é“¾è¡¨ã€‚è¿™æ ·ï¼Œä¸åŒå¤§å°çš„ç©ºé—²åˆ†åŒºå½¢æˆäº†kä¸ªç©ºé—²åˆ†åŒºé“¾è¡¨ã€‚</p>
<p>ã€€å½“éœ€è¦ä¸ºè¿›ç¨‹åˆ†é…ä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­˜å‚¨ç©ºé—´æ—¶ï¼Œé¦–å…ˆè®¡ç®—ä¸€ä¸ªiå€¼ï¼Œä½¿2^i-1 &lt; n &lt;&#x3D; 2^iï¼Œç„¶åï¼Œåœ¨ç©ºé—²åˆ†åŒºå¤§å°ä¸º2^içš„ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­æŸ¥æ‰¾ï¼Œè‹¥æ‰¾åˆ°ï¼Œå³æŠŠè¯¥ç©ºé—²åˆ†åŒºåˆ†é…ç»™è¿›ç¨‹ï¼Œå¦åˆ™ï¼Œè¡¨æ˜2^içš„ç©ºé—²åˆ†åŒºå·²ç»è€—å°½ï¼Œåœ¨å¤§å°ä¸º2^i+1çš„ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­æŸ¥æ‰¾ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™å°†è¯¥ç©ºé—²åˆ†åŒºåˆ†ä¸ºä¸¤ä¸ªå¤§å°ä¸º2^içš„åˆ†åŒºï¼Œä¸€ä¸ªç”¨äºåˆ†é…ï¼Œä¸€ä¸ªåŠ å…¥åˆ°å¤§å°ä¸º2^içš„ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­ï¼Œè‹¥è¿˜æ˜¯ä¸å­˜åœ¨ï¼Œåˆ™ç»§ç»­åœ¨å¤§å°ä¸º2^i+2çš„ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­æŸ¥æ‰¾ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™å°†ç©ºé—²åˆ†åŒºè¿›è¡Œä¸¤æ¬¡åˆ†å‰²ï¼Œä¸€æ¬¡åˆ†å‰²ä¸ºä¸¤ä¸ªå¤§å°ä¸º2^i+1çš„ç©ºé—²åˆ†åŒºï¼Œä¸€ä¸ªåŠ å…¥åˆ°å¤§å°ä¸º2^i+1çš„ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­ï¼Œå¦å¤–ä¸€ä¸ªç»§ç»­è¿›è¡Œåˆ†å‰²ï¼Œåˆ†æˆä¸¤ä¸ªå¤§å°2^içš„ç©ºé—²å—ï¼Œä¸€ä¸ªç”¨äºåˆ†é…ï¼Œå¦å¤–ä¸€ä¸ªåŠ å…¥åˆ°å¤§å°ä¸º2^içš„ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­ï¼Œä»¥æ­¤ç±»æ¨ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å¯¹2^kçš„ç©ºé—²åˆ†åŒºè¿›è¡Œkæ­¤åˆ†å‰²æ‰èƒ½å¾—åˆ°æ‰€éœ€åˆ†åŒºã€‚</p>
<p>ã€€å½“å›æ”¶ç©ºé—²åˆ†åŒºæ—¶ï¼Œä¹Ÿéœ€è¦ç»è¿‡å¤šæ¬¡åˆå¹¶ï¼Œå¦‚å›æ”¶å¤§å°ä¸º2^içš„ç©ºé—²åˆ†åŒºæ—¶ï¼Œè‹¥äº‹å…ˆå·²ç»å­˜åœ¨2^içš„ç©ºé—²åˆ†åŒºï¼Œåˆ™åº”å°†å…¶ä¸ä¼™ä¼´åˆ†åŒºåˆå¹¶ä¸ºä¸€ä¸ªå¤§å°ä¸º2^i+1çš„ç©ºé—²åˆ†åŒºï¼Œè‹¥äº‹å…ˆå·²å­˜åœ¨2^i+1çš„ç©ºé—²åˆ†åŒºï¼Œåˆ™å†æ¬¡è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶ä¸º2^i+2çš„åˆ†åŒºï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_10-52-24.png"></p>
<h2 id="åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼"><a href="#åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼" class="headerlink" title="åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼"></a>åŸºæœ¬åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼</h2><h3 id="é¡µé¢ä¸é¡µè¡¨"><a href="#é¡µé¢ä¸é¡µè¡¨" class="headerlink" title="é¡µé¢ä¸é¡µè¡¨"></a>é¡µé¢ä¸é¡µè¡¨</h3><p>ã€€åˆ†é¡µå­˜å‚¨ç®¡ç†æ˜¯å°†ä¸€ä¸ª<strong>è¿›ç¨‹çš„é€»è¾‘åœ°å€ç©ºé—´åˆ†æˆè‹¥å¹²ä¸ªå¤§å°ç›¸ç­‰çš„ç‰‡</strong>ï¼Œç§°ä¸ºé¡µé¢æˆ–é¡µï¼Œå¹¶ä¸ºå„é¡µè¿›è¡Œç¼–å·ï¼Œä»0å¼€å§‹ã€‚ç›¸åº”åœ°ï¼Œ<strong>æŠŠå†…å­˜ç©ºé—´åˆ†æˆä¸é¡µé¢ç›¸åŒå¤§å°çš„è‹¥å¹²ä¸ªå­˜å‚¨å—</strong>ï¼Œç§°ä¸ºï¼ˆç‰©ç†ï¼‰å—æˆ–è€…é¡µæ¡†ï¼Œä¹ŸåŒæ ·ä¸ºå®ƒä»¬ç¼–å·ï¼Œå¦‚0#å—ï¼Œ1#å—ç­‰ã€‚åœ¨æœªè¿›ç¨‹åˆ†é…å†…å­˜æ—¶ï¼Œä»¥å—ä¸ºå•ä½å°†è¿›ç¨‹çš„è‹¥å¹²ä¸ªé¡µåˆ†åˆ«è£…å…¥åˆ°å¤šä¸ªå¯ä»¥ä¸ç›¸é‚»æ¥çš„ç‰©ç†å—ä¸­ï¼Œç”±äºè¿›ç¨‹çš„æœ€åä¸€é¡µç»å¸¸è£…ä¸æ»¡ä¸€å—è€Œå½¢æˆä¸å¯åˆ©ç”¨çš„ç¢ç‰‡ï¼Œç§°ä¹‹ä¸ºé¡µå†…ç¢ç‰‡(ç¨‹åºå¤§å°ä¸€èˆ¬ä¸æ˜¯é¡µå¤§å°çš„æ•´æ•°å€)ã€‚</p>
<p>ã€€é¡µé¢å¤§å°ç”±æœºå™¨çš„åœ°å€ç»“æ„å†³å®šã€‚æŸä¸€æœºå™¨åªèƒ½é‡‡ç”¨ä¸€ç§å¤§å°çš„é¡µé¢ã€‚</p>
<ul>
<li><p>å°é¡µé¢</p>
</li>
<li><p>å¤§é¡µé¢</p>
</li>
</ul>
<p>â€‹	é¡µé¢çš„å¤§å°é€šå¸¸åœ¨1KB~8KBä¹‹é—´ã€‚</p>
<p>ã€€åˆ†é¡µåœ°å€ä¸­çš„åœ°å€ç»“æ„å¦‚ä¸‹</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_11-15-18.png"></p>
<p>ã€€åœ¨åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼ä¸­ï¼Œä»»ä½•ä¸€ä¸ªé€»è¾‘åœ°å€éƒ½å¯è½¬å˜ä¸ºï¼šé¡µå·+é¡µå†…ä½ç§»é‡ã€‚å‰ä¸€éƒ¨åˆ†ä¸ºé¡µå·Pï¼Œåä¸€éƒ¨åˆ†ä¸ºä½ç§»é‡Wï¼ˆæˆ–ç§°ä¸ºé¡µå†…åœ°å€ï¼‰ï¼Œæ€»å…±32ä½ï¼Œå…¶ä¸­0<del>11ä½ä¸ºé¡µå†…åœ°å€ï¼Œæ¯é¡µå¤§å°4KBï¼Œ12</del>31ä½ä¸ºé¡µå·ï¼Œåœ°å€ç©ºé—´æœ€å¤šå…è®¸1Mä¸ªé¡µé¢ã€‚</p>
<p>è®¾æœ‰ä¸€é€»è¾‘åœ°å€Aï¼Œé¡µé¢å¤§å°ä¸ºLï¼Œåˆ™åœ¨åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼ä¸­ï¼Œå®ƒçš„åœ°å€è¢«è½¬æ¢ï¼š<br>é¡µå· P&#x3D;INT[A&#x2F;L]<br>é¡µå†…ä½ç§»é‡ W&#x3D;A MOD L<br>å¦‚æœ‰é€»è¾‘åœ°å€ä¸ºï¼š2170ï¼Œé¡µé¢å¤§å°ä¸º1KBï¼Œåˆ™<br>P&#x3D;INT[2170&#x2F;1024]&#x3D;2ï¼›W&#x3D;2170 MOD 1024&#x3D;122</p>
<p>ã€€ä¸ºäº†èƒ½å¤Ÿä¿è¯åœ¨å†…å­˜ä¸­æ‰¾åˆ°æ¯ä¸ªé¡µé¢æ‰€å¯¹åº”çš„ç‰©ç†å—ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹å»ºç«‹äº†ä¸€å¼ é¡µé¢æ˜ å°„è¡¨ï¼Œç®€ç§°ä¸ºé¡µè¡¨ã€‚é¡µè¡¨é¡¹çºªå½•äº†ç›¸åº”é¡µåœ¨å†…å­˜ä¸­å¯¹åº”çš„ç‰©ç†å—å·ï¼Œåœ¨é…ç½®äº†é¡µè¡¨åï¼Œè¿›ç¨‹æ‰§è¡Œæ—¶ï¼Œé€šè¿‡æŸ¥æ‰¾è¯¥è¡¨ï¼Œå³å¯æ‰¾åˆ°æ¯é¡µåœ¨å†…å­˜ä¸­çš„ç‰©ç†å—å·ï¼Œ<strong>é¡µè¡¨å®ç°äº†ä»é¡µå·åˆ°ç‰©ç†å—å·çš„åœ°å€æ˜ åƒ</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_11-13-45.png"></p>
<p>ã€€å³ä½¿åœ¨ç®€å•çš„åˆ†é¡µç³»ç»Ÿä¸­ï¼Œä¹Ÿå¸¸åœ¨é¡µè¡¨çš„è¡¨é¡¹ä¸­è®¾ç½®ä¸€å­˜å–æ§åˆ¶å­—æ®µï¼Œç”¨äºå¯¹è¯¥å­˜å‚¨å—ä¸­çš„å†…å­˜åŠ ä»¥ä¿æŠ¤ï¼Œå½“å­˜å–æ§åˆ¶å­—æ®µä»…æœ‰ä¸€ä½æ—¶ï¼Œå¯ç”¨æ¥è§„å®šè¯¥å­˜å‚¨å—ä¸­çš„å†…å­˜æ—¶å…è®¸è¯»&#x2F;å†™ï¼Œè¿˜æ˜¯åªè¯»ï¼›è‹¥å­˜å–æ§åˆ¶å­—æ®µä¸ºäºŒä½ï¼Œåˆ™å¯è§„å®šä¸ºè¯»&#x2F;å†™ã€åªè¯»ã€åªæ‰§è¡Œç­‰å­˜å–æ–¹å¼ã€‚</p>
<h3 id="åœ°å€å˜æ¢æœºæ„"><a href="#åœ°å€å˜æ¢æœºæ„" class="headerlink" title="åœ°å€å˜æ¢æœºæ„"></a>åœ°å€å˜æ¢æœºæ„</h3><p>ã€€åœ°å€å˜æ¢æœºæ„çš„åŠŸèƒ½å°†ç”¨æˆ·çš„é€»è¾‘åœ°å€è½¬å˜ä¸ºå†…å­˜ä¸­çš„ç‰©ç†åœ°å€ã€‚é€»è¾‘åœ°å€ç”±é¡µå·å’Œé¡µå†…ä½ç§»é‡ç»„æˆã€‚é¡µçš„å¤§å°å’Œå†…å­˜ç‰©ç†å—çš„å¤§å°æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥é¡µå†…ä½ç§»é‡å³ä¸ºç‰©ç†å—å†…ä½ç§»é‡ã€‚<strong>åœ°å€å˜æ¢ä»»åŠ¡æ˜¯å€ŸåŠ©é¡µè¡¨æ¥å®Œæˆçš„</strong>ã€‚</p>
<p>ã€€é¡µè¡¨çš„åŠŸèƒ½å¯ä»¥ç”±ä¸€ç»„ä¸“é—¨çš„å¯„å­˜å™¨æ¥å®ç°ï¼Œä¸€ä¸ªé¡µè¡¨é¡¹ç”¨ä¸€ä¸ªå¯„å­˜å™¨ï¼Œç”±äºå¯„å­˜å™¨å…·æœ‰è¾ƒé«˜çš„è®¿é—®é€Ÿåº¦ï¼Œå› è€Œæœ‰åˆ©äºæé«˜åœ°å€å˜æ¢çš„é€Ÿåº¦ï¼Œä½†æˆæœ¬è¾ƒé«˜ï¼Œä¸”é¡µè¡¨é¡¹ä¸€èˆ¬ä¼šå¾ˆå¤šï¼Œéƒ½ä½¿ç”¨å¯„å­˜å™¨å®ç°ä¸å¤ªç°å®ï¼Œå› æ­¤ï¼Œ<strong>é¡µè¡¨å¤§å¤šé©»ç•™åœ¨å†…å­˜</strong>ã€‚åœ¨ç³»ç»Ÿä¸­åªè®¾ç½®ä¸€ä¸ª<strong>é¡µè¡¨å¯„å­˜å™¨PTR(Page-Table Register)ï¼Œç”¨äºå­˜æ”¾é¡µè¡¨åœ¨å†…å­˜çš„å§‹å€å’Œé¡µè¡¨çš„é•¿åº¦</strong>ï¼Œå¹³æ—¶ï¼Œé¡µè¡¨çš„å§‹å€å’Œé¡µè¡¨é•¿åº¦å­˜æ”¾åœ¨æœ¬è¿›ç¨‹çš„PCBä¸­ï¼Œå½“è°ƒåº¦ç¨‹åºè°ƒåº¦åˆ°æŸè¿›ç¨‹æ—¶ï¼Œå°†è¿™ä¸¤ä¸ªæ•°æ®è£…å…¥é¡µè¡¨å¯„å­˜å™¨ï¼Œå› æ­¤ï¼Œåœ¨å•å¤„ç†æœºç¯å¢ƒä¸‹ï¼Œè™½ç„¶ç³»ç»Ÿä¸­å¯ä»¥è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œä½†åªéœ€è¦ä¸€ä¸ªé¡µè¡¨å¯„å­˜å™¨ã€‚</p>
<p>ã€€å½“è¿›ç¨‹è¦è®¿é—®æŸä¸ªé€»è¾‘åœ°å€ä¸­çš„æ•°æ®æ—¶ï¼Œåˆ†é¡µåœ°å€å˜æ¢æœºæ„ä¼šè‡ªåŠ¨åœ°å°†æœ‰æ•ˆåœ°å€ï¼ˆç›¸å¯¹åœ°å€ï¼‰åˆ†ä¸ºé¡µå·å’Œé¡µå†…åç§»é‡ä¸¤éƒ¨åˆ†ï¼Œä»PTRä¸­å¾—åˆ°é¡µè¡¨é¦–å€ï¼Œå†ä»¥é¡µå·ä¸ºç´¢å¼•å»æ£€ç´¢é¡µè¡¨ï¼ŒæŸ¥æ‰¾æ“ä½œç”±ç¡¬ä»¶æ‰§è¡Œï¼Œåœ¨æ‰§è¡Œæ£€ç´¢å‰ï¼Œå…ˆå°†é¡µå·ä¸é¡µè¡¨é•¿åº¦è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥é¡µå·å¤§äºæˆ–ç­‰äºé¡µè¡¨é•¿åº¦ï¼Œåˆ™è¡¨ç¤ºæœ¬æ¬¡è®¿é—®çš„åœ°å€è¶…è¶Šäº†è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œè¿™ä¸€é”™è¯¯å°†è¢«ç³»ç»Ÿå‘ç°å¹¶äº§ç”Ÿä¸€ä¸ªåœ°å€è¶Šç•Œä¸­æ–­ã€‚è‹¥æœªå‡ºç°é”™è¯¯ï¼Œåˆ™å°†é¡µè¡¨å§‹å€åŠ ä¸Š<em><strong>é¡µå·ä¸é¡µé¢å¤§å°ä¹˜ç§¯</strong></em>ï¼Œä¾¿å¾—åˆ°è¯¥è¡¨é¡¹åœ¨é¡µè¡¨ä¸­çš„ä½ç½®ï¼Œäºæ˜¯å¯ä»ä¸­å¾—åˆ°è¯¥é¡µçš„ç‰©ç†å—å·ï¼Œå°†ä¹‹è£…å…¥ç‰©ç†åœ°å€å¯„å­˜å™¨ï¼Œä¸æ­¤åŒæ—¶ï¼Œå†å°†é¡µå†…åœ°å€é€å…¥ç‰©ç†åœ°å€å¯„å­˜å™¨çš„å—å†…åœ°å€å­—æ®µä¸­ï¼Œè¿™æ ·ï¼Œä¾¿å®Œæˆäº†é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160625211026453-286611371.png"></p>
<p>ã€€ä¸Šè¿°æ“ä½œä¸­ï¼Œæ¯æ¬¡å­˜å–ä¸€ä¸ªæ•°æ®æ—¶ï¼Œéƒ½ä¼š<strong>è®¿é—®å†…å­˜ä¸¤æ¬¡</strong>ï¼Œç¬¬ä¸€æ¬¡æ˜¯è®¿é—®å†…å­˜ä¸­çš„é¡µè¡¨ï¼Œä»ä¸­æ‰¾åˆ°æŒ‡å®šé¡µçš„ç‰©ç†å—å·ï¼Œå†å°†å—å·ä¸é¡µå†…åç§»é‡Wæ‹¼æ¥ï¼Œä»¥å½¢æˆç‰©ç†åœ°å€ï¼Œç¬¬äºŒæ¬¡è®¿é—®æ—¶ï¼Œæ‰æ˜¯ä»ç¬¬ä¸€æ¬¡æ‰€å¾—çš„åœ°å€ä¸­è·å¾—æ‰€éœ€æ•°æ®ï¼Œå› æ­¤ï¼Œè¿™ç§æ–¹å¼ä¼šä½¿è®¡ç®—æœºçš„å¤„ç†é€Ÿåº¦é™ä½ä¸€åŠï¼Œä¸ºäº†æé«˜åœ°å€å˜æ¢é€Ÿåº¦ï¼Œå¯ä»¥åœ¨åœ°å€å˜æ¢æœºæ„ä¸­å¢è®¾ä¸€ä¸ªå…·æœ‰å¹¶è¡ŒæŸ¥è¯¢èƒ½åŠ›çš„<strong>é«˜é€Ÿç¼“å†²å¯„å­˜å™¨</strong>ï¼Œåˆç§°ä¸º<strong>è”æƒ³å¯„å­˜å™¨æˆ–å¿«è¡¨</strong>ï¼ˆTLBï¼‰ï¼Œä¸“é—¨ä¿å­˜å½“å‰è¿›ç¨‹æœ€è¿‘è®¿é—®è¿‡çš„ä¸€ç»„é¡µè¡¨é¡¹ã€‚</p>
<p>ã€€æ­¤æ—¶çš„å˜æ¢è¿‡ç¨‹å¦‚ä¸‹ï¼Œåœ¨CPUç»™å‡ºæœ‰æ•ˆåœ°å€åï¼ˆé€»è¾‘åœ°å€ï¼‰ï¼Œç”±åœ°å€å˜æ¢æœºæ„è‡ªåŠ¨çš„å°†é¡µå·Pé€å…¥é«˜é€Ÿç¼“å†²å¯„å­˜å™¨ï¼Œå¹¶å°†æ­¤é¡µå·ä¸é«˜é€Ÿç¼“å­˜ä¸­çš„æ‰€æœ‰é¡µå·è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥å…¶ä¸­æœ‰ä¸ä¹‹ç›¸åŒ¹é…çš„é¡µå·ï¼ˆ<strong>å‘½ä¸­</strong>ï¼‰ï¼Œä¾¿è¡¨ç¤ºæ‰€è¦è®¿é—®çš„é¡µè¡¨é¡¹åœ¨å¿«è¡¨ä¸­ï¼Œäºæ˜¯ï¼Œå¯ä»¥ç›´æ¥ä»å¿«è¡¨ä¸­è¯»å‡ºè¯¥é¡µæ‰€å¯¹åº”çš„ç‰©ç†å—å·ï¼Œå¹¶é€åˆ°ç‰©ç†åœ°å€å¯„å­˜å™¨ä¸­ï¼Œå¦‚åœ¨å¿«è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°ï¼ˆ<strong>å‘½ä¸­å¤±è´¥</strong>ï¼‰ï¼Œåˆ™è¿˜éœ€è¦å†è®¿é—®å†…å­˜ä¸­çš„é¡µè¡¨ï¼Œæ‰¾åˆ°åï¼ŒæŠŠä»é¡µè¡¨é¡¹è¯»å‡ºçš„ç‰©ç†å—å¥½é€å…¥åœ°å€å¯„å­˜å™¨ï¼ŒåŒæ—¶ï¼Œå†å°†æ­¤é¡µè¡¨é¡¹å­˜å…¥å¿«è¡¨çš„å¯„ä¸€ä¸ªå¯„å­˜å™¨å•å…ƒï¼Œå³ä¿®æ”¹å¿«è¡¨ï¼Œå¦‚æœå¿«è¡¨å·²æ»¡ï¼Œåˆ™OSéœ€è¦æ‰¾åˆ°ä¸€ä¸ªè€çš„ä¸”å·²è¢«è®¤ä¸ºä¸å†éœ€è¦çš„é¡µè¡¨é¡¹ï¼Œå°†å®ƒæ¢å‡ºã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160625212714688-1055550023.png">ã€€</p>
<p><em>ä¾‹1ï¼šæŸé‡‡ç”¨åˆ†é¡µå­˜å‚¨ç®¡ç†çš„ç³»ç»Ÿä¸­ï¼Œç‰©ç†åœ°å€å 20ä½ï¼Œé€»è¾‘åœ°å€ä¸­é¡µå·å 6ä½ï¼Œé¡µé¢å¤§å°ä¸º1KBï¼Œé—®ï¼š</em><br>â‘´è¯¥ç³»ç»Ÿçš„å†…å­˜ç©ºé—´å¤§å°ä¸ºå¤šå°‘ï¼Ÿæ¯ä¸ªå­˜å‚¨å—çš„å¤§å°ä¸ºå¤šå°‘ï¼Ÿé€»è¾‘åœ°å€å…±å‡ ä½ï¼Ÿæ¯ä¸ªä½œä¸šçš„æœ€å¤§é•¿åº¦ä¸ºå¤šå°‘ï¼Ÿ<br>â‘µè‹¥ç¬¬0ã€1ã€2é¡µåˆ†åˆ«æ”¾åœ¨ç¬¬3ã€7ã€9å­˜å‚¨å—ä¸­ï¼Œåˆ™é€»è¾‘åœ°å€0420Hå¯¹åº”çš„ç‰©ç†åœ°å€æ˜¯å¤šå°‘ï¼Ÿ<br>åœ¨åˆ†é¡µå­˜å‚¨ç®¡ç†ç³»ç»Ÿä¸­ï¼Œæ ¹æ®é¢˜æ„ï¼š<br>â‘´ç‰©ç†åœ°å€å 20ä½ï¼Œæ‰€ä»¥è¯¥ç³»ç»Ÿçš„å†…å­˜ç©ºé—´å¤§å°<br>ä¸ºï¼š1MB<br>å­˜å‚¨å—çš„å¤§å°ä¸é¡µé¢å¤§å°ç›¸åŒï¼Œè€Œé¡µé¢å¤§å°ä¸º1KBï¼Œå› æ­¤å­˜å‚¨å—çš„å¤§å°ä¸ºï¼š1KB<br>ç”±äºé¡µé¢å¤§å°ä¸º1KBï¼Œå 10ä½ï¼Œè€Œé¡µå·å 6ä½ï¼Œå› æ­¤é€»è¾‘åœ°å€å…±16ä½ï¼Œ<br>ä» è€Œ è¯¥ ç³» ç»Ÿ ä¸­ æ¯ ä¸ª ä½œ ä¸š çš„ æœ€ å¤§ é•¿ åº¦ ä¸º ï¼š64KB<br>â‘µæ³•1ï¼ˆå…¨éƒ¨è½¬æ¢æˆ10è¿›åˆ¶ï¼‰ï¼š<br>é€»è¾‘åœ°å€ï¼š0420H&#x3D;1056<br>å› ä¸º1K&lt;&#x3D;1056&lt;2K-1ï¼Œæ‰€ä»¥åœ¨1å·é¡µé¢å†…ï¼Œå…¶é¡µå†…ä½ç§»é‡ä¸ºï¼š1056-1K&#x3D;32ï¼› è€Œ1å·é¡µé¢å¯¹åº”7å·ç‰©ç†å—ï¼Œæ‰€ä»¥ç‰©ç†åœ°å€ä¸ºï¼š7Ã—1K+32&#x3D;7200ã€‚<br>æ³•2ï¼ˆå°†é¡µé¢è½¬æ¢æˆ16è¿›åˆ¶è¡¨ç¤ºï¼‰ï¼š<br>é¡µé¢å¤§å°ï¼š1K&#x3D;0400H ã€‚å› ä¸º0400H&lt;&#x3D;0420H&lt;07FFHï¼Œæ‰€ä»¥åœ¨1å·é¡µé¢å†…ï¼Œå…¶é¡µå†…ä½ç§»é‡ä¸ºï¼š0420H-0400H&#x3D;20Hï¼›è€Œ1å· é¡µ é¢ å¯¹ åº” 7 å· ç‰© ç† å— ï¼Œ æ‰€ ä»¥ ç‰© ç† åœ° å€ ä¸º ï¼š<br>7Ã—0400H +20H&#x3D;1C20Hã€‚</p>
<p><em><strong>è®¿é—®å†…å­˜çš„æœ‰æ•ˆæ—¶é—´ EAT</strong></em><br>å®šä¹‰ï¼šä»è¿›ç¨‹å‘å‡ºæŒ‡å®šé€»è¾‘åœ°å€çš„è®¿é—®è¯·æ±‚ï¼Œç»è¿‡åœ°å€å˜æ¢ï¼Œå†åˆ°å†…å­˜ä¸­æ‰¾åˆ°å¯¹åº”çš„ç‰©ç†å•å…ƒå¹¶å–å‡ºæ•°æ®ï¼Œæ‰€èŠ±è´¹çš„æ€»æ—¶é—´ã€‚<br>â¢å¦‚æ£€ç´¢å¿«è¡¨æ—¶é—´ä¸º20 nsï¼Œè®¿é—®å†…å­˜ä¸º100 nsã€‚</p>
<ul>
<li>è‹¥èƒ½åœ¨å¿«è¡¨ä¸­æ£€ç´¢åˆ°CPUç»™å‡ºçš„é¡µå·ï¼Œåˆ™CPUå­˜å–ä¸€<br>ä¸ªæ•°æ®å…±éœ€120 nsã€‚</li>
<li>å¦åˆ™ï¼Œéœ€è¦220 nsçš„æ—¶é—´ã€‚</li>
</ul>
<p><strong>æœ‰æ•ˆè®¿é—®æ—¶é—´</strong> &#x3D; HitRÃ—(TLB+MA) + (1-HitR)Ã—(TLB+2MA)ï¼ŒHitRä¸ºå‘½ä¸­ç‡ã€‚</p>
<p>ä¾‹ï¼šè®¾è®¿é—®ä¸»å­˜æ—¶é—´ä¸º200ns,è®¿é—®è”æƒ³å­˜å‚¨å™¨ä¸º40nsï¼Œå‘½ä¸­ç‡ä¸º90ï¼…ï¼Œåˆ™å¹³å‡å­˜å–æ—¶é—´ä¸ºå¤šå°‘ï¼Ÿ<br>æŸ¥é¡µè¡¨ä¸¤æ¬¡è®¿å­˜ï¼š200ï¼‹200ï¼400ns<br>æŸ¥å¿«è¡¨ï¼Œå¹³å‡ä¸ºï¼š40+200&#x3D;240ns<br>(200+40)Ã—90ï¼…ï¼‹(200+200+40)Ã—10ï¼…&#x3D;260ns</p>
<h3 id="ä¸¤çº§å’Œå¤šçº§é¡µè¡¨"><a href="#ä¸¤çº§å’Œå¤šçº§é¡µè¡¨" class="headerlink" title="ä¸¤çº§å’Œå¤šçº§é¡µè¡¨"></a>ä¸¤çº§å’Œå¤šçº§é¡µè¡¨</h3><p>ã€€ç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œå¯ä»¥æ”¯æŒéå¸¸å¤§çš„é€»è¾‘åœ°å€ç©ºé—´ï¼ˆ2^32~2^64ï¼‰ï¼Œè¿™æ ·ï¼Œé¡µè¡¨å°±å˜å¾—éå¸¸å¤§ï¼Œè¦å ç”¨éå¸¸å¤§çš„å†…å­˜ç©ºé—´ï¼Œå¦‚ï¼Œå…·æœ‰32ä½é€»è¾‘åœ°å€ç©ºé—´çš„åˆ†é¡µç³»ç»Ÿï¼Œè§„å®šé¡µé¢å¤§å°ä¸º4KBï¼Œåˆ™åœ¨æ¯ä¸ªè¿›ç¨‹é¡µè¡¨ä¸­çš„é¡µè¡¨é¡¹å¯è¾¾1M(2^20)ä¸ªï¼Œåˆå› ä¸ºæ¯ä¸ªé¡µè¡¨é¡¹å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œæ•…æ¯ä¸ªè¿›ç¨‹ä»…ä»…é¡µè¡¨å°±è¦å ç”¨1MBçš„å†…å­˜ç©ºé—´ï¼Œè€Œä¸”è¦æ±‚è¿ç»­ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸ç°å®çš„ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹ä¸¤ä¸ªæ–¹æ³•è§£å†³è¯¥é—®é¢˜ã€‚</p>
<p>ã€€ã€€â‘  é‡‡ç”¨ç¦»æ•£åˆ†é…æ–¹å¼æ¥è§£å†³éš¾ä»¥æ‰¾åˆ°ä¸€å—è¿ç»­çš„å¤§å†…å­˜ç©ºé—´çš„é—®é¢˜ã€‚</p>
<p>ã€€ã€€â‘¡ åªå°†å½“å‰éœ€è¦çš„éƒ¨åˆ†é¡µè¡¨é¡¹è°ƒå…¥å†…å­˜ï¼Œå…¶ä½™é¡µè¡¨é¡¹ä»é©»ç•™åœ¨ç£ç›˜ä¸Šï¼Œéœ€è¦æ—¶å†è°ƒå…¥ã€‚</p>
<p>ã€€ã€€å¯¹äºè¦æ±‚è¿ç»­çš„å†…å­˜ç©ºé—´æ¥å­˜æ”¾é¡µè¡¨çš„é—®é¢˜ï¼Œå¯åˆ©ç”¨å°†é¡µè¡¨è¿›è¡Œåˆ†é¡µï¼Œå¹¶ç¦»æ•£åœ°å°†å„ä¸ªé¡µé¢åˆ†åˆ«å­˜æ”¾åœ¨ä¸åŒçš„ç‰©ç†å—ä¸­çš„åŠæ³•æ¥è§£å†³ï¼ŒåŒæ ·çš„ï¼Œä¹Ÿè¦ä¸ºç¦»æ•£åˆ†é…åœ¨é¡µè¡¨å†å»ºç«‹ä¸€å¼ é¡µè¡¨ï¼Œç§°ä¸ºå¤–å±‚é¡µè¡¨ã€‚åœ¨æ¯ä¸ªé¡µè¡¨é¡¹ä¸­è®°å½•äº†é¡µè¡¨é¡µé¢çš„ç‰©ç†å—å·ï¼Œä»¥32ä½é€»è¾‘åœ°å€ç©ºé—´ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_12-58-51.png"></p>
<p>ã€€ã€€å±‚é¡µå·P1ä¸º10ä½ï¼Œå¯ä»¥è¡¨ç¤º1024ä¸ªç‰©ç†å—å·ï¼Œå¤–å±‚é¡µè¡¨ä¸­çš„å¤–å±‚ä¹Ÿå†…åœ°å€P2ä¸º10ä½ï¼Œå¯ä»¥è¡¨ç¤º1024ä¸ªç‰©ç†å—å·ï¼Œé¡µå†…åœ°å€ä¸º12ä½ï¼Œè¡¨ç¤ºé¡µé¢å¤§å°ä¸º4Kã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160625203109875-1471651688.png"></p>
<p>ã€€ã€€åœ¨é¡µè¡¨çš„æ¯ä¸€ä¸ªè¡¨é¡¹ä¸­å­˜æ”¾çš„æ˜¯è¿›ç¨‹çš„æŸé¡µåœ¨å†…å­˜ä¸­çš„<strong>ç‰©ç†å—å·</strong>ï¼Œå¦‚ç¬¬0é¡µçš„0é¡µå­˜æ”¾1#ç‰©ç†å—ï¼Œç¬¬1é¡µå­˜æ”¾4#ç‰©ç†å—ï¼Œè€Œåœ¨å¤–å±‚é¡µè¡¨çš„æ¯ä¸ªé¡µè¡¨é¡¹ä¸­ï¼Œæ‰€å­˜æ”¾çš„æ˜¯æŸé¡µè¡¨åˆ†é¡µçš„<strong>é¦–å€</strong>ï¼Œå¦‚ç¬¬0é¡µé¡µè¡¨å­˜æ”¾åœ¨1011#ç‰©ç†å—ä¸­ï¼Œç¬¬1é¡µé¡µè¡¨å­˜æ”¾åœ¨1078#ç‰©ç†å—ä¸­ã€‚</p>
<p>ã€€ã€€ä¸ºäº†å®ç°åœ°å€å˜æ¢ï¼Œåœ¨åœ°å€å˜æ¢æœºæ„ä¸­éœ€è¦å¢è®¾ä¸€ä¸ªå¤–å±‚é¡µè¡¨å¯„å­˜å™¨ï¼Œç”¨äºå­˜æ”¾å¤–å±‚é¡µè¡¨çš„å§‹å€ï¼Œå¹¶åˆ©ç”¨é€»è¾‘åœ°å€ä¸­çš„å¤–å±‚é¡µå·ï¼Œä½œä¸ºå¤–å±‚é¡µè¡¨çš„ç´¢å¼•ï¼Œä»ä¸­æ‰¾åˆ°æŒ‡å®šé¡µè¡¨åˆ†é¡µçš„å§‹å€ï¼Œåœ¨åˆ©ç”¨P2ä½œä¸ºæŒ‡å®šé¡µè¡¨åˆ†é¡µçš„ç´¢å¼•ï¼Œæ‰¾åˆ°æŒ‡å®šçš„é¡µè¡¨é¡¹ï¼Œå…¶ä¸­å³å«æœ‰è¯¥é¡µåœ¨å†…å­˜çš„ç‰©ç†å—å·ï¼Œç”¨è¯¥å—å·å’Œé¡µå†…åœ°å€då³å¯æ„æˆè®¿é—®çš„å†…å­˜ç‰©ç†åœ°å€ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_12-59-13.png"></p>
<p>ã€€åˆ©ç”¨ç¦»æ•£åˆ†é…æ–¹æ³•å®ç°çš„ä¸¤çº§é¡µè¡¨åªæ˜¯è§£å†³äº†å¤§é¡µè¡¨æ— éœ€å¤§ç‰‡è¿ç»­å­˜å‚¨ç©ºé—´é—®é¢˜ï¼Œä½†å¹¶æœªå‡å°‘ç”¨è¾ƒå°‘å†…å­˜å»å­˜æ”¾å¤§é¡µè¡¨é—®é¢˜ï¼Œæœ‰å…³æ­¤ç±»é—®é¢˜çš„æˆåŠŸè§£å†³æ–¹æ¡ˆæ”¾åœ¨è™šæ‹Ÿå­˜å‚¨å™¨<br>ç®¡ç†ä¸­ã€‚</p>
<p>ã€€å¯¹äº64ä½çš„æœºå™¨è€Œè¨€ï¼Œé‡‡ç”¨ä¸¤çº§é¡µè¡¨å·²ç»ä¸å¤ªåˆé€‚ï¼Œå¦‚æœé¡µé¢å¤§å°ä»é‡‡ç”¨4KBï¼Œé‚£ä¹ˆå‰©ä¸‹52ä½ï¼Œè‹¥è¿˜æ˜¯æŒ‰ç…§ç‰©ç†å—çš„å¤§å°ï¼ˆ2^12ä½ï¼‰æ¥åˆ’åˆ†é¡µè¡¨ï¼Œæ¯ä¸ªé¡µè¡¨é¡¹4Bï¼Œæ•…ä¸€é¡µä¸­å¯å­˜æ”¾2^10ä¸ªé¡µè¡¨é¡¹ï¼Œåˆ™å°†ä½™ä¸‹çš„42ä½ç”¨äºå¤–å±‚é¡µå·ï¼Œæ­¤æ—¶ï¼Œå¤–å±‚é¡µè¡¨ä¸­å¯èƒ½æœ‰4096Gä¸ªé¡µè¡¨é¡¹ï¼Œè¦å ç”¨16384GBçš„è¿ç»­å†…å­˜ç©ºé—´ï¼Œæ˜¾ç„¶æ˜¯ä¸è¡Œçš„ã€‚ä½¿ç”¨1MBçš„é¡µé¢ï¼Œå‰©44ä½ã€‚è‹¥æŒ‰1MBæ¥åˆ’åˆ†é¡µè¡¨ï¼Œè¿˜å‰©26ä½ç”¨äºäºŒçº§é¡µè¡¨ï¼ŒäºŒçº§é¡µè¡¨æœ‰64Mä¸ªé¡µè¡¨é¡¹ï¼Œå <br>256MBç©ºé—´å¿…é¡»é‡‡ç”¨å¤šçº§é¡µè¡¨ï¼Œå³å°†å¤–å±‚é¡µè¡¨å†è¿›è¡Œåˆ†é¡µã€‚è‹¥è®¡ç®—æœºçš„è™šæ‹Ÿåœ°å€ç©ºé—´å¤§å°ä¸º2^64ï¼Œé¡µé¢å¤§å°ä¸º4KBï¼Œé¡µè¡¨é¡¹ä¸º4Bï¼Œåˆ™æœ€å°‘é¡µè¡¨çš„çº§æ•°ä¸º6çº§ï¼Œé¦–å…ˆæ€»çš„é¡µé¢ä¸ªæ•°ä¸º2^52ï¼ˆ64 - 12ï¼‰ï¼Œå…¶æ¬¡ï¼Œæ¯ä¸ªç‰©ç†å—èƒ½è£…å…¥çš„é¡µè¡¨é¡¹ä¸º4KB&#x2F;4B &#x3D; 2^10ä¸ªï¼Œ10 * 6 &gt; 52ï¼Œå³æœ€å°‘éœ€è¦6çº§ã€‚</p>
<p><em><strong>åç½®é¡µè¡¨Inverted Page Tableï¼ˆIPTï¼‰</strong></em></p>
<p>é€»è¾‘ç©ºé—´è¶Šæ¥è¶Šå¤§ï¼Œé¡µè¡¨å å†…å­˜ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œä¸ºäº†è§£å†³å¤§é¡µè¡¨é—®é¢˜å å†…å­˜å¤šç°è±¡ï¼Œå‡å°‘å†…å­˜å¼€é”€ï¼Œé¿å…ä¸€ä¸ªè¿›ç¨‹ä¸€ä¸ªé¡µè¡¨ã€‚<strong>IPTæ€æƒ³ï¼š</strong>ï¼ˆ1ï¼‰IPTæ˜¯ä¸ºä¸»å­˜ä¸­çš„æ¯ä¸€ä¸ªç‰©ç†å—å»ºç«‹ä¸€ä¸ªé¡µè¡¨é¡¹å¹¶æŒ‰ç…§å—å·æ’åºï¼›ï¼ˆ2ï¼‰è¯¥è¡¨æ¯ä¸ªè¡¨é¡¹åŒ…å«æ­£åœ¨è®¿é—®è¯¥ç‰©ç†å—çš„è¿›ç¨‹æ ‡è¯†ã€é¡µå·åŠç‰¹å¾ä½,ç”¨æ¥å®Œæˆä¸»å­˜ç‰©ç†å—åˆ°è®¿é—®è¿›ç¨‹çš„é¡µå·çš„è½¬æ¢ã€‚</p>
<blockquote>
<p>å¸¸é‡‡ç”¨éƒ¨åˆ†è£…å…¥ï¼Œæ‰€ä»¥å¿…é¡»ä¸ºæ¯ä¸ªè¿›ç¨‹å»ºç«‹ä¸€ä¸ªå¤–éƒ¨é¡µè¡¨ã€‚å½“è¯¥é¡µä¸åœ¨ä¸»å­˜æ—¶ï¼Œéœ€è¦è®¿é—®å¤–éƒ¨é¡µè¡¨ã€‚<br>åç½®é¡µè¡¨åªç´¢å¼•æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹é¡µé¢<br>å› ä¸ºIPTéƒ½å¤§ï¼Œæ‰€ä»¥åˆ©ç”¨è¿›ç¨‹æ ‡è¯†ç¬¦å’Œé¡µå·å»æ£€ç´¢æ˜¯ç›¸å½“è´¹æ—¶çš„ã€‚é‡‡ç”¨Hashè¡¨æ¥æ£€ç´¢ã€‚</p>
</blockquote>
<p>åç½®é¡µè¡¨åœ°å€è½¬æ¢è¿‡ç¨‹å¦‚ä¸‹:<br>ç»™å‡ºè¿›ç¨‹æ ‡è¯†å’Œé¡µå·,ç”¨å®ƒä»¬å»æ¯”è¾ƒIPT,è‹¥æ•´ä¸ªåç½®é¡µè¡¨ä¸­æœªèƒ½æ‰¾åˆ°åŒ¹é…çš„é¡µè¡¨é¡¹,è¯´æ˜è¯¥é¡µä¸åœ¨ä¸»å­˜,äº§ç”Ÿè¯·æ±‚è°ƒé¡µä¸­æ–­,è¯·æ±‚æ“ä½œç³»ç»Ÿè°ƒå…¥;å¦åˆ™ï¼Œè¯¥è¡¨é¡¹çš„åºå·ä¾¿æ˜¯ç‰©ç†å—å·,å—å·åŠ ä¸Šä½ç§»,ä¾¿å½¢æˆç‰©ç†åœ°å€ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_13-38-32.png"></p>
<p><em><strong>å¯¹æ¢</strong></em></p>
<p>ã€€å¯¹æ¢æŒ‡æŠŠå†…å­˜ä¸­æš‚ä¸èƒ½è¿è¡Œçš„è¿›ç¨‹æˆ–æš‚æ—¶ä¸ç”¨å’Œç¨‹åºå’Œæ•°æ®ï¼Œæ¢åˆ°å¤–å­˜ä¸Šï¼Œä»¥è…¾å‡ºè¶³å¤Ÿçš„å†…å­˜ç©ºé—´ï¼ŒæŠŠå·²å…·å¤‡è¿è¡Œæ¡ä»¶çš„è¿›ç¨‹ï¼Œæˆ–è¿›ç¨‹æ‰€éœ€è¦çš„ç¨‹åºå’Œæ•°æ®ï¼Œæ¢å…¥å†…å­˜ã€‚å¯¹æ¢æ˜¯ç³»ç»Ÿè¡Œä¸ºï¼Œæ˜¯æé«˜å†…å­˜çš„åˆ©ç”¨ç‡çš„æœ‰æ•ˆæªæ–½ã€‚å¸¸ç”¨äºå¤šé“ç¨‹åºç³»ç»Ÿæˆ–å°å‹åˆ†æ—¶ç³»ç»Ÿä¸­ï¼Œä¸åˆ†åŒºå­˜å‚¨ç®¡ç†é…åˆä½¿ç”¨ã€‚å®ç°ï¼šå¯åœ¨ç³»ç»Ÿä¸­è®¾ä¸€å¯¹æ¢è¿›ç¨‹ï¼Œä»¥æ‰§è¡Œæ¢è¿›å†…å­˜ã€æ¢å‡ºè‡³å¤–å­˜æ“ä½œã€‚</p>
<p>åˆ†ç±»ï¼š</p>
<ul>
<li>â€œæ•´ä½“å¯¹æ¢â€ï¼ˆè¿›ç¨‹å¯¹æ¢ï¼‰ï¼š<br>å¯¹æ¢ä»¥æ•´ä¸ªè¿›ç¨‹ä¸ºå•ä½ï¼Œç”¨äºåˆ†æ—¶ç³»ç»Ÿï¼Œä»¥è§£å†³å†…å­˜ç´§å¼ çš„é—®é¢˜ï¼›</li>
<li>â€œé¡µé¢å¯¹æ¢&#x2F;åˆ†æ®µå¯¹æ¢â€ï¼š<br>å¯¹æ¢ä»¥â€œé¡µâ€æˆ–â€œæ®µâ€ä¸ºå•ä½è¿›è¡Œâ€œéƒ¨åˆ†å¯¹æ¢â€ï¼Œè¯¥æ–¹æ³•æ˜¯å®ç°è¯·æ±‚åˆ†é¡µåŠè¯·æ±‚åˆ†æ®µå­˜å‚¨å™¨çš„åŸºç¡€ï¼Œæ”¯æŒè™šå­˜ç³»ç»Ÿã€‚</li>
</ul>
<p>ä¸ºå®ç°å¯¹æ¢ï¼Œç³»ç»Ÿéœ€è¦ä¸‰æ–¹é¢çš„åŠŸèƒ½ï¼šã€€</p>
<ol>
<li><p><strong>å¯¹æ¢ç©ºé—´çš„ç®¡ç†</strong>ï¼Œåœ¨å…·æœ‰å¯¹æ¢åŠŸèƒ½çš„OSä¸­ï¼Œé€šå¸¸æŠŠ<strong>å¤–å­˜åˆ†ä¸ºæ–‡ä»¶åŒºå’Œå¯¹æ¢åŒº</strong>ï¼Œå‰è€…ç”¨äºå­˜æ”¾æ–‡ä»¶ï¼Œåè€…ç”¨äºå­˜æ”¾ä»å†…å­˜æ¢å‡ºçš„è¿›ç¨‹ã€‚ç”±äºæ–‡ä»¶é€šå¸¸æ˜¯è¾ƒé•¿ä¹…çš„é©»ç•™åœ¨å¤–å­˜ä¸Šï¼Œæ–‡ä»¶åŒºçš„ç®¡ç†ä¸»è¦ç›®æ ‡æ˜¯<em>æé«˜å­˜å‚¨ç©ºé—´çš„åˆ©ç”¨ç‡</em>ï¼Œé‡‡å–ç¦»æ•£åˆ†é…æ–¹å¼(ç”¨æŒ‡é’ˆç›¸è¿)ï¼Œè¿›ç¨‹é€šå¸¸åœ¨å¯¹æ¢åŒºä¸­é©»ç•™çš„æ—¶é—´è¾ƒçŸ­æš‚ï¼Œå¯¹æ¢æ“ä½œè¾ƒé¢‘ç¹ï¼Œæ•…å¯¹å¯¹æ¢ç©ºé—´ç®¡ç†çš„ä¸»è¦ç›®æ ‡æ˜¯<em>æé«˜è¿›ç¨‹æ¢å…¥å’Œæ¢å‡ºçš„é€Ÿåº¦</em>ï¼Œé‡‡å–çš„æ˜¯è¿ç»­åˆ†é…çš„æ–¹å¼ï¼Œè¾ƒå°‘è€ƒè™‘å¤–å­˜ä¸­çš„ç¢ç‰‡é—®é¢˜ã€‚ä¸ºäº†èƒ½å¯¹å¯¹æ¢åŒºä¸­çš„ç©ºé—²ç›˜å—è¿›è¡Œç®¡ç†ï¼Œåœ¨ç³»ç»Ÿä¸­åº”é…ç½®ç›¸åº”çš„æ•°æ®ç»“æ„ï¼Œä»¥è®°å½•å¤–å­˜çš„ä½¿ç”¨æƒ…å†µã€‚ç©ºé—²åˆ†åŒºè¡¨æˆ–ç©ºé—²åˆ†åŒºé“¾ã€‚åœ¨ç©ºé—²åˆ†åŒºè¡¨ä¸­çš„æ¯ä¸ªè¡¨ç›®åº”åŒ…å«ä¸¤é¡¹ï¼Œå³å¯¹æ¢åˆ†åŒºé¦–å€å’Œå¯¹æ¢åŒºé•¿åº¦ï¼Œå®ƒä»¬çš„åŸºæœ¬å•ä½éƒ½æ˜¯<strong>ç›˜å—</strong>ã€‚</p>
</li>
<li><p><strong>è¿›ç¨‹çš„æ¢å‡º</strong>ï¼Œé€‰æ‹©ï¼šé¦–å…ˆé€‰æ‹©<strong>é˜»å¡</strong>æˆ–<strong>ç¡çœ çŠ¶æ€</strong>çš„è¿›ç¨‹ï¼Œè‹¥æœ‰å¤šä¸ªï¼ŒæŒ‰ä¼˜å…ˆçº§<strong>ç”±ä½åˆ°é«˜</strong>è¿›è¡Œé€‰æ‹©ã€‚è‹¥æ²¡æœ‰æ­¤çŠ¶æ€è¿›ç¨‹ï¼Œåˆ™é€‰æ‹©<strong>å°±ç»ª</strong>çŠ¶æ€çš„ï¼Œä»ç„¶æŒ‰ä¼˜å…ˆçº§ç”±ä½åˆ°é«˜è¿›è¡Œé€‰æ‹©ã€‚ä¸ºé¿å…æŸè¿›ç¨‹è¢«é¢‘ç¹çš„æ¢å…¥æ¢å‡ºï¼Œè¿˜åº”è€ƒè™‘è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„é©»ç•™æ—¶é—´ï¼Œä¼˜å…ˆé€‰æ‹©<strong>é©»ç•™æ—¶é—´é•¿</strong>çš„è¿›ç¨‹ã€‚</p>
</li>
<li><p><strong>è¿›ç¨‹çš„æ¢å…¥</strong>ï¼Œâ‘ ä» PCBé›†åˆä¸­æŸ¥æ‰¾â€œå°±ç»ªä¸”æ¢å‡ºâ€çš„è¿›ç¨‹ï¼Œæœ‰å¤šä¸ªï¼Œåˆ™é€‰æ‹©æ¢å‡ºæ—¶é—´æœ€é•¿çš„ã€‚â‘¡æ ¹æ®è¿›ç¨‹å¤§å°ç”³è¯·å†…å­˜ï¼ŒæˆåŠŸåˆ™è¯»å…¥ï¼Œå¦åˆ™è¦å…ˆæ‰§è¡Œæ¢å‡ºï¼Œå†æ¢å…¥ã€‚â‘¢è‹¥è¿˜æœ‰å¯æ¢å…¥è¿›ç¨‹ï¼Œåˆ™è½¬å‘â‘ ã€‚ç›´è‡³æ— â€œå°±ç»ªä¸”æ¢å‡ºâ€è¿›ç¨‹æˆ–æ— æ³•è·å¾—è¶³å¤Ÿå†…å­˜ç©ºé—´ä¸ºæ­¢ã€‚</p>
</li>
</ol>
<h2 id="åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼"><a href="#åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼" class="headerlink" title="åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼"></a>åŸºæœ¬åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼</h2><h3 id="åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼çš„å¼•å…¥"><a href="#åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼çš„å¼•å…¥" class="headerlink" title="åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼çš„å¼•å…¥"></a>åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼çš„å¼•å…¥</h3><p>ä»å›ºå®šåˆ†åŒºåˆ°åŠ¨æ€åˆ†åŒºåˆ†é…ï¼Œå†åˆ°åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œå…¶ä¸»è¦åŠ¨åŠ›ä¸ºæé«˜å†…å­˜åˆ©ç”¨ç‡ï¼Œå¼•å…¥åˆ†æ®µå­˜å‚¨ç®¡ç†çš„ç›®çš„åœ¨äºæ»¡è¶³ç”¨æˆ·åœ¨ç¼–ç¨‹å’Œä½¿ç”¨ä¸Šå¤šæ–¹é¢çš„è¦æ±‚ã€‚å¦‚</p>
<p>ã€€â‘  æ–¹ä¾¿ç¼–ç¨‹ï¼Œç”¨æˆ·å¯ä»¥æŠŠè‡ªå·±çš„ä½œä¸šæŒ‰ç…§é€»è¾‘å…³ç³»åˆ’åˆ†ä¸ºè‹¥å¹²æ®µï¼Œæ¯ä¸ªæ®µéƒ½æ˜¯ä»0å¼€å§‹ç¼–å€ï¼Œå¹¶æœ‰è‡ªå·±çš„åå­—å’Œé•¿åº¦ã€‚</p>
<p>ã€€â‘¡ åˆ†æ®µå…±äº«ï¼Œåœ¨å®ç°å¯¹ç¨‹åºå’Œæ•°æ®çš„å…±äº«æ—¶ï¼Œæ˜¯ä»¥ä¿¡æ¯çš„é€»è¾‘å•ä½ä¸ºåŸºç¡€çš„ï¼Œæ¯”å¦‚å…±äº«æŸä¸ªå‡½æ•°ã€‚</p>
<p>ã€€â‘¢ åˆ†æ®µä¿æŠ¤ï¼Œå¯¹å†…å­˜ä¸­ä¿¡æ¯çš„ä¿æŠ¤åŒæ ·æ˜¯å¯¹ä¿¡æ¯çš„é€»è¾‘å•ä½è¿›è¡Œä¿æŠ¤ã€‚</p>
<p>ã€€â‘£ åŠ¨æ€å¢é•¿ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ•°æ®æ®µåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å¾€å¾€ä¼šä¸æ–­å¢é•¿ï¼Œè€Œå®ç°æ— æ³•ç¡®åˆ‡çŸ¥é“æ•°æ®æ®µä¼šå¢é•¿åˆ°å¤šå¤§ï¼Œåˆ†æ®µå¯ä»¥è¾ƒå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ã€€â‘¤ åŠ¨æ€é“¾æ¥ï¼Œå†è¿è¡Œæ—¶ï¼Œå…ˆå°†ä¸»ç¨‹åºæ‰€å¯¹åº”çš„ç›®æ ‡ç¨‹åºè£…å…¥å†…å­˜å¹¶å¯åŠ¨è¿è¡Œï¼Œå½“è¿è¡Œè¿‡ç¨‹ä¸­æœ‰éœ€è¦è°ƒç”¨æŸæ®µæ—¶ï¼Œæ‰å°†è¯¥æ®µè°ƒå…¥å†…å­˜å¹¶è¿›è¡Œé“¾æ¥ã€‚</p>
<h3 id="åˆ†æ®µç³»ç»Ÿçš„åŸºæœ¬åŸç†"><a href="#åˆ†æ®µç³»ç»Ÿçš„åŸºæœ¬åŸç†" class="headerlink" title="åˆ†æ®µç³»ç»Ÿçš„åŸºæœ¬åŸç†"></a>åˆ†æ®µç³»ç»Ÿçš„åŸºæœ¬åŸç†</h3><p>ã€€åœ¨åˆ†æ®µç®¡ç†ä¸­ï¼Œä½œä¸šçš„åœ°å€ç©ºé—´è¢«åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæ®µï¼Œæ¯ä¸ªæ®µå®šä¹‰äº†ä¸€ç»„é€»è¾‘ä¿¡æ¯ï¼Œå¦‚æœ‰ä¸»ç¨‹åºæ®µMAINï¼Œå­ç¨‹åºæ®µXï¼Œæ•°æ®æ®µDåŠæ ˆæ®µSï¼Œæ¯ä¸ªæ®µéƒ½æœ‰è‡ªå·±çš„åå­—ï¼Œæ¯ä¸ªæ®µä»0å¼€å§‹ç¼–å€ï¼Œå¹¶é‡‡ç”¨ä¸€æ®µè¿ç»­çš„åœ°å€ç©ºé—´ï¼Œæ®µçš„é•¿åº¦ç”±ç›¸åº”çš„é€»è¾‘ä¿¡æ¯ç»„çš„é•¿åº¦å†³å®šï¼Œå› è€Œå„æ®µé•¿åº¦ä¸ç­‰ï¼Œæ•´ä¸ªä½œä¸šçš„åœ°å€ç©ºé—´ç”±äºæ˜¯åˆ†æˆå¤šä¸ªæ®µï¼Œå› è€Œæ˜¯äºŒç»´çš„ï¼Œå³å…¶<strong>é€»è¾‘åœ°å€ç”±æ®µå·å’Œæ®µå†…åœ°å€æ„æˆ</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_13-53-24.png"></p>
<p>â€‹	è¯¥ç³»ç»Ÿå¯å…è®¸ä¸€ä¸ªä½œä¸šå…è®¸æœ€é•¿æœ‰64Kä¸ªæ®µï¼Œæ¯ä¸ªæ®µçš„æœ€å¤§é•¿åº¦ä¸º64KBã€‚</p>
<p>ã€€åœ¨åˆ†æ®µå¼å­˜å‚¨ç®¡ç†ç³»ç»Ÿä¸­ï¼Œä¸ºæ¯ä¸ªåˆ†æ®µåˆ†é…ä¸€ä¸ªè¿ç»­çš„åˆ†åŒºï¼Œè€Œè¿›ç¨‹ä¸­çš„å„ä¸ªæ®µå¯ä»¥ç¦»æ•£åœ°ç§»å…¥å†…å­˜ä¸­ä¸åŒçš„åˆ†åŒºï¼Œä¸ºäº†ä½¿ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œèƒ½å¤Ÿç‰©ç†å†…å­˜ä¸­æ‰¾å‡ºæ¯ä¸ªé€»è¾‘æ®µæ‰€å¯¹åº”çš„ä½ç½®ï¼Œåº”è¯¥ä¸ºæ¯ä¸ªè¿›ç¨‹å»ºç«‹ä¸€å¼ æ®µæ˜ å°„è¡¨ï¼Œç§°ä¸º<strong>æ®µè¡¨</strong>ï¼Œæ¯ä¸ªæ®µåœ¨è¡¨ä¸­æœ‰ä¸€ä¸ªè¡¨é¡¹ï¼Œå…¶ä¸­è®°å½•äº†è¯¥æ®µåœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€å’Œæ®µçš„é•¿åº¦ã€‚æ®µè¡¨å¯ä»¥å­˜æ”¾åœ¨ä¸€ç»„å¯„å­˜å™¨ä¸­ï¼Œè¿™æ ·æœ‰åˆ©äºæé«˜åœ°å€è½¬æ¢é€Ÿåº¦ï¼Œä½†é€šå¸¸å°†æ®µè¡¨æ”¾åœ¨å†…å­˜ä¸­ã€‚<strong>æ®µè¡¨ç”¨äºå®ç°ä»é€»è¾‘æ®µåˆ°ç‰©ç†å†…å­˜åŒºçš„æ˜ å°„</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160626090308469-1366473959.png"></p>
<p>ã€€ä¸ºäº†å®ç°ä»è¿›ç¨‹çš„é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„å˜æ¢åŠŸèƒ½ï¼Œåœ¨ç³»ç»Ÿä¸­è®¾ç½®äº†æ®µè¡¨å¯„å­˜å™¨ï¼Œ<strong>ç”¨äºå­˜æ”¾æ®µè¡¨å§‹å€å’Œæ®µè¡¨é•¿åº¦TL</strong>ï¼Œåœ¨è¿›è¡Œåœ°å€å˜æ¢æ—¶ï¼Œç³»ç»Ÿå°†é€»è¾‘åœ°å€ä¸­çš„æ®µå·ä¸æ®µè¡¨é•¿åº¦TLè¿›è¡Œæ¯”è¾ƒï¼Œè‹¥S&gt;TLï¼Œè¡¨ç¤ºæ®µå·å¤ªå¤§ï¼Œè®¿é—®è¶Šç•Œï¼Œäº§ç”Ÿè¶Šç•Œä¸­æ–­ä¿¡å·ï¼Œè‹¥æœªè¶Šç•Œï¼Œåˆ™æ ¹æ®æ®µè¡¨çš„å§‹å€å’Œè¯¥æ®µçš„æ®µå·ï¼Œè®¡ç®—è¯¥æ®µå¯¹åº”æ®µè¡¨é¡¹çš„ä½ç½®ï¼Œä»ä¸­è¯»å‡ºè¯¥æ®µåœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ï¼Œç„¶åï¼Œå†æ£€æŸ¥æ®µå†…åœ°å€dæ˜¯å¦è¶…è¿‡è¯¥æ®µçš„æ®µé•¿SLï¼Œè‹¥è¶…è¿‡ï¼ŒåŒæ ·å‘å‡ºè¶Šç•Œä¸­æ–­ä¿¡å·ï¼Œè‹¥æœªè¶…è¿‡ï¼Œåˆ™å°†è¯¥æ®µçš„åŸºå€ä¸æ®µå†…åœ°å€dç›¸åŠ ï¼Œå³å¾—åˆ°è¦è®¿é—®çš„å†…å­˜ç‰©ç†åœ°å€ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160626092459344-1686459587.png"></p>
<p>ã€€æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ•°æ®æ—¶ï¼ˆéœ€ç»™å‡ºæ®µå·å’Œæ®µå†…åœ°å€ï¼‰ï¼Œä¹Ÿéœ€è¦è®¿é—®ä¸¤æ¬¡å†…å­˜ï¼Œç¬¬ä¸€æ¬¡æ ¹æ®æ®µå·è·å¾—åŸºå€ï¼Œç¬¬äºŒæ¬¡æ ¹æ®åŸºå€ä¸æ®µå†…åœ°å€ä¹‹å’Œè®¿é—®çœŸå®æ•°æ®çš„ç‰©ç†åœ°å€ã€‚è¿™é™ä½äº†è®¡ç®—æœºçš„é€Ÿç‡ï¼Œä¹Ÿå¯ä»¥å¢è®¾ä¸€ä¸ªè”æƒ³å­˜å‚¨å™¨ï¼Œç”¨æ¥ä¿å­˜æœ€è¿‘å¸¸ç”¨çš„æ®µè¡¨é¡¹ï¼Œç”¨æ¥åŠ é€Ÿå­˜å–æ•°æ®çš„æ—¶é—´ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_14-06-30.png"></p>
<h3 id="ä¿¡æ¯å…±äº«"><a href="#ä¿¡æ¯å…±äº«" class="headerlink" title="ä¿¡æ¯å…±äº«"></a>ä¿¡æ¯å…±äº«</h3><p>ä¸€ä¸ªå¤šç”¨æˆ·ç³»ç»Ÿå¯æ¥çº³40ä¸ªç”¨æˆ·ï¼Œå®ƒä»¬éƒ½æ‰§è¡Œä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘ç¨‹åº(ED)ï¼ŒEDä»£ç å…±160Kï¼Œæ¯ä¸ªç”¨æˆ·è¿˜æœ‰40Kçš„æ•°æ®åŒº(DA)ã€‚<br>ä¸é‡‡ç”¨ä¿¡æ¯å…±äº«æ—¶éœ€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Ÿ<br>( 160K + 40K ) * 40 &#x3D; 8000K<br>é‡‡ç”¨ä¿¡æ¯å…±äº«ï¼ˆè‹¥EDå¯å…±äº«ï¼‰åå ç”¨çš„å†…å­˜ç©ºé—´ï¼Ÿ<br>160K + 40K * 40 &#x3D; 1760Kã€€</p>
<p>åˆ†é¡µä¸åˆ†æ®µå­˜åœ¨å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œå¦‚éƒ½é‡‡ç”¨ç¦»æ•£åˆ†é…æ–¹å¼ï¼Œéƒ½éœ€è¦é€šè¿‡åœ°å€æ˜ å°„æœºæ„å®ç°åœ°å€å˜æ¢ï¼Œä½†ä¸¤è€…çš„ä¸»è¦<strong>åŒºåˆ«</strong>å¦‚ä¸‹ã€‚</p>
<p><em>åˆ†é¡µå…±äº«</em></p>
<ul>
<li>å¯¹äºæ•°æ®é¡µé¢ï¼Œå®ç°èµ·æ¥æ¯”è¾ƒç®€å•ã€‚å› ä¸ºè¿™ä¸ªæ•°æ®é¡µé¢å¯ä»¥å®‰æ’åœ¨è¯¸ä½œä¸šåœ°å€ç©ºé—´ä¸­çš„ä»»ä½•ä¸€é¡µé¢ä¸Šã€‚</li>
<li>å¯¹äºä»£ç é¡µé¢ï¼Œå®ƒå¿…é¡»æŠŠå…±äº«çš„ä»£ç å®‰æ’åˆ°æ‰€æœ‰å…±äº«å®ƒçš„ä½œä¸šåœ°å€ç©ºé—´ä¸­ç›¸åŒé¡µå·çš„é¡µé¢ä¸­ã€‚å³å…±äº«ä»£ç æ‰€åœ¨çš„åœ°å€ç©ºé—´å¿…é¡»é‡å ã€‚ä¹‹æ‰€ä»¥æœ‰è¿™ç§è¦æ±‚ï¼Œæ˜¯å› ä¸ºä¸€ä¸ªä½œä¸šåœ¨è¿è¡Œå‰å¿…é¡»é“¾æ¥å¥½ï¼Œè€Œé“¾æ¥åï¼Œä¸€ä¸ªä¾‹ç¨‹çš„æ‰€å é¡µå·å°±ç¡®å®šäº†ã€‚å¦‚æœå…¶å®ƒä½œä¸šè¦å…±äº«è¯¥ä¾‹ç¨‹ï¼Œåˆ™å¿…é¡»ä½¿å®ƒå…·æœ‰ç›¸åŒçš„é¡µå·ï¼Œæ‰èƒ½æ­£ç¡®è¿è¡Œã€‚</li>
</ul>
<p><em>åˆ†æ®µå…±äº«</em>ã€€</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_14-23-02.png"></p>
<p>åˆ†æ®µçš„å…±äº«æ˜¯é€šè¿‡ä¸¤ä¸ªä½œä¸šæ®µè¡¨çš„ç›¸åº”è¡¨ç›®éƒ½æŒ‡å‘COSè¿‡ç¨‹çš„åŒä¸€ç‰©ç†å‰¯æœ¬æ¥å®ç°çš„ã€‚<br>è¯´æ˜ï¼š<br>â‘´ç”±äºæ®µå·æ˜¯åœ¨åŠ¨æ€é“¾æ¥è¿‡ç¨‹ä¸­åˆ†é…çš„ï¼Œè€Œä¸”ï¼Œç³»ç»Ÿä¸å¯èƒ½äº‹å…ˆçŸ¥é“æŸä¸ªè¿‡ç¨‹å°†ä¸ºå“ªäº›ä½œä¸šæ‰€è°ƒç”¨ï¼›å› æ­¤ï¼Œä¸€ä¸ªå…¬å…±è¿‡ç¨‹ä¸ä¸€å®šä¹Ÿæ— éœ€èµ‹ç›¸åŒçš„æ®µå·ã€‚<br>ä¾‹å¦‚ï¼Œ[COS]åœ¨ä½œä¸š1çš„åœ°å€ç©ºé—´ä¸­ï¼Œå…¶æ®µå·ä¸º6ï¼Œä½†åœ¨ä½œä¸š2çš„åœ°å€ç©ºé—´ä¸­å…¶æ®µå·ä¸º3ã€‚<br>â‘µå½“æŸä¸ªå…±äº«æ®µç§»å‡ºä¸»å­˜åï¼Œå¿…é¡»åœ¨å…±äº«è¯¥æ®µçš„æ¯ä¸ªä½œä¸šä¹‹æ®µè¡¨çš„ç›¸åº”è¡¨ç›®ä¸­ï¼Œç½®çŠ¶æ€ä¸ºâ€œä¸åœ¨ä¸»å­˜â€æ ‡å¿—ã€‚</p>
<p><strong>åˆ†é¡µå’Œåˆ†æ®µçš„ä¸»è¦åŒºåˆ«</strong></p>
<p>â‘  é¡µæ˜¯ä¿¡æ¯çš„ç‰©ç†å•ä½ï¼Œåˆ†é¡µæ˜¯ä¸ºå®ç°ç¦»æ•£åˆ†é…æ–¹å¼ï¼Œä»¥<strong>æ¶ˆå‡å†…å­˜çš„å¤–é›¶å¤´ï¼Œæé«˜å†…å­˜çš„åˆ©ç”¨ç‡</strong>ï¼Œæˆ–è€…è¯´ï¼Œåˆ†é¡µä»…ä»…æ˜¯ç”±äºç³»ç»Ÿç®¡ç†çš„éœ€è¦è€Œä¸æ˜¯ç”¨æˆ·çš„éœ€è¦ï¼Œæ®µåˆ™æ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œå®ƒå«æœ‰ä¸€ç»„æ„ä¹‰ç›¸å¯¹å®Œæ•´çš„ä¿¡æ¯ï¼Œåˆ†æ®µçš„ç›®çš„æ˜¯ä¸ºäº†èƒ½æ›´å¥½åœ°æ»¡è¶³ç”¨æˆ·çš„éœ€è¦ã€‚</p>
<p>â‘¡ é¡µçš„å¤§å°å›ºå®šä¸”ç”±ç³»ç»Ÿå†³å®šï¼Œç”±ç³»ç»ŸæŠŠé€»è¾‘åœ°å€åˆ’åˆ†ä¸ºé¡µå·å’Œé¡µå†…åœ°å€ä¸¤éƒ¨åˆ†ï¼Œæ˜¯ç”±æœºå™¨ç¡¬ä»¶å®ç°çš„ï¼Œä¸€ä¸ªç³»ç»Ÿä¸­ï¼Œåªå­˜åœ¨ä¸€ç§å¤§å°çš„é¡µé¢ï¼Œæ®µçš„é•¿åº¦åˆ™ä¸å›ºå®šï¼Œå†³å®šäºç”¨æˆ·æ‰€ç¼–å†™çš„ç¨‹åºï¼Œé€šå¸¸ç”±ç¼–è¯‘ç¨‹åºåœ¨å¯¹æºç¨‹åºè¿›è¡Œç¼–è¯‘æ—¶ï¼Œæ ¹æ®ä¿¡æ¯çš„æ€§è´¨æ¥åˆ’åˆ†ã€‚</p>
<p>â‘¢ åˆ†é¡µçš„ä½œä¸šçš„åœ°å€ç©ºé—´æ˜¯ä¸€ç»´çš„ï¼Œå³å•ä¸€çš„çº¿æ€§çš„åœ°å€ç©ºé—´ï¼Œç¨‹åºå‘˜åªåˆ©ç”¨ä¸€ä¸ªè®°å¿†ç¬¦å³å¯è¡¨ç¤ºä¸€ä¸ªåœ°å€ï¼Œè€Œåˆ†æ®µçš„ä½œä¸šåœ°å€ç©ºé—´æ˜¯äºŒç»´çš„ï¼Œç¨‹åºå‘˜åœ¨æ ‡è¯†ä¸€ä¸ªåœ°å€æ˜¯ï¼Œéœ€è¦ç»™å‡ºæ®µåå’Œæ®µå†…åœ°å€ã€‚</p>
<h3 id="æ®µé¡µå¼å­˜å‚¨ç®¡ç†æ–¹å¼"><a href="#æ®µé¡µå¼å­˜å‚¨ç®¡ç†æ–¹å¼" class="headerlink" title="æ®µé¡µå¼å­˜å‚¨ç®¡ç†æ–¹å¼"></a>æ®µé¡µå¼å­˜å‚¨ç®¡ç†æ–¹å¼</h3><p>ã€€åˆ†é¡µç³»ç»Ÿèƒ½å¤Ÿæœ‰æ•ˆçš„æé«˜å†…å­˜åˆ©ç”¨ç‡ï¼ˆä½†æ˜¯ä¼šå­˜åœ¨é¡µå†…ç¢ç‰‡ï¼‰ï¼Œåˆ†æ®µç³»ç»Ÿåˆ™èƒ½å¤Ÿå¾ˆå¥½åœ°æ»¡è¶³ç”¨æˆ·éœ€è¦ã€‚è‹¥èƒ½å°†ä¸¤ç§æ–¹å¼ç»“åˆèµ·æ¥ï¼Œæ—¢å…·æœ‰åˆ†æ®µç³»ç»Ÿçš„ä¾¿äºå®ç°ã€åˆ†æ®µå¯å…±äº«ã€æ˜“äºä¿æŠ¤ã€å¯åŠ¨æ€é“¾æ¥ç­‰ä¼˜ç‚¹ï¼Œåˆèƒ½åƒåˆ†é¡µç³»ç»Ÿé‚£æ ·å¾ˆå¥½åœ°è§£å†³å†…å­˜çš„å¤–éƒ¨ç¢ç‰‡é—®é¢˜ï¼ŒåŸºäºæ­¤ï¼Œæå‡ºäº†æ®µé¡µå¼ç³»ç»Ÿã€‚</p>
<p>ã€€æ®µé¡µå¼ç³»ç»Ÿå…ˆå°†ç”¨æˆ·ç¨‹åºåˆ†æˆè‹¥å¹²ä¸ªæ®µï¼Œå†æŠŠæ®µåˆ†ä¸ºè‹¥å¹²ä¸ªé¡µï¼Œå¹¶ä¸ºæ¯ä¸€ä¸ªæ®µèµ‹äºˆä¸€ä¸ªæ®µåã€‚æ®µé¡µå¼ç³»ç»Ÿä¸­ï¼Œåœ°å€ç»“æ„ç”±æ®µå·ã€æ®µå†…é¡µå·ã€é¡µå†…åœ°å€ä¸‰éƒ¨åˆ†æ„æˆã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_14-24-02.png"></p>
<p>ã€€åœ¨æ®µé¡µå¼ç³»ç»Ÿä¸­ï¼Œä¸ºäº†ä¾¿äºå®ç°åœ°å€è½¬æ¢ï¼Œé¡»é…ç½®ä¸€ä¸ªæ®µè¡¨å¯„å­˜å™¨ï¼Œå…¶ä¸­å­˜æ”¾æ®µè¡¨å§‹å€å’Œæ®µè¡¨é•¿TLï¼Œè¿›è¡Œåœ°å€å˜æ¢æ—¶ï¼Œé¦–å…ˆåˆ©ç”¨æ®µå·Sï¼Œå°†å®ƒä¸æ®µè¡¨é•¿TLè¿›è¡Œæ¯”è¾ƒï¼Œè‹¥S&lt;TLï¼Œè¡¨ç¤ºæœªè¶Šç•Œï¼Œäºæ˜¯åˆ©ç”¨æ®µè¡¨å§‹å€å’Œæ®µå·æ¥æ±‚å‡ºè¯¥æ®µæ‰€å¯¹åº”çš„æ®µè¡¨é¡¹åœ¨æ®µè¡¨ä¸­çš„ä½ç½®ï¼Œä»ä¸­å¾—åˆ°è¯¥æ®µçš„é¡µè¡¨å§‹å€ï¼Œå¹¶åˆ©ç”¨é€»è¾‘åœ°å€ä¸­çš„æ®µå†…é¡µå·Pæ¥è·å¾—å¯¹åº”é¡µçš„é¡µè¡¨é¡¹ä½ç½®ï¼Œä»ä¸­è¯»å‡ºè¯¥é¡µæ‰€åœ¨çš„ç‰©ç†å—å·bï¼Œå†åˆ©ç”¨bå’Œé¡µå†…åœ°å€æ„æˆç‰©ç†åœ°å€ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160626100219578-1875843366.png"></p>
<p>ã€€åœ¨æ®µé¡µå¼ç³»ç»Ÿä¸­ï¼Œä¸ºäº†è·å¾—ä¸€æ¡æŒ‡ä»¤æˆ–æ•°æ®ï¼Œéœ€è¦<strong>è®¿é—®å†…å­˜ä¸‰æ¬¡</strong>ï¼Œç¬¬ä¸€æ¬¡è®¿é—®æ—¶è®¿é—®å†…å­˜ä¸­çš„æ®µè¡¨ï¼Œä»ä¸­å–å¾—é¡µè¡¨å§‹å€ï¼Œç¬¬äºŒæ¬¡è®¿é—®æ˜¯è®¿é—®å†…å­˜ä¸­çš„é¡µè¡¨ï¼Œä»ä¸­å–å‡ºè¯¥é¡µæ‰€åœ¨çš„ç‰©ç†å—å·ï¼Œå¹¶å°†è¯¥å—å·ä¸é¡µå†…åœ°å€ä¸€èµ·å½¢æˆæŒ‡ä»¤æˆ–æ•°æ®çš„ç‰©ç†åœ°å€ï¼Œç¬¬ä¸‰æ¬¡è®¿é—®æ‰æ˜¯çœŸæ­£çš„ä»ç¬¬äºŒæ¬¡è®¿é—®æ‰€å¾—çš„åœ°å€ä¸­ï¼Œå–å‡ºæŒ‡ä»¤æˆ–æ•°æ®ã€‚åŒæ ·ï¼Œä¹Ÿå¯ä»¥å¢è®¾é«˜é€Ÿç¼“å†²å¯„å­˜å™¨ç”¨äºåŠ å¿«è®¿é—®é€Ÿåº¦ï¼Œè¡¨é¡¹åº”åŒ…æ‹¬æ®µå·ã€é¡µå·ã€ç‰©ç†å—å·ã€‚</p>
<p>åˆ†é¡µç®¡ç†æä¾›( A)ç»´çš„åœ°å€ç»“æ„ï¼Œåˆ†æ®µç®¡ç†æä¾›(B )ç»´çš„åœ°å€ç»“æ„ï¼Œæ®µé¡µå¼ç®¡ç†æä¾›(C )ç»´çš„åœ°å€ç»“æ„ã€‚</p>
<p>A. 1 B. 2 C. 3 D. 4</p>
<p>æ®µé¡µå¼ç®¡ç†æ¯å–ä¸€æ¬¡æ•°æ®ï¼Œè¦è®¿é—®(C )æ¬¡å†…å­˜;è‹¥æ”¹ä¸ºåˆ†é¡µå¼ç®¡ç†æˆ–è€…åˆ†æ®µå¼ç®¡ç†ï¼Œè¦è®¿é—®( B)æ¬¡å†…å­˜ã€‚</p>
<p>A. 1 B. 2 C. 3 D. 4</p>
<p>é¡µç®¡ç†çš„ä¸»è¦ä»»åŠ¡ä¹‹ä¸€æ˜¯å®ç°ï¼ˆé€»è¾‘é¡µå· ï¼‰åˆ°ï¼ˆ ç‰©ç†å—å·ï¼‰ çš„å†…å­˜åœ°å€æ˜ åƒã€‚</p>
<p>åœ¨åˆ†æ®µç®¡ç†ä¸­ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªè¿è¡Œçš„ä½œä¸šå»ºç«‹ä¸€ä¸ª(æ®µè¡¨)ï¼Œå…¶å†…å®¹ä¸»è¦åŒ…æ‹¬(æ®µå·)ã€(æ®µé•¿)ã€(å†…å­˜èµ·å§‹åœ°å€)å’ŒçŠ¶æ€æ ‡å¿—ã€‚æ®µè¡¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨ç¨‹åºçš„é€»è¾‘æ®µä¸ç‰©ç†å†…å­˜ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚å½“ç¨‹åºè®¿é—®å†…å­˜æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šä½¿ç”¨æ®µè¡¨æ¥æŸ¥æ‰¾é€»è¾‘åœ°å€å¯¹åº”çš„ç‰©ç†åœ°å€ï¼Œç„¶åå°†æ•°æ®ä»ç‰©ç†å†…å­˜ä¸­è¯»å–æˆ–å†™å…¥  ã€‚</p>
<p>åœ¨åˆ†æ®µç®¡ç†çš„åœ°å€å˜æ¢è¿‡ç¨‹ä¸­ï¼Œè‹¥æ‰§è¡ŒæŸæ¡æŒ‡ä»¤ï¼Œé¦–å…ˆè¦æ‰¾åˆ°è¯¥ä½œä¸šæ®µè¡¨çš„(å§‹å€)ï¼Œç„¶åæ ¹æ®é€»è¾‘åœ°å€ä¸­çš„æ®µå·å»æŸ¥æ‰¾(æ®µè¡¨é¡¹)ï¼Œå¾—åˆ°è¯¥æ®µçš„å†…å­˜ä¸­çš„(ç‰©ç†å§‹å€)ï¼Œå…¶å€¼ä¸æ®µå†…ä½ç§»é‡(ç›¸åŠ )ï¼Œå¾—åˆ°(æ“ä½œçš„å®é™…åœ°å€)ã€‚</p>
<h2 id="è™šæ‹Ÿå­˜å‚¨å™¨çš„åŸºæœ¬æ¦‚å¿µ"><a href="#è™šæ‹Ÿå­˜å‚¨å™¨çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="è™šæ‹Ÿå­˜å‚¨å™¨çš„åŸºæœ¬æ¦‚å¿µ"></a>è™šæ‹Ÿå­˜å‚¨å™¨çš„åŸºæœ¬æ¦‚å¿µ</h2><h3 id="è™šæ‹Ÿå­˜å‚¨å™¨æ¦‚è¿°"><a href="#è™šæ‹Ÿå­˜å‚¨å™¨æ¦‚è¿°" class="headerlink" title="è™šæ‹Ÿå­˜å‚¨å™¨æ¦‚è¿°"></a>è™šæ‹Ÿå­˜å‚¨å™¨æ¦‚è¿°</h3><p>å‰é¢æ‰€ä»‹ç»çš„å­˜å‚¨å™¨ç®¡ç†æ–¹å¼éƒ½æœ‰å…±åŒçš„ç‰¹ç‚¹ï¼š<br>â€œä¸€æ¬¡æ€§â€: è¦æ±‚å°†ä¸€ä¸ªä½œä¸šå…¨éƒ¨è£…å…¥å†…å­˜æ‰èƒ½è¿è¡Œï¼Œ</p>
<ul>
<li><p>å¤§ä½œä¸šæ— æ³•è¿è¡Œã€‚</p>
</li>
<li><p>é™åˆ¶ä½œä¸šå¹¶å‘æ‰§è¡Œçš„ç¨‹åº¦ã€‚</p>
</li>
</ul>
<p>â€œé©»ç•™æ€§â€: ä½œä¸šè£…å…¥åä¸€ç›´é©»ç•™å†…å­˜ç›´åˆ°ä½œä¸šå®Œæˆã€‚</p>
<ul>
<li>å†…å­˜ä¸­å­˜åœ¨ä¸€äº›å·²æ— ç”¨çš„ã€æˆ–æš‚æ—¶ä¸ç”¨çš„ç¨‹åºæˆ–æ•°æ®ï¼Œæµªè´¹å†…å­˜ç©ºé—´ã€‚</li>
</ul>
<p>å‡ºç°äº†ä¸‹é¢ä¸¤ç§æƒ…å†µï¼š</p>
<p>ã€€â‘  æœ‰çš„ä½œä¸šå¾ˆå¤§ï¼Œå…¶æ‰€è¦æ±‚çš„å†…å­˜ç©ºé—´è¶…è¿‡äº†å†…å­˜æ€»å®¹é‡ï¼Œä½œä¸šä¸èƒ½å…¨éƒ¨è¢«è£…å…¥å†…å­˜ï¼Œè‡´ä½¿è¯¥ä½œä¸šæ— æ³•è¿è¡Œã€‚</p>
<p>ã€€â‘¡ æœ‰å¤§é‡ä½œä¸šè¦æ±‚è¿è¡Œï¼Œä½†ç”±äºå†…å­˜å®¹é‡ä¸è¶³ä»¥å®¹çº³æ‰€æœ‰è¿™äº›ä½œä¸šï¼Œåªèƒ½å°†å°‘æ•°ä½œä¸šè£…å…¥å†…å­˜è®©ä»–ä»¬å…ˆè¿è¡Œï¼Œè€Œå°†å…¶ä»–å¤§é‡ä½œä¸šç•™åœ¨å¤–å­˜ä¸Šç­‰å¾…ã€‚</p>
<p>ã€€ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¯ä»¥å¢åŠ ç‰©ç†å†…å­˜ï¼Œä½†æ˜¯å…¶ä¸å¤ªç°å®ï¼Œå¦å¤–æ˜¯ä»é€»è¾‘ä¸Šæ‰©å……å†…å­˜å®¹é‡ã€‚</p>
<p>ã€€åŸºäºç¨‹åºçš„å±€éƒ¨æ€§åŸç†ï¼ˆæ—¶é—´å±€é™æ€§å’Œç©ºé—²å±€é™æ€§ï¼‰ï¼Œç¨‹åºåœ¨è¿è¡Œä¹‹å‰ï¼Œæ²¡æœ‰å¿…è¦å…¨éƒ¨è£…å…¥å†…å­˜ï¼Œä»…éœ€å°†é‚£äº›å½“å‰è¦è¿è¡Œçš„å°‘æ•°é¡µé¢æˆ–æ®µå…ˆè£…å…¥å†…å­˜ä¾¿å¯è¿è¡Œã€‚å…¶ä½™éƒ¨åˆ†æš‚ç•™åœ¨ç£ç›˜ä¸Šï¼Œç¨‹åºè¿è¡Œæ—¶ï¼Œå¦‚æœå®ƒæ‰€è¦è®¿é—®çš„é¡µï¼ˆæ®µï¼‰å·²ç»è°ƒå…¥å†…å­˜ï¼Œä¾¿å¯ç»§ç»­æ‰§è¡Œä¸‹å»ï¼Œä½†å¦‚æœç¨‹åºæ‰€è¦è®¿é—®çš„é¡µï¼ˆæ®µï¼‰å°šæœªè°ƒå…¥å†…å­˜ï¼ˆç¼ºé¡µæˆ–ç¼ºæ®µï¼‰ï¼Œæ­¤æ—¶ç¨‹åºåº”åˆ©ç”¨OSçš„è¯·æ±‚è°ƒé¡µï¼ˆæ®µï¼‰åŠŸèƒ½ï¼Œå°†å®ƒä»¬è°ƒå…¥å†…å­˜ï¼Œä»¥ä½¿è¿›ç¨‹ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚å¦‚æœæ­¤æ—¶å†…å­˜å·²æ»¡ï¼Œæ— æ³•å†è£…å…¥æ–°çš„é¡µï¼ˆæ®µï¼‰ï¼Œåˆ™è¿˜éœ€åˆ©ç”¨é¡µï¼ˆæ®µï¼‰çš„ç½®æ¢åŠŸèƒ½ï¼Œå°†å†…å­˜ä¸­æš‚æ—¶ä¸ç”¨çš„é¡µï¼ˆæ®µï¼‰è°ƒè‡³ç£ç›˜ä¸Šï¼Œå†å°†è¦è®¿é—®çš„é¡µï¼ˆæ®µï¼‰è°ƒå…¥å†…å­˜ï¼Œä½¿ç¨‹åºç»§ç»­æ‰§è¡Œã€‚è¿™æ ·ï¼Œå¯ä»¥ä½¿å¾ˆå¤§çš„ç”¨æˆ·ç¨‹åºåœ¨è¾ƒå°çš„å†…å­˜ç©ºé—´ä¸­è¿è¡Œã€‚ä»ç”¨æˆ·çš„è°ƒå…¥çœ‹ï¼Œè¯¥ç³»ç»Ÿå…·æœ‰å¾ˆå¤§çš„å†…å­˜å®¹é‡ï¼Œä½†æ˜¯ï¼Œç”¨æˆ·çœ‹åˆ°çš„å¤§å®¹é‡åªæ˜¯ä¸€ç§æ„Ÿè§‰ï¼Œè¿™ç§å­˜å‚¨å™¨è¢«ç§°ä¸º<strong>è™šæ‹Ÿå­˜å‚¨å™¨</strong>ã€‚æ‰€è°“è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œæ˜¯æŒ‡å…·æœ‰<strong>è¯·æ±‚è°ƒå…¥åŠŸèƒ½å’Œç½®æ¢åŠŸèƒ½</strong>ï¼Œèƒ½ä»é€»è¾‘ä¸Šå¯¹å†…å­˜å®¹é‡åŠ ä»¥æ‰©å……çš„ä¸€ç§å­˜å‚¨å™¨ç³»ç»Ÿï¼Œå…¶é€»è¾‘å®¹é‡ç”±<strong>å†…å­˜å®¹é‡å’Œå¤–å­˜å®¹é‡ä¹‹å’Œ</strong>å†³å®šï¼Œ<strong>å…¶è¿è¡Œé€Ÿåº¦æ¥è¿‘å†…å­˜ï¼Œæˆæœ¬æ¥è¿‘å¤–å­˜</strong>ã€‚</p>
<p>è™šæ‹Ÿå­˜å‚¨å™¨è™½ç„¶ç»™ç”¨æˆ·æä¾›äº†ç‰¹å¤§åœ°å€ç©ºé—´ï¼Œä½†å…¶å®¹é‡ä¸<br>æ˜¯æ— é™å¤§ï¼Œä¸»è¦å—ä¸¤ä¸ªæ–¹é¢çš„é™åˆ¶ï¼š</p>
<ul>
<li>æŒ‡ä»¤ä¸­è¡¨ç¤ºåœ°å€çš„å­—é•¿<br>å¦‚ï¼šè‹¥CPUçš„æœ‰æ•ˆåœ°å€é•¿åº¦ä¸º32ä½ï¼Œåˆ™å¯ä»¥è¡¨ç¤ºçš„åœ°å€æœ€å¤§ç©ºé—´ä¸º2^32ï¼Œé€»è¾‘ç©ºé—´å¤§å°ä¸º4Gï¼Œå³è™šå­˜å®¹é‡ä¸º 4GBã€‚<em>ä¸ç‰©ç†ç©ºé—´çš„å¤§å°æ— ç›´æ¥å…³ç³»</em>ã€‚</li>
<li>å¤–å­˜çš„å®¹é‡ï¼ˆå¯¹æ¢åŒºï¼‰</li>
</ul>
<h3 id="è™šæ‹Ÿå­˜å‚¨å™¨çš„å®ç°æ–¹æ³•"><a href="#è™šæ‹Ÿå­˜å‚¨å™¨çš„å®ç°æ–¹æ³•" class="headerlink" title="è™šæ‹Ÿå­˜å‚¨å™¨çš„å®ç°æ–¹æ³•"></a>è™šæ‹Ÿå­˜å‚¨å™¨çš„å®ç°æ–¹æ³•</h3><p>ä¸€ã€è¯·æ±‚åˆ†é¡µç³»ç»Ÿ<br>å®ƒæ˜¯åœ¨çº¯åˆ†é¡µç³»ç»Ÿçš„åŸºç¡€ä¸Šå¢åŠ äº†è¯·æ±‚è°ƒé¡µã€é¡µé¢ç½®æ¢ä¸¤å¤§åŠŸèƒ½æ‰€å½¢æˆçš„é¡µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿã€‚ä¸ºäº†å®ç°è¯·æ±‚è°ƒé¡µã€é¡µé¢ç½®æ¢ä¸¤å¤§åŠŸèƒ½ï¼Œç³»ç»Ÿå¿…é¡»æä¾›å¦‚ä¸‹çš„ç¡¬ä»¶æ”¯æŒï¼š</p>
<ol>
<li>è¯·æ±‚åˆ†é¡µçš„é¡µè¡¨æœºåˆ¶ã€‚</li>
<li>ç¼ºé¡µä¸­æ–­æœºæ„ã€‚</li>
<li>åœ°å€å˜æ¢æœºæ„ã€‚<br> æ­¤å¤–ï¼Œå®ç°è¯·æ±‚è°ƒé¡µã€é¡µé¢ç½®æ¢ä¸¤å¤§åŠŸèƒ½è¿˜éœ€å¾—åˆ°<br> OSçš„æ”¯æŒã€‚</li>
</ol>
<p>äºŒã€è¯·æ±‚åˆ†æ®µç³»ç»Ÿ<br>å®ƒæ˜¯åœ¨çº¯åˆ†æ®µç³»ç»Ÿçš„åŸºç¡€ä¸Šå¢åŠ äº†è¯·æ±‚è°ƒæ®µã€åˆ†æ®µç½®æ¢ä¸¤å¤§åŠŸèƒ½æ‰€å½¢æˆçš„æ®µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿã€‚ä¸ºäº†å®ç°è¯·æ±‚è°ƒæ®µã€åˆ†æ®µç½®æ¢ä¸¤å¤§åŠŸèƒ½ï¼Œç³»ç»Ÿå¿…é¡»æä¾›å¦‚ä¸‹çš„ç¡¬ä»¶æ”¯æŒï¼š</p>
<ol>
<li>è¯·æ±‚åˆ†æ®µçš„æ®µè¡¨æœºåˆ¶ã€‚</li>
<li>ç¼ºæ®µä¸­æ–­æœºæ„ã€‚</li>
<li>åœ°å€å˜æ¢æœºæ„ã€‚<br> æ­¤å¤–ï¼Œå®ç°è¯·æ±‚è°ƒæ®µã€åˆ†æ®µç½®æ¢ä¸¤å¤§åŠŸèƒ½è¿˜éœ€<br> å¾—åˆ°OSçš„æ”¯æŒã€‚</li>
</ol>
<p>ä¸‰ã€æ®µé¡µå¼è™šæ‹Ÿç³»ç»Ÿ<br>ç›®å‰ï¼Œè®¸å¤šè™šæ‹Ÿå­˜å‚¨ç®¡ç†ç³»ç»Ÿæ˜¯å»ºç«‹åœ¨æ®µé¡µå¼ç³»ç»Ÿçš„åŸºç¡€ä¸Šçš„ï¼Œé€šè¿‡å¢åŠ äº†è¯·æ±‚è°ƒé¡µã€<br>é¡µé¢ç½®æ¢ä¸¤å¤§åŠŸèƒ½æ‰€å½¢æˆçš„æ®µé¡µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿã€‚<br>å¦‚ï¼šIntel 80386å¤„ç†æœºä¾¿æ”¯æŒæ®µé¡µå¼è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿã€‚</p>
<h3 id="è™šæ‹Ÿå­˜å‚¨å™¨çš„ç‰¹å¾"><a href="#è™šæ‹Ÿå­˜å‚¨å™¨çš„ç‰¹å¾" class="headerlink" title="è™šæ‹Ÿå­˜å‚¨å™¨çš„ç‰¹å¾"></a>è™šæ‹Ÿå­˜å‚¨å™¨çš„ç‰¹å¾</h3><p>1ï¼å¤šæ¬¡æ€§<br>å¤šæ¬¡æ€§æ˜¯æŒ‡ä¸€ä¸ªä½œä¸šè¢«åˆ†æˆå¤šæ¬¡è°ƒå…¥å†…å­˜è¿è¡Œã€‚<br>2ï¼å¯¹æ¢æ€§<br>å¯¹æ¢æ€§æ˜¯æŒ‡ä½œä¸šçš„è¿è¡Œè¿‡ç¨‹ä¸­è¿›è¡Œæ¢è¿›ã€æ¢å‡ºã€‚æ¢è¿›å’Œæ¢å‡ºèƒ½æœ‰æ•ˆåœ°æé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚<br>3ï¼è™šæ‹Ÿæ€§<br>è™šæ‹Ÿæ€§æ˜¯æŒ‡èƒ½å¤Ÿä»é€»è¾‘ä¸Šæ‰©å……å†…å­˜å®¹é‡ï¼Œä½¿ç”¨æˆ·æ‰€çœ‹åˆ°çš„å†…å­˜å®¹é‡è¿œå¤§äºå®é™…å†…å­˜å®¹é‡ã€‚</p>
<p>è™šæ‹Ÿæ€§æ˜¯ä»¥å¤šæ¬¡æ€§å’Œå¯¹æ¢æ€§ä¸ºåŸºç¡€çš„ï¼›è€Œå¤šæ¬¡æ€§å’Œå¯¹æ¢æ€§åˆå¿…é¡»å»ºç«‹åœ¨ç¦»æ•£åˆ†é…çš„åŸºç¡€ä¸Šã€‚</p>
<p>è™šå­˜å®ç°çš„ç†è®ºä¾æ®æ˜¯ä»€ä¹ˆï¼Ÿç¨‹åºæ‰§è¡Œçš„å±€éƒ¨æ€§åŸç†</p>
<p>å¦‚ä½•å°†ç¨‹åºåˆ’åˆ†æˆéƒ¨åˆ†ï¼Ÿåˆ†é¡µæˆ–åˆ†æ®µ</p>
<h2 id="è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼"><a href="#è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼" class="headerlink" title="è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼"></a>è¯·æ±‚åˆ†é¡µå­˜å‚¨ç®¡ç†æ–¹å¼</h2><p>è¯·æ±‚åˆ†é¡µæ˜¯å»ºç«‹åœ¨åˆ†é¡µåŸºç¡€ä¸Šçš„ï¼Œå¢åŠ äº†è¯·æ±‚è°ƒé¡µåŠŸèƒ½å’Œé¡µé¢ç½®æ¢åŠŸèƒ½ã€‚</p>
<h3 id="è¯·æ±‚åˆ†é¡µä¸­çš„ç¡¬ä»¶æ”¯æŒ"><a href="#è¯·æ±‚åˆ†é¡µä¸­çš„ç¡¬ä»¶æ”¯æŒ" class="headerlink" title="è¯·æ±‚åˆ†é¡µä¸­çš„ç¡¬ä»¶æ”¯æŒ"></a>è¯·æ±‚åˆ†é¡µä¸­çš„ç¡¬ä»¶æ”¯æŒ</h3><p>ã€€â‘  <strong>é¡µè¡¨æœºåˆ¶</strong>ï¼Œåœ¨è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­çš„æ‰€æœ‰çš„é¡µè¡¨ï¼Œå…¶é¡µæè¿°å­æœ‰äº†æ–°çš„æ‰©å……ï¼Œè¿™æ˜¯è¿›è¡Œåœ°å€å˜æ¢æœºæ„æ‰€å¿…é¡»çš„ï¼Œå¢åŠ å››ä¸ªä¿¡æ¯æ ‡è¯†ä½ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_14-50-00.png"></p>
<blockquote>
<p>(1)çŠ¶æ€ä½(å­˜åœ¨ä½)Dï¼šç”¨äºè¯´æ˜è¯¥é¡µæ˜¯å¦å·²è°ƒå…¥å†…å­˜ï¼Œä¾›ç¨‹åºè®¿é—®æ—¶å‚è€ƒï¼›D&#x3D;0ï¼Œè¯¥é¡µä¸åœ¨å†…å­˜ã€‚D&#x3D;1ï¼Œè¯¥é¡µåœ¨å†…å­˜ã€‚<br>(2)è®¿é—®ä½Aï¼šç”¨äºè®°å½•æœ¬é¡µåœ¨ä¸€æ®µæ—¶é—´å†…è¢«è®¿é—®çš„æ¬¡æ•°ï¼Œæˆ–æœ€è¿‘å·²æœ‰å¤šé•¿æ—¶é—´æœªè¢«è®¿é—®ï¼Œæä¾›ç»™ç½®æ¢ç®—æ³•é€‰æ‹©æ¢å‡ºé¡µé¢æ—¶å‚è€ƒã€‚A&#x3D;0ï¼Œè¯¥é¡µæœªè¢«è®¿é—® ã€‚A&#x3D;1ï¼Œè¯¥é¡µè¢«è®¿é—®<br>(3)ä¿®æ”¹ä½Mï¼šç”¨äºè¡¨ç¤ºè¯¥é¡µåœ¨è°ƒå…¥å†…å­˜åæ˜¯å¦è¢«ä¿®æ”¹è¿‡ï¼Œä¹Ÿæ˜¯æä¾›ç»™ç½®æ¢ç®—æ³•åœ¨æ¢å‡ºé¡µé¢æ—¶æ˜¯å¦å°†è¯¥é¡µé¢å†™å›å¤–å­˜ä½œå‚è€ƒã€‚M&#x3D;0ï¼Œè¯¥é¡µåœ¨å†…å­˜ä¸­æœªè¢«ä¿®æ”¹ã€‚M&#x3D;1ï¼Œè¯¥é¡µåœ¨å†…å­˜ä¸­å·²ç»è¢«ä¿®æ”¹<br>(4)å¤–å­˜åœ°å€ï¼šç”¨äºæŒ‡å‡ºè¯¥é¡µåœ¨å¤–å­˜ä¸Šçš„åœ°å€ï¼Œä¾›è°ƒå…¥è¯¥é¡µæ—¶ä½¿ç”¨ã€‚</p>
</blockquote>
<p>ã€€â‘¡ <strong>ç¼ºé¡µä¸­æ–­æœºæ„</strong>ï¼Œå½“è¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜æ—¶ï¼Œäº§ç”Ÿä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œè¯·æ±‚OSå°†ç¼ºçš„é¡µé¢è°ƒå…¥å†…å­˜ï¼Œç¼ºé¡µä½œä¸ºä¸­æ–­ï¼Œä¹Ÿéœ€è¦ç»è¿‡ä¿æŠ¤CPUç°åœºã€åˆ†æä¸­æ–­åŸå› ã€è½¬å…¥ä¸­æ–­å¤„ç†ç¨‹åºè¿›è¡Œå¤„ç†ã€æ¢å¤CPUç¯å¢ƒç­‰ã€‚ä½†æ˜¯ï¼Œå…¶ä¸ä¸€èˆ¬ä¸­æ–­ç›¸æ¯”æœ‰ä¸€äº›ä¸åŒï¼Œä¸»è¦åœ¨äºï¼šåœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´äº§ç”Ÿå’Œå¤„ç†ä¸­æ–­ä¿¡å·ï¼ˆé€šå¸¸CPUéƒ½æ˜¯åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®Œåï¼Œæ‰æ£€æŸ¥æ˜¯å¦æœ‰ä¸­æ–­è¯·æ±‚åˆ°è¾¾ï¼Œè‹¥æœ‰ï¼Œåˆ™å“åº”ï¼Œå¦åˆ™ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œç„¶è€Œï¼Œç¼ºé¡µä¸­æ–­æ˜¯åœ¨æŒ‡ä»¤æ‰§è¡ŒæœŸé—´ï¼Œå‘ç°æ‰€è¦è®¿é—®çš„æŒ‡ä»¤æˆ–æ•°æ®ä¸å†å†…å­˜æ—¶æ‰€äº§ç”Ÿå’Œå¤„ç†çš„ï¼‰ï¼Œä¸€æ¡æŒ‡ä»¤åœ¨æ‰§è¡ŒæœŸé—´ï¼Œå¯èƒ½äº§ç”Ÿå¤šæ¬¡ç¼ºé¡µä¸­æ–­ã€‚</p>
<p>ã€€â‘¢ <strong>åœ°å€å˜æ¢æœºæ„</strong>ï¼Œåœ¨åˆ†é¡µç³»ç»Ÿåœ°å€å˜æ¢åŸºç¡€ä¸Šï¼Œå†ä¸ºå®ç°è™šæ‹Ÿå­˜å‚¨å™¨è€Œå¢åŠ çš„æŸäº›åŠŸèƒ½è€Œå½¢æˆã€‚å¦‚äº§ç”Ÿå’Œå¤„ç†ç¼ºé¡µä¸­æ–­ï¼Œä»¥åŠä»å†…å­˜ä¸­æ¢å‡ºä¸€é¡µåŠŸèƒ½ç­‰ã€‚</p>
<p><strong>ç¼ºé¡µä¸­æ–­å¤„ç†è¿‡ç¨‹</strong></p>
<p>ï¼ˆ1ï¼‰æ“ä½œç³»ç»Ÿæ¥æ”¶åˆ°è¿›ç¨‹äº§ç”Ÿçš„ç¼ºé¡µä¸­æ–­ä¿¡å·ï¼Œå¯åŠ¨ä¸­æ–­å¤„ç†ä¾‹ç¨‹ï¼Œä¿ç•™å¤„ç†æœºç°åœºï¼›<br>ï¼ˆ2ï¼‰æ“ä½œç³»ç»Ÿé€šçŸ¥å¤„ç†æœºä»å¤–å­˜è¯»å–æŒ‡å®šçš„é¡µé¢ï¼›<br>ï¼ˆ3ï¼‰å¤„ç†æœºæ¿€æ´»I&#x2F;Oè®¾å¤‡ï¼›<br>ï¼ˆ4ï¼‰ æ£€æŸ¥å†…å­˜æœ‰æ— è¶³å¤Ÿçš„ç©ºé—²ç©ºé—´è£…å…¥è¯¥é¡µé¢ï¼Ÿè‹¥æœ‰ï¼Œè½¬ï¼ˆ6ï¼‰ï¼Œå¦åˆ™ï¼Œæ‰§è¡Œï¼ˆ5ï¼‰ï¼›<br>ï¼ˆ5ï¼‰ åˆ©ç”¨é¡µé¢ç½®æ¢ç®—æ³•ï¼Œé€‰æ‹©å†…å­˜ä¸­çš„æŸä¸ªé¡µé¢ï¼Œæ¢å‡ºå†…å­˜ï¼›<br>ï¼ˆ6ï¼‰ å°†æŒ‡å®šé¡µé¢ä»å¤–å­˜è£…å…¥å†…å­˜ï¼›<br>ï¼ˆ7ï¼‰ æ›´æ–°è¯¥è¿›ç¨‹çš„é¡µè¡¨ï¼›<br>ï¼ˆ8ï¼‰ æ›´æ–°å¿«è¡¨ï¼›<br>ï¼ˆ9ï¼‰è®¡ç®—ç‰©ç†åœ°å€ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_14-53-05.png"></p>
<h3 id="å†…å­˜åˆ†é…ç­–ç•¥å’Œåˆ†é…ç®—æ³•"><a href="#å†…å­˜åˆ†é…ç­–ç•¥å’Œåˆ†é…ç®—æ³•" class="headerlink" title="å†…å­˜åˆ†é…ç­–ç•¥å’Œåˆ†é…ç®—æ³•"></a>å†…å­˜åˆ†é…ç­–ç•¥å’Œåˆ†é…ç®—æ³•</h3><p><strong>æœ€å°ç‰©ç†å—æ•°</strong>ï¼šæ˜¯æŒ‡èƒ½ä¿è¯è¿›ç¨‹æ­£å¸¸è¿è¡Œæ‰€éœ€çš„æœ€å°‘ç‰©ç†å—æ•°ã€‚è‹¥ç³»ç»Ÿä¸ºæŸè¿›ç¨‹æ‰€åˆ†é…çš„ç‰©ç†å—æ•°å°‘äºæ­¤å€¼æ—¶ï¼Œè¿›ç¨‹å°†æ— æ³•è¿è¡Œã€‚</p>
<p>å¯¹äºæŸäº›ç®€å•çš„æœºå™¨ï¼Œè‹¥æ˜¯å•åœ°å€æŒ‡ä»¤ä¸”é‡‡ç”¨ç›´æ¥å¯»å€æ–¹å¼ï¼Œåˆ™æ‰€éœ€çš„æœ€å°‘ç‰©ç†å—æ•°ä¸º2ã€‚(åœ¨ç›´æ¥å¯»å€æ–¹å¼ä¸­ï¼ŒæŒ‡ä»¤ä¸­ç»™å‡ºçš„æ˜¯æ“ä½œæ•°çš„åœ°å€ã€‚å› æ­¤ï¼Œéœ€è¦è‡³å°‘ä¸¤ä¸ªç‰©ç†å—ï¼Œä¸€ä¸ªç”¨äºå­˜å‚¨æŒ‡ä»¤ï¼Œå¦ä¸€ä¸ªç”¨äºå­˜å‚¨æ“ä½œæ•°ã€‚)<br>å¦‚æœè¯¥æœºå™¨å…è®¸é—´æ¥å¯»å€æ—¶ï¼Œåˆ™è‡³å°‘è¦æ±‚æœ‰ç‰©ç†å—æ•°ä¸º3ã€‚(è¿™æ˜¯å› ä¸ºåœ¨é—´æ¥å¯»å€æ–¹å¼ä¸­ï¼ŒæŒ‡ä»¤ä¸­ç»™å‡ºçš„æ˜¯æ“ä½œæ•°åœ°å€çš„åœ°å€ã€‚å› æ­¤ï¼Œéœ€è¦è‡³å°‘ä¸‰ä¸ªç‰©ç†å—ï¼Œä¸€ä¸ªç”¨äºå­˜å‚¨æŒ‡ä»¤ï¼Œä¸€ä¸ªç”¨äºå­˜å‚¨æ“ä½œæ•°åœ°å€çš„åœ°å€ï¼Œå¦ä¸€ä¸ªç”¨äºå­˜å‚¨æ“ä½œæ•°)</p>
<h4 id="åˆ†é…ç­–ç•¥"><a href="#åˆ†é…ç­–ç•¥" class="headerlink" title="åˆ†é…ç­–ç•¥"></a>åˆ†é…ç­–ç•¥</h4><p>åœ¨è¯·æ±‚åˆ†é¡µç³»ç»Ÿä¸­ï¼Œå¯é‡‡å–ä¸¤ç§å†…å­˜åˆ†é…ç­–ç•¥ï¼Œå›ºå®šå’Œå¯å˜åˆ†é…ç­–ç•¥ï¼Œåœ¨è¿›è¡Œç½®æ¢æ—¶ï¼Œä¹Ÿå¯é‡‡ç”¨å…¨å±€ç½®æ¢å’Œå±€éƒ¨ç½®æ¢ï¼Œå¯ç»„åˆå‡ºå¦‚ä¸‹ä¸‰ç§é€‚ç”¨çš„ç­–ç•¥ã€‚</p>
<p><strong>å›ºå®šåˆ†é…å±€éƒ¨ç½®æ¢</strong>ï¼ˆä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€å®šæ•°ç›®çš„ç‰©ç†å—ï¼Œæ•´ä¸ªè¿è¡ŒæœŸä¸å†æ”¹å˜ï¼Œå¦‚æœè¿›ç¨‹åœ¨è¿è¡Œä¸­å‘ç°ç¼ºé¡µï¼Œåˆ™åªèƒ½ä»è¯¥è¿›ç¨‹åœ¨å†…å­˜çš„nä¸ªé¡µé¢ä¸­é€‰å‡ºä¸€é¡µæ¢å‡ºï¼Œç„¶åå†è°ƒå…¥ä¸€é¡µï¼Œä»¥ä¿è¯åˆ†é…ç»™è¯¥è¿›ç¨‹çš„å†…å­˜ç©ºé—´ä¸å˜ï¼Œè‹¥å¼€å§‹ä¸ºè¿›ç¨‹åˆ†é…çš„ç‰©ç†å—æ•°å¤ªå°‘ï¼Œåˆ™ä¼šé¢‘ç¹ç¼ºé¡µï¼Œé™ä½ç³»ç»Ÿååé‡ï¼Œè‹¥å¤ªå¤šï¼Œåˆ™ä½¿å†…å­˜ä¸­é©»ç•™çš„è¿›ç¨‹æ•°ç›®å‡å°‘ï¼Œè¿›è€Œé€ æˆCPUç©ºé—²æˆ–å…¶ä»–èµ„æºç©ºé—²çš„æƒ…å†µï¼‰</p>
<p><strong>å¯å˜åˆ†é…å…¨å±€ç½®æ¢</strong>ï¼ˆå…ˆä¸ºç³»ç»Ÿä¸­çš„æ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€å®šæ•°ç›®çš„ç‰©ç†å—ï¼Œè€ŒOSè‡ªèº«ä¹Ÿä¿æŒä¸€ä¸ª<strong>ç©ºé—²ç‰©ç†å—é˜Ÿåˆ—</strong>ï¼Œå½“æŸè¿›ç¨‹å‘ç°ç¼ºé¡µæ—¶ï¼Œç”±ç³»ç»Ÿä»ç©ºé—²ç‰©ç†å—é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªç‰©ç†å—åˆ†é…ç»™è¯¥è¿›ç¨‹ï¼Œå¹¶å°†æ¬²è°ƒå…¥çš„ç¼ºé¡µè£…å…¥å…¶ä¸­ï¼Œä»…å½“ç©ºé—²ç‰©ç†é˜Ÿåˆ—çš„ç‰©ç†å—ç”¨å®Œæ—¶ï¼ŒOSæ‰èƒ½ä»å†…å­˜ä¸­é€‰æ‹©ä¸€é¡µè°ƒå‡ºï¼Œè¯¥é¡µå¯èƒ½æ˜¯ç³»ç»Ÿä¸­ä»»ä¸€è¿›ç¨‹çš„é¡µï¼Œè¿™æ ·ï¼Œä¼šä½¿é‚£ä¸ªè¿›ç¨‹çš„ç‰©ç†å—å‡å°‘ï¼Œè¿›è€Œä½¿ç¼ºé¡µç‡å¢åŠ ï¼‰</p>
<p><strong>å¯å˜åˆ†é…å±€éƒ¨ç½®æ¢</strong>ï¼ˆä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€å®šæ•°ç›®çš„ç‰©ç†å—ï¼Œå½“è¿›ç¨‹ç¼ºé¡µæ—¶ï¼Œåªå…è®¸ä»è¯¥è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„é¡µé¢ä¸­é€‰å‡ºä¸€é¡µæ¢å‡ºï¼Œè¿™æ ·ä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹çš„è¿è¡Œï¼Œ<em>å¦‚æœè¯¥è¿›ç¨‹é¢‘ç¹å‘ç”Ÿç¼ºé¡µï¼Œåˆ™ç³»ç»Ÿéœ€è¦å†ä¸ºè¯¥è¿›ç¨‹åˆ†é…è‹¥å¹²é™„åŠ çš„ç‰©ç†å—ï¼Œç›´è‡³è¯¥è¿›ç¨‹çš„ç¼ºé¡µç‡å‡å°‘åˆ°é€‚å½“ç¨‹åº¦ä¸ºæ­¢</em>ï¼Œåä¹‹ï¼Œè‹¥ä¸€ä¸ªè¿›ç¨‹æ­£åœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„ç¼ºé¡µç‡ç‰¹åˆ«ä½ï¼Œåˆ™æ­¤æ—¶å¯é€‚å½“å‡å°‘åˆ†é…ç»™è¯¥è¿›ç¨‹çš„ç‰©ç†å—æ•°ï¼Œä½†ä¸åº”è¯¥å¼•èµ·ç¼ºé¡µç‡æ˜æ˜¾å¢åŠ ï¼‰ã€‚</p>
<h4 id="åˆ†é…ç®—æ³•"><a href="#åˆ†é…ç®—æ³•" class="headerlink" title="åˆ†é…ç®—æ³•"></a>åˆ†é…ç®—æ³•</h4><p>å¯é‡‡ç”¨<strong>å¹³å‡åˆ†é…ç®—æ³•</strong>ï¼ˆå°†ç³»ç»Ÿä¸­æ‰€æœ‰å¯ä¾›åˆ†é…çš„ç‰©ç†å—å¹³å‡åˆ†é…ç»™å„ä¸ªè¿›ç¨‹ï¼‰ã€<strong>æŒ‰æ¯”ä¾‹åˆ†é…</strong>ï¼ˆæ ¹æ®è¿›ç¨‹çš„å¤§å°æŒ‰æ¯”ä¾‹åˆ†é…ç‰©ç†å—ï¼‰ã€<strong>è€ƒè™‘ä¼˜å…ˆæƒçš„åˆ†é…ç®—æ³•</strong>ï¼ˆå°†é‡è¦çš„ï¼Œç´§è¿«çš„ä½œä¸šåˆ†é…è¾ƒå¤šçš„å†…å­˜ç©ºé—´ï¼Œå¯å°†ç³»ç»Ÿçš„ç‰©ç†å—åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æŒ‰æ¯”ä¾‹åˆ†é…ç»™å„è¿›ç¨‹ï¼Œå¦ä¸€éƒ¨åˆ†åˆ™æ ¹æ®è¿›ç¨‹çš„ä¼˜å…ˆæƒé€‚å½“åœ°å¢åŠ ç›¸åº”ä»½é¢åï¼Œåˆ†é…ç»™è¿›ç¨‹ã€‚åœ¨æœ‰çš„ç³»ç»Ÿä¸­ï¼Œå¦‚é‡è¦çš„å®æ—¶æ§åˆ¶ç³»ç»Ÿï¼Œåˆ™å¯èƒ½æ˜¯å®Œå…¨æŒ‰ä¼˜å…ˆæƒæ¥ä¸ºå„è¿›ç¨‹åˆ†é…ç‰©ç†å—ã€‚ï¼‰</p>
<h3 id="è°ƒé¡µç­–ç•¥"><a href="#è°ƒé¡µç­–ç•¥" class="headerlink" title="è°ƒé¡µç­–ç•¥"></a>è°ƒé¡µç­–ç•¥</h3><p><em>ç³»ç»Ÿåº”å½“åœ¨ä½•æ—¶æŠŠä¸€ä¸ªé¡µé¢è£…å…¥å†…å­˜ï¼Ÿ</em></p>
<ul>
<li><p>é¢„è°ƒé¡µ (Prepaging)</p>
<p>å¯é‡‡ç”¨ä¸€ç§ä»¥é¢„æµ‹ä¸ºåŸºç¡€çš„é¢„è°ƒé¡µç­–ç•¥ï¼Œå°†é‚£äº›é¢„è®¡åœ¨ä¸ä¹…ä¹‹åä¾¿ä¼šè¢«è®¿é—®çš„é¡µé¢ï¼Œé¢„å…ˆè°ƒå…¥å†…å­˜ã€‚<br>å¤„ç†è¿‡ç¨‹ï¼š<br>å½“è¿›ç¨‹åˆ›å»ºæ—¶ï¼Œé¢„å…ˆä¸ºè¿›ç¨‹è£…å…¥å¤šä¸ªé¡µé¢ã€‚ç¼ºé¡µä¸­æ–­æ—¶ï¼Œç³»ç»Ÿä¸ºè¿›ç¨‹è£…å…¥æŒ‡å®šçš„é¡µé¢ä»¥åŠä¸ä¹‹ç›¸ä¸´çš„å¤šä¸ªé¡µé¢ã€‚<br>è‹¥å±€éƒ¨æ€§å¾ˆå·®ï¼Œé¢„å…ˆè£…å…¥çš„å¾ˆå¤šé¡µé¢ä¸ä¼šå¾ˆå¿«è¢«å¼•ç”¨ï¼Œå¹¶ä¼šå ç”¨å¤§é‡çš„å†…å­˜ç©ºé—´ï¼Œåè€Œé™ä½ç³»ç»Ÿçš„æ•ˆç‡ã€‚é¢„è°ƒé¡µçš„æˆåŠŸç‡ä»…çº¦50ï¼…ã€‚</p>
</li>
<li><p>è¯·æ±‚è°ƒé¡µ (Demand Paging)</p>
<p>ä»…å½“è¿›ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡æ£€æŸ¥é¡µè¡¨å‘ç°ç›¸åº”<br>é¡µé¢ä¸åœ¨å†…å­˜æ—¶ï¼Œæ‰è£…å…¥è¯¥é¡µé¢ã€‚å½“è¿›ç¨‹åˆšå¼€å§‹æ‰§è¡Œæ—¶ï¼Œç”±äºé¢„å…ˆæœªè£…å…¥è¿›ç¨‹çš„<br>é¡µé¢ï¼Œæ•…éœ€è¦é¢‘ç¹åœ°ç”³è¯·è£…å…¥é¡µé¢ã€‚æ‰§è¡Œä¸€æ®µæ—¶<br>é—´ä»¥åï¼Œè¿›ç¨‹çš„ç¼ºé¡µç‡å°†ä¸‹é™ã€‚é‡‡ç”¨è¯·æ±‚è°ƒé¡µæ–¹å¼ï¼Œä¸€æ¬¡è£…å…¥è¯·æ±‚çš„ä¸€ä¸ªé¡µé¢ï¼Œ<br>ç£ç›˜I&#x2F;Oçš„å¯åŠ¨é¢‘ç‡è¾ƒé«˜ï¼Œç³»ç»Ÿçš„å¼€é”€è¾ƒå¤§ã€‚</p>
</li>
</ul>
<p><em>ä½•å¤„è°ƒå…¥é¡µé¢ï¼Ÿ</em></p>
<p>ï¼ˆ1ï¼‰å¯¹æ¢åŒºï¼šç³»ç»Ÿæ‹¥æœ‰è¶³å¤Ÿçš„å¯¹æ¢åŒºç©ºé—´ï¼Œè¿™æ—¶å¯ä»¥å…¨éƒ¨ä»å¯¹æ¢åŒºè°ƒå…¥æ‰€éœ€é¡µé¢ï¼Œä»¥æé«˜è°ƒé¡µçš„é€Ÿåº¦ã€‚<br>ï¼ˆ2ï¼‰æ–‡ä»¶åŒºã€å¯¹æ¢åŒºï¼šç³»ç»Ÿç¼ºå°‘è¶³å¤Ÿçš„å¯¹æ¢åŒºç©ºé—´ï¼Œè¿™æ—¶å‡¡æ˜¯ä¸ä¼šè¢«ä¿®æ”¹çš„æ–‡ä»¶ï¼Œéƒ½ç›´æ¥ä»æ–‡ä»¶åŒºè°ƒå…¥ï¼›è€Œå½“æ¢å‡ºè¿™äº›é¡µé¢æ—¶ï¼Œç”±äºå®ƒä»¬æœªè¢«ä¿®æ”¹è€Œä¸å¿…å†å°†å®ƒä»¬æ¢å‡ºï¼Œä»¥åå†è°ƒå…¥æ—¶ï¼Œä»ä»<strong>æ–‡ä»¶åŒº</strong>ç›´æ¥è°ƒå…¥ã€‚ ä½†å¯¹äºé‚£äº›å¯èƒ½è¢«ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œåœ¨å°†å®ƒä»¬æ¢å‡ºæ—¶ï¼Œä¾¿é¡»è°ƒåˆ°<strong>å¯¹æ¢åŒº</strong>ï¼Œä»¥åéœ€è¦æ—¶ï¼Œå†ä»å¯¹æ¢åŒºè°ƒå…¥ã€‚<br>ï¼ˆ3ï¼‰UNIXæ–¹å¼ã€‚ç”±äºä¸è¿›ç¨‹æœ‰å…³çš„æ–‡ä»¶éƒ½æ”¾åœ¨æ–‡ä»¶åŒºï¼Œåº”ä»æ–‡ä»¶åŒºè°ƒå…¥ã€‚æ•…å‡¡æ˜¯æœªè¿è¡Œè¿‡çš„é¡µé¢ï¼Œéƒ½åº”ä»æ–‡ä»¶åŒºè°ƒå…¥ã€‚è€Œå¯¹äºæ›¾ç»è¿è¡Œè¿‡ä½†åˆè¢«æ¢å‡ºçš„é¡µé¢ï¼Œç”±äºæ˜¯è¢«æ”¾åœ¨å¯¹æ¢åŒºï¼Œå› æ­¤åœ¨ä¸‹æ¬¡è°ƒå…¥æ—¶ï¼Œåº”ä»å¯¹æ¢åŒºè°ƒå…¥ã€‚</p>
<p><em>é¡µé¢è°ƒå…¥è¿‡ç¨‹ï¼Ÿ</em></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_15-22-39.png"></p>
<p><em>ç¼ºé¡µç‡</em></p>
<p>å‡è®¾ï¼šé€»è¾‘ç©ºé—´ä¸ºné¡µï¼Œå†…å­˜ç‰©ç†å—æ•°ä¸ºm(m&lt;&#x3D;n)ï¼Œåœ¨è¿è¡ŒæœŸé—´è®¿é—®é¡µé¢æˆåŠŸSæ¬¡ï¼Œå¤±è´¥Fæ¬¡ï¼Œæ€»è®¿é—®æ¬¡æ•°ä¸ºA&#x3D;S+Fæ¬¡ï¼Œåˆ™ç¼ºé¡µç‡ä¸ºï¼šf&#x3D;F&#x2F;A</p>
<p>ç¼ºé¡µç‡çš„å½±å“å› ç´ ï¼š</p>
<blockquote>
<p>é¡µé¢å¤§å°<br>è¿›ç¨‹æ‰€åˆ†é…ç‰©ç†å—çš„æ•°ç›®<br>é¡µé¢ç½®æ¢ç®—æ³•<br>ç¨‹åºçš„å›ºæœ‰ç‰¹æ€§</p>
</blockquote>
<p>è¯·æ±‚åˆ†é¡µç®¡ç†è¿‡ç¨‹ä¸­ï¼Œä½œä¸šåœ°å€ç©ºé—´åŒæ ·å—åˆ°å†…å­˜å®¹é‡å¤§å°çš„é™åˆ¶ã€‚é”™è¯¯</p>
<p>ç³»ç»Ÿæ˜¯é€šè¿‡ ()ã€()å’Œ()æ¥å®ç°åŠ¨æ€åˆ†é¡µç®¡ç†çš„ï¼Œåˆ†åˆ«ç”¨ä»¥è§£å†³ä½•æ—¶æŠŠä½œä¸šéœ€è¦çš„ä¿¡æ¯æŒ‰()ä»å¤–å­˜è°ƒå…¥å†…å­˜ï¼›å†…å­˜ä¸­æ— ç©ºé—²é¡µæ¡†ï¼Œå¦‚ä½•å°†å·²å æ®çš„é¡µæ¡†é‡Šæ”¾ï¼›å®Œæˆè™šæ‹Ÿåœ°å€å˜æ¢ä¸ºå¯¹åº”çš„ç‰©ç†åœ°å€ã€‚(è°ƒå…¥ç­–ç•¥ï¼Œæ›¿æ¢ç­–ç•¥ï¼Œåœ°å€å˜æ¢ï¼Œä¸€å®šè§„åˆ™ï¼›)</p>
<p>å†…å­˜æ‰©å……çš„æ¦‚å¿µæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨ç‰©ç†ä¸Šè¿›è¡Œæ‰©å……ï¼Œä¸ºç³»ç»Ÿå¢é…æ›´å¤šçš„å­˜å‚¨èŠ¯ç‰‡ï¼Œä»¥æ‰©å¤§ ()ï¼›å¦ä¸€ç§æ˜¯åˆ©ç”¨ç›®å‰æœºå™¨ä¸­å®é™…å†…å­˜ç©ºé—´ï¼Œå€ŸåŠ©è½¯ä»¶æŠ€æœ¯ï¼Œå®ç°å†…å­˜æ‰©å……ï¼Œç§°ä¸º()ï¼Œä¸»è¦æŠ€æœ¯æœ‰()å’Œ()ä¸¤ç§ã€‚(ç‰©ç†ç©ºé—´ï¼Œè™šæ‹Ÿå†…å­˜ï¼Œè¯·æ±‚åˆ†é¡µç®¡ç†ï¼Œè¯·æ±‚åˆ†æ®µç®¡ç†ï¼›)</p>
<h3 id="é¡µé¢ç½®æ¢ç®—æ³•"><a href="#é¡µé¢ç½®æ¢ç®—æ³•" class="headerlink" title="é¡µé¢ç½®æ¢ç®—æ³•"></a>é¡µé¢ç½®æ¢ç®—æ³•</h3><h4 id="æœ€ä½³ç½®æ¢ç®—æ³•-Optimal"><a href="#æœ€ä½³ç½®æ¢ç®—æ³•-Optimal" class="headerlink" title="æœ€ä½³ç½®æ¢ç®—æ³•(Optimal)"></a>æœ€ä½³ç½®æ¢ç®—æ³•(Optimal)</h4><p>æœ€ç†æƒ³çš„é¡µé¢ç½®æ¢ç­–ç•¥æ˜¯ï¼š<em><strong>ä»ä¸»å­˜ä¸­ç§»å‡ºæ°¸è¿œä¸å†éœ€è¦çš„é¡µé¢ï¼›å¦‚æ— è¿™æ ·çš„é¡µé¢å­˜åœ¨ï¼Œåˆ™åº”é€‰æ‹©æœ€é•¿æ—¶é—´ä¸éœ€è¦è®¿é—®çš„é¡µé¢</strong></em>ã€‚ æœ€ä½³ç½®æ¢ç®—æ³•æ˜¯ä¸€ç§ç†æƒ³åŒ–çš„ç®—æ³•ï¼Œå®ƒå…·æœ‰æœ€å¥½<br>çš„æ€§èƒ½ï¼Œä½†å®é™…ä¸Šå´éš¾äºå®ç°ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_15-27-38.png"></p>
<h4 id="å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•-FIFO"><a href="#å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•-FIFO" class="headerlink" title="å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•(FIFO)"></a>å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•(FIFO)</h4><p>è¯¥ç®—æ³•çš„å®è´¨æ˜¯ï¼šæ€»æ˜¯é€‰æ‹©ä½œä¸šä¸­é©»ç•™æ—¶é—´æœ€é•¿(å³æœ€è€)çš„ä¸€é¡µæ·˜æ±°ã€‚å³ï¼šå…ˆè¿›å…¥ä¸»å­˜çš„é¡µé¢å…ˆé€€å‡ºä¸»å­˜ã€‚ç®—æ³•å®ç°æ¯”è¾ƒå®¹æ˜“ï¼Œå¦‚åˆ†é…ç»™ä¸€ä¸ªä½œä¸šçš„å­˜å‚¨å—æ•°ä¸ºmï¼Œåªéœ€å»ºç«‹ä¸€ä¸ªmä¸ªå…ƒç´ çš„é˜Ÿåˆ—è¡¨Q(0)ã€Q(1)ã€â€¦ã€Q(m-1)å’Œä¸€ä¸ªæ›¿æ¢æŒ‡é’ˆã€‚è¯¥é˜Ÿåˆ—æ˜¯æŒ‰é¡µé¢è°ƒå…¥ä¸»å­˜çš„å…ˆåé¡ºåºæ’åˆ—çš„ï¼Œè€Œ<strong>æŒ‡é’ˆå§‹ç»ˆæŒ‡å‘æœ€æ—©è°ƒå…¥ä¸»å­˜çš„ä¸€é¡µ</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_15-29-09.png"></p>
<p>1ã€è¯¥ç®—æ³•çš„å‡ºå‘ç‚¹æ˜¯æœ€æ—©è°ƒå…¥å†…å­˜çš„é¡µé¢ä¸å†è¢«è®¿é—®çš„å¯èƒ½æ€§ä¼šå¤§ä¸€äº›ã€‚<br>2ã€è¯¥ç®—æ³•å®ç°æ¯”è¾ƒç®€å•ï¼Œå¯¹å…·æœ‰çº¿æ€§é¡ºåºè®¿é—®çš„ç¨‹åºæ¯”è¾ƒåˆé€‚ï¼Œè€Œå¯¹å…¶ä»–æƒ…å†µæ•ˆç‡ä¸é«˜ã€‚å› ä¸ºç»å¸¸è¢«è®¿é—®çš„é¡µé¢ï¼Œå¾€å¾€åœ¨å†…å­˜ä¸­åœç•™æœ€ä¹…ï¼Œç»“æœè¿™äº›å¸¸ç”¨çš„é¡µé¢å´å› å˜è€è€Œè¢«æ·˜æ±°ã€‚</p>
<p>å…ˆè¿›å…ˆå‡ºç®—æ³•å­˜åœ¨ä¸€ç§å¼‚å¸¸ç°è±¡ï¼Œå³åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå‡ºç°åˆ†é…ç»™çš„è¿›ç¨‹ç‰©ç†å—æ•°å¢å¤šï¼Œç¼ºé¡µæ¬¡æ•°æœ‰æ—¶å¢åŠ ï¼Œæœ‰æ—¶å‡å°‘çš„å¥‡æ€ªç°è±¡ï¼Œè¿™ç§ç°è±¡ç§°ä¸º<strong>Belady</strong>ç°è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<table>
<thead>
<tr>
<th>ç‰©ç†å—æ•°</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody><tr>
<td>ç¼ºé¡µæ¬¡æ•°</td>
<td>9</td>
<td>10</td>
<td>5</td>
</tr>
</tbody></table>
<h4 id="æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨-LRU-ç½®æ¢ç®—æ³•"><a href="#æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨-LRU-ç½®æ¢ç®—æ³•" class="headerlink" title="æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨(LRU)ç½®æ¢ç®—æ³•"></a>æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨(LRU)ç½®æ¢ç®—æ³•</h4><p>è¿™ç§ç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œåˆ©ç”¨å±€éƒ¨æ€§åŸç†ï¼Œæ ¹æ®ä¸€ä¸ªä½œä¸šåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è¿‡å»çš„é¡µé¢è®¿é—®è¸ªè¿¹æ¥æ¨æµ‹æœªæ¥çš„è¡Œä¸ºã€‚å®ƒè®¤ä¸ºè¿‡å»ä¸€æ®µæ—¶é—´é‡Œä¸æ›¾è¢«è®¿é—®è¿‡çš„é¡µé¢ï¼Œåœ¨æœ€è¿‘çš„å°†<br>æ¥å¯èƒ½ä¹Ÿä¸ä¼šå†è¢«è®¿é—®ã€‚<br>ç®—æ³•çš„å®è´¨æ˜¯ï¼šå½“éœ€è¦ç½®æ¢ä¸€é¡µé¢æ—¶ï¼Œé€‰æ‹©åœ¨æœ€è¿‘ä¸€æ®µæ—¶é—´å†…æœ€ä¹…ä¸ç”¨çš„é¡µé¢äºˆä»¥æ·˜æ±°ã€‚<br>å®ç°è¿™ç§æŠ€æœ¯ï¼Œæ˜¯é€šè¿‡å‘¨æœŸæ€§åœ°å¯¹â€œé¡µé¢è®¿é—®â€ä½è¿›è¡Œæ£€æŸ¥ï¼Œå¹¶åˆ©ç”¨å®ƒæ¥è®°å½•ä¸€ä¸ªé¡µé¢è‡ªä¸Šæ¬¡è®¿é—®ä»¥æ¥æ‰€ç»å†çš„æ—¶é—´ t ï¼Œå¹¶é€‰æ‹© t ä¸ºæœ€å¤§çš„é¡µäºˆä»¥æ·˜æ±°ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_15-38-21.png"></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹äºä»»ä½•ä¸€ä¸ªé¡µçš„è®¿é—®é¡ºåº(æˆ–åºåˆ—)å’Œä»»ä½•ä¸€ç§æ¢é¡µç®—æ³•ï¼Œå¦‚æœåˆ†ç»™çš„ç‰©ç†å—æ•°å¢åŠ ï¼Œåˆ™ç¼ºé¡µ(æ‰€è®¿é—®é¡µä¸åœ¨ä¸»å­˜)çš„é¢‘ç‡åº”è¯¥å‡å°‘ã€‚ä½†è¿™ä¸ªç»“è®ºå¹¶ä¸æ™®éæˆç«‹ï¼Œå¯¹äºæŸäº›é¡µé¢è®¿é—®åºåˆ—ï¼ŒFIFOæœ‰éšç€åˆ†ç»™çš„é¡µæ¶æ•°å¢åŠ ï¼Œç¼ºé¡µé¢‘ç‡ä¹Ÿå¢åŠ çš„å¼‚å¸¸ç°è±¡ã€‚</p>
<p><strong>LRUç®—æ³•</strong>éœ€è¦ä»¥ä¸‹ä¸¤ç±»ç¡¬ä»¶çš„æ”¯æŒï¼š<br>1.å¯„å­˜å™¨ã€‚ç”¨äºè®°å½•æŸè¿›ç¨‹åœ¨å†…å­˜ä¸­å„é¡µä½¿ç”¨æƒ…å†µã€‚<br>2.æ ˆã€‚ç”¨äºä¿å­˜å½“å‰è¿›ç¨‹ä½¿ç”¨çš„å„ä¸ªé¡µé¢çš„é¡µé¢å·ã€‚</p>
<p>ï¼ˆ1ï¼‰ç§»ä½å¯„å­˜å™¨ï¼š<br>ä¸ºäº†è®°å½•æŸè¿›ç¨‹åœ¨å†…å­˜ä¸­å„é¡µçš„ä½¿ç”¨æƒ…å†µï¼Œé¡»ä¸ºæ¯ä¸ªåœ¨å†…å­˜ä¸­çš„é¡µé¢é…ç½®ä¸€ä¸ªç§»ä½å¯„å­˜å™¨å¯è¡¨ç¤ºä¸ºï¼š<br>R&#x3D;Rn-1Rn-2Rn-3Â·Â·Â·R2R1RO</p>
<ul>
<li>å½“è¿›ç¨‹è®¿é—®æŸç‰©ç†å—æ—¶ï¼Œè¦å°†ç›¸åº”å¯„å­˜å™¨çš„æœ€é«˜ä½Rn-1ä½ç½®<br>æˆ1ã€‚ç³»ç»Ÿæ¯éš”ä¸€å®šæ—¶é—´ï¼ˆä¾‹å¦‚100 msï¼‰å°†å¯„å­˜å™¨å³ç§»ä¸€ä½ã€‚</li>
<li>å¦‚æœæˆ‘ä»¬æŠŠnä½å¯„å­˜å™¨çš„æ•°çœ‹ä½œæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆï¼Œå…·æœ‰æœ€<br>å°æ•°å€¼çš„å¯„å­˜å™¨æ‰€å¯¹åº”çš„é¡µé¢ï¼Œå°±æ˜¯æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„é¡µé¢ã€‚</li>
</ul>
<p>ä¾‹ï¼šæŸè¿›ç¨‹åœ¨å†…å­˜ä¸­å…·æœ‰8ä¸ªé¡µé¢<br>R&#x3D; R7 R6 R5 R4 R3 R2 R1 R0ï¼Œæ¯100mså°†å¯„å­˜å™¨å³ç§»ä¸€ä½ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_15-41-09.png"></p>
<p>(2) æ ˆã€‚æ¯å½“è¿›ç¨‹è®¿é—®æ—¶æŸé¡µé¢æ—¶ï¼Œä¾¿å°†è¯¥é¡µé¢å·ä»<strong>æ ˆä¸­ç§»å‡ºï¼Œå‹å…¥æ ˆé¡¶</strong>ã€‚è¿™æ ·æ ˆåº•åˆ™æ˜¯æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨é¡µé¢çš„é¡µé¢å·ã€‚ ä¾‹å¦‚:å‡å®šä¸€è¿›ç¨‹è®¿é—®æŸé¡µé¢çš„æ—¶é¡µé¢å·å¦‚ä¸‹(5ä¸ªå­˜å‚¨å—ï¼‰ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_15-41-21.png"></p>
<h4 id="æœ€å°‘ä½¿ç”¨ç½®æ¢ç®—æ³•LFU"><a href="#æœ€å°‘ä½¿ç”¨ç½®æ¢ç®—æ³•LFU" class="headerlink" title="æœ€å°‘ä½¿ç”¨ç½®æ¢ç®—æ³•LFU"></a>æœ€å°‘ä½¿ç”¨ç½®æ¢ç®—æ³•LFU</h4><p>æœ€å°‘ä½¿ç”¨ç½®æ¢ç®—æ³•LFUï¼ˆLeast Frequently Used)é€‰æ‹©åˆ°å½“å‰æ—¶é—´ä¸ºæ­¢è¢«è®¿é—®æ¬¡æ•°æœ€å°‘çš„é¡µé¢è¢«ç½®æ¢ã€‚<br>1ã€åŸºæœ¬æ–¹æ³•ï¼š<br>è®°å½•æ¯ä¸ªé¡µé¢çš„è®¿é—®æ¬¡æ•°ï¼Œæœ€å°‘è®¿é—®çš„é¡µé¢é¦–å…ˆè€ƒè™‘æ·˜æ±°<br>2ã€å®é™…é‡‡å–æ–¹æ³•<br>ä¸ºé¡µé¢è®¾ç½®ç§»ä½å¯„å­˜å™¨ã€‚<br>ä¸LRUçš„åŒºåˆ«ï¼šR1&#x3D;10000000ï¼ŒR2&#x3D;01110100<br>LRUâ€”â€”â€”-æ·˜æ±°R2<br>LFUâ€”â€”â€”-æ·˜æ±°R1</p>
<h4 id="ç®€å•çš„Clockç½®æ¢ç®—æ³•ï¼ˆNRUï¼‰"><a href="#ç®€å•çš„Clockç½®æ¢ç®—æ³•ï¼ˆNRUï¼‰" class="headerlink" title="ç®€å•çš„Clockç½®æ¢ç®—æ³•ï¼ˆNRUï¼‰"></a>ç®€å•çš„Clockç½®æ¢ç®—æ³•ï¼ˆNRUï¼‰</h4><p>å½“é‡‡ç”¨ç®€å•clockç®—æ³•æ—¶ï¼Œä¸ºæ¯é¡µè®¾ç½®ä¸€ä½è®¿é—®ä½ï¼Œå†å°†å†…å­˜ä¸­çš„æ‰€æœ‰é¡µé¢éƒ½é€šè¿‡é“¾æ¥æŒ‡é’ˆé“¾æ¥æˆä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—ã€‚<br>â¢å½“æŸé¡µè¢«è®¿é—®æ—¶ï¼Œå…¶è®¿é—®ä½è¢«ç½®1ã€‚<br>â¢ç½®æ¢ç¨‹åºä»<strong>ä¸Šæ¬¡åœæ­¢ä½ç½®</strong>å¼€å§‹æ£€æŸ¥é¡µé¢çš„è®¿é—®ä½ã€‚<br>â¢å¦‚æœæ˜¯0ï¼Œå°±é€‰æ‹©è¯¥é¡µæ¢å‡ºï¼›<br>â¢è‹¥ä¸º1ï¼Œåˆ™é‡æ–°å°†å®ƒç½®0ï¼Œæš‚ä¸æ¢å‡ºï¼Œè€Œç»™è¯¥é¡µç¬¬äºŒæ¬¡é©»ç•™å†…å­˜çš„æœºä¼šã€‚<br>â¢ç”±äºè¯¥ç®—æ³•æ˜¯å¾ªç¯åœ°æ£€æŸ¥å„é¡µé¢çš„ä½¿ç”¨æƒ…å†µï¼Œæ•…ç§°ä¸ºclockç®—æ³•ã€‚ç½®æ¢æ—¶æ˜¯å°†æœªä½¿ç”¨è¿‡çš„é¡µé¢æ¢å‡ºå»ï¼Œæ•…åˆæŠŠè¯¥ç®—æ³•ç§°ä¸ºæœ€è¿‘æœªç”¨ç®—æ³•NRUã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_15-42-14.png"></p>
<h4 id="æ”¹è¿›å‹Clockç½®æ¢ç®—æ³•"><a href="#æ”¹è¿›å‹Clockç½®æ¢ç®—æ³•" class="headerlink" title="æ”¹è¿›å‹Clockç½®æ¢ç®—æ³•"></a>æ”¹è¿›å‹Clockç½®æ¢ç®—æ³•</h4><p>ç³»ç»ŸæŠŠä¸€ä¸ªé¡µé¢ç§»å‡ºå†…å­˜æ—¶ï¼Œå¦‚æœè¯¥é¡µé¢é©»ç•™å†…å­˜æœŸé—´æ²¡æœ‰è¢«ä¿®æ”¹è¿‡ï¼Œé‚£ä¹ˆä¸å¿…æŠŠå®ƒå†™å›è¾…å­˜ï¼Œå¦åˆ™ç³»ç»Ÿå¿…é¡»æŠŠå®ƒå†™å›è¾…å­˜ã€‚è¿™è¡¨æ˜ï¼Œæ¢å‡ºæœªä¿®æ”¹è¿‡çš„é¡µé¢æ¯”æ¢å‡ºè¢«ä¿®æ”¹è¿‡çš„é¡µé¢å¼€é”€å°ã€‚<br>â– æ˜¾ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¾æ®ä¸Šè¿°ç»“è®ºæ”¹è¿›CLOCKç®—æ³•ã€‚æ”¹è¿›åçš„CLOCKç®—æ³•å°†åœ¨ç½®æ¢èŒƒå›´å†…é¦–é€‰ï¼š<br>â– <em><strong>åœ¨æœ€è¿‘æ²¡æœ‰è¢«ä½¿ç”¨è¿‡</strong></em>ï¼›<br>â– <em><strong>åœ¨é©»ç•™å†…å­˜æœŸé—´æ²¡æœ‰è¢«ä¿®æ”¹è¿‡çš„é¡µé¢ä½œä¸ºè¢«ç½®æ¢é¡µé¢</strong></em>ã€‚<br>â¢ç”±è®¿é—®ä½Aå’Œä¿®æ”¹ä½Må¯ä»¥ç»„åˆæˆä¸‹é¢å››ç§ç±»å‹<br>çš„é¡µé¢ï¼š<br>â¢1ç±»ï¼ˆA&#x3D;0ï¼ŒM&#x3D;0ï¼‰ï¼šè¡¨ç¤ºè¯¥é¡µæœ€è¿‘æ—¢æœªå½¼è®¿é—®ï¼Œåˆæœªè¢«ä¿®æ”¹ï¼Œæ˜¯æœ€ä½³æ·˜æ±°é¡µã€‚<br>â¢2ç±»ï¼ˆA&#x3D;0ï¼ŒM&#x3D;1ï¼‰ï¼šè¡¨ç¤ºè¯¥é¡µæœ€è¿‘æœªè¢«è®¿é—®ï¼Œä½†å·²è¢«ä¿®æ”¹ï¼Œå¹¶ä¸æ˜¯å¾ˆå¥½çš„æ·˜æ±°é¡µã€‚<br>â¢3ç±»ï¼ˆA&#x3D;1ï¼ŒM&#x3D;0ï¼‰ï¼šæœ€è¿‘å·²è¢«è®¿é—®ï¼Œä½†æœªè¢«ä¿®æ”¹ï¼šè¯¥é¡µæœ‰å¯èƒ½å†è¢«è®¿é—®ã€‚<br>â¢4ç±»ï¼ˆA&#x3D;1ï¼ŒM&#x3D;1ï¼‰ï¼šæœ€è¿‘å·²è¢«è®¿é—®ä¸”è¢«ä¿®æ”¹ï¼Œè¯¥é¡µå¯èƒ½å†è¢«è®¿é—®ã€‚<br>æ‰§è¡Œè¿‡ç¨‹å¯åˆ†æˆä»¥ä¸‹ä¸‰æ­¥ï¼š</p>
<blockquote>
<p>ï¼ˆ1ï¼‰ä»æŒ‡é’ˆæ‰€æŒ‡ç¤ºçš„å½“å‰ä½ç½®å¼€å§‹ï¼Œæ‰«æå¾ªç¯é˜Ÿåˆ—ï¼Œå¯»æ‰¾A&#x3D;0ä¸”M&#x3D;0çš„ç¬¬ä¸€ç±»é¡µé¢ï¼Œå°†æ‰€é‡åˆ°çš„ç¬¬ä¸€ä¸ªé¡µé¢ä½œä¸ºæ‰€é€‰ä¸­çš„æ·˜æ±°é¡µã€‚åœ¨ç¬¬ä¸€æ¬¡æ‰«ææœŸé—´ä¸æ”¹å˜è®¿é—®ä½Aã€‚<br>ï¼ˆ2ï¼‰å¦‚æœç¬¬ä¸€æ­¥å¤±è´¥ï¼Œå³æŸ¥æ‰¾ä¸€å‘¨åæœªé‡åˆ°<strong>ç¬¬ä¸€ç±»é¡µé¢</strong>ï¼Œåˆ™å¼€å§‹ç¬¬äºŒè½®æ‰«æï¼Œå¯»æ‰¾A&#x3D;0ä¸”Mï¼1çš„<strong>ç¬¬äºŒç±»é¡µé¢</strong>ï¼Œå°†æ‰€é‡åˆ°çš„ç¬¬ä¸€ä¸ªè¿™ç±»é¡µé¢ä½œä¸ºæ·˜æ±°é¡µã€‚<em><strong>åœ¨ç¬¬äºŒè½®æ‰«ææœŸé—´ï¼Œå°†æ‰€æœ‰æ‰«æè¿‡çš„é¡µé¢çš„è®¿é—®ä½Aéƒ½ç½®0</strong></em>ã€‚<br>ï¼ˆ3ï¼‰å¦‚æœç¬¬äºŒæ­¥ä¹Ÿå¤±è´¥ï¼Œäº¦å³æœªæ‰¾åˆ°ç¬¬äºŒç±»é¡µé¢ï¼Œåˆ™å°†æŒ‡é’ˆè¿”å›åˆ°å¼€å§‹çš„ä½ç½®ï¼Œå¹¶å°†æ‰€æœ‰çš„è®¿é—®ä½å¤0ã€‚ç„¶åé‡å¤ç¬¬ä¸€æ­¥ï¼Œå¦‚æœä»å¤±è´¥ï¼Œå¿…è¦æ—¶å†é‡å¤ç¬¬äºŒæ­¥ï¼Œæ­¤æ—¶ä¸€å®šèƒ½æ‰¾åˆ°è¢«æ·˜æ±°çš„é¡µ ã€‚</p>
</blockquote>
<h2 id="æŠ–åŠ¨ä¸å·¥ä½œé›†"><a href="#æŠ–åŠ¨ä¸å·¥ä½œé›†" class="headerlink" title="æŠ–åŠ¨ä¸å·¥ä½œé›†"></a>æŠ–åŠ¨ä¸å·¥ä½œé›†</h2><p>æœ‰æ•ˆè®¿é—®æ—¶é—´æ˜¯æŒ‡è®¿é—®å­˜å‚¨å™¨æ‰€éœ€æ—¶é—´çš„å¹³å‡å€¼ã€‚å‡è®¾ä½¿ç”¨äº†å¿«è¡¨ï¼Œåˆ™CPUè®¿é—®å†…å­˜æ—¶æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š<br>è®¾å†…å­˜è¯»å†™å‘¨æœŸä¸ºtï¼ŒæŸ¥æ‰¾å¿«è¡¨æ—¶é—´ä¸ºÎ»ï¼Œç¼ºé¡µä¸­æ–­å¤„ç†æ—¶é—´ä¸ºÉ›</p>
<ul>
<li>é¡µé¢åœ¨å†…å­˜ä¸”é¡µè¡¨é¡¹åœ¨å¿«è¡¨ä¸­ï¼šåªéœ€ä¸€æ¬¡è®¿é—®å†…å­˜<br>EAT&#x3D; Î» + t</li>
<li>é¡µé¢åœ¨å†…å­˜ä½†é¡µè¡¨é¡¹ä¸åœ¨å¿«è¡¨ä¸­ï¼šéœ€ä¸¤æ¬¡è®¿é—®å†…å­˜ï¼Œä¸€æ¬¡è¯»å–é¡µ<br>è¡¨ï¼Œä¸€æ¬¡è¯»å–æ•°æ®ï¼Œå¦å¤–è¿˜éœ€æ›´æ–°å¿«è¡¨ã€‚<br>EAT&#x3D; Î» + t + t + Î»&#x3D;2(Î» + t)</li>
<li>é¡µé¢ä¸åœ¨å†…å­˜ï¼šè€ƒè™‘æŸ¥æ‰¾å¿«è¡¨æ—¶é—´ã€æŸ¥æ‰¾é¡µè¡¨æ—¶é—´ã€ç¼ºé¡µä¸­æ–­å¤„<br>ç†æ—¶é—´ã€æ›´æ–°å¿«è¡¨æ—¶é—´ã€è®¿é—®å®é™…ç‰©ç†åœ°å€æ—¶é—´<br>EAT&#x3D; Î» + t +É› + Î» + t &#x3D; É› + 2(Î» + t)<br>å¼•å…¥å¿«è¡¨å‘½ä¸­ç‡ä¸ºÎ±ï¼Œç¼ºé¡µä¸­æ–­ç‡ä¸ºfï¼Œåˆ™æœ‰æ•ˆè®¿é—®å†…å­˜<br>æ—¶é—´ä¸ºï¼š<br>EAT&#x3D; Î» + Î± t + (1- Î±)[t + f(t +É› +Î») + (1-f)(t+Î»)]</li>
</ul>
<p>å½“è¿›ç¨‹è¦æ±‚è£…å…¥æ–°çš„é¡µé¢æˆ–ç¨‹åºæ®µæ—¶ï¼Œå¦‚æœå½“å‰æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—²ç©ºé—´ï¼Œéœ€è¦äº¤æ¢ä¸€äº›é¡µé¢æˆ–æ®µåˆ°å¤–å­˜ã€‚å¦‚æœè¢«äº¤æ¢å‡ºå»çš„é¡µé¢æˆ–æ®µå¾ˆå¿«å°†è¢«è¿›ç¨‹ä½¿ç”¨ï¼Œåˆ™<br>åˆéœ€è¦å°†å…¶æ¢å…¥å†…å­˜ã€‚<br>å¦‚æœç³»ç»ŸèŠ±è´¹å¤§é‡çš„æ—¶é—´æŠŠç¨‹åºå’Œæ•°æ®é¢‘ç¹åœ°æ¢å…¥å’Œæ¢å‡ºå†…å­˜è€Œä¸æ˜¯æ‰§è¡Œç”¨æˆ·æŒ‡ä»¤ï¼Œé‚£ä¹ˆï¼Œç§°ç³»ç»Ÿå‡ºç°äº†<strong>æŠ–åŠ¨</strong>ã€‚å‡ºç°æŠ–åŠ¨ç°è±¡æ—¶ï¼Œç³»ç»Ÿæ˜¾å¾—éå¸¸ç¹å¿™ï¼Œä½†æ˜¯ååé‡å¾ˆä½ï¼Œç”šè‡³äº§å‡ºä¸ºé›¶ã€‚<br>æ ¹æœ¬åŸå› ï¼šé€‰æ‹©çš„é¡µé¢æˆ–æ®µä¸æ°å½“ã€‚æ˜¾ç„¶ï¼Œé˜²æ­¢çš„æ ¹æœ¬æ‰‹æ®µç»™è¿›ç¨‹åˆ†é…è¶³å¤Ÿå¤šçš„å¸§ã€‚</p>
<p><strong>æŠ–åŠ¨</strong>ï¼šå¦‚æœè¿è¡Œè¿›ç¨‹çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½ç”¨äºé¡µé¢çš„æ¢å…¥&#x2F;æ¢å‡ºï¼Œè€Œå‡ ä¹ä¸èƒ½å®Œæˆä»»ä½•æœ‰æ•ˆçš„å·¥ä½œï¼Œåˆ™ç§°æ­¤è¿›ç¨‹å¤„äºæŠ–åŠ¨çŠ¶æ€ã€‚æŠ–åŠ¨åˆç§°ä¸ºé¢ ç°¸ã€‚<br>æŠ–åŠ¨åˆ†ä¸ºï¼š</p>
<ul>
<li><p>å±€éƒ¨æŠ–åŠ¨</p>
</li>
<li><p>å…¨å±€æŠ–åŠ¨</p>
</li>
</ul>
<p>æŠ–åŠ¨äº§ç”Ÿçš„åŸå› æœ‰ï¼š</p>
<blockquote>
<p>è¿›ç¨‹åˆ†é…çš„ç‰©ç†å—å¤ªå°‘<br>ç½®æ¢ç®—æ³•é€‰æ‹©ä¸å½“<br>å…¨å±€ç½®æ¢ä½¿æŠ–åŠ¨ä¼ æ’­</p>
</blockquote>
<p>åªè¦åˆ†é…çš„å¸§ç©ºé—´èƒ½è¦†ç›–æ•´ä¸ªå±€éƒ¨å°±ä¸ä¼šå‡ºç°å¤ªå¤šçš„ç¼ºé¡µ!å·¥ä½œé›†æ¨¡å‹å°±ç”¨æ¥è®¡ç®—ä¸€ä¸ªå±€éƒ¨çš„å®½åº¦(å¸§æ•°)ã€‚</p>
<p>å·¥ä½œé›†å®šä¹‰ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_16-08-44.png"></p>
<h2 id="è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼"><a href="#è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼" class="headerlink" title="è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼"></a>è¯·æ±‚åˆ†æ®µå­˜å‚¨ç®¡ç†æ–¹å¼</h2><p>ä¸€ã€<strong>æ®µè¡¨æœºåˆ¶</strong><br>åœ¨è™šæ‹Ÿå­˜å‚¨ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ®µè¡¨ï¼Œå…¶æ®µæè¿°å­å¢åŠ äº”ä¸ªä¿¡æ¯æ ‡è¯†ä½ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_16-09-13.png"></p>
<p>(1)çŠ¶æ€ä½(å­˜åœ¨ä½)Pï¼šç”¨äºè¯´æ˜è¯¥æ®µæ˜¯å¦å·²è°ƒå…¥å†…å­˜ï¼Œä¾›ç¨‹åºè®¿é—®æ—¶å‚è€ƒï¼›<br>P&#x3D;0ï¼Œè¯¥æ®µä¸åœ¨å†…å­˜ã€‚P&#x3D;1ï¼Œè¯¥æ®µåœ¨å†…å­˜<br>(2)è®¿é—®ä½Aï¼šç”¨äºè®°å½•æœ¬æ®µåœ¨ä¸€æ®µæ—¶é—´å†…è¢«è®¿é—®çš„æ¬¡æ•°ï¼Œæä¾›ç»™ç½®æ¢ç®—æ³•é€‰æ‹©æ¢å‡ºæ®µæ—¶å‚è€ƒã€‚A&#x3D;0ï¼Œè¯¥æ®µæœªè¢«è®¿é—®ã€‚ A&#x3D;1ï¼Œè¯¥æ®µè¢«è®¿é—®<br>(3)ä¿®æ”¹ä½Mï¼šç”¨äºè¡¨ç¤ºè¯¥æ®µåœ¨è°ƒå…¥å†…å­˜åæ˜¯å¦è¢«ä¿®æ”¹è¿‡ï¼Œä¹Ÿæ˜¯æä¾›ç»™ç½®æ¢ç®—æ³•åœ¨æ¢å‡ºæ®µæ—¶æ˜¯å¦å°†è¯¥æ®µå†™å›å¤–å­˜ä½œå‚è€ƒã€‚M&#x3D;0ï¼Œè¯¥æ®µåœ¨å†…å­˜ä¸­æœªè¢«ä¿®æ”¹ã€‚M&#x3D;1ï¼Œè¯¥æ®µåœ¨å†…å­˜ä¸­å·²ç»è¢«ä¿®æ”¹<br>(4)å¤–å­˜åœ°å€ï¼šç”¨äºæŒ‡å‡ºè¯¥æ®µåœ¨å¤–å­˜ä¸Šçš„åœ°å€ï¼Œä¾›è°ƒå…¥è¯¥æ®µæ—¶ä½¿ç”¨ã€‚<br>(5)å¢è¡¥ä½ï¼šè¯´æ˜è¯¥åˆ†æ®µæ˜¯å¦å…è®¸æ‰©å±•ï¼Œæ­¤å¤–å¦‚è¯¥æ®µå·²è¢«å¢è¡¥ï¼Œåˆ™åœ¨å†™å›è¾…å­˜æ—¶ï¼Œéœ€å¦é€‰æ‹©è¾…å­˜ç©ºé—´ï¼›</p>
<p> äºŒã€<strong>ç¼ºé¡µä¸­æ–­æœºæ„</strong>ï¼Œè¿›ç¨‹è¿è¡Œæ—¶å‘ç°æ‰€éœ€çš„æ®µå°šæœªè°ƒå…¥å†…å­˜ï¼Œä¾¿ç”±ç¼ºæ®µä¸­æ–­æœºæ„äº§ç”Ÿä¸€ä¸ªç¼ºæ®µä¸­æ–­ä¿¡å·ï¼Œè¿›å…¥OSåç”±ç¼ºæ®µä¸­æ–­å¤„ç†ç¨‹åºå°†æ‰€éœ€è¦çš„æ®µè°ƒå…¥å†…å­˜ã€‚éœ€è¦åœ¨ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡ŒæœŸé—´ï¼Œäº§ç”Ÿå’Œå¤„ç†ä¸­æ–­ï¼Œä»¥åŠä¸€æ¡æŒ‡ä»¤æ‰§è¡ŒæœŸé—´ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¤šæ¬¡ç¼ºæ®µä¸­æ–­ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_16-10-24.png"></p>
<p>ä¸‰ã€<strong>åœ°å€å˜æ¢æœºæ„</strong>ï¼Œå…¶åœ¨åˆ†æ®µç³»ç»Ÿåœ°å€å˜æ¢æœºæ„åŸºç¡€ä¸Šå½¢æˆï¼Œå¢åŠ äº†ç¼ºæ®µä¸­æ–­çš„è¯·æ±‚å’Œå¤„ç†åŠŸèƒ½ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_16-10-35.png"></p>
<p>ä¸ºäº†å®ç°åˆ†æ®µå…±äº«ï¼Œå¯åœ¨ç³»ç»Ÿä¸­é…ç½®ä¸€å¼ å…±äº«æ®µè¡¨ï¼Œæ‰€æœ‰å…±äº«æ®µéƒ½åœ¨å…±äº«æ®µè¡¨<br>ä¸­å æœ‰ä¸€ä¸ªè¡¨é¡¹ã€‚</p>
<p>å…±äº«è¿›ç¨‹è®¡æ•°ï¼šè®°å½•æœ‰å¤šå°‘è¿›ç¨‹å…±äº«è¯¥æ®µã€‚<br>å­˜å–æ§åˆ¶å­—æ®µï¼šå¯¹åŒä¸€å…±äº«æ®µï¼Œä¸åŒè¿›ç¨‹æœ‰ä¸åŒçš„æ“ä½œæƒé™ã€‚<br>æ®µå·ï¼šå…±äº«æ®µåœ¨ä¸åŒè¿›ç¨‹ä¸­æœ‰ä¸åŒçš„æ®µå·ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_16-10-50.png"></p>
<p>å…±äº«æ®µçš„åˆ†é…ä¸å›æ”¶</p>
<ul>
<li><p>å…±äº«æ®µçš„åˆ†é…<br>åœ¨ä¸ºå…±äº«æ®µåˆ†é…å†…å­˜æ—¶ï¼Œå¯¹ç¬¬ä¸€ä¸ªè¯·æ±‚ä½¿ç”¨è¯¥å…±äº«æ®µçš„è¿›ç¨‹ï¼Œç”±ç³»ç»Ÿä¸ºè¯¥å…±äº«æ®µåˆ†é…ä¸€ç‰©ç†åŒºï¼Œå†æŠŠå…±äº«æ®µè°ƒå…¥è¯¥åŒºï¼ŒåŒæ—¶å°†è¯¥åŒºçš„å§‹å€å¡«å…¥è¯·æ±‚è¿›ç¨‹çš„æ®µè¡¨çš„ç›¸åº”é¡¹ä¸­ï¼Œè¿˜é¡»åœ¨å…±äº«æ®µè¡¨ä¸­å¢åŠ ä¸€è¡¨é¡¹ï¼Œå¡«å†™æœ‰å…³æ•°æ®ï¼ŒæŠŠcountç½®ä¸º1ï¼›ä¹‹åï¼Œå½“åˆæœ‰å…¶å®ƒè¿›ç¨‹éœ€è¦è°ƒç”¨è¯¥å…±äº«æ®µæ—¶ï¼Œç”±äºè¯¥å…±äº«æ®µå·²è¢«è°ƒå…¥å†…å­˜ï¼Œæ•…æ­¤æ—¶æ— é¡»å†ä¸ºè¯¥æ®µåˆ†é…å†…å­˜ï¼Œè€Œåªéœ€åœ¨è°ƒç”¨è¿›ç¨‹çš„æ®µè¡¨ä¸­ï¼Œå¢åŠ ä¸€è¡¨é¡¹ï¼Œå¡«å†™è¯¥å…±äº«æ®µçš„ç‰©ç†åœ°å€ï¼›åœ¨å…±<br>äº«æ®µè¡¨ä¸­ï¼Œå¡«ä¸Šè°ƒç”¨è¿›ç¨‹çš„è¿›ç¨‹åã€å­˜å–æ§åˆ¶ç­‰ï¼Œå†æ‰§è¡Œcountï¼šï¼countï¼‹1æ“ä½œï¼Œä»¥è¡¨æ˜æœ‰ä¸¤ä¸ªè¿›ç¨‹å…±äº«è¯¥æ®µã€‚</p>
</li>
<li><p>å…±äº«æ®µçš„å›æ”¶<br>å½“å…±äº«æ­¤æ®µçš„æŸè¿›ç¨‹ä¸å†éœ€è¦è¯¥æ®µæ—¶ï¼Œåº”å°†è¯¥æ®µé‡Šæ”¾ï¼ŒåŒ…æ‹¬æ’¤æ¶ˆè¯¥è¿›ç¨‹æ®µè¡¨ä¸­å…±äº«æ®µæ‰€å¯¹åº”çš„è¡¨é¡¹ï¼Œä»¥åŠæ‰§è¡Œcount:&#x3D;count-1æ“ä½œã€‚è‹¥countç»“æœä¸º0ï¼Œåˆ™é¡»ç”±ç³»ç»Ÿå›æ”¶è¯¥å…±äº«æ®µçš„ç‰©ç†å†…å­˜ï¼Œä»¥åŠå–æ¶ˆåœ¨å…±äº«æ®µè¡¨ä¸­è¯¥æ®µæ‰€å¯¹åº”çš„è¡¨é¡¹ï¼Œè¡¨æ˜æ­¤æ—¶å·²æ²¡æœ‰è¿›ç¨‹ä½¿ç”¨è¯¥æ®µï¼›å¦åˆ™(å‡1ç»“æœä¸ä¸º0)ï¼Œ åˆ™åªæ˜¯å–æ¶ˆè°ƒç”¨è€…è¿›ç¨‹åœ¨å…±äº«æ®µè¡¨ä¸­çš„æœ‰å…³è®°å½•ã€‚</p>
</li>
</ul>
<p><em><strong>ç¯ä¿æŠ¤</strong></em></p>
<p>ä½ç¼–å·çš„ç¯å…·æœ‰é«˜ä¼˜å…ˆæƒã€‚OSæ ¸å¿ƒå¤„äº0ç¯å†…ï¼›æŸäº›é‡è¦çš„å®ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»ŸæœåŠ¡ï¼Œå å±…ä¸­é—´ç¯ï¼›è€Œä¸€èˆ¬çš„åº”ç”¨ç¨‹åºåœ¨å¤–ç¯ä¸Šã€‚</p>
<p>ç¯ä¿æŠ¤çš„åŸºæœ¬åŸåˆ™æ˜¯ï¼š</p>
<ul>
<li>ä¸€ä¸ªç¨‹åºå¯ä»¥è®¿é—®é©»ç•™åœ¨ç›¸åŒç¯æˆ–è¾ƒä½ç‰¹æƒç¯ä¸­çš„<br>æ•°æ®ï¼›</li>
<li>ä¸€ä¸ªç¨‹åºå¯ä»¥è°ƒç”¨é©»ç•™åœ¨ç›¸åŒç¯æˆ–è¾ƒé«˜ç‰¹æƒç¯ä¸­çš„<br>æœåŠ¡ã€‚</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_16-11-18.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-14_16-11-39.png"></p>
<p>åœ¨è™šæ‹Ÿæ®µå¼å­˜å‚¨ç®¡ç†ä¸­ï¼Œè‹¥é€»è¾‘åœ°å€çš„æ®µå†…åœ°å€å¤§äºæ®µè¡¨ä¸­è¯¥æ®µçš„æ®µé•¿ï¼Œåˆ™å‘ç”Ÿ(è¶Šç•Œä¸­æ–­)   ã€‚</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ä¹‹è¿›ç¨‹ç®¡ç†</title>
    <url>/2023/06/15/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/5/</url>
    <content><![CDATA[<h1 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h1><p>æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹ç®¡ç†æ˜¯æ•´ä¸ªæ“ä½œç³»ç»Ÿç®¡ç†ä¸­çš„æ ¸å¿ƒï¼Œå®ƒåŒ…å«äº†è¿›ç¨‹çš„è°ƒåº¦ã€åè°ƒä»¥åŠè¿›ç¨‹é€šä¿¡ã€‚</p>
<h2 id="è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ-ã€æ¯”è¾ƒ"><a href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ-ã€æ¯”è¾ƒ" class="headerlink" title="è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ ã€æ¯”è¾ƒ"></a>è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ ã€æ¯”è¾ƒ</h2><p>â€‹	å…¸å‹çš„è¿›ç¨‹å®šä¹‰æœ‰ï¼š<br>ï¼ˆ1ï¼‰è¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œã€‚<br>ï¼ˆ2ï¼‰è¿›ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºåŠå…¶æ•°æ®åœ¨å¤„ç†æœºä¸Šé¡ºåºæ‰§è¡Œæ—¶æ‰€å‘ç”Ÿçš„æ´»åŠ¨ã€‚<br>ï¼ˆ3ï¼‰è¿›ç¨‹æ˜¯ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šè¿è¡Œçš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚</p>
<p>â€‹	<strong>çº¿ç¨‹</strong>æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯<strong>ç‹¬ç«‹è¿è¡Œå’Œç‹¬ç«‹è°ƒåº¦</strong>çš„åŸºæœ¬å•ä½ï¼ˆCPUä¸ŠçœŸæ­£è¿è¡Œçš„æ˜¯çº¿ç¨‹ï¼‰ã€‚çº¿ç¨‹è‡ªå·±åŸºæœ¬ä¸Šä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æº(å¦‚ç¨‹åºè®¡æ•°å™¨,ä¸€ç»„å¯„å­˜å™¨å’Œæ ˆ)ï¼Œä½†æ˜¯å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çš„<strong>çº¿ç¨‹å…±äº«</strong>è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚</p>
<p>å¯¹æ¯”ï¼š</p>
<p>çº¿ç¨‹åªæ‹¥æœ‰å°‘é‡åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºã€‚<br>è¿›ç¨‹å ç”¨èµ„æºå¤šï¼Œçº¿ç¨‹å ç”¨èµ„æºå°‘ï¼Œä½¿ç”¨çµæ´»ã€‚<br>çº¿ç¨‹ä¸èƒ½è„±ç¦»è¿›ç¨‹è€Œå­˜åœ¨ï¼Œçº¿ç¨‹çš„å±‚æ¬¡å…³ç³»ï¼Œæ‰§è¡Œé¡ºåºå¹¶ä¸æ˜æ˜¾ï¼Œä¼šå¢åŠ ç¨‹åºçš„å¤æ‚åº¦ã€‚<br>æ²¡æœ‰é€šè¿‡ä»£ç æ˜¾ç¤ºåˆ›å»ºçº¿ç¨‹çš„è¿›ç¨‹ï¼Œå¯ä»¥çœ‹æˆæ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„è¿›ç¨‹ã€‚</p>
<blockquote>
<p>è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬å•ä½</p>
<p>è¿›ç¨‹æ‹¥æœ‰è‡ªå·±çš„èµ„æºç©ºé—´ï¼Œè€Œçº¿ç¨‹ä¸CPUèµ„æºåˆ†é…æ— å…³ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€è¿›ç¨‹å†…çš„èµ„æºï¼Œä½¿ç”¨ç›¸åŒçš„åœ°å€ç©ºé—´ã€‚</p>
<p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«è‹¥å¹²ä¸ªçº¿ç¨‹ã€‚</p>
</blockquote>
<h2 id="å‰è¶‹å›¾"><a href="#å‰è¶‹å›¾" class="headerlink" title="å‰è¶‹å›¾"></a>å‰è¶‹å›¾</h2><p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_22-37-22.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_22-37-36.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_22-37-52.png"></p>
<h2 id="è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€åŠè½¬æ¢"><a href="#è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€åŠè½¬æ¢" class="headerlink" title="è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€åŠè½¬æ¢"></a>è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€åŠè½¬æ¢</h2><p><em><strong>è¿›ç¨‹çš„ä¸‰ç§åŸºæœ¬çŠ¶æ€</strong></em></p>
<p>å°±ç»ªçŠ¶æ€(Ready)ï¼šå½“è¿›ç¨‹å·²åˆ†é…åˆ°é™¤CPUä»¥å¤–çš„æ‰€æœ‰å¿…è¦èµ„æºåï¼Œåªè¦å†è·å¾—CPUï¼Œå°±å¯ä»¥ç«‹å³è¿è¡Œï¼Œè¿›ç¨‹è¿™æ—¶çš„çŠ¶æ€ç§°ä¸ºå°±ç»ªçŠ¶æ€ã€‚åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­å¯èƒ½å¤šä¸ªè¿›ç¨‹å¤„äºå°±ç»ªçŠ¶æ€ï¼Œé€šå¸¸å°†å®ƒä»¬æ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œç§°ä¸ºå°±ç»ªé˜Ÿåˆ—ã€‚</p>
<p>æ‰§è¡ŒçŠ¶æ€(Running)ï¼šè¿›ç¨‹å·²è·å¾—CPUï¼Œå…¶ç¨‹åºæ­£åœ¨æ‰§è¡Œã€‚</p>
<p>é˜»å¡çŠ¶æ€(Blocked)ï¼šæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ç”±äºå‘ç”ŸæŸäº‹ä»¶è€Œæš‚æ—¶æ— æ³•ç»§ç»­æ‰§è¡Œæ—¶ï¼Œä¾¿æ”¾å¼ƒå¤„ç†æœºè€Œå¤„äºæš‚åœçŠ¶æ€ï¼ŒæŠŠè¿™ç§æš‚åœçŠ¶æ€ç§°ä¸ºé˜»å¡çŠ¶æ€ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºç­‰å¾…çŠ¶æ€ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-16_09-14-09.png"></p>
<p><em><strong>è¿›ç¨‹äº”ç§çŠ¶æ€åŠè½¬æ¢æ¨¡å‹</strong></em></p>
<p>â—¼å°±ç»ªï¼šå‡†å¤‡æ‰§è¡Œ<br>â—¼æ‰§è¡Œï¼šå ç”¨å¤„ç†æœºï¼ˆå•å¤„ç†æœºç¯å¢ƒä¸­ï¼ŒæŸä¸€æ—¶åˆ»ä»…ä¸€ä¸ªè¿›ç¨‹å ç”¨å¤„ç†æœºï¼‰<br>â—¼é˜»å¡ï¼šç­‰å¾…æŸäº‹ä»¶å‘ç”Ÿæ‰èƒ½æ‰§è¡Œï¼Œå¦‚ç­‰å¾…I&#x2F;Oå®Œæˆç­‰<br>â—¼æ–°å»ºï¼šè¿›ç¨‹å·²ç»åˆ›å»ºï¼Œä½†æœªè¢«OSæ¥çº³ä¸ºå¯æ‰§è¡Œè¿›ç¨‹ï¼Œå¹¶ä¸”ç¨‹åºè¿˜åœ¨è¾…å­˜ï¼ŒPCBåœ¨å†…å­˜<br>â—¼ç»ˆæ­¢ï¼šå› åœæ­¢æˆ–å–æ¶ˆï¼Œè¢«OSä»æ‰§è¡ŒçŠ¶æ€é‡Šæ”¾</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-16_09-21-57.png"></p>
<p><em><strong>çŠ¶æ€è½¬æ¢</strong></em><br>â‘  ç©º â†’ æ–°çŠ¶æ€	æ–°åˆ›å»ºçš„è¿›ç¨‹é¦–å…ˆå¤„äºæ–°çŠ¶æ€ã€‚<br>â‘¡ æ–°çŠ¶æ€ â†’ å°±ç»ªçŠ¶æ€	å½“ç³»ç»Ÿå…è®¸å¢åŠ å°±ç»ªè¿›ç¨‹æ—¶ï¼Œæ“ä½œç³»ç»Ÿæ¥çº³æ–°å»ºçŠ¶æ€è¿›ç¨‹ï¼Œå°†å®ƒå˜ä¸ºå°±ç»ªçŠ¶æ€ï¼Œæ’å…¥å°±ç»ªé˜Ÿåˆ—ä¸­ã€‚<br>â‘¢ å°±ç»ªçŠ¶æ€ â†’ æ‰§è¡ŒçŠ¶æ€	å½“å¤„ç†æœºç©ºé—²æ—¶ï¼Œå°†ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œï¼Œè¯¥é€‰æ‹©è¿‡ç¨‹ç§°ä¸º<strong>è¿›ç¨‹è°ƒåº¦</strong>ï¼Œæˆ–å°†å¤„ç†æœºåˆ†æ´¾ç»™ä¸€ä¸ªè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹çŠ¶æ€ä»å°±ç»ªè½¬å˜ä¸ºæ‰§è¡Œã€‚<br>â‘£ æ‰§è¡ŒçŠ¶æ€ â†’ ç»ˆæ­¢çŠ¶æ€	æ‰§è¡ŒçŠ¶æ€çš„è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œæˆ–å‡ºç°è¯¸å¦‚è®¿é—®åœ°å€è¶Šç•Œã€éæ³•æŒ‡ä»¤ç­‰é”™è¯¯ï¼Œè€Œè¢«å¼‚å¸¸ç»“æŸï¼Œåˆ™è¿›ç¨‹ä»æ‰§è¡ŒçŠ¶æ€è½¬æ¢ä¸ºç»ˆæ­¢çŠ¶æ€ã€‚</p>
<p>â‘¤ æ‰§è¡ŒçŠ¶æ€ â†’ å°±ç»ªçŠ¶æ€	åˆ†æ—¶ç³»ç»Ÿä¸­ï¼Œ<strong>æ—¶é—´ç‰‡ç”¨å®Œï¼Œæˆ–ä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹åˆ°æ¥</strong>ï¼Œå°†ä¸­æ–­è¾ƒä½ä¼˜å…ˆçº§è¿›ç¨‹çš„æ‰§è¡Œã€‚è¿›ç¨‹ä»æ‰§è¡ŒçŠ¶æ€è½¬å˜ä¸ºå°±ç»ªçŠ¶æ€ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è°ƒåº¦ã€‚<br>â‘¥ æ‰§è¡ŒçŠ¶æ€ â†’ é˜»å¡çŠ¶æ€	æ‰§è¡Œè¿›ç¨‹éœ€è¦ç­‰å¾…æŸäº‹ä»¶å‘ç”Ÿã€‚é€šå¸¸ï¼Œä¼šå› ä¸ºè¿›ç¨‹éœ€è¦çš„ç³»ç»Ÿè°ƒç”¨ä¸èƒ½ç«‹å³å®Œæˆï¼Œå¦‚è¯»æ–‡ä»¶ã€å…±äº«è™šæ‹Ÿå†…å­˜ã€ç­‰å¾…I&#x2F;Oæ“ä½œã€ç­‰å¾…å¦ä¸€è¿›ç¨‹ä¸ä¹‹é€šä¿¡ç­‰äº‹ä»¶è€Œé˜»å¡ã€‚<br>â‘¦ é˜»å¡çŠ¶æ€ â†’ å°±ç»ªçŠ¶æ€	å½“é˜»å¡è¿›ç¨‹ç­‰å¾…çš„äº‹ä»¶å‘ç”Ÿï¼Œå°±è½¬æ¢ä¸ºå°±ç»ªçŠ¶æ€ã€‚è¿›å…¥å°±ç»ªé˜Ÿåˆ—æ’é˜Ÿï¼Œç­‰å¾…è¢«è°ƒåº¦æ‰§è¡Œã€‚</p>
<p><em><strong>å¤šä¸ªè¿›ç¨‹ç«äº‰å†…å­˜èµ„æº</strong></em></p>
<p>â—¼å†…å­˜èµ„æºç´§å¼ <br>â—¼æ— å°±ç»ªè¿›ç¨‹ï¼Œå¤„ç†æœºç©ºé—²ï¼šI&#x2F;Oçš„é€Ÿåº¦æ¯”å¤„ç†æœºçš„é€Ÿåº¦æ…¢å¾—å¤šï¼Œå¯èƒ½å‡ºç°å…¨éƒ¨è¿›ç¨‹é˜»å¡,ç­‰å¾…I&#x2F;O</p>
<p><em>è§£å†³åŠæ³•</em></p>
<p>â—¼é‡‡ç”¨äº¤æ¢æŠ€æœ¯ï¼šæ¢å‡ºä¸€éƒ¨åˆ†è¿›ç¨‹åˆ°å¤–å­˜ï¼Œä»¥è…¾å‡ºå†…å­˜ç©ºé—´ï¼ˆå¯¹æ¢ï¼‰<br>â—¼é‡‡ç”¨è™šæ‹Ÿå­˜å‚¨æŠ€æœ¯ï¼šæ¯ä¸ªè¿›ç¨‹åªèƒ½è£…å…¥ä¸€éƒ¨åˆ†ç¨‹åºå’Œæ•°æ®ï¼ˆå­˜å‚¨ç®¡ç†éƒ¨åˆ†ï¼‰</p>
<p>ä½¿æ‰§è¡Œçš„è¿›ç¨‹æš‚åœæ‰§è¡Œã€é™æ­¢ä¸‹æ¥ã€‚æˆ‘ä»¬æŠŠè¿™ç§é™æ­¢çŠ¶æ€ç§°ä¸º<strong>æŒ‚èµ·çŠ¶æ€</strong>ï¼ˆç”±æ´»åŠ¨åˆ°é™æ­¢ï¼Œç”±å†…å­˜åˆ°å¤–å­˜ï¼‰ã€‚</p>
<p><em><strong>æŒ‚èµ·ä¸é˜»å¡</strong></em></p>
<p>åŒºåˆ†ä¸¤ä¸ªæ¦‚å¿µï¼š<br>è¿›ç¨‹æ˜¯å¦ç­‰å¾…äº‹ä»¶ï¼Œé˜»å¡ä¸å¦? è¿›ç¨‹æ˜¯å¦è¢«æ¢å‡ºå†…å­˜ï¼ŒæŒ‚èµ·ä¸å¦ï¼Ÿ</p>
<p>ï¼”ç§çŠ¶æ€ç»„åˆ<br>å°±ç»ªï¼šè¿›ç¨‹åœ¨å†…å­˜ï¼Œå‡†å¤‡æ‰§è¡Œ<br>é˜»å¡ï¼šè¿›ç¨‹åœ¨å†…å­˜ï¼Œç­‰å¾…äº‹ä»¶<br>å°±ç»ª&#x2F;æŒ‚èµ·ï¼ˆé™æ­¢å°±ç»ªï¼‰ï¼šè¿›ç¨‹åœ¨å¤–å­˜ï¼Œåªè¦è°ƒå…¥å†…å­˜å³å¯æ‰§è¡Œ<br>é˜»å¡&#x2F;æŒ‚èµ·ï¼ˆé™æ­¢é˜»å¡ï¼‰ï¼šè¿›ç¨‹åœ¨å¤–å­˜ï¼Œç­‰å¾…äº‹ä»¶</p>
<p>è‹¥è¿›ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œå½“å¼•èµ·é˜»å¡çš„æ¡ä»¶è¢«è§£é™¤æ—¶ï¼Œè¿›ç¨‹çŠ¶æ€åº”å˜ä¸ºè¿è¡ŒçŠ¶æ€ã€‚(Ã—)</p>
<p>â‘  è¿›ç¨‹ç”±ç¨‹åºå’Œæ•°æ®ä¸¤éƒ¨åˆ†ç»„æˆã€‚ï¼ˆÃ— ï¼‰<br>â‘¡ ç¨‹åºçš„å°é—­æ€§æ˜¯æŒ‡è¯¥ç¨‹åºä¸å…è®¸æŸäº›è¿›ç¨‹è°ƒç”¨ã€‚ï¼ˆ Ã—ï¼‰<br>â‘¢ æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹æ˜¯<strong>èµ„æºåˆ†é…</strong> ã€<strong>è°ƒåº¦</strong>å’Œç®¡ç†çš„æœ€å°ç‹¬ç«‹å•ä½ ï¼Œ æ“ä½œç³»ç»Ÿçš„å„ç§æ´»åŠ¨éƒ½ä¸<strong>è¿›ç¨‹</strong>æœ‰å…³ã€‚</p>
<h2 id="PCBçš„ä½œç”¨"><a href="#PCBçš„ä½œç”¨" class="headerlink" title="PCBçš„ä½œç”¨"></a>PCBçš„ä½œç”¨</h2><p>ä¸ºä½¿ç¨‹åºï¼ˆå«æ•°æ®ï¼‰èƒ½ç‹¬ç«‹è¿è¡Œï¼Œåº”ä¸ºä¹‹é…ç½®ä¸€è¿›ç¨‹æ§åˆ¶å—ï¼Œå³<strong>PCB</strong>(Process Control Block)ï¼› è€Œç”±ç¨‹åºæ®µã€ç›¸å…³çš„æ•°æ®æ®µå’ŒPCBä¸‰éƒ¨åˆ†ä¾¿æ„æˆäº†è¿›ç¨‹å®ä½“ã€‚æ‰€è°“åˆ›å»ºè¿›ç¨‹ï¼Œå®è´¨ä¸Šæ˜¯åˆ›å»ºè¿›ç¨‹å®ä½“ä¸­çš„PCBï¼›è€Œæ’¤æ¶ˆè¿›ç¨‹ï¼Œå®è´¨ä¸Šæ˜¯æ’¤æ¶ˆè¿›ç¨‹çš„PCBã€‚</p>
<p><em><strong>è¿›ç¨‹æ§åˆ¶å—çš„ä½œç”¨</strong></em><br>1ï¼‰ ä½œä¸ºç‹¬ç«‹è¿è¡ŒåŸºæœ¬å•ä½çš„æ ‡å¿—ï¼›<br>2ï¼‰ èƒ½å®ç°é—´æ–­æ€§è¿è¡Œæ–¹å¼ï¼›<br>3ï¼‰ æä¾›è¿›ç¨‹ç®¡ç†æ‰€éœ€è¦çš„ä¿¡æ¯ï¼›<br>4ï¼‰ æä¾›è¿›ç¨‹è°ƒåº¦æ‰€éœ€è¦çš„ä¿¡æ¯ï¼›<br>5ï¼‰ å®ç°ä¸å…¶ä»–è¿›ç¨‹çš„åŒæ­¥ä¸é€šä¿¡ã€‚</p>
<p>PCB(process control block)å¸¸é©»å†…å­˜ï¼Œæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼›</p>
<p><em><strong>è¿›ç¨‹æ§åˆ¶å—ä¸­çš„ä¿¡æ¯</strong></em><br>1ï¼‰è¿›ç¨‹æ ‡è¯†ç¬¦<br>2ï¼‰å¤„ç†æœºçŠ¶æ€<br>3ï¼‰è¿›ç¨‹è°ƒåº¦ä¿¡æ¯<br>4ï¼‰è¿›ç¨‹æ§åˆ¶ä¿¡æ¯</p>
<p><em><strong>PCBçš„ç»„ç»‡æ–¹å¼</strong></em></p>
<p>1ï¼‰çº¿æ€§æ–¹å¼<br>å°†ç³»ç»Ÿä¸­çš„æ‰€æœ‰PCBç»„ç»‡åœ¨ä¸€å¼ çº¿æ€§è¡¨ä¸­ï¼Œå°†è¯¥è¡¨çš„é¦–åœ°å€å­˜æ”¾åœ¨ä¸€ä¸ªä¸“ç”¨åŒºåŸŸä¸­ã€‚<br>2ï¼‰é“¾æ¥æ–¹å¼<br>æŠŠå…·æœ‰åŒä¸€çŠ¶æ€çš„PCBï¼Œç”¨å…¶ä¸­çš„é“¾æ¥å­—é“¾æ¥æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ’æˆå°±ç»ªé˜Ÿåˆ—ï¼Œè‹¥å¹²ä¸ªé˜»å¡é˜Ÿåˆ—ä»¥åŠç©ºç™½é˜Ÿåˆ—ã€‚<br>3ï¼‰ç´¢å¼•æ–¹å¼<br>ç³»ç»Ÿæ ¹æ®æ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€å»ºç«‹å‡ å¼ ç´¢å¼•è¡¨ã€‚</p>
<h2 id="è¿›ç¨‹æ§åˆ¶çš„åŸè¯­æ“ä½œ"><a href="#è¿›ç¨‹æ§åˆ¶çš„åŸè¯­æ“ä½œ" class="headerlink" title="è¿›ç¨‹æ§åˆ¶çš„åŸè¯­æ“ä½œ"></a>è¿›ç¨‹æ§åˆ¶çš„åŸè¯­æ“ä½œ</h2><p><strong>åŸè¯­</strong></p>
<p>æ˜¯ç”±è‹¥å¹²æ¡æŒ‡ä»¤ç»„æˆçš„ï¼Œæ˜¯ç”¨äºå®Œæˆä¸€å®šåŠŸèƒ½çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚<br>â¢ åŸè¯­æ˜¯åŸå­æ“ä½œï¼šä¸€ä¸ªæ“ä½œä¸­çš„æ‰€æœ‰åŠ¨ä½œè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åšã€‚ï¼ˆæ“ä½œä¸å¯ä¸­æ–­ï¼‰<br>â¢ <em>åŸå­æ“ä½œåœ¨ç³»ç»Ÿæ€ä¸‹æ‰§è¡Œï¼Œå¸¸é©»å†…å­˜</em>ã€‚<br>â¢ åŸè¯­çš„ä½œç”¨æ˜¯ä¸ºäº†å®ç°è¿›ç¨‹çš„é€šä¿¡å’Œæ§åˆ¶ï¼Œç³»ç»Ÿå¯¹è¿›ç¨‹çš„æ§åˆ¶å¦‚ä¸ä½¿ç”¨åŸè¯­ä¼šé€ æˆå…¶çŠ¶æ€çš„ä¸ç¡®å®šæ€§ï¼Œè¾¾ä¸åˆ°è¿›ç¨‹æ§åˆ¶çš„ç›®çš„ã€‚</p>
<p><em><strong>è¿›ç¨‹åˆ›å»º</strong></em><br>è°ƒç”¨è¿›ç¨‹<strong>åˆ›å»ºåŸè¯­Creat</strong>ï¼ˆ ï¼‰æŒ‰ä¸‹è¿°æ­¥éª¤åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹ï¼š<br>ï¼ˆ1ï¼‰ç”³è¯·ç©ºç™½PCBã€‚<br>ï¼ˆ2ï¼‰ä¸ºæ–°è¿›ç¨‹åˆ†é…èµ„æºã€‚<br>ï¼ˆ3ï¼‰åˆå§‹åŒ–è¿›ç¨‹æ§åˆ¶å—ã€‚åŒ…æ‹¬ï¼šâ‘ åˆå§‹åŒ–æ ‡è¯†ä¿¡æ¯ã€‚â‘¡åˆå§‹åŒ–å¤„ç†æœºçŠ¶æ€ä¿¡æ¯ã€‚â‘¢åˆå§‹åŒ–å¤„ç†æœºæ§åˆ¶ä¿¡æ¯ã€‚<br>ï¼ˆ4ï¼‰å°†æ–°è¿›ç¨‹æ’å…¥å°±ç»ªé˜Ÿåˆ—ã€‚</p>
<p><em><strong>è¿›ç¨‹é˜»å¡è¿‡ç¨‹</strong></em><br>1)æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œå½“å‘ç°ä¸Šè¿°æŸäº‹ä»¶æ—¶ï¼Œç”±äºæ— æ³•ç»§ç»­æ‰§è¡Œï¼Œäºæ˜¯è¿›ç¨‹ä¾¿é€šè¿‡è°ƒç”¨<strong>é˜»å¡åŸè¯­block</strong>( )æŠŠè‡ªå·±é˜»å¡ã€‚<br>2)æŠŠè¿›ç¨‹æ§åˆ¶å—ä¸­çš„ç°è¡ŒçŠ¶æ€ç”±â€œæ‰§è¡Œâ€æ”¹ä¸ºâ€œé˜»å¡â€ï¼Œå¹¶å°†PCBæ’å…¥é˜»å¡é˜Ÿåˆ—ã€‚<br>3)è½¬è°ƒåº¦ç¨‹åºè¿›è¡Œé‡æ–°è°ƒåº¦ï¼Œå°†å¤„ç†æœºåˆ†é…ç»™å¦ä¸€å°±ç»ªè¿›ç¨‹ï¼Œå¹¶è¿›è¡Œåˆ‡æ¢ã€‚</p>
<p><em><strong>è¿›ç¨‹çš„å”¤é†’</strong></em><br>å½“è¢«é˜»å¡è¿›ç¨‹æ‰€æœŸå¾…çš„äº‹ä»¶å‡ºç°æ—¶ï¼Œåˆ™ç”±æœ‰å…³è¿›ç¨‹ï¼ˆæ¯”å¦‚ï¼Œç”¨å®Œå¹¶é‡Šæ”¾äº†è¯¥I&#x2F;Oè®¾å¤‡çš„è¿›ç¨‹ï¼‰è°ƒç”¨<strong>å”¤é†’åŸè¯­wakeup</strong>ï¼ˆ ï¼‰ï¼Œå°†ç­‰å¾…è¯¥äº‹ä»¶çš„è¿›ç¨‹å”¤é†’ã€‚<br>1ï¼‰é¦–å…ˆæŠŠè¢«é˜»å¡çš„è¿›ç¨‹ä»ç­‰å¾…è¯¥äº‹ä»¶çš„é˜»å¡é˜Ÿåˆ—ä¸­ç§»å‡ºï¼Œå°†å…¶PCBä¸­çš„ç°è¡ŒçŠ¶æ€ç”±é˜»å¡æ”¹ä¸ºå°±ç»ªã€‚<br>2ï¼‰ç„¶åå†å°†è¯¥PCBæ’å…¥åˆ°å°±ç»ªé˜Ÿåˆ—ä¸­ã€‚</p>
<p>BlockåŸè¯­å’ŒWakeupæ˜¯ä¸€å¯¹ä½œç”¨ç›¸åçš„åŸè¯­ï¼›æœ‰å‰è€…å°±å¿…å®šç”±åè€…ï¼Œå¦åˆ™ï¼šè¢«é˜»å¡çš„è¿›ç¨‹å°†ä¼šå› ä¸èƒ½è¢«å”¤é†’è€Œé•¿æœŸå¤„äºé˜»å¡çŠ¶æ€ï¼Œä»è€Œæ— æ³•ç»§ç»­è¿è¡Œã€‚</p>
<p><em><strong>è¿›ç¨‹çš„æŒ‚èµ·</strong></em><br>å½“å‡ºç°äº†å¼•èµ·è¿›ç¨‹æŒ‚èµ·çš„äº‹ä»¶æ—¶ï¼Œç³»ç»Ÿå°†åˆ©ç”¨<strong>æŒ‚èµ·åŸè¯­suspend</strong>ï¼ˆ ï¼‰å°†æŒ‡å®šè¿›ç¨‹è¿›ç¨‹æŒ‚èµ·ã€‚<br>æŒ‚èµ·åŸè¯­çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯ï¼š<br>â€¢é¦–å…ˆæ£€æŸ¥è¢«æŒ‚èµ·è¿›ç¨‹çš„çŠ¶æ€ï¼Œè‹¥å¤„äºæ´»åŠ¨å°±ç»ªçŠ¶æ€ï¼Œä¾¿å°†å…¶æ”¹ä¸ºé™æ­¢å°±ç»ªï¼›<br>â€¢å¯¹äºæ´»åŠ¨é˜»å¡çŠ¶æ€çš„è¿›ç¨‹ï¼Œåˆ™å°†ä¹‹æ”¹ä¸ºé™æ­¢é˜»å¡çŠ¶æ€ã€‚</p>
<p><em><strong>è¿›ç¨‹çš„æ¿€æ´»è¿‡ç¨‹</strong></em><br>1ï¼‰å½“å‘ç”Ÿæ¿€æ´»è¿›ç¨‹çš„äº‹ä»¶æ—¶ï¼Œåˆ™å¯å°†åœ¨å¤–å­˜ä¸Šå¤„äºé™æ­¢å°±ç»ªçŠ¶æ€çš„è¿›ç¨‹æ¢å…¥å†…å­˜ã€‚<br>2ï¼‰ç³»ç»Ÿåˆ©ç”¨<strong>æ¿€æ´»åŸè¯­active</strong>ï¼ˆ ï¼‰å°†æŒ‡å®šè¿›ç¨‹æ¿€æ´»:<br>â–ªæ¿€æ´»åŸè¯­å…ˆå°†è¿›ç¨‹ä»å¤–å­˜è°ƒå…¥å†…å­˜ï¼Œæ£€æŸ¥è¯¥è¿›ç¨‹çš„ç°è¡ŒçŠ¶æ€;<br>â–ªè‹¥æ˜¯é™æ­¢å°±ç»ªï¼Œä¾¿å°†ä¹‹æ”¹ä¸ºæ´»åŠ¨å°±ç»ªï¼›è‹¥ä¸ºé™æ­¢é˜»å¡ï¼Œä¾¿å°†ä¹‹æ”¹ä¸ºæ´»åŠ¨é˜»å¡ã€‚</p>
<ol>
<li>åŸè¯­æ˜¯æŒ‡æ“ä½œç³»ç»Ÿä¸­çš„åˆå§‹åŒ–ç¨‹åºã€‚ï¼ˆÃ— ï¼‰</li>
<li>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ç”±ç³»ç»Ÿåˆ›å»ºï¼Œæˆ–è€…ç”±(çˆ¶è¿›ç¨‹ )ç”¨åˆ›å»ºåŸè¯­åˆ›å»ºã€‚è¢«åˆ›å»ºçš„è¿›ç¨‹å¼€å§‹å¤„äºç­‰å¾…çŠ¶æ€ã€‚åœ¨æ¡ä»¶æˆç†Ÿæ—¶ï¼Œé‡‡ç”¨(è°ƒåº¦ ) åŸè¯­ä¸ºå®ƒä»¬åˆ†é…é™¤ï¼ˆå¤„ç†æœºï¼‰ä»¥å¤–çš„æ‰€éœ€èµ„æºï¼Œå¹¶è¢«æ’åˆ—åˆ°(å°±ç»ª )é˜Ÿåˆ—ä¸­ã€‚</li>
<li>è¿›ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå› ä¸º(ç¼ºä¹èµ„æº )ã€ç­‰å¾…I&#x2F;Oæ“ä½œç­‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œé€šè¿‡( é˜»å¡)åŸè¯­å°†å®ƒæ’¤ä¸‹ï¼Œæ’å…¥( ç­‰å¾…)é˜Ÿåˆ—ï¼Œå¹¶å¼•èµ·æ–°çš„( è¿›ç¨‹è°ƒåº¦)ã€‚</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/616953-20160619213048991-866706486.png"></p>
<h2 id="è¿›ç¨‹åŒæ­¥"><a href="#è¿›ç¨‹åŒæ­¥" class="headerlink" title="è¿›ç¨‹åŒæ­¥"></a>è¿›ç¨‹åŒæ­¥</h2><p>ä¸€æ¬¡ä»…å…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—®çš„èµ„æºä¸º**ä¸´ç•Œèµ„æº **ã€‚</p>
<p>æ¯ä¸ªè¿›ç¨‹ä¸­è®¿é—®ä¸´ç•Œèµ„æºçš„é‚£æ®µä»£ç ç§°ä¸º<strong>ä¸´ç•ŒåŒº</strong></p>
<p><strong>è¿›ç¨‹äº’æ–¥</strong>ï¼šä¸€ä¸ªè¿›ç¨‹æ­£åœ¨è®¿é—®ä¸´ç•Œèµ„æºï¼Œå¦ä¸€ä¸ªè¦è®¿é—®è¯¥èµ„æºçš„è¿›ç¨‹å¿…é¡»ç­‰å¾…ã€‚</p>
<p><em><strong>åŒæ­¥æœºåˆ¶åº”éµå¾ªçš„è§„åˆ™</strong></em><br>1)ç©ºé—²è®©è¿›<br>2)å¿™åˆ™ç­‰å¾…<br>3)æœ‰é™ç­‰å¾…<br>4)è®©æƒç­‰å¾…</p>
<p>å¹¶å‘è¿›ç¨‹å¯ä»¥åŒæ—¶è¿›å…¥ä¸´ç•ŒåŒºï¼Œäº¤æ›¿è®¿é—®ä¸´ç•Œèµ„æºã€‚ï¼ˆÃ—ï¼‰</p>
<p><em><strong>è§£å†³ä¸´ç•ŒåŒºï¼ˆäº’æ–¥ï¼‰é—®é¢˜çš„å‡ ç±»æ–¹æ³•</strong></em><br>ï¼ˆ1ï¼‰ç¡¬ä»¶åŒæ­¥æœºåˆ¶<br>ï¼ˆ2ï¼‰ä¿¡å·é‡æœºåˆ¶<br>ï¼ˆ3ï¼‰ç®¡ç¨‹æœºåˆ¶</p>
<h2 id="ä¿¡å·é‡æœºåˆ¶"><a href="#ä¿¡å·é‡æœºåˆ¶" class="headerlink" title="ä¿¡å·é‡æœºåˆ¶"></a>ä¿¡å·é‡æœºåˆ¶</h2><p>1ï¼‰æ•´å‹ä¿¡å·é‡<br>2ï¼‰è®°å½•å‹ä¿¡å·é‡<br>3ï¼‰ANDå‹ä¿¡å·é‡<br>4ï¼‰ä¿¡å·é‡é›†</p>
<p><em><strong>æ•´å‹ä¿¡å·é‡</strong></em></p>
<p>å®šä¹‰ä¸ºä¸€ä¸ªæ•´å‹é‡ ,ä»…èƒ½é€šè¿‡ä¸¤ä¸ªæ ‡å‡†çš„åŸå­æ“ä½œwaitï¼ˆSï¼‰å’Œsignalï¼ˆSï¼‰æ¥è®¿é—®ã€‚åˆç§°ä¸ºPã€Væ“ä½œã€‚<br><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-16_10-30-23.png"></p>
<p>1ï¼‰Pã€Væ“ä½œ(å³wait(s)å’Œsignal(s))ä¸ºåŸè¯­æ“ä½œâ€”â€”ä¸å¯ä¸­æ–­<br>2ï¼‰æ•´å‹ä¿¡å·é‡çš„ä½¿ç”¨ï¼š<br>â‘  å¿…é¡»ç½®ä¸€æ¬¡ä¸”åªèƒ½ç½®ä¸€æ¬¡åˆå€¼ï¼Œå¹¶ä¸”åˆå€¼ä¸èƒ½ä¸ºè´Ÿæ•°ã€‚<br>â‘¡ åªèƒ½æ‰§è¡ŒPã€Væ“ä½œã€‚<br>â‘¢å¿…é¡»æˆå¯¹ä½¿ç”¨Pã€Væ“ä½œï¼šPæ“ä½œé—æ¼åˆ™ä¸èƒ½ä¿è¯äº’æ–¥è®¿é—®ï¼ŒVæ“ä½œé—æ¼åˆ™ä¸èƒ½åœ¨ä½¿ç”¨ä¸´ç•Œèµ„æºä¹‹åå°†å…¶é‡Šæ”¾ï¼›Pï¼ŒVæ¬¡åºä¸èƒ½é”™è¯¯ã€é‡å¤æˆ–é—æ¼ã€‚<br>3ï¼‰æ•´å‹ä¿¡å·é‡çš„ç¼ºç‚¹ï¼šæœªéµå¾ªåŒæ­¥æœºåˆ¶çš„â€œè®©æƒç­‰å¾…â€ä¸€ç›´åˆ¤æ–­æ˜¯å¦å¤„ç†å®Œï¼Œå ç”¨å¤„ç†æœºã€‚ï¼ˆä½¿ç¨‹åºå¤„äºå¿™ç­‰çŠ¶æ€ï¼Œè¿™æ„å‘³ç€å½“ä¸€ä¸ªè¿›ç¨‹åœ¨ç­‰å¾…ä¿¡å·é‡æ—¶ï¼Œå®ƒä¼šä¸æ–­åœ°æ£€æŸ¥ä¿¡å·é‡çš„å€¼ï¼Œè€Œä¸æ˜¯é‡Šæ”¾CPUèµ„æºï¼Œè¿™ä¼šæµªè´¹å¤§é‡çš„CPUæ—¶é—´ã€‚ï¼‰</p>
<p><em><strong>è®°å½•å‹ä¿¡å·é‡</strong></em></p>
<p>è®°å½•å‹ä¿¡å·é‡æœºåˆ¶ï¼Œåˆ™æ˜¯ä¸€ç§ä¸å­˜åœ¨â€œå¿™ç­‰â€ç°è±¡çš„è¿›ç¨‹åŒæ­¥æœºåˆ¶ã€‚</p>
<p>è®°å½•å‹ä¿¡å·é‡çš„waitï¼ˆSï¼‰æ“ä½œï¼ˆ å³P(S) ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure wait(S)</span><br><span class="line">	var S: semaphore;</span><br><span class="line">		begin</span><br><span class="line">			S.value:ï¼S.value-1;</span><br><span class="line">			if S.valueï¼œ0 then block(S.L);</span><br><span class="line">		end</span><br></pre></td></tr></table></figure>

<p>S.valueï¼œ0ï¼Œè¯¥ç±»èµ„æºå·²ç»åˆ†é…å®Œæ¯•ï¼Œè¿›ç¨‹å¿…é¡»æ”¾å¼ƒå¤„ç†æœºï¼Œè‡ªæˆ‘é˜»å¡ã€‚</p>
<p>è®°å½•å‹ä¿¡å·é‡é‡‡ç”¨äº†â€œè®©æƒç­‰å¾…â€ç­–ç•¥ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹åœ¨ç­‰å¾…ä¿¡å·é‡æ—¶ï¼Œå®ƒä¼šè¢«<strong>é˜»å¡å¹¶é‡Šæ”¾CPUèµ„æº</strong>ï¼Œç›´åˆ°è¢«å”¤é†’è¿™æ ·å°±é¿å…äº†å¿™ç­‰ç°è±¡ã€‚</p>
<p>è®°å½•å‹ä¿¡å·é‡çš„signalï¼ˆSï¼‰æ“ä½œï¼ˆ å³V(S) ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">procedure signalï¼ˆSï¼‰</span><br><span class="line">	var S:semaphore;</span><br><span class="line">	begin</span><br><span class="line">		S.value:ï¼S.value+1;</span><br><span class="line">		if S.valueâ‰¤0 then wakeup(S.L);</span><br><span class="line">	end</span><br></pre></td></tr></table></figure>

<p>S.value&gt;0è¡¨ç¤ºæœ‰S.valueä¸ªèµ„æºå¯ç”¨;S.value&#x3D;0è¡¨ç¤ºæ— èµ„æºå¯ç”¨ã€‚</p>
<p>S.valueâ‰¤0 ï¼Œåœ¨ä¿¡å·é‡é“¾è¡¨ä¸­ï¼Œä»æœ‰ç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹è¢«é˜»å¡ã€‚</p>
<p>è®°å½•å‹ä¿¡å·é‡: è‹¥S.value&lt;0ï¼Œåˆ™| S.value|è¡¨ç¤ºSç­‰å¾…é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹ä¸ªæ•°ã€‚</p>
<p><em><strong>ANDå‹ä¿¡å·é‡</strong></em></p>
<p>ANDåŒæ­¥æœºåˆ¶çš„åŸºæœ¬æ€æƒ³ï¼šå°†è¿›ç¨‹åœ¨æ•´ä¸ªè¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„æ‰€æœ‰èµ„æºï¼Œä¸€æ¬¡æ€§å…¨éƒ½åœ°åˆ†é…ç»™è¿›ç¨‹ï¼Œå¾…è¿›ç¨‹ä½¿ç”¨å®Œåå†ä¸€èµ·é‡Šæ”¾ã€‚åªè¦å°šæœ‰ä¸€ä¸ªèµ„æºæœªèƒ½åˆ†é…ç»™è¿›ç¨‹ï¼Œå…¶å®ƒæ‰€æœ‰å¯èƒ½ä¸ºä¹‹åˆ†é…çš„èµ„æºï¼Œä¹Ÿä¸åˆ†é…ç»™ä»–ã€‚ åœ¨waitæ“ä½œä¸­ï¼Œå¢åŠ äº†ä¸€ä¸ªâ€œANDâ€æ¡ä»¶ï¼Œæ•…ç§°ä¸ºANDåŒæ­¥ï¼Œæˆ–ç§°ä¸º<strong>åŒæ—¶wait</strong>æ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Swaitï¼ˆS1ï¼ŒS2ï¼ŒÂ·Â·Â·ï¼ŒSn ï¼‰ &#123;</span><br><span class="line">	whileï¼ˆtrueï¼‰&#123;</span><br><span class="line">		ifï¼ˆ S1â‰¥1 and S2â‰¥1 andâ€¦and Snâ‰¥1 ï¼‰&#123;</span><br><span class="line">			for (i = 1 ; i&lt;= n; i++)&#123;</span><br><span class="line">				Si = Si â€“ 1;</span><br><span class="line">		&#125;</span><br><span class="line">		break;</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">			è°ƒç”¨è¿›ç¨‹è¿›å…¥ç¬¬ä¸€ä¸ªå°äº1çš„ä¿¡å·é‡çš„ç­‰å¾…é˜Ÿåˆ—Sj.queue;é˜»å¡è°ƒç”¨è¿›ç¨‹;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Ssignalï¼ˆS1ï¼ŒS2ï¼ŒÂ·Â·Â·ï¼ŒSnï¼‰&#123;</span><br><span class="line">	for( i = 1; i&lt;= n; i++ )&#123;</span><br><span class="line">		Si = Si+1;</span><br><span class="line">		for (each process P waiting in Si.queue)</span><br><span class="line">			ä»ç­‰å¾…é˜Ÿåˆ—Si.queueä¸­å–å‡ºè¿›ç¨‹Pæ”¾å…¥å°±ç»ªé˜Ÿåˆ—;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em><strong>ä¿¡å·é‡é›†</strong></em></p>
<p>ä¸€èˆ¬ä¿¡å·é‡é›†æ˜¯æŒ‡åŒæ—¶éœ€è¦<strong>å¤šç§èµ„æº</strong>ã€æ¯ç§<strong>å ç”¨çš„æ•°ç›®ä¸åŒ</strong>ã€ä¸”å¯åˆ†é…çš„èµ„æºè¿˜å­˜åœ¨ä¸€ä¸ªä¸´ç•Œå€¼æ—¶çš„ä¿¡å·é‡å¤„ç†ã€‚ä¸€èˆ¬ä¿¡å·é‡é›†çš„åŸºæœ¬æ€è·¯å°±æ˜¯åœ¨ANDå‹ä¿¡å·é‡é›†çš„åŸºç¡€ä¸Šè¿›è¡Œæ‰©å……ï¼Œåœ¨ä¸€æ¬¡åŸè¯­æ“ä½œä¸­å®Œæˆæ‰€æœ‰çš„èµ„æºç”³è¯·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Swaitï¼ˆS1ï¼Œt1ï¼Œd1ï¼Œâ€¦ï¼ŒSnï¼Œtnï¼Œdnï¼‰ï¼ˆæ»¡è¶³tiâ‰¥ diï¼‰</span><br><span class="line">	if( S1 â‰¥t1 &amp;â€¦&amp; Snâ‰¥tn)&#123;</span><br><span class="line">		for( i =1; i&lt;=n; i++)&#123;</span><br><span class="line">			Si ï¼Si ï¼ di;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">			è°ƒç”¨è¿›ç¨‹è¿›å…¥ç¬¬ä¸€ä¸ªå°äº1çš„ä¿¡å·é‡çš„ç­‰å¾…é˜Ÿåˆ—Sj.queue;é˜»å¡è°ƒç”¨è¿›ç¨‹;</span><br><span class="line">	&#125;//end if</span><br><span class="line">&#125;//end Swait</span><br></pre></td></tr></table></figure>

<p>tnä¸ºèµ„æºä¸‹é™å€¼ï¼Œdnä¸ºéœ€æ±‚é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Ssignalï¼ˆS1ï¼Œd1ï¼ŒÂ·Â·Â·ï¼ŒSnï¼Œdnï¼‰&#123;</span><br><span class="line">	for( i =1; i&lt;= n; i++)&#123;</span><br><span class="line">		Si = Si + diï¼›</span><br><span class="line">		for (each process P waiting in Si.queue)</span><br><span class="line">			ä»ç­‰å¾…é˜Ÿåˆ—Si.queueä¸­å–å‡ºè¿›ç¨‹Pæ”¾å…¥å°±ç»ªé˜Ÿåˆ—;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¿¡å·é‡åº”ç”¨"><a href="#ä¿¡å·é‡åº”ç”¨" class="headerlink" title="ä¿¡å·é‡åº”ç”¨"></a>ä¿¡å·é‡åº”ç”¨</h2><p><em><strong>åˆ©ç”¨ä¿¡å·é‡å®ç°è¿›ç¨‹äº’æ–¥</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-16_11-35-54.png"></p>
<p><em><strong>åˆ©ç”¨ä¿¡å·é‡å®ç°å‰è¶‹å…³ç³»</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-16_10-31-12.png"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">p1( )&#123; S1ï¼› signalï¼ˆaï¼‰ï¼›signalï¼ˆbï¼‰ï¼›&#125;</span><br><span class="line">p2( )&#123; wait(a); S2ï¼›signalï¼ˆcï¼‰ï¼›signalï¼ˆdï¼‰; &#125;</span><br><span class="line">p3( )&#123; waitï¼ˆbï¼‰ï¼›S3ï¼›signalï¼ˆeï¼‰ï¼›&#125;</span><br><span class="line">p4( )&#123; waitï¼ˆcï¼‰ï¼›S4ï¼›signalï¼ˆfï¼‰ï¼›&#125;</span><br><span class="line">p5( )&#123; waitï¼ˆdï¼‰ï¼›S5ï¼›signalï¼ˆgï¼‰ï¼›&#125;</span><br><span class="line">p6( )&#123; waitï¼ˆeï¼‰ï¼›waitï¼ˆfï¼‰ï¼›waitï¼ˆgï¼‰ï¼›S6ï¼›&#125;</span><br><span class="line"></span><br><span class="line">void main( )&#123;</span><br><span class="line">	semaphore a,b,c,d,e,f,g;</span><br><span class="line">	a.value=b.value=c.value=0;</span><br><span class="line">	d.value=e.value=f.value=g.value=0;</span><br><span class="line">cobegin</span><br><span class="line">	p1( ); p2( ); p3( ); p4( ); p5( ); p6( );</span><br><span class="line">coend;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿¡å·é‡çš„ç‰©ç†æ„ä¹‰æ˜¯å½“ä¿¡å·é‡å¤§äºé›¶æ—¶è¡¨ç¤ºï¼ˆèµ„æºçš„æ•°ç›® ï¼‰ï¼›å½“ä¿¡å·é‡å°äºé›¶æ—¶ï¼Œå…¶ç»å¯¹å€¼ä¸ºï¼ˆ ç­‰å¾…è¯¥èµ„æºçš„è¿›ç¨‹æ•°ç›®ï¼‰ ã€‚</p>
<p>æœ‰mä¸ªè¿›ç¨‹å…±äº«åŒä¸€ä¸´ç•Œèµ„æºï¼Œè‹¥ä½¿ç”¨ä¿¡å·é‡æœºåˆ¶å®ç°å¯¹ä¸´ç•Œèµ„æºçš„äº’æ–¥è®¿é—®ï¼Œåˆ™ä¿¡å·<br>é‡å€¼çš„å˜åŒ–èŒƒå›´æ˜¯ï¼ˆ [1-mï¼Œ1]ï¼‰ã€‚</p>
<h2 id="ç»å…¸è¿›ç¨‹åŒæ­¥é—®é¢˜"><a href="#ç»å…¸è¿›ç¨‹åŒæ­¥é—®é¢˜" class="headerlink" title="ç»å…¸è¿›ç¨‹åŒæ­¥é—®é¢˜"></a>ç»å…¸è¿›ç¨‹åŒæ­¥é—®é¢˜</h2><p>â—¼ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…é—®é¢˜<br>â—¼å“²å­¦å®¶è¿›é¤é—®é¢˜<br>â—¼è¯»è€…â€”â€”å†™è€…é—®é¢˜</p>
<h3 id="ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…é—®é¢˜"><a href="#ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…é—®é¢˜" class="headerlink" title="ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…é—®é¢˜"></a>ç”Ÿäº§è€…â€”â€”æ¶ˆè´¹è€…é—®é¢˜</h3><p>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…è¿›ç¨‹å…±äº«ä¸€ä¸ªå¤§å°å›ºå®šçš„ç¼“å†²åŒºï¼Œå…¶ä¸­ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªç”Ÿäº§è€…ç”Ÿäº§æ•°æ®ï¼Œå¹¶å°†ç”Ÿäº§çš„æ•°æ®å­˜å…¥ç¼“å†²åŒºï¼Œå¹¶æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ä»ç¼“å†²åŒºä¸­å–æ•°æ®ã€‚</p>
<p>â—†å‡è®¾ç¼“å†²åŒºçš„å¤§å°ä¸ºnï¼ˆå­˜å‚¨å•å…ƒçš„ä¸ªæ•°ï¼‰ï¼Œå®ƒå¯ä»¥è¢«ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å¾ªç¯ä½¿ç”¨ã€‚<br>â—†åˆ†åˆ«è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆinå’Œoutï¼ŒæŒ‡å‘ç”Ÿäº§è€…å°†å­˜æ”¾æ•°æ®çš„å­˜å‚¨å•å…ƒå’Œæ¶ˆè´¹è€…å°†å–æ•°æ®çš„å­˜å‚¨å•å…ƒ</p>
<p>ç”Ÿäº§è€…ï¼æ¶ˆè´¹è€…ä¹‹é—´æ»¡è¶³çš„æ¡ä»¶ï¼š<br>â—† æ¶ˆè´¹è€…æƒ³æ¥æ”¶æ•°æ®æ—¶ï¼Œæœ‰ç•Œç¼“å†²åŒºä¸­è‡³å°‘æœ‰ä¸€ä¸ªå•å…ƒæ˜¯æ»¡çš„ï¼ˆåŒæ­¥é—®é¢˜ï¼‰<br>â—† ç”Ÿäº§è€…æƒ³å‘é€æ•°æ®æ—¶ï¼Œæœ‰ç•Œç¼“å†²åŒºä¸­è‡³å°‘æœ‰ä¸€ä¸ªå•å…ƒæ˜¯ç©ºçš„ï¼ˆåŒæ­¥é—®é¢˜ï¼‰<br>â—† æœ‰ç•Œç¼“å†²åŒºæ˜¯ä¸´ç•Œèµ„æºï¼ˆäº’æ–¥é—®é¢˜ï¼‰</p>
<p>full&#x3D;0; è¡¨ç¤ºå½“å‰é˜Ÿåˆ—ä¸­å·²æœ‰çš„æ•°æ®ä¸ªæ•°<br>empty&#x3D;n; è¡¨ç¤ºå½“å‰é˜Ÿåˆ—ä¸­è¿˜å¯ä»¥æ”¾çš„æ•°æ®ä¸ªæ•°</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-16_12-54-32.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-16_12-55-12.png"></p>
<p><em><strong>åˆ©ç”¨è®°å½•å‹ä¿¡å·é‡è§£å†³ç”Ÿäº§è€…ä¸€æ¶ˆè´¹è€…é—®é¢˜</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int in=0, out=0;</span><br><span class="line">item buffer [n];</span><br><span class="line">semaphore mutex=1, empty=n, full=0; </span><br><span class="line">void producer();</span><br><span class="line">void consumer();</span><br><span class="line">void main()&#123;</span><br><span class="line">	cobegin</span><br><span class="line">		producer(); consumer();</span><br><span class="line">	coend</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void producer( )&#123;</span><br><span class="line">	do&#123;</span><br><span class="line">		â€¦</span><br><span class="line">		Produce an item in nextp;</span><br><span class="line">		â€¦</span><br><span class="line">		wait(empty);</span><br><span class="line">		wait(mutex);</span><br><span class="line">		buffer(in):=nextp;</span><br><span class="line">		in:=(in+1) mod n;</span><br><span class="line">		signal(mutex);</span><br><span class="line">		signal(full);</span><br><span class="line">	&#125;while(TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void consumer&#123;</span><br><span class="line">	do&#123;</span><br><span class="line">        wait(full);</span><br><span class="line">        wait(mutex);</span><br><span class="line">        nextc:=buffer(out);</span><br><span class="line">        out:=(out+1) mod n;</span><br><span class="line">        signal(mutex);</span><br><span class="line">        signal(empty);</span><br><span class="line">		Consumer the item in nextc;</span><br><span class="line">		â€¦â€¦</span><br><span class="line">	&#125;while(TRUE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>wait(empty)</code>æ˜¯ä¸€ä¸ªåŒæ­¥Pæ“ä½œï¼Œå› ä¸ºå®ƒç”¨äºåŒæ­¥ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´çš„æ“ä½œã€‚å½“ç¼“å†²åŒºå·²æ»¡æ—¶ï¼Œç”Ÿäº§è€…éœ€è¦ç­‰å¾…æ¶ˆè´¹è€…ä»ç¼“å†²åŒºä¸­å–å‡ºä¸€ä¸ªäº§å“ï¼Œæ‰èƒ½ç»§ç»­å‘ç¼“å†²åŒºä¸­æ·»åŠ æ–°çš„äº§å“ã€‚<code>wait(mutex)</code>æ˜¯ä¸€ä¸ªäº’æ–¥Pæ“ä½œï¼Œå› ä¸ºå®ƒç”¨äºä¿æŠ¤å¯¹å…±äº«èµ„æºï¼ˆå³ç¼“å†²åŒºï¼‰çš„äº’æ–¥è®¿é—®ã€‚å½“ç”Ÿäº§è€…æˆ–æ¶ˆè´¹è€…éœ€è¦è®¿é—®ç¼“å†²åŒºæ—¶ï¼Œå®ƒä»¬å¿…é¡»å…ˆè·å¾—å¯¹ç¼“å†²åŒºçš„äº’æ–¥è®¿é—®æƒã€‚</p>
<p>â‘  P.Væ“ä½œå¿…é¡»æˆå¯¹å‡ºç°ï¼Œæœ‰ä¸€ä¸ªPæ“ä½œå°±ä¸€å®šæœ‰ä¸€ä¸ªVæ“ä½œï¼›<br>â‘¡ å½“ä¸ºäº’æ–¥æ“ä½œæ—¶ï¼ŒPVå¤„äºåŒä¸€è¿›ç¨‹ï¼›<br>â‘¢ å½“ä¸ºåŒæ­¥æ“ä½œæ—¶ï¼Œåˆ™PVä¸åœ¨åŒä¸€è¿›ç¨‹ä¸­å‡ºç°ï¼›<br>â‘£ å¦‚æœP(S1)å’ŒP(S2)ä¸¤ä¸ªæ“ä½œåœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œé‚£ä¹ˆPæ“ä½œçš„é¡ºåºè‡³å…³é‡è¦ï¼Œ<strong>ä¸€ä¸ªåŒæ­¥Pæ“ä½œä¸ä¸€ä¸ªäº’æ–¥Pæ“ä½œåœ¨ä¸€èµ·æ—¶,åŒæ­¥Pæ“ä½œåœ¨äº’æ–¥Pæ“ä½œä¹‹å‰</strong>ï¼›<br>â‘¤ ä¸¤ä¸ªVæ“ä½œçš„é¡ºåºæ— å…³ç´§è¦ã€‚</p>
<p><em><strong>åˆ©ç”¨ANDä¿¡å·é‡è§£å†³ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…é—®é¢˜</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int in=0, out=0;</span><br><span class="line">item buffer[ n ];</span><br><span class="line">semaphore mutex=1, empty=n, full=0;</span><br><span class="line">void producer( )&#123;</span><br><span class="line">	do&#123;</span><br><span class="line">		â€¦</span><br><span class="line">		produce an item in nextp;</span><br><span class="line">		â€¦</span><br><span class="line">		Swait(empty, mutex);</span><br><span class="line">        buffer[in] = nextp;</span><br><span class="line">        in = (in+1) % n;</span><br><span class="line">		Ssignal(mutex, full);</span><br><span class="line">	&#125;while(TRUE);</span><br><span class="line">&#125; //end producer</span><br><span class="line"></span><br><span class="line">void consumer&#123;</span><br><span class="line">	do&#123;</span><br><span class="line">        Swait(full, mutex);</span><br><span class="line">        nextc = buffer[out];</span><br><span class="line">        out = (out+1) % n;</span><br><span class="line">        Ssignal(mutex, empty);</span><br><span class="line">        consumer the item in nextc;</span><br><span class="line">	&#125;while(TRUE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å“²å­¦å®¶è¿›é¤é—®é¢˜"><a href="#å“²å­¦å®¶è¿›é¤é—®é¢˜" class="headerlink" title="å“²å­¦å®¶è¿›é¤é—®é¢˜"></a>å“²å­¦å®¶è¿›é¤é—®é¢˜</h3><p>5ä¸ªå“²å­¦å®¶å›´ç»•ä¸€å¼ åœ†æ¡Œè€Œåï¼Œæ¯ä¸ªå“²å­¦å®¶å‰é¢æœ‰ä¸€ç¢Ÿç©ºå¿ƒé¢ï¼Œç”±äºé¢å¾ˆæ»‘ï¼Œæ‰€ä»¥è¦ä¸¤æŠŠç­·å­æ‰èƒ½å¤¹ä½ã€‚ç›¸é‚»ä¸¤ä¸ªç¢Ÿå­ä¹‹é—´æœ‰ä¸€æŠŠç­·å­ã€‚å“²å­¦å®¶åªæœ‰ä¸¤ç§æ´»åŠ¨ï¼Œåœ¨æ„Ÿè§‰åˆ°é¥¿æ—¶ï¼Œåˆ†ä¸¤æ¬¡å–å·¦è¾¹å’Œå³è¾¹çš„ç­·å­ï¼ˆä¸åˆ†æ¬¡åºï¼‰ï¼Œå¦‚æœæˆåŠŸçš„å¾—åˆ°ä¸¤æŠŠç­·å­ï¼Œå°±åƒé¥­ï¼Œåƒå®Œåç»§ç»­æ€è€ƒã€‚</p>
<p><em><strong>åˆ©ç”¨è®°å½•å‹ä¿¡å·é‡è§£å†³å“²å­¦å®¶è¿›é¤é—®é¢˜</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">semaphore chopstick[5] = &#123;1, 1, 1, 1, 1&#125;;</span><br><span class="line"></span><br><span class="line">do &#123;</span><br><span class="line">    wait(chopstick[i]);</span><br><span class="line">    wait(chopstick[(i + 1) % 5]);</span><br><span class="line"></span><br><span class="line">    // Eat</span><br><span class="line"></span><br><span class="line">    signal(chopstick[i]);</span><br><span class="line">    signal(chopstick[(i + 1) % 5]);</span><br><span class="line"></span><br><span class="line">    // Think</span><br><span class="line"></span><br><span class="line">&#125; while (TRUE);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è™½ç„¶ä¸Šè¿°è§£æ³•å¯ä»¥ä¿è¯ä¸ä¼šæœ‰ä¸¤ä¸ªç›¸é‚»çš„å“²å­¦å®¶åŒæ—¶è¿›é¤ã€‚ä½†å´æœ‰å¯èƒ½å¼•èµ·æ­»é”ã€‚å‡å¦‚äº”ä½å“²å­¦å®¶åŒæ—¶é¥¥é¥¿è€Œå„è‡ªæ‹¿èµ·å·¦è¾¹çš„ç­·å­çš„æ—¶å€™ï¼Œå°±ä¼šä½¿äº”ä¸ªä¿¡å·é‡chopstickå‡ä¸ºé›¶ã€‚å½“ä»–ä»¬åœ¨è¯•å›¾å»æ‹¿å³è¾¹çš„ç­·å­ï¼Œéƒ½å°†å› ä¸ºæ— ç­·å­å¯æ‹¿è€Œæ— é™æœŸçš„ç­‰å¾…ã€‚</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<ol>
<li><strong>è‡³å¤šåªå…è®¸æœ‰å››ä½å“²å­¦å®¶åŒæ—¶å»æ‹¿å·¦è¾¹çš„ç­·å­</strong>ï¼Œæœ€ç»ˆèƒ½ä¿è¯è‡³å°‘æœ‰ä¸€ä½å“²å­¦å®¶èƒ½å¤Ÿè¿›é¤ï¼Œå¹¶åœ¨ç”¨æ¯•æ—¶èƒ½é‡Šæ”¾å‡ºä»–ç”¨è¿‡çš„ä¸¤åªç­·å­ï¼Œä»è€Œä½¿æ›´å¤šçš„å“²å­¦å®¶èƒ½å¤Ÿè¿›é¤ã€‚</li>
<li>ä»…å½“å“²å­¦å®¶çš„<strong>å·¦ã€å³ä¸¤åªç­·å­å‡å¯ç”¨</strong>æ—¶ï¼Œæ‰å…è®¸ä»–æ‹¿èµ·ç­·å­è¿›é¤ã€‚</li>
<li>è§„å®šå¥‡æ•°å·å“²å­¦å®¶å…ˆæ‹¿ä»–å·¦è¾¹çš„ç­·å­ï¼Œç„¶åå†å»æ‹¿å³è¾¹çš„ç­·å­ï¼›è€Œå¶æ•°å·å“²å­¦å®¶åˆ™ç›¸åã€‚æŒ‰æ­¤è§„å®šï¼Œå°†æ˜¯1ã€2å·å“²å­¦å®¶ç«äº‰1å·ç­·å­ï¼›3ã€4å·å“²å­¦å®¶ç«äº‰3å·ç­·å­ã€‚å³äº”ä½å“²å­¦å®¶éƒ½å…ˆç«äº‰å¥‡æ•°å·ç­·å­ï¼Œè·å¾—åï¼Œå†å»ç«äº‰å¶æ•°å·ç­·å­ï¼Œæœ€åæ€»ä¼šæœ‰ä¸€ä½å“²å­¦å®¶èƒ½è·å¾—ä¸¤åªç­·å­è€Œè¿›é¤ã€‚</li>
</ol>
<p><em><strong>åˆ©ç”¨ANDä¿¡å·é‡è§£å†³å“²å­¦å®¶è¿›é¤é—®é¢˜</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">semaphore chopstick[5] = &#123;1, 1, 1, 1, 1&#125;;</span><br><span class="line"></span><br><span class="line">do &#123;</span><br><span class="line">    // ...</span><br><span class="line"></span><br><span class="line">    think;</span><br><span class="line"></span><br><span class="line">    Sswait(chopstick[(i + 1) % 5], chopstick[i]);</span><br><span class="line"></span><br><span class="line">    // Eat</span><br><span class="line"></span><br><span class="line">    Ssignal(chopstick[(i + 1) % 5], chopstick[i]);</span><br><span class="line"></span><br><span class="line">&#125; while (TRUE);</span><br></pre></td></tr></table></figure>

<h3 id="è¯»è€…â€”â€”å†™è€…é—®é¢˜"><a href="#è¯»è€…â€”â€”å†™è€…é—®é¢˜" class="headerlink" title="è¯»è€…â€”â€”å†™è€…é—®é¢˜"></a>è¯»è€…â€”â€”å†™è€…é—®é¢˜</h3><p>é—®é¢˜æè¿°ï¼šå¯¹äºç³»ç»Ÿä¸­çš„å…±äº«å¯¹è±¡ï¼ŒæŠŠåªè¦æ±‚è¯»è¯¥æ–‡ä»¶çš„è¿›ç¨‹ç§°ä¸ºâ€œreaderè¿›ç¨‹â€ï¼Œå…¶å®ƒè¿›ç¨‹ç§°ä¸ºâ€œwriterè¿›ç¨‹â€ã€‚æ‰€è°“è¯»è€…â€”â€”å†™è€…é—®é¢˜ï¼Œæ˜¯æŒ‡ä¿è¯ä¸€ä¸ªwriteè¿›ç¨‹å¿…é¡»ä¸å…¶å®ƒè¿›ç¨‹äº’æ–¥åœ°è®¿é—®å…±äº«å¯¹è±¡çš„åŒæ­¥é—®é¢˜ã€‚</p>
<p><em><strong>åˆ©ç”¨è®°å½•å‹ä¿¡å·é‡è§£å†³è¯»è€…â€”å†™è€…é—®é¢˜</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">semaphore rmutex=1, wmutex = 1;</span><br><span class="line">int readcount = 0;</span><br><span class="line"></span><br><span class="line">void reader() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        wait(rmutex);</span><br><span class="line">        if (readcount == 0) then wait(wmutex);</span><br><span class="line">        readcount = readcount + 1;</span><br><span class="line">        signal(rmutex);</span><br><span class="line"></span><br><span class="line">        // Perform read operation</span><br><span class="line"></span><br><span class="line">        wait(rmutex);</span><br><span class="line">        readcount = readcount - 1;</span><br><span class="line">        if (readcount == 0) then signal(wmutex);</span><br><span class="line">        signal(rmutex);</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void writer() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        wait(wmutex);</span><br><span class="line">        </span><br><span class="line">        // Perform write operation</span><br><span class="line">        </span><br><span class="line">        signal(wmutex);</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void main() &#123;</span><br><span class="line">    cobegin</span><br><span class="line">        reader();</span><br><span class="line">        writer();</span><br><span class="line">    coend</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em><strong>ä¿¡å·é‡é›†è§£å†³è¯»è€…â€”å†™è€…é—®é¢˜</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int RN;</span><br><span class="line">Semaphore L = RN, mx = 1;</span><br><span class="line"></span><br><span class="line">// RNæ ‡ç¤ºåŒæ—¶å…è®¸å¤šå°‘è¯»è¿›ç¨‹å­˜åœ¨</span><br><span class="line">void reader() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        swait(L, 1, 1);</span><br><span class="line">        swait(mx, 1, 0);</span><br><span class="line"></span><br><span class="line">        // Perform read operation</span><br><span class="line"></span><br><span class="line">        ssignal(L, 1);</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void writer() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        swait(mx, 1, 1;L, RN, 0);</span><br><span class="line">        </span><br><span class="line">        // Perform write operation</span><br><span class="line"></span><br><span class="line">        ssignal(mx, 1);</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void main() &#123;</span><br><span class="line">    cobegin</span><br><span class="line">        reader();</span><br><span class="line">        writer();</span><br><span class="line">    coend</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¯¾å ‚ç»ƒä¹ "><a href="#è¯¾å ‚ç»ƒä¹ " class="headerlink" title="è¯¾å ‚ç»ƒä¹ "></a>è¯¾å ‚ç»ƒä¹ </h3><p>æœ‰ä¸€ä¸ªç†å‘å¸ˆï¼Œä¸€æŠŠç†å‘æ¤…å’ŒnæŠŠä¾›ç­‰å€™ç†å‘çš„é¡¾å®¢åçš„æ¤…å­ã€‚å¦‚æœæ²¡æœ‰é¡¾å®¢ï¼Œç†å‘å¸ˆä¾¿åœ¨ç†å‘æ¤…ä¸Šç¡è§‰ï¼›å½“ä¸€ä¸ªé¡¾å®¢åˆ°æ¥æ—¶ï¼Œå¿…é¡»å”¤é†’ç†å‘å¸ˆè¿›è¡Œç†å‘ï¼›å¦‚æœç†å‘å¸ˆæ­£åœ¨ç†å‘æ—¶åˆæœ‰é¡¾å®¢åˆ°æ¥ï¼Œåˆ™å¦‚æœæœ‰ç©ºæ¤…å­å¯åï¼Œä»–å°±åä¸‹æ¥ç­‰ï¼Œå¦‚æœæ²¡æœ‰ç©ºæ¤…å­ï¼Œä»–å°±ç¦»å¼€ã€‚ä¸ºç†å‘å¸ˆå’Œé¡¾å®¢å„ç¼–ä¸€æ®µç¨‹åºæè¿°ä»–ä»¬çš„è¡Œä¸ºã€‚</p>
<p>ä½¿ç”¨ä¸‰ä¸ªä¿¡å·é‡ï¼š<br>â—¼ customersç”¨æ¥è®°å½•ç­‰å€™ç†å‘çš„é¡¾å®¢æ•°ï¼ˆä¸åŒ…æ‹¬æ­£åœ¨ç†å‘çš„é¡¾å®¢ï¼‰ï¼Œå…¶åˆå€¼ä¸º0ï¼›<br>â—¼ barbersè®°å½•æ­£åœ¨ç­‰å€™é¡¾å®¢çš„ç†å‘å¸ˆæ•°ï¼Œå…¶å€¼ä¸º0æˆ–1ï¼›<br>â—¼ mutexç”¨äºå®ç°å…±äº«å˜é‡çš„äº’æ–¥è®¿é—®ï¼Œå…¶åˆå€¼ä¸º1ã€‚<br>â—¼ å…±äº«å˜é‡countï¼Œå®ƒä¹Ÿç”¨äºè®°å½•ç­‰å€™çš„é¡¾å®¢æ•°ï¼Œå®ƒå®é™…ä¸Šæ˜¯customersçš„ä¸€ä¸ªå¤‡ä»½ï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨countæ˜¯å› ä¸ºæ— æ³•è¯»å–ä¿¡å·é‡çš„å½“å‰å€¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">semaphore customers = 0; // ç­‰å€™çš„é¡¾å®¢æ•°</span><br><span class="line">semaphore barbers = 0;   // ç­‰å€™é¡¾å®¢çš„ç†å‘å¸ˆæ•°</span><br><span class="line">semaphore mutex = 1;</span><br><span class="line">int count = 0;           // ç­‰å€™çš„é¡¾å®¢æ•°ï¼ˆè¿˜æ²¡ç†å‘ï¼‰</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">    cobegin</span><br><span class="line">        barbers();</span><br><span class="line">        customers();</span><br><span class="line">    coend</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">barber() &#123;</span><br><span class="line">    while (true) &#123;</span><br><span class="line">        p(customers); // æ˜¯å¦æœ‰ç­‰å€™çš„é¡¾å®¢</span><br><span class="line">        p(mutex);</span><br><span class="line">        count = count - 1; // é¡¾å®¢æ•°å‡1</span><br><span class="line">        v(barbers);       // ç†å‘å¸ˆå¼€å§‹ç†å‘</span><br><span class="line">        v(mutex);</span><br><span class="line">        ç†å‘;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">customer() &#123;</span><br><span class="line">    p(mutex);</span><br><span class="line">    if (count &lt; n) &#123;</span><br><span class="line">        count = count + 1; // è‹¥æœ‰ç©ºæ¤…å­åˆ™ç­‰å€™çš„é¡¾å®¢æ•°åŠ 1</span><br><span class="line">        v(customers);</span><br><span class="line">        v(mutex);</span><br><span class="line">        p(barbers);//æ— ç†å‘å¸ˆ,é¡¾å®¢åç€</span><br><span class="line">        ç†å‘;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        v(mutex); // æ— ç©ºæ¤…å­åˆ™ç¦»å¼€</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="è¿›ç¨‹é€šä¿¡"><a href="#è¿›ç¨‹é€šä¿¡" class="headerlink" title="è¿›ç¨‹é€šä¿¡"></a>è¿›ç¨‹é€šä¿¡</h2><p>è¿›ç¨‹é€šä¿¡â€”â€”æ˜¯æŒ‡è¿›ç¨‹ä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ã€‚ç”±äºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œå› æ­¤ä¸€ä¸ªè¿›ç¨‹æ— æ³•ç›´æ¥è®¿é—®å¦ä¸€ä¸ªè¿›ç¨‹çš„å˜é‡æˆ–æ•°æ®ç»“æ„ã€‚</p>
<p><em><strong>è¿›ç¨‹é€šä¿¡çš„ç±»å‹</strong></em></p>
<p>1.å…±äº«å­˜å‚¨å™¨ç³»ç»Ÿ<br>ï¼ˆ1ï¼‰åŸºäºå…±äº«æ•°æ®ç»“æ„çš„é€šä¿¡æ–¹å¼ã€‚<br>ï¼ˆ2ï¼‰åŸºäºå…±äº«å­˜å‚¨åŒºçš„é€šä¿¡æ–¹å¼ã€‚<br>2.æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿ<br>â€¢ æ˜¯ç›®å‰çš„ä¸»è¦é€šä¿¡æ–¹å¼ï¼Œä¿¡æ¯å•ä½ï¼šæ¶ˆæ¯ï¼ˆæŠ¥æ–‡ï¼‰<br>â€¢ å®ç°ï¼šä¸€ç»„é€šä¿¡å‘½ä»¤ï¼ˆåŸè¯­ï¼‰ï¼Œå…·æœ‰é€æ˜æ€§â†’åŒæ­¥çš„å®ç°ã€‚<br>å®ç°æ–¹å¼çš„ä¸åŒï¼Œè€Œåˆ†æˆï¼š<br>ï¼ˆ1ï¼‰ç›´æ¥é€šä¿¡æ–¹å¼</p>
<p>è¿™æ˜¯æŒ‡å‘é€è¿›ç¨‹åˆ©ç”¨OSæ‰€æä¾›çš„å‘é€å‘½ä»¤ï¼Œç›´æ¥æŠŠæ¶ˆæ¯å‘é€ç»™ç›®æ ‡è¿›ç¨‹ã€‚<br>ç³»ç»Ÿæä¾›ä¸‹è¿°ä¸¤æ¡é€šä¿¡å‘½ä»¤ï¼ˆåŸè¯­ï¼‰ï¼š<br>Send ï¼ˆReceiverï¼Œ messageï¼‰ï¼›Receiveï¼ˆSenderï¼Œ messageï¼‰ï¼›</p>
<p>ä¾‹ï¼šè§£å†³ç”Ÿäº§â€”æ¶ˆè´¹é—®é¢˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">do&#123;</span><br><span class="line">	â€¦ </span><br><span class="line">	produce an item in nextp; </span><br><span class="line">	â€¦</span><br><span class="line">	send(consumer, nextp);</span><br><span class="line">&#125;while(TRUE);</span><br><span class="line">do&#123;</span><br><span class="line">	receive( producer, nextc);</span><br><span class="line">	â€¦</span><br><span class="line">	consumer the item in nextc;</span><br><span class="line">&#125;while(TRUE);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰é—´æ¥é€šä¿¡æ–¹å¼</p>
<p>æŒ‡è¿›ç¨‹ä¹‹é—´åˆ©ç”¨<strong>ä¿¡ç®±</strong>çš„é€šä¿¡æ–¹å¼ã€‚å‘é€è¿›ç¨‹å‘é€ç»™ç›®æ ‡è¿›ç¨‹çš„æ¶ˆæ¯å­˜æ”¾ä¿¡ç®±ï¼›æ¥æ”¶è¿›ç¨‹åˆ™ä»è¯¥ä¿¡ç®±ä¸­ï¼Œå–å‡ºå¯¹æ–¹å‘é€ç»™è‡ªå·±çš„æ¶ˆæ¯ï¼›æ¶ˆæ¯åœ¨ä¿¡ç®±ä¸­å¯ä»¥å®‰å…¨åœ°ä¿å­˜ï¼Œåªå…è®¸æ ¸å‡†çš„ç›®æ ‡ç”¨æˆ·éšæ—¶è¯»å–ã€‚ç³»ç»Ÿä¸ºä¿¡ç®±é€šä¿¡æä¾›äº†è‹¥å¹²æ¡åŸè¯­ï¼Œåˆ†åˆ«ç”¨äºä¿¡ç®±çš„<br>åˆ›å»ºã€æ’¤æ¶ˆå’Œæ¶ˆæ¯çš„å‘é€ã€æ¥æ”¶ç­‰ã€‚</p>
<p>Send (mailbox, message);Receive (mailbox, message)</p>
<p>3.ç®¡é“ï¼ˆPipeï¼‰é€šä¿¡</p>
<p>ç®¡é“ï¼šè¿æ¥ä¸€ä¸ªè¯»è¿›ç¨‹å’Œä¸€ä¸ªå†™è¿›ç¨‹ä¹‹é—´é€šä¿¡çš„å…±äº«æ–‡ä»¶ã€‚<br>åŠŸèƒ½ï¼šå¤§é‡çš„æ•°æ®å‘æ”¶ã€‚</p>
<p>4.ä¿¡å·</p>
<hr>
<p>åœ¨ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…é—®é¢˜ä¸­ï¼Œå¦‚æœç¼ºå°‘äº†signal(full)æˆ–signal(empty)ï¼Œå¯¹æ‰§è¡Œç»“æœå°†ä¼šæœ‰ä½•å½±å“ï¼Ÿ</p>
<p><strong>å¦‚æœç¼ºå°‘äº†<code>signal(full)</code>ï¼Œåˆ™æ¶ˆè´¹è€…è¿›ç¨‹å°†æ— æ³•ä»ç¼“å†²åŒºä¸­å–å‡ºäº§å“</strong>ã€‚è¿™æ˜¯å› ä¸ºæ¶ˆè´¹è€…è¿›ç¨‹åœ¨æ¯æ¬¡å–å‡ºäº§å“ä¹‹å‰ï¼Œéƒ½ä¼šè°ƒç”¨<code>wait(full)</code>æ¥æ£€æŸ¥ç¼“å†²åŒºä¸­æ˜¯å¦æœ‰äº§å“ã€‚å¦‚æœç¼ºå°‘äº†<code>signal(full)</code>ï¼Œåˆ™ç¼“å†²åŒºä¸­çš„äº§å“æ•°é‡å°†æ°¸è¿œä¸º0ï¼Œæ¶ˆè´¹è€…è¿›ç¨‹å°†ä¸€ç›´è¢«é˜»å¡ã€‚<strong>å¦‚æœç¼ºå°‘äº†<code>signal(empty)</code>ï¼Œåˆ™ç”Ÿäº§è€…è¿›ç¨‹å°†æ— æ³•å‘ç¼“å†²åŒºä¸­æ·»åŠ æ–°çš„äº§å“</strong>ã€‚è¿™æ˜¯å› ä¸ºç”Ÿäº§è€…è¿›ç¨‹åœ¨æ¯æ¬¡ç”Ÿäº§æ–°äº§å“ä¹‹å‰ï¼Œéƒ½ä¼šè°ƒç”¨<code>wait(empty)</code>æ¥æ£€æŸ¥ç¼“å†²åŒºæ˜¯å¦æœ‰ç©ºé—²ä½ç½®ã€‚å¦‚æœç¼ºå°‘äº†<code>signal(empty)</code>ï¼Œåˆ™ç¼“å†²åŒºä¸­çš„ç©ºé—²ä½ç½®æ•°é‡å°†æ°¸è¿œä¸º0ï¼Œç”Ÿäº§è€…è¿›ç¨‹å°†ä¸€ç›´è¢«é˜»å¡ã€‚</p>
<p>å°è¯•åˆ©ç”¨è®°å½•å‹ä¿¡å·é‡å†™å‡ºä¸€ä¸ªä¸ä¼šå‡ºç°æ­»é”çš„å“²å­¦å®¶è¿›é¤é—®é¢˜çš„ç®—æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">semaphore chopstick[5] = &#123;1, 1, 1, 1, 1&#125;;</span><br><span class="line">semaphore num = 4;</span><br><span class="line"></span><br><span class="line">void philosopher(int i) &#123;</span><br><span class="line">    while (true) &#123;</span><br><span class="line">        wait(num);</span><br><span class="line">        wait(chopstick[i]);</span><br><span class="line">        wait(chopstick[(i + 1) % 5]);</span><br><span class="line"></span><br><span class="line">        // è¿›è¡Œè¿›é¤æ“ä½œ</span><br><span class="line"></span><br><span class="line">        signal(chopstick[i]);</span><br><span class="line">        signal(chopstick[(i + 1) % 5]);</span><br><span class="line">        signal(num);</span><br><span class="line"></span><br><span class="line">        // è¿›è¡Œæ€è€ƒæ“ä½œ</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯•ä¿®æ”¹ä¸‹é¢ç”Ÿäº§è€…â€”æ¶ˆè´¹è€…é—®é¢˜è§£æ³•ä¸­çš„é”™è¯¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void producer() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        // ç”Ÿæˆä¸€ä¸ªé¡¹ç›® nextp</span><br><span class="line"></span><br><span class="line">        wait(mutex);</span><br><span class="line">        wait(full);</span><br><span class="line">        buffer[in] = nextp;</span><br><span class="line">        signal(mutex);</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void consumer() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        wait(mutex);</span><br><span class="line">        wait(empty);</span><br><span class="line">        nextc = buffer[out];</span><br><span class="line">        out = (out + 1) % n;</span><br><span class="line">        signal(mutex);</span><br><span class="line"></span><br><span class="line">        // æ¶ˆè´¹ nextc é¡¹ç›®</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void producer() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        // ç”Ÿæˆä¸€ä¸ªé¡¹ç›® nextp</span><br><span class="line"></span><br><span class="line">        wait(empty);</span><br><span class="line">        wait(mutex);</span><br><span class="line">        buffer[in] = nextp;</span><br><span class="line">        in = (in + 1) % n;</span><br><span class="line">        signal(mutex);</span><br><span class="line">        signal(full);</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void consumer() &#123;</span><br><span class="line">    do &#123;</span><br><span class="line">        wait(full);</span><br><span class="line">        wait(mutex);</span><br><span class="line">        nextc = buffer[out];</span><br><span class="line">        out = (out + 1) % n;</span><br><span class="line">        signal(mutex);</span><br><span class="line">        signal(empty);</span><br><span class="line"></span><br><span class="line">        // æ¶ˆè´¹ nextc é¡¹ç›®</span><br><span class="line">    &#125; while (TRUE);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»ŸæœŸæœ«å¤ä¹ ä¹‹æ–‡ä»¶ç³»ç»Ÿ</title>
    <url>/2023/06/15/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/3/</url>
    <content><![CDATA[<h1 id="æ–‡ä»¶ç³»ç»Ÿ"><a href="#æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿ</h1><p>â€‹	æ–‡ä»¶ç³»ç»Ÿæ˜¯æ“ä½œç³»ç»Ÿç”¨äºæ˜ç¡®<a href="https://baike.baidu.com/item/%E5%AD%98%E5%82%A8%E8%AE%BE%E5%A4%87/3340812?fromModule=lemma_inlink">å­˜å‚¨è®¾å¤‡</a>ï¼ˆå¸¸è§çš„æ˜¯ç£ç›˜ï¼‰æˆ–åˆ†åŒºä¸Šçš„æ–‡ä»¶çš„æ–¹æ³•å’Œ<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1450?fromModule=lemma_inlink">æ•°æ®ç»“æ„</a>ï¼›å³åœ¨å­˜å‚¨è®¾å¤‡ä¸Šç»„ç»‡æ–‡ä»¶çš„æ–¹æ³•ã€‚æ“ä½œç³»ç»Ÿä¸­è´Ÿè´£ç®¡ç†å’Œ<a href="https://baike.baidu.com/item/%E5%AD%98%E5%82%A8%E6%96%87%E4%BB%B6/23734835?fromModule=lemma_inlink">å­˜å‚¨æ–‡ä»¶</a>ä¿¡æ¯çš„è½¯ä»¶æœºæ„ç§°ä¸º<a href="https://baike.baidu.com/item/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/8164847?fromModule=lemma_inlink">æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ</a>ï¼Œç®€ç§°æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<h2 id="æ–‡ä»¶ç³»ç»Ÿæ¦‚è¿°"><a href="#æ–‡ä»¶ç³»ç»Ÿæ¦‚è¿°" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿæ¦‚è¿°"></a>æ–‡ä»¶ç³»ç»Ÿæ¦‚è¿°</h2><p>æ–‡ä»¶ç³»ç»Ÿçš„åŠŸèƒ½ï¼š</p>
<blockquote>
<p>æœ‰æ•ˆåœ°ç®¡ç†æ–‡ä»¶çš„å­˜å‚¨ç©ºé—´ï¼›<br>ç®¡ç†æ–‡ä»¶ç›®å½•ï¼›<br>å®Œæˆæ–‡ä»¶çš„è¯»&#x2F;å†™æ“ä½œï¼›<br>å®ç°æ–‡ä»¶å…±äº«ä¸ä¿æŠ¤ï¼›<br>ä¸ºç”¨æˆ·æä¾›äº¤äº’å¼å‘½ä»¤æ¥å£å’Œç¨‹åºè°ƒç”¨æ¥å£ã€‚</p>
</blockquote>
<p>â€‹	æ–‡ä»¶ç³»ç»Ÿå®šä¹‰ï¼š<strong>æ“ä½œç³»ç»Ÿä¸­çš„å„ç±»æ–‡ä»¶ã€ç®¡ç†æ–‡ä»¶çš„è½¯ä»¶ï¼Œä»¥åŠç®¡ç†æ–‡ä»¶æ‰€æ¶‰åŠåˆ°çš„æ•°æ®ç»“æ„ç­‰ä¿¡æ¯çš„é›†åˆ</strong>ã€‚</p>
<p>â€‹	ç°ä»£OSå‡ ä¹éƒ½æ˜¯é€šè¿‡æ–‡ä»¶ç³»ç»Ÿæ¥ç»„ç»‡å’Œç®¡ç†åœ¨è®¡ç®—æœºä¸­æ‰€å­˜å‚¨çš„å¤§é‡ç¨‹åºå’Œæ•°æ®çš„ã€‚æ–‡ä»¶ç³»ç»Ÿçš„ç®¡ç†åŠŸèƒ½æ˜¯é€šè¿‡æŠŠå®ƒæ‰€ç®¡ç†çš„ç¨‹åºå’Œæ•°æ®ç»„ç»‡æˆä¸€ç³»åˆ—æ–‡ä»¶çš„æ–¹æ³•æ¥å®ç°çš„ã€‚è€Œæ–‡ä»¶åˆ™æ˜¯æŒ‡å…·æœ‰æ–‡ä»¶åçš„è‹¥å¹²ç›¸å…³å…ƒç´ çš„é›†åˆ<strong>ã€‚</strong>å…ƒç´ é€šå¸¸æ˜¯è®°å½•ï¼Œè€Œè®°å½•æ˜¯ä¸€ç»„æœ‰æ„ä¹‰çš„æ•°æ®é¡¹çš„é›†åˆã€‚å¯ä»¥æŠŠæ•°æ®ç»„æˆåˆ†ä¸º<strong>æ•°æ®é¡¹ã€è®°å½•ã€æ–‡ä»¶</strong>ã€‚</p>
<p>ã€€â‘  <strong>æ•°æ®é¡¹</strong>ï¼Œæ•°æ®é¡¹æ˜¯æœ€ä½çº§æ•°æ®ç»„ç»‡å½¢å¼ã€‚åˆ†ä¸ºåŸºæœ¬æ•°æ®é¡¹ï¼ˆç”¨äºæè¿°ä¸€ä¸ªå¯¹è±¡æŸç§å±æ€§çš„å­—ç¬¦é›†ï¼Œæ˜¯æ•°æ®ç»„ç»‡ä¸­å¯ä»¥å‘½åçš„æœ€å°é€»è¾‘æ•°æ®å•ä½ï¼Œå³åŸå­æ•°æ®ï¼Œåˆç§°ä¸ºæ•°æ®å…ƒç´ æˆ–å­—æ®µï¼‰å’Œç»„åˆæ•°æ®é¡¹ï¼ˆç”±è‹¥å¹²ä¸ªåŸºæœ¬æ•°æ®é¡¹ç»„æˆï¼Œç®€ç§°ç»„é¡¹ï¼‰</p>
<p>ã€€â‘¡ <strong>è®°å½•</strong>ï¼Œæ˜¯ä¸€ç»„ç›¸å…³æ•°æ®é¡¹çš„é›†åˆï¼Œç”¨äºæè¿°ä¸€ä¸ªå¯¹è±¡åœ¨æŸæ–¹é¢çš„å±æ€§ï¼Œä¸ºäº†èƒ½å¤Ÿå”¯ä¸€æ ‡è¯†ä¸€ä¸ªè®°å½•ï¼Œéœ€è¦åœ¨ä¸€ä¸ªè®°å½•çš„å„ä¸ªæ•°æ®é¡¹ä¸­ç¡®å®šä¸€ä¸ªæˆ–å‡ ä¸ªæ•°æ®é¡¹ï¼ŒæŠŠä»–ä»¬çš„é›†åˆç§°ä¸º<em><strong>å…³é”®å­—</strong></em>ï¼Œå…³é”®å­—æ˜¯èƒ½å¤Ÿå”¯ä¸€æ ‡è¯†ä¸€ä¸ªè®°å½•çš„æ•°æ®é¡¹ã€‚</p>
<p>ã€€â‘¢ <strong>æ–‡ä»¶</strong>ï¼Œæ–‡ä»¶æ˜¯å…·æœ‰æ–‡ä»¶åçš„ä¸€ç»„ç›¸å…³å…ƒç´ çš„é›†åˆï¼Œåˆ†ä¸ºæœ‰ç»“æ„æ–‡ä»¶å’Œæ— ç»“æ„æ–‡ä»¶ã€‚æœ‰ç»“æ„æ–‡ä»¶ç”±è‹¥å¹²ä¸ªç›¸å…³è®°å½•ç»„æˆï¼Œæ— ç»“æ„æ–‡ä»¶åˆ™è¢«çœ‹æˆä¸€ä¸ªå­—ç¬¦æµã€‚æ–‡ä»¶æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„æœ€å¤§æ•°æ®å•ä½ï¼Œå®ƒæè¿°äº†ä¸€ä¸ªå¯¹è±¡é›†ã€‚</p>
<p><em><strong>ä¸€ä¸ªæ–‡ä»¶å¯å¯¹åº”è‹¥å¹²ä¸ªè®°å½•ï¼Œä¸€ä¸ªè®°å½•å¯å¯¹åº”è‹¥å¹²ä¸ªæ•°æ®é¡¹ã€‚</strong></em></p>
<p>æ–‡ä»¶åº”è¯¥å…·æœ‰è‡ªå·±çš„å±æ€§ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç±»å‹ï¼Œæ–‡ä»¶é•¿åº¦ï¼Œæ–‡ä»¶çš„ç‰©ç†ä½ç½®ï¼Œæ–‡ä»¶çš„å»ºç«‹æ—¶é—´ã€‚æ–‡ä»¶é•¿åº¦ï¼ˆæ–‡ä»¶çš„å½“å‰é•¿åº¦ï¼Œä¹Ÿå¯èƒ½æ˜¯æœ€å¤§å…è®¸é•¿åº¦ï¼‰ï¼Œæ–‡ä»¶çš„ç‰©ç†ä½ç½®ï¼ˆæŒ‡ç¤ºæ–‡ä»¶åœ¨å“ªä¸€ä¸ªè®¾å¤‡ä¸ŠåŠåœ¨è¯¥è®¾å¤‡çš„å“ªä¸ªä½ç½®çš„æŒ‡é’ˆï¼‰ï¼Œæ–‡ä»¶çš„å»ºç«‹æ—¶é—´ï¼ˆæ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ï¼‰ã€‚</p>
<p><strong>æ–‡ä»¶ç±»å‹</strong></p>
<ul>
<li><p><em>æŒ‰ç”¨é€”åˆ†ç±»</em><br>(1)ç³»ç»Ÿæ–‡ä»¶<br> è¿™æ˜¯æŒ‡ç”±ç³»ç»Ÿè½¯ä»¶æ„æˆçš„æ–‡ä»¶ã€‚å¤§å¤šæ•°çš„ç³»ç»Ÿæ–‡ä»¶åªå…è®¸ç”¨æˆ·è°ƒç”¨ï¼Œä½†ä¸å…è®¸ç”¨æˆ·å»è¯»ï¼Œæ›´ä¸å…è®¸ä¿®æ”¹ï¼›æœ‰çš„ç³»ç»Ÿæ–‡ä»¶ä¸ç›´æ¥å¯¹ç”¨æˆ·å¼€æ”¾ã€‚<br>(2) ç”¨æˆ·æ–‡ä»¶<br> ç”±ç”¨æˆ·çš„æºä»£ç ã€ç›®æ ‡æ–‡ä»¶ã€å¯æ‰§è¡Œæ–‡ä»¶æˆ–æ•°æ®ç­‰æ‰€æ„æˆçš„æ–‡ä»¶ã€‚<br>(3) åº“æ–‡ä»¶<br> è¿™æ˜¯ç”±æ ‡å‡†å­ä¾‹ç¨‹åŠå¸¸ç”¨çš„ä¾‹ç¨‹ç­‰æ‰€æ„æˆçš„æ–‡ä»¶ã€‚è¿™ç±»æ–‡ä»¶å…è®¸ç”¨æˆ·è°ƒç”¨ï¼Œä½†ä¸å…è®¸ä¿®æ”¹ã€‚ã€€</p>
</li>
<li><p><em>æŒ‰æ–‡ä»¶ä¸­æ•°æ®çš„å½¢å¼åˆ†ç±»</em><br>(1)æºæ–‡ä»¶<br>æŒ‡ç”±æºç¨‹åºå’Œæ•°æ®æ„æˆçš„æ–‡ä»¶ã€‚<br>(2) ç›®æ ‡æ–‡ä»¶<br>æŒ‡æŠŠæºç¨‹åºç»è¿‡ç›¸åº”è¯­è¨€çš„ç¼–è¯‘ç¨‹åºç¼–è¯‘è¿‡ï¼Œä½†å°šæœªç»è¿‡é“¾æ¥ç¨‹åºé“¾æ¥çš„ç›®æ ‡ä»£ç æ‰€æ„æˆçš„æ–‡ä»¶ã€‚å®ƒå±äºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚<br>(3) å¯æ‰§è¡Œæ–‡ä»¶<br>æŒ‡æŠŠç¼–è¯‘åæ‰€äº§ç”Ÿçš„ç›®æ ‡ä»£ç å†ç»è¿‡é“¾æ¥ç¨‹åºé“¾æ¥åæ‰€å½¢æˆçš„æ–‡ä»¶ã€‚</p>
</li>
<li><p><em>æŒ‰å­˜å–æ§åˆ¶å±æ€§åˆ†ç±»</em><br>æ ¹æ®ç³»ç»Ÿç®¡ç†å‘˜æˆ–ç”¨æˆ·æ‰€è§„å®šçš„å­˜å–æ§åˆ¶å±æ€§ï¼Œå¯å°†æ–‡ä»¶åˆ†ä¸ºä¸‰ç±»ï¼š<br>(1)åªæ‰§è¡Œæ–‡ä»¶<br>è¯¥ç±»æ–‡ä»¶åªå…è®¸è¢«æ ¸å‡†çš„ç”¨æˆ·è°ƒç”¨æ‰§è¡Œï¼Œæ—¢ä¸å…è®¸è¯»ï¼Œæ›´ä¸å…è®¸å†™ã€‚<br>(2) åªè¯»æ–‡ä»¶<br>è¯¥ç±»æ–‡ä»¶åªå…è®¸æ–‡ä»¶ä¸»åŠè¢«æ ¸å‡†çš„ç”¨æˆ·å»è¯»ï¼Œä½†ä¸å…è®¸å†™ã€‚<br>(3) è¯»å†™æ–‡ä»¶<br>è¿™æ˜¯æŒ‡å…è®¸æ–‡ä»¶ä¸»å’Œè¢«æ ¸å‡†çš„ç”¨æˆ·å»è¯»æˆ–å†™çš„æ–‡ä»¶ã€‚</p>
</li>
<li><p><em>æŒ‰ç»„ç»‡å½¢å¼å’Œå¤„ç†æ–¹å¼åˆ†ç±»</em></p>
<p>åˆ†ä¸ºæ™®é€šæ–‡ä»¶ï¼Œç›®å½•æ–‡ä»¶ï¼Œç‰¹æ®Šæ–‡ä»¶ã€‚</p>
</li>
</ul>
<p><em><strong>æ–‡ä»¶ç³»ç»Ÿæ¨¡å‹</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_10-13-38.png"></p>
<p>â€‹	æ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„å¯¹è±¡æœ‰ï¼š<strong>æ–‡ä»¶</strong>ï¼ˆä½œä¸ºæ–‡ä»¶ç®¡ç†çš„ç›´æ¥å¯¹è±¡ï¼‰ï¼Œ<strong>ç›®å½•</strong>ï¼ˆä¸ºäº†æ–¹ä¾¿ç”¨æˆ·å¯¹æ–‡ä»¶çš„å­˜å–å’Œæ£€ç´¢ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­é…ç½®ç›®å½•ï¼Œæ¯ä¸ªç›®å½•é¡¹ä¸­ï¼Œå¿…é¡»å«æœ‰æ–‡ä»¶ååŠè¯¥æ–‡ä»¶æ‰€åœ¨çš„ç‰©ç†åœ°å€ï¼Œå¯¹ç›®å½•çš„ç»„ç»‡å’Œç®¡ç†æ˜¯æ–¹ä¾¿ç”¨æˆ·å’Œæé«˜å¯¹æ–‡ä»¶å­˜å–é€Ÿåº¦çš„å…³é”®ï¼‰ï¼Œ<strong>ç£ç›˜ï¼ˆç£å¸¦ï¼‰å­˜å‚¨ç©ºé—´</strong>ï¼ˆæ–‡ä»¶å’Œç›®å½•å¿…å®šå ç”¨å­˜å‚¨ç©ºé—´ï¼Œå¯¹è¿™éƒ¨åˆ†ç©ºé—´çš„æœ‰æ•ˆç®¡ç†ï¼Œä¸ä»…èƒ½æé«˜å¤–å­˜çš„åˆ©ç”¨ç‡ï¼Œè€Œä¸”èƒ½æé«˜å¯¹æ–‡ä»¶çš„å­˜å–é€Ÿåº¦ï¼‰ã€‚</p>
<p>â€‹	ä¸ºæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿï¼Œæ–‡ä»¶ç³»ç»Ÿé€šå¸¸å‘ç”¨æˆ·æä¾›ä¸¤ç§ç±»å‹çš„æ¥å£ï¼š<br>(1) <strong>å‘½ä»¤æ¥å£</strong>ã€‚è¿™æ˜¯æŒ‡ä½œä¸ºç”¨æˆ·ä¸æ–‡ä»¶ç³»ç»Ÿäº¤äº’çš„æ¥å£ã€‚ ç”¨æˆ·å¯é€šè¿‡é”®ç›˜ç»ˆç«¯é”®å…¥å‘½ä»¤ï¼Œå–å¾—æ–‡ä»¶ç³»ç»Ÿçš„æœåŠ¡ã€‚<br>(2) <strong>ç¨‹åºæ¥å£</strong>ã€‚è¿™æ˜¯æŒ‡ä½œä¸ºç”¨æˆ·ç¨‹åºä¸æ–‡ä»¶ç³»ç»Ÿçš„æ¥å£ã€‚ ç”¨æˆ·ç¨‹åºå¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥å–å¾—æ–‡ä»¶ç³»ç»Ÿçš„æœåŠ¡ã€‚</p>
<p><em><strong>æ–‡ä»¶æ“ä½œ</strong></em></p>
<p>â€‹	ç”¨æˆ·é€šè¿‡æ–‡ä»¶ç³»ç»Ÿæä¾›çš„<strong>ç³»ç»Ÿè°ƒç”¨</strong>å®æ–½å¯¹æ–‡ä»¶çš„æ“ä½œã€‚æœ€åŸºæœ¬çš„æ–‡ä»¶æ“ä½œæœ‰ï¼šåˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶ã€‚è¯»æ–‡ä»¶ã€å†™æ–‡ä»¶ã€æˆªæ–­æ–‡ä»¶å’Œè®¾ç½®æ–‡ä»¶çš„è¯»ï¼å†™ä½ç½®ã€‚</p>
<p>ã€€å½“å‰OSæ‰€æä¾›çš„å¤§å¤šæ•°å¯¹æ–‡ä»¶çš„æ“ä½œï¼Œå…¶è¿‡ç¨‹å¤§è‡´éƒ½æ˜¯è¿™æ ·ä¸¤æ­¥ï¼šé¦–å…ˆï¼Œæ£€ç´¢æ–‡ä»¶ç›®å½•æ¥æ‰¾åˆ°æŒ‡å®šæ–‡ä»¶çš„å±æ€§åŠå…¶åœ¨å¤–å­˜ä¸Šçš„ä½ç½®ï¼›ç„¶åï¼Œå¯¹æ–‡ä»¶å®æ–½ç›¸åº”çš„æ“ä½œï¼Œå¦‚è¯»&#x2F;å†™æ–‡ä»¶ç­‰ï¼Œå½“ç”¨æˆ·è¦æ±‚å¯¹ä¸€ä¸ªæ–‡ä»¶å®æ–½å¤šæ¬¡è¯»&#x2F;å†™æˆ–å…¶ä»–æ“ä½œæ—¶ï¼Œæ¯æ¬¡éƒ½è¦ä»æ£€ç´¢ç›®å½•å¼€å§‹ï¼Œä¸ºäº†é¿å…å¤šæ¬¡é‡å¤åœ°æ£€ç´¢ç›®å½•ï¼Œåœ¨å¤§å¤šæ•°OSä¸­éƒ½å¼•å…¥äº†æ‰“å¼€è¿™ä¸€æ–‡ä»¶ç³»ç»Ÿè°ƒç”¨ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚å¯¹æŸæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ“ä½œæ—¶ï¼Œå…ˆåˆ©ç”¨openç³»ç»Ÿè°ƒç”¨å°†è¯¥æ–‡ä»¶æ‰“å¼€ã€‚</p>
<p>ã€€<strong>æ‰“å¼€æ˜¯æŒ‡ç³»ç»Ÿå°†æŒ‡åæ–‡ä»¶çš„å±æ€§ï¼ˆåŒ…æ‹¬è¯¥æ–‡ä»¶åœ¨å¤–å­˜ä¸Šçš„ç‰©ç†ä½ç½®ï¼‰ä»å¤–å­˜æ‹·è´åˆ°å†…å­˜æ‰“å¼€æ–‡ä»¶è¡¨çš„ä¸€ä¸ªè¡¨ç›®ä¸­ï¼Œå¹¶å°†è¯¥è¡¨ç›®çš„ç¼–å·ï¼ˆç´¢å¼•ï¼‰è¿”å›ç»™ç”¨æˆ·</strong>ï¼Œä»¥åï¼Œå½“ç”¨æˆ·å†è¦æ±‚å¯¹è¯¥æ–‡ä»¶è¿›è¡Œæ“ä½œæ—¶ï¼Œä¾¿å¯åˆ©ç”¨ç³»ç»Ÿæ‰€è¿”å›çš„ç´¢å¼•å·å‘ç³»ç»Ÿæå‡ºæ“ä½œè¯·æ±‚ï¼Œç³»ç»Ÿä¾¿å¯ç›´æ¥åˆ©ç”¨è¯¥ç´¢å¼•åˆ°æ‰“å¼€æ–‡ä»¶è¡¨ä¸­å»æŸ¥æ‰¾ï¼Œä»è€Œé¿å…äº†å¯¹è¯¥æ–‡ä»¶çš„å†æ¬¡æ£€ç´¢ï¼Œå¦‚æœç”¨æˆ·ä¸å†éœ€è¦å¯¹è¯¥æ–‡ä»¶å®æ–½æ“ä½œï¼Œå¯åˆ©ç”¨å…³é—­ç³»ç»Ÿè°ƒç”¨æ¥å…³é—­æ­¤æ–‡ä»¶ï¼ŒOSå°†ä¼šæŠŠè¯¥æ–‡ä»¶ä»æ‰“å¼€æ–‡ä»¶è¡¨ä¸­çš„è¡¨ç›®ä¸Šåˆ é™¤æ‰ã€‚</p>
<p>æ–‡ä»¶æ“ä½œå®ä¾‹ï¼ˆLinuxï¼‰</p>
<blockquote>
<p>openï¼šæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶æŒ‡å®šè®¿é—®è¯¥æ–‡ä»¶çš„æ–¹å¼ï¼Œè°ƒç”¨æˆåŠŸåè¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚<br>creatï¼šæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒï¼Œè°ƒç”¨æˆåŠŸåè¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚<br>closeï¼šå…³é—­æ–‡ä»¶ï¼Œè¿›ç¨‹å¯¹æ–‡ä»¶æ‰€åŠ çš„é”å…¨éƒ½è¢«é‡Šæ”¾ã€‚<br>readï¼šä»æ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œè°ƒç”¨æˆåŠŸåè¿”å›è¯»å‡ºçš„å­—èŠ‚æ•°ã€‚<br>writeï¼šå‘æ–‡ä»¶æè¿°ç¬¦å¯¹åº”çš„æ–‡ä»¶ä¸­å†™å…¥æ•°æ®ï¼Œè°ƒç”¨æˆåŠŸåè¿”å›å†™å…¥çš„å­—èŠ‚æ•°ã€‚</p>
</blockquote>
<h2 id="æ–‡ä»¶çš„ç‰©ç†ç»“æ„"><a href="#æ–‡ä»¶çš„ç‰©ç†ç»“æ„" class="headerlink" title="æ–‡ä»¶çš„ç‰©ç†ç»“æ„"></a>æ–‡ä»¶çš„ç‰©ç†ç»“æ„</h2><p>ã€€å¯¹ä»»ä½•çš„æ–‡ä»¶ï¼Œéƒ½å­˜åœ¨ä»¥ä¸‹ä¸¤ç§å½¢å¼çš„ç»“æ„</p>
<p>ã€€â‘  <strong>æ–‡ä»¶çš„é€»è¾‘ç»“æ„</strong>ï¼Œè¿™æ˜¯ä»ç”¨æˆ·è§‚ç‚¹å‡ºå‘æ‰€è§‚å¯Ÿåˆ°çš„æ–‡ä»¶ç»„ç»‡å½¢å¼ï¼Œæ˜¯ç”¨æˆ·å¯ä»¥ç›´æ¥å¤„ç†çš„æ•°æ®åŠå…¶ç»“æ„ï¼Œç‹¬ç«‹äºæ–‡ä»¶çš„ç‰©ç†ç‰¹æ€§ï¼Œåˆç§°ä¸ºæ–‡ä»¶ç»„ç»‡ã€‚æ–‡ä»¶é€»è¾‘ç»“æ„çš„ç±»å‹ï¼šé¡ºåºæ–‡ä»¶ã€ç´¢å¼•æ–‡ä»¶ã€ç´¢å¼•é¡ºåºæ–‡ä»¶ã€‚</p>
<p>ã€€â‘¡ <strong>æ–‡ä»¶çš„ç‰©ç†ç»“æ„</strong>ï¼Œåˆç§°ä¸ºæ–‡ä»¶çš„å­˜å‚¨ç»“æ„ï¼Œæ˜¯æŒ‡æ–‡ä»¶åœ¨å¤–å­˜ä¸Šçš„å­˜å‚¨ç»„ç»‡å½¢å¼ï¼Œä¸ä»…ä¸å­˜å‚¨ä»‹è´¨çš„å­˜å‚¨æ€§èƒ½æœ‰å…³ï¼Œè¿˜ä¸å¤–å­˜åˆ†é…æ–¹å¼æœ‰å…³ã€‚ï¼ˆåˆ†ä¸ºé¡ºåºã€é“¾æ¥åŠç´¢å¼•ç»“æ„ï¼‰</p>
<p>â€‹	æ–‡ä»¶çš„ç‰©ç†ç»“æ„å³æ–‡ä»¶çš„å¤–å­˜åˆ†é…æ–¹å¼ï¼Œæ˜¯ä»ç³»ç»Ÿçš„è§’åº¦æ¥çœ‹æ–‡ä»¶ï¼Œä»æ–‡ä»¶åœ¨ç‰©ç†ä»‹è´¨ä¸Šçš„å­˜æ”¾æ–¹å¼æ¥ç ”ç©¶æ–‡ä»¶ã€‚è¦è€ƒè™‘çš„ä¸»è¦é—®é¢˜ï¼š å¦‚ä½•æœ‰æ•ˆåœ°åˆ©ç”¨å¤–å­˜ç©ºé—´ã€å¦‚ä½•æé«˜å¯¹æ–‡ä»¶çš„è®¿é—®é€Ÿåº¦ã€‚<br>ç›®å‰å¸¸ç”¨çš„å¤–å­˜åˆ†é…æ–¹æ³•ï¼š<br>ï¼ˆ1ï¼‰è¿ç»­åˆ†é…ï¼ˆé¡ºåºåˆ†é…ï¼‰ï¼&gt; é¡ºåºæ–‡ä»¶ç»“æ„<br>ï¼ˆ2ï¼‰é“¾æ¥åˆ†é…ï¼&gt; é“¾æ¥æ–‡ä»¶ç»“æ„<br>ï¼ˆ3ï¼‰ç´¢å¼•åˆ†é…ï¼&gt; ç´¢å¼•æ–‡ä»¶ç»“æ„ã€€</p>
<h3 id="è¿ç»­åˆ†é…"><a href="#è¿ç»­åˆ†é…" class="headerlink" title="è¿ç»­åˆ†é…"></a>è¿ç»­åˆ†é…</h3><p>ã€€è¿ç»­åˆ†é…è¦æ±‚ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸€ç»„ç›¸é‚»æ¥çš„ç›˜å—ï¼Œä¸€ç»„ç›˜å—åœ°å€å®šä¹‰äº†ç£ç›˜ä¸Šçš„ä¸€æ®µçº¿æ€§åœ°å€ã€‚é‡‡ç”¨è¿ç»­åˆ†é…æ–¹å¼æ—¶ï¼Œ<strong>æŠŠé€»è¾‘æ–‡ä»¶ä¸­çš„æ•°æ®é¡ºåºåœ°å­˜å‚¨åˆ°é‚»æ¥çš„å„ç‰©ç†ç›˜å—ä¸­ï¼Œè¿™æ ·æ‰€å½¢æˆçš„ç‰©ç†æ–‡ä»¶å¯ä»¥è¿›è¡Œé¡ºåºå­˜å–</strong>ã€‚æ–‡ä»¶ç›®å½•ä¸­ä¸ºæ¯ä¸ªæ–‡ä»¶å»ºç«‹ä¸€ä¸ªè¡¨é¡¹ï¼Œå…¶ä¸­è®°è½½æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªæ•°æ®å—åœ°å€åŠæ–‡ä»¶é•¿åº¦ã€‚å¯¹äºé¡ºåºæ–‡ä»¶ï¼Œè¿ç»­è¯»&#x2F;å†™å¤šä¸ªæ•°æ®å—å†…å®¹æ—¶ï¼Œæ€§èƒ½è¾ƒå¥½ã€‚è¿™ç§åˆ†é…æ–¹å¼ä¿è¯äº†é€»è¾‘æ–‡ä»¶ä¸­çš„è®°å½•é¡ºåºä¸å­˜å‚¨å™¨ä¸­æ–‡ä»¶å ç”¨ç›˜å—çš„é¡ºåºçš„ä¸€è‡´æ€§ã€‚ä¸‹å›¾ä¸ºè¿ç»­åˆ†é…æ–¹å¼ï¼ˆå‡è®¾è®°å½•ä¸ç›˜å—ä¸€æ ·å¤§ï¼‰ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_10-36-44.png">ã€€ã€€</p>
<p>è¿ç»­åˆ†é…çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p>
<p>ã€€â‘  é¡ºåºè®¿é—®å®¹æ˜“ï¼Œå¯ä»¥éšæœºå­˜å–, èƒ½å¾ˆå¿«æ£€ç´¢æ–‡ä»¶ä¸­çš„ä¸€ä¸ªæ•°æ®å—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªæ•°æ®å—çš„åºå·ä¸ºxï¼Œéœ€è¦æ£€ç´¢æ–‡ä»¶çš„ç¬¬yå—ï¼Œåˆ™è¯¥æ•°æ®å—åœ¨å¤–å­˜ä¸­çš„ä½ç½®ä¸ºx+y-1ã€‚</p>
<p>ã€€â‘¡ é¡ºåºè®¿é—®é€Ÿåº¦å¿«ï¼Œç£å¤´ç§»åŠ¨è·ç¦»çŸ­ï¼Œæ•ˆç‡æœ€é«˜ã€‚</p>
<p>è¿ç»­åˆ†é…çš„ç¼ºç‚¹å¦‚ä¸‹ï¼š</p>
<p>ã€€â‘  è¦æ±‚åˆè¿ç»­çš„å­˜å‚¨ç©ºé—´ï¼Œè¦ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸€æ®µè¿ç»­çš„å­˜å‚¨ç©ºé—´ï¼Œè¿™æ ·ï¼Œå¯èƒ½äº§ç”Ÿè®¸å¤šç£ç›˜ç¢ç‰‡ï¼Œä¸¥é‡åœ°é™ä½äº†å¤–å­˜ç©ºé—´åˆ©ç”¨ç‡ã€‚è§£å†³æ–¹æ³•ï¼šç³»ç»Ÿå®šæœŸæˆ–ä¸å®šæœŸé‡‡ç”¨ç´§å‡‘æŠ€æœ¯ï¼Œå°†å°åˆ†åŒºåˆå¹¶ä¸ºå¤§çš„ã€è¿ç»­åˆ†åŒºï¼Œå°†æ–‡ä»¶å ç”¨ç©ºé—´åˆå¹¶åœ¨ä¸€èµ·ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_10-37-04.png"></p>
<p>ã€€â‘¡ å¿…é¡»äº‹å…ˆçŸ¥é“æ–‡ä»¶çš„é•¿åº¦ï¼Œäº‹å…ˆçŸ¥é“æ–‡ä»¶çš„é•¿åº¦ï¼Œç„¶åæ ¹æ®å…¶å¤§å°ï¼Œåœ¨å­˜å‚¨ç©ºé—´ä¸­æ‰¾å‡ºä¸€å—å…¶å¤§å°è¶³å¤Ÿçš„å­˜å‚¨åŒºï¼Œå°†æ–‡ä»¶è£…å…¥ï¼Œå¯¹äºåŠ¨æ€å¢é•¿çš„æ–‡ä»¶éå¸¸ä½æ•ˆã€‚<strong>ç©ºé—´åˆ©ç”¨ç‡ä¸é«˜ï¼›ä¸åˆ©äºæ–‡ä»¶å°ºå¯¸çš„åŠ¨æ€å¢é•¿ã€‚</strong></p>
<h3 id="é“¾æ¥åˆ†é…"><a href="#é“¾æ¥åˆ†é…" class="headerlink" title="é“¾æ¥åˆ†é…"></a>é“¾æ¥åˆ†é…</h3><p>ã€€å¦‚æœå°†ä¸€ä¸ªé€»è¾‘æ–‡ä»¶å­˜å‚¨åˆ°å¤–å­˜ä¸Šï¼Œå¹¶ä¸è¦æ±‚ä¸ºæ•´ä¸ªæ–‡ä»¶åˆ†é…ä¸€å—è¿ç»­çš„ç©ºé—´ï¼Œè€Œæ˜¯å¯ä»¥å°†æ–‡ä»¶è£…åˆ°å¤šä¸ªç¦»æ•£çš„ç›˜å—ä¸­ï¼Œé‡‡ç”¨é“¾æ¥åˆ†é…æ–¹å¼ï¼Œå¯é€šè¿‡åœ¨æ¯ä¸ªç›˜å—ä¸Šçš„é“¾æ¥æŒ‡é’ˆï¼Œ<strong>å°†åŒå±äºä¸€ä¸ªæ–‡ä»¶çš„å¤šä¸ªç¦»æ•£ç›˜å—é“¾æ¥æˆä¸€ä¸ªé“¾è¡¨</strong>ï¼ŒæŠŠè¿™æ ·å½¢æˆçš„ç‰©ç†æ–‡ä»¶ç§°ä¸ºé“¾æ¥æ–‡ä»¶ã€‚é“¾æ¥åˆ†é…é‡‡å–ç¦»æ•£åˆ†é…æ–¹å¼ï¼Œæ¶ˆé™¤äº†å¤–éƒ¨ç¢ç‰‡ï¼Œæ•…è€Œæ˜¾è‘—åœ°æé«˜äº†å¤–å­˜ç©ºé—´çš„åˆ©ç”¨ç‡ï¼Œå¹¶ä¸”å¯¹æ–‡ä»¶çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ååˆ†æ–¹ä¾¿ã€‚é“¾æ¥æ–¹å¼å¯åˆ†ä¸º<em><strong>éšå¼é“¾æ¥å’Œæ˜¾ç¤ºé“¾æ¥</strong></em>ä¸¤ç§å½¢å¼ã€‚</p>
<p>ã€€â‘  <strong>éšå¼é“¾æ¥</strong>ï¼Œ åœ¨æ–‡ä»¶ç›®å½•çš„æ¯ä¸ªç›®å½•é¡¹ä¸­ï¼Œéƒ½é¡»å«æœ‰<strong>æŒ‡å‘é“¾æ¥æ–‡ä»¶ç¬¬ä¸€ä¸ªç›˜å—å’Œæœ€åä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆ</strong>ã€‚<strong>æ¯ä¸ªç›˜å—ä¸­éƒ½å«æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªç›˜å—çš„æŒ‡é’ˆ</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_10-37-35.png"></p>
<p>ã€€ç¬¬9ä¸ªç›˜å—æŒ‡å‘ç¬¬16ä¸ªç›˜å—ï¼Œç¬¬16ä¸ªç›˜å—æŒ‡å‘ç¬¬1ä¸ªç›˜å—ï¼Œç¬¬1ä¸ªç›˜å—æŒ‡å‘ç¬¬10ä¸ªç›˜å—ï¼Œç¬¬10ä¸ªç›˜å—æŒ‡å‘ç¬¬25ä¸ªç›˜å—ï¼ˆç»“æŸå—ï¼‰ã€‚ã€€ã€€</p>
<p>ã€€éšå¼é“¾æ¥åˆ†é…çš„ä¸»è¦é—®é¢˜åœ¨äºï¼šå…¶åªé€‚åˆäºé¡ºåºè®¿é—®ï¼Œå¯¹éšæœºè®¿é—®çš„æ•ˆç‡æå…¶ä½æ•ˆã€‚å¦‚æœè¦è®¿é—®æ–‡ä»¶æ‰€åœ¨çš„ç¬¬ i ä¸ªç›˜å—ï¼Œåˆ™å¿…é¡»å…ˆè¯»å‡ºæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªç›˜å—â€¦â€¦ï¼Œå°±è¿™æ ·é¡ºåºåœ°æŸ¥æ‰¾ç›´è‡³ç¬¬ i å—ã€‚æ­¤å¤–ï¼Œå…¶å¯é æ€§è¾ƒå·®ï¼Œä»»ä½•ä¸€ä¸ªæŒ‡é’ˆå‡ºç°é—®é¢˜ï¼Œéƒ½ä¼šå¯¼è‡´æ•´ä¸ªé“¾çš„æ–­å¼€ã€‚å¯ä»¥å°†å‡ ä¸ªç›˜å—ç»„æˆä¸€ä¸ªç°‡ï¼Œç„¶åä»¥ç°‡ä¸ºå•ä½è¿›è¡Œåˆ†é…ï¼Œä¼šå‡å°‘æŸ¥æ‰¾æŒ‡å®šå—çš„æ—¶é—´ï¼Œä½†æ˜¯ä¼šå¢åŠ å†…éƒ¨ç¢ç‰‡ã€‚</p>
<p>ã€€â‘¡ <strong>æ˜¾ç¤ºé“¾æ¥</strong>ï¼ŒæŠŠç”¨äºé“¾æ¥æ–‡ä»¶å„ç‰©ç†å—çš„æŒ‡é’ˆï¼Œæ˜¾å¼çš„æ”¾åœ¨å†…å­˜çš„ä¸€å¼ é“¾æ¥è¡¨ä¸­ï¼Œåœ¨æ•´ä¸ªç£ç›˜ä»…è®¾ç½®ä¸€å¼ <strong>æ–‡ä»¶åˆ†é…è¡¨</strong>ï¼ˆFATï¼‰ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-01-31.png"></p>
<p>ã€€è¡¨çš„åºå·ä»0å¼€å§‹ï¼Œç›´è‡³N-1ï¼ŒNä¸ºç›˜å—æ€»æ•°ï¼Œåœ¨æ¯ä¸ªè¡¨é¡¹ä¸­å­˜æ”¾é“¾æ¥æŒ‡é’ˆï¼Œå³ä¸‹ä¸€ä¸ªç›˜å—å·ï¼Œåœ¨è¯¥è¡¨ä¸­ï¼Œå‡¡æ˜¯å±äºæŸä¸€æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªç›˜å—å·ï¼Œæˆ–è€…è¯´æ˜¯æ¯ä¸€æ¡é“¾çš„é“¾é¦–æŒ‡é’ˆæ‰€å¯¹åº”çš„ç›˜å—å·ï¼Œå‡ä½œä¸ºæ–‡ä»¶åœ°å€è¢«å¡«å…¥ç›¸åº”çš„æ–‡ä»¶çš„FCB(File Control Block)çš„<strong>ç‰©ç†åœ°å€</strong>å­—æ®µä¸­ï¼Œç”±äºæŸ¥æ‰¾è®°å½•çš„è¿‡ç¨‹æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ï¼Œå› è€Œæ<strong>é«˜äº†æ£€ç´¢é€Ÿåº¦ï¼Œå‡å°‘äº†è®¿é—®ç£ç›˜çš„æ¬¡æ•°</strong>ï¼Œç”±äºåˆ†é…ç»™æ–‡ä»¶çš„æ‰€æœ‰ç›˜å—å·éƒ½åœ¨è¯¥è¡¨ä¸­ï¼Œæ•…æŠŠè¯¥è¡¨ç§°ä¸ºæ–‡ä»¶åˆ†é…è¡¨FATï¼ˆFile Allocation Tableï¼‰ã€‚</p>
<ul>
<li>é“¾æ¥åˆ†é…ä¼˜ç‚¹<br>1ã€æ— å¤–éƒ¨ç¢ç‰‡ï¼Œæ²¡æœ‰ç£ç›˜ç©ºé—´æµªè´¹<br>2ã€æ— éœ€äº‹å…ˆçŸ¥é“æ–‡ä»¶å¤§å°ã€‚æ–‡ä»¶åŠ¨æ€å¢é•¿æ—¶ï¼Œå¯åŠ¨æ€åˆ†é…ç©ºé—²ç›˜å—ã€‚å¯¹æ–‡ä»¶çš„å¢ã€åˆ ã€æ”¹ååˆ†æ–¹ä¾¿ã€‚</li>
<li>ç¼ºç‚¹<br>  1ã€<em><strong>ä¸èƒ½æ”¯æŒé«˜æ•ˆéšæœº&#x2F;ç›´æ¥è®¿é—®ï¼Œä»…é€‚åˆäºé¡ºåºå­˜å–</strong></em><br>  2ã€éœ€ä¸ºæŒ‡é’ˆåˆ†é…ç©ºé—´ã€‚ï¼ˆéšå¼é“¾æ¥ï¼‰<br>  3ã€å¯é æ€§è¾ƒä½ï¼ˆæŒ‡é’ˆä¸¢å¤±&#x2F;æŸåï¼‰<br>  4ã€<em><strong>æ–‡ä»¶åˆ†é…è¡¨FATï¼ˆæ˜¾å¼é“¾æ¥ï¼‰ï¼ŒFATéœ€å ç”¨è¾ƒå¤§çš„å†…å­˜ç©ºé—´</strong></em>ã€‚</li>
</ul>
<h3 id="ç´¢å¼•åˆ†é…"><a href="#ç´¢å¼•åˆ†é…" class="headerlink" title="ç´¢å¼•åˆ†é…"></a>ç´¢å¼•åˆ†é…</h3><p>â€‹	äº‹å®ä¸Šï¼Œåœ¨æ‰“å¼€æŸä¸ªæ–‡ä»¶æ—¶ï¼Œåªéœ€è¦æŠŠè¯¥æ–‡ä»¶å ç”¨çš„ç›˜å—å·çš„ç¼–å·è°ƒå…¥å†…å­˜å³å¯ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦æŠŠæ•´ä¸ªFATè°ƒå…¥å†…å­˜ï¼Œä¸ºæ­¤ï¼Œåº”è¯¥<strong>å°†æ¯ä¸ªæ–‡ä»¶æ‰€å¯¹åº”çš„ç›˜å—å·é›†ä¸­åœ°æ”¾åœ¨ä¸€èµ·</strong>ï¼Œç´¢å¼•åˆ†é…æ–¹å¼å°±æ˜¯åŸºäºè¿™ç§æƒ³æ³•æ‰€å½¢æˆçš„ä¸€ç§åˆ†é…æ–¹å¼ã€‚<em>å…¶ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸€ä¸ªç´¢å¼•å—ï¼ˆè¡¨ï¼‰ï¼Œå†æŠŠåˆ†é…ç»™è¯¥æ–‡ä»¶çš„æ‰€æœ‰ç›˜å—å·éƒ½è®°å½•åœ¨è¯¥ç´¢å¼•å—ä¸­ï¼Œå› è€Œè¯¥ç´¢å¼•å—å°±æ˜¯ä¸€ä¸ªå«æœ‰è®¸å¤šç£ç›˜å—å·çš„æ•°ç»„</em>ã€‚åœ¨å»ºç«‹ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œåªéœ€è¦åœ¨ä¸ºä¹‹å»ºç«‹çš„ç›®å½•é¡¹ä¸­å¡«ä¸ŠæŒ‡å‘è¯¥ç´¢å¼•å—çš„æŒ‡é’ˆï¼ˆå•çº§ç´¢å¼•ï¼‰ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-02-23.png"></p>
<p>ã€€ç´¢å¼•æ–¹å¼æ”¯æŒç›´æ¥è®¿é—®ï¼Œå¯åœ¨ç´¢å¼•å—ä¸­ç›´æ¥æ‰¾åˆ°ç¬¬iä¸ªç›˜å—ï¼Œç´¢å¼•æ–¹å¼ä¹Ÿä¸ä¼šäº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ï¼Œå½“æ–‡ä»¶è¾ƒå¤§æ—¶ï¼Œç´¢å¼•åˆ†é…æ–¹å¼è¦ä¼˜äºé“¾æ¥åˆ†é…æ–¹å¼ã€‚å…¶ä¸»è¦é—®é¢˜åœ¨äºï¼šå¤§æ–‡ä»¶ç´¢å¼•é¡¹è¾ƒå¤šï¼Œå¯èƒ½ä½¿ä¸€ä¸ªæ•°æ®å—å®¹çº³ä¸äº†ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰åˆ†åŒºçš„ç´¢å¼•ã€‚å¯èƒ½éœ€è¦èŠ±è´¹è¾ƒå¤šçš„å¤–å­˜ç©ºé—´ï¼Œæ¯å½“å»ºç«‹ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œä¾¿é¡»ä¸ºä¹‹åˆ†é…ä¸€ä¸ªç´¢å¼•å—ï¼Œå°†åˆ†é…ç»™è¯¥æ–‡ä»¶çš„æ‰€æœ‰ç›˜å—å·è®°å½•å…¶ä¸­ã€‚å¯¹äºå°æ–‡ä»¶è€Œè¨€ï¼Œç´¢å¼•å—çš„åˆ©ç”¨ç‡éå¸¸ä½ã€‚</p>
<p>ã€€å½“æ–‡ä»¶å¤ªå¤§ï¼Œå…¶ä¸€çº§ç´¢å¼•å—å¤ªå¤šæ—¶ï¼Œè¿™ç§æ–¹æ³•æ˜¯ä½æ•ˆçš„ã€‚æ­¤æ—¶ï¼Œåº”ä¸ºè¿™äº›ç´¢å¼•å—å†å»ºç«‹ä¸€çº§ç´¢å¼•ï¼Œå½¢æˆ<strong>ä¸¤çº§ç´¢å¼•åˆ†é…</strong>æ–¹å¼ã€‚å³ç³»ç»Ÿå†åˆ†é…ä¸€ä¸ªç´¢å¼•å—ï¼Œä½œä¸ºç¬¬ä¸€çº§ç´¢å¼•çš„ç´¢å¼•å—ï¼Œå°†ç¬¬ä¸€å—ã€ç¬¬äºŒå—â€¦â€¦ç­‰ç´¢å¼•å—çš„ç›˜å—å·å¡«å…¥åˆ°æ­¤ç´¢å¼•è¡¨ä¸­ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-02-32.png"></p>
<p>ã€€åœ¨äºŒçº§ç´¢å¼•åˆ†é…æ–¹å¼ä¸‹ï¼Œè‹¥æ¯ä¸ªç›˜å—çš„å¤§å°ä¸º1KBï¼Œæ¯ä¸ªç›˜å—å·å 4ä¸ªå­—èŠ‚ï¼Œåˆ™åœ¨ä¸€ä¸ªç´¢å¼•å—å¯ä»¥å­˜æ”¾256ä¸ªç›˜å—å·ï¼Œè¿™æ ·ï¼Œåœ¨ä¸¤çº§ç´¢å¼•æ—¶ï¼Œæœ€å¤šå¯ä»¥åŒ…æ‹¬å­˜æ”¾æ–‡ä»¶çš„ç›˜å—å·æ€»æ•°ä¸º64K(256 * 256)ä¸ªç›˜å—å·ï¼Œæ‰€å…è®¸æ–‡ä»¶æœ€å¤§é•¿åº¦ä¸º64MBï¼Œè‹¥ç›˜å—å¤§å°ä¸º4KBï¼Œåˆ™ä¸€çº§ç´¢å¼•çš„æœ€å¤§æ–‡ä»¶å¤§å°ä¸º4MBï¼ŒäºŒçº§ç´¢å¼•çš„æœ€å¤§æ–‡ä»¶å¤§å°ä¸º4GBã€‚</p>
<p>ã€€â‘£ <strong>æ··åˆç´¢å¼•åˆ†é…æ–¹å¼</strong>ï¼Œå°†å¤šç§ç´¢å¼•åˆ†é…æ–¹å¼ç›¸ç»“åˆè€Œå½¢æˆçš„ä¸€ç§åˆ†é…æ–¹å¼ï¼Œå¦‚<strong>ç›´æ¥åœ°å€</strong>ï¼ˆåœ¨ç´¢å¼•ç»“ç‚¹ä¸­è®¾ç½®10ä¸ªç›´æ¥åœ°å€é¡¹ï¼Œæ¯é¡¹ä¸­æ‰€å­˜æ”¾çš„æ˜¯è¯¥æ–‡ä»¶æ•°æ®æ‰€åœ¨ç›˜å—çš„ç›˜å—å·ï¼Œå‡å¦‚æ¯ä¸ªç›˜å—å¤§å°ä¸º4KBï¼Œå½“æ–‡ä»¶ä¸å¤§äº40KBæ—¶ï¼Œå¯ä»¥ç›´æ¥ä»ç´¢å¼•ç»“ç‚¹ä¸­è¯»å‡ºè¯¥æ–‡ä»¶çš„å…¨éƒ¨ç›˜å·ï¼‰ï¼Œ<strong>ä¸€æ¬¡é—´æ¥åœ°å€</strong>ï¼ˆåˆ©ç”¨ç´¢å¼•ç»“ç‚¹ä¸­çš„åœ°å€é¡¹æ¥æä¾›ä¸€æ¬¡é—´æ¥åœ°å€ï¼Œå…¶å®è´¨å°±æ˜¯ä¸€çº§ç´¢å¼•åˆ†é…æ–¹å¼ï¼Œå¯å­˜æ”¾1Kä¸ªç›˜å—å·ï¼Œå…è®¸æœ€å¤§æ–‡ä»¶ä¸º4MBï¼‰ï¼Œ<strong>å¤šæ¬¡é—´æ¥åœ°å€</strong>ï¼ˆå½“æ–‡ä»¶å¤§äº4MB + 40KBæ—¶ï¼Œç³»ç»Ÿé‡‡ç”¨äºŒæ¬¡é—´å€åˆ†é…æ–¹å¼ï¼Œå…¶å®è´¨æ˜¯ä¸¤çº§ç´¢å¼•åˆ†é…æ–¹å¼ï¼Œé‡‡ç”¨äºŒæ¬¡é—´å€çš„æœ€å¤§æ–‡ä»¶å¤§å°ä¸º4GBï¼ŒåŒç†ï¼Œå¯é‡‡ç”¨ä¸‰æ¬¡é—´æ¥åœ°å€ï¼Œå…è®¸æ–‡ä»¶æœ€å¤§å¤§å°ä¸º4TBï¼‰ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-31-01.png"></p>
<h2 id="æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†"><a href="#æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†" class="headerlink" title="æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†"></a>æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†</h2><p>æ–‡ä»¶ç®¡ç†è¦è§£å†³çš„é‡è¦é—®é¢˜ä¹‹ä¸€æ˜¯å¦‚ä½•ä¸º<strong>æ–°åˆ›å»ºçš„æ–‡ä»¶</strong>åˆ†é…å­˜å‚¨ç©ºé—´ã€‚<br>å­˜å‚¨ç©ºé—´çš„<em><strong>åŸºæœ¬åˆ†é…å•ä½æ˜¯ç£ç›˜å—</strong></em>ã€‚<br>å…¶åˆ†é…æ–¹æ³•ä¸å†…å­˜çš„åˆ†é…æœ‰è®¸å¤šç›¸ä¼¼ä¹‹å¤„ï¼Œå³åŒæ ·å¯é‡‡å–<em>è¿ç»­åˆ†é…æ–¹å¼æˆ–ç¦»æ•£åˆ†é…æ–¹å¼</em>ã€‚<br>ç³»ç»Ÿåº”ä¸ºåˆ†é…å­˜å‚¨ç©ºé—´è€Œè®¾ç½®ç›¸åº”çš„æ•°æ®ç»“æ„ï¼›å…¶æ¬¡ï¼Œç³»ç»Ÿåº”æä¾›å¯¹å­˜å‚¨ç©ºé—´è¿›è¡Œåˆ†é…å’Œå›æ”¶çš„æ‰‹æ®µã€‚</p>
<p>æ–‡ä»¶å­˜å‚¨ç©ºé—´çš„ç®¡ç†æ–¹æ³•ï¼š</p>
<ul>
<li>ç©ºé—²åˆ†åŒºè¡¨</li>
<li>ç©ºé—²é“¾è¡¨æ³•</li>
<li>ä½ç¤ºå›¾</li>
<li>æˆç»„é“¾æ¥æ³•</li>
</ul>
<h3 id="ç©ºé—²åˆ†åŒºè¡¨"><a href="#ç©ºé—²åˆ†åŒºè¡¨" class="headerlink" title="ç©ºé—²åˆ†åŒºè¡¨"></a>ç©ºé—²åˆ†åŒºè¡¨</h3><p>ã€€ç©ºé—²è¡¨æ³•å±äº<strong>è¿ç»­åˆ†é…æ–¹å¼</strong>ï¼Œå®ƒä¸å†…å­˜çš„åŠ¨æ€åˆ†é…æ–¹å¼é›·åŒï¼Œå®ƒä¸ºæ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸€å—è¿ç»­çš„å­˜å‚¨ç©ºé—´ï¼Œå³<strong>ç³»ç»Ÿä¹Ÿä¸ºå¤–å­˜ä¸Šæ‰€æœ‰ç©ºé—²åŒºå»ºç«‹ä¸€å¼ ç©ºé—²è¡¨ï¼Œæ¯ä¸ªç©ºé—²åŒºå¯¹åº”äºä¸€ä¸ªç©ºé—²è¡¨é¡¹</strong>ï¼Œå…¶ä¸­åŒ…æ‹¬è¡¨é¡¹åºå·ã€è¯¥ç©ºé—²åŒºçš„ç¬¬ä¸€ä¸ªç›˜å—å·ã€è¯¥åŒºçš„ç©ºé—²ç›˜å—å·ç­‰ä¿¡æ¯ï¼Œå†å°†æ‰€æœ‰ç©ºé—²åŒºæŒ‰å…¶èµ·å§‹ç›˜å—å·é€’å¢æ’åˆ—ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-39-03.png"></p>
<p>ã€€é€‚åˆäº<em><strong>å¯å˜å¤§å°åˆ†åŒºçš„è¿ç»­åˆ†é…</strong></em>æ–¹å¼ã€‚ä¸ºæ–‡ä»¶åˆ†é…å­˜å‚¨ç©ºé—´æ—¶ï¼Œé¦–å…ˆé¡ºåºæŸ¥æ‰¾ç©ºé—²åˆ†<br>åŒºè¡¨ä¸­çš„å„ä¸ªè¡¨é¡¹ï¼Œç›´è‡³æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§å°é€‚åˆçš„ç©ºé—²åˆ†åŒºã€‚å¯ä»¥é‡‡ç”¨é¦–æ¬¡é€‚åº”åˆ†é…ç®—æ³•ã€æœ€ä½³é€‚åº”åˆ†é…ç®—æ³•ç­‰ã€‚ç„¶åï¼Œå°†è¯¥åˆ†åŒºåˆ†é…ç»™æ–‡ä»¶ï¼ŒåŒæ—¶ä¿®æ”¹ç©ºé—²åˆ†åŒºè¡¨ï¼Œåˆ é™¤ç›¸åº”è¡¨é¡¹ã€‚å½“åˆ é™¤æ–‡ä»¶é‡Šæ”¾å‡ºç©ºé—´æ—¶ï¼Œç³»ç»Ÿå›æ”¶å…¶å­˜å‚¨ç©ºé—´ï¼Œåˆå¹¶ç›¸é‚»ç©ºé—²åˆ†åŒº.ç³»ç»Ÿåœ¨å¯¹ç”¨æˆ·æ‰€é‡Šæ”¾çš„å­˜å‚¨ç©ºé—´è¿›è¡Œå›æ”¶æ—¶ï¼Œä¹Ÿé‡‡å–ç±»ä¼¼äºå†…å­˜å›æ”¶çš„æ–¹æ³•ï¼Œå³è€ƒè™‘å›æ”¶åŒºæ˜¯å¦ä¸ç©ºé—²è¡¨ä¸­æ’å…¥ç‚¹çš„å‰åŒºå’ŒååŒºç›¸é‚»æ¥ï¼Œå¯¹ç›¸é‚»æ¥è€…åº”è¯¥äºˆä»¥åˆå¹¶ã€‚<em><strong>å¯¹äº¤æ¢åˆ†åŒºä¸€èˆ¬éƒ½é‡‡ç”¨è¿ç»­åˆ†é…æ–¹å¼ã€‚å½“æ–‡ä»¶è¾ƒå°æ—¶ï¼Œé‡‡ç”¨è¿ç»­åˆ†é…æ–¹å¼ï¼Œå½“æ–‡ä»¶è¾ƒå¤§æ—¶ï¼Œå¯é‡‡ç”¨ç¦»æ•£åˆ†é…æ–¹å¼ã€‚</strong></em></p>
<h3 id="ç©ºé—²é“¾è¡¨æ³•"><a href="#ç©ºé—²é“¾è¡¨æ³•" class="headerlink" title="ç©ºé—²é“¾è¡¨æ³•"></a>ç©ºé—²é“¾è¡¨æ³•</h3><p>ã€€ç©ºé—²é“¾è¡¨æ³•æ˜¯å°†æ‰€æœ‰ç©ºé—²ç›˜åŒºæ‹‰æˆä¸€æ¡ç©ºé—²é“¾ã€‚æ ¹æ®æ„æˆé“¾æ‰€ç”¨åŸºæœ¬å…ƒç´ çš„ä¸åŒï¼ŒæŠŠé“¾è¡¨åˆ†æˆä¸¤ç§å½¢å¼ï¼Œç©ºé—²ç›˜å—é“¾å’Œç©ºé—²ç›˜åŒºé“¾ã€‚</p>
<p>ã€€â‘  ç©ºé—²ç›˜å—é“¾ï¼Œè¿™æ˜¯å°†ç£ç›˜ä¸Šçš„æ‰€æœ‰ç©ºé—²ç©ºé—´ï¼Œ<em><strong>ä»¥ç›˜å—ä¸ºå•ä½æ‹‰æˆä¸€æ¡é“¾</strong></em>ï¼Œå½“ç”¨æˆ·å› åˆ›å»ºæ–‡ä»¶è€Œè¯·æ±‚åˆ†é…å­˜å‚¨ç©ºé—´æ—¶ï¼Œç³»ç»Ÿä»é“¾é¦–å¼€å§‹ï¼Œä¾æ¬¡æ‘˜ä¸‹é€‚å½“æ•°ç›®çš„ç©ºé—²ç›˜å—åˆ†é…ç»™ç”¨æˆ·ï¼Œå½“åˆ é™¤æ–‡ä»¶è€Œé‡Šæ”¾ç©ºé—´æ—¶ï¼Œç³»ç»Ÿå°†å›æ”¶çš„ç›˜å—ä¾æ¬¡æ’å…¥ç©ºé—²ç›˜å—é“¾çš„æœ«å°¾ï¼Œå…¶ä¼˜ç‚¹æ˜¯ç”¨äºåˆ†é…å’Œå›æ”¶ä¸€ä¸ªç›˜å—çš„è¿‡ç¨‹ç®€å•ï¼Œä½†åœ¨ä¸ºæ–‡ä»¶åˆ†é…ç›˜å—æ—¶ï¼Œå¯èƒ½è¦é‡å¤æ“ä½œå¤šæ¬¡ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-40-19.png"></p>
<p>ã€€â‘¡ ç©ºé—²ç›˜åŒºé“¾ï¼Œè¿™æ˜¯å°†ç£ç›˜ä¸Šçš„æ‰€æœ‰ç©ºé—²ç›˜åŒºï¼ˆæ¯ä¸ªç›˜åŒºå¯åŒ…å«è‹¥å¹²ä¸ªç›˜å—ï¼‰æ‹‰æˆä¸€æ¡é“¾ï¼Œåœ¨æ¯ä¸ªç›˜åŒºä¸Šé™¤äº†å«æœ‰åªæ˜¯ä¸‹ä¸€ä¸ªç©ºé—²ç›˜åŒºçš„æŒ‡é’ˆå¤–ï¼Œè¿˜åº”æœ‰èƒ½æŒ‡æ˜æœ¬ç›˜åŒºå¤§å°ï¼ˆç›˜å—æ•°ï¼‰çš„ä¿¡æ¯ã€‚ç›˜åŒºåˆ†é…ä¸å†…å­˜çš„åŠ¨æ€åˆ†é…ç±»ä¼¼ï¼Œå¯é‡‡ç”¨é¦–æ¬¡é€‚åº”ç®—æ³•ï¼Œåœ¨å›æ”¶ç›˜åŒºæ—¶ï¼ŒåŒæ ·ä¹Ÿè¦å°†å›æ”¶åŒºå’Œç›¸é‚»æ¥çš„ç©ºé—²ç›˜åŒºç›¸åˆå¹¶ï¼Œåœ¨é‡‡ç”¨é¦–æ¬¡é€‚åº”ç®—æ³•æ—¶ï¼Œå¯ä»¥é‡‡ç”¨æ˜¾å¼é“¾æ¥æ³•æé«˜æ£€ç´¢é€Ÿåº¦ï¼Œåœ¨å†…å­˜ä¸­ä¸ºç©ºé—²ç›˜åŒºå»ºç«‹ä¸€å¼ é“¾è¡¨ã€‚æ¯ä¸ªåˆ†åŒºç»“ç‚¹å†…å®¹ï¼šèµ·å§‹ç›˜å—å·ã€ç›˜å—æ•°ã€æŒ‡å‘ä¸‹ä¸€ä¸ªç©ºé—²ç›˜åŒºçš„æŒ‡é’ˆã€‚</p>
<p>â€‹	å¯èƒ½çš„é—®é¢˜ï¼š</p>
<p>â€‹	ä¸€æ®µæ—¶é—´ä»¥åï¼Œå¯èƒ½ä¼šä½¿ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­åŒ…å«å¤ªå¤šå°åˆ†åŒºï¼Œä½¿æ–‡ä»¶åˆ†é…åˆ°çš„å­˜å‚¨ç©ºé—´è¿‡åˆ†ç¦»æ•£ã€‚åˆ é™¤ä¸€ä¸ªç”±è®¸å¤šç¦»æ•£å°åˆ†åŒºç»„æˆçš„æ–‡ä»¶æ—¶ï¼Œå°†å›æ”¶çš„å°åˆ†åŒºé“¾æ¥åˆ°ç©ºé—²åˆ†åŒºé“¾è¡¨ä¸­éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚è‹¥ä¸€ä¸ªæ–‡ä»¶ç”³è¯·è¿ç»­å­˜å‚¨ç©ºé—´ï¼Œåˆ™éœ€è¦èŠ±è´¹è¾ƒé•¿çš„æ—¶é—´æŸ¥æ‰¾ç›¸é‚»çš„ç©ºé—²åˆ†åŒºã€‚å› æ­¤ï¼Œè¿™ç§ç©ºé—²ç©ºé—´ç»„ç»‡æ–¹æ³•<em><strong>é€‚åˆäºéè¿ç»­å­˜å‚¨</strong></em>æ–‡ä»¶ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-53-58.png"></p>
<h3 id="ä½ç¤ºå›¾"><a href="#ä½ç¤ºå›¾" class="headerlink" title="ä½ç¤ºå›¾"></a>ä½ç¤ºå›¾</h3><p>ã€€åˆ©ç”¨äºŒè¿›åˆ¶çš„ä¸€ä½è¡¨ç¤ºç£ç›˜ä¸­çš„ä¸€ä¸ªç›˜å—çš„ä½¿ç”¨æƒ…å†µï¼Œå½“å…¶å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºå¯¹åº”çš„ç›˜å—ç©ºé—²ï¼Œä¸º1æ—¶ï¼Œè¡¨ç¤ºå·²ç»åˆ†é…ï¼Œç£ç›˜ä¸Šçš„æ‰€æœ‰ç›˜å—éƒ½æœ‰ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä¸ä¹‹å¯¹åº”ï¼Œè¿™æ ·ï¼Œç”±æ‰€æœ‰ç›˜å—æ‰€å¯¹åº”çš„ä½æ„æˆä¸€ä¸ªé›†åˆï¼Œç§°ä¸º<strong>ä½ç¤ºå›¾</strong>ï¼Œé€šå¸¸å¯ç”¨mÃ—nä¸ªä½æ•°æ¥æ„æˆä½ç¤ºå›¾ï¼Œå¹¶ä½¿m * nç­‰äºç£ç›˜çš„æ€»å—æ•°ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_11-39-38.png"></p>
<p>ã€€å¯¹äºç›˜å—çš„åˆ†é…åˆ†ä¸ºå¦‚ä¸‹ä¸‰æ­¥</p>
<p>ã€€â‘  <strong>é¡ºåºæ‰«æä½ç¤ºå›¾</strong>ï¼Œä»ä¸­æ‰¾å‡ºä¸€ä¸ªæˆ–ä¸€ç»„å€¼ä¸º0çš„äºŒè¿›åˆ¶ä½ã€‚</p>
<p>ã€€â‘¡ å°†æ‰€æ‰¾åˆ°çš„ä¸€ä¸ªæˆ–ä¸€ç»„äºŒè¿›åˆ¶ä½è½¬æ¢æˆä¸ä¹‹ç›¸åº”çš„ç›˜å—å·ã€‚</p>
<p>â€‹	å‡å®šæ‰¾åˆ°çš„å…¶å€¼ä¸ºâ€œ0â€çš„äºŒè¿›åˆ¶ä½ä½äºä½ç¤ºå›¾çš„ç¬¬i è¡Œã€ç¬¬jåˆ—ï¼Œåˆ™å…¶ç›¸åº”çš„ç›˜å—å·æŒ‰å¼è®¡ç®—ï¼šb &#x3D; n( i - 1) + j</p>
<p>ã€€â‘¢ ä¿®æ”¹ä½ç¤ºå›¾ï¼Œä»¤map[i,j]&#x3D;1ã€‚</p>
<p>ã€€å¯¹äºç›˜å—çš„å›æ”¶åˆ†ä¸ºå¦‚ä¸‹ä¸¤æ­¥</p>
<p>ã€€â‘  å°†å›æ”¶ç›˜å—çš„ç›˜å—å·è½¬æ¢æˆä½ç¤ºå›¾ä¸­çš„è¡Œå·å’Œåˆ—å·ã€‚è½¬æ¢å…¬å¼ä¸ºï¼š</p>
<p>â€‹	i &#x3D; (b - 1)DIV n + 1<br>â€‹	j &#x3D; (b - 1)MOD n + 1</p>
<p>ã€€â‘¡ ä¿®æ”¹ä½ç¤ºå›¾ï¼Œä»¤map[i,j] &#x3D;0ã€‚</p>
<p>ã€€æ­¤æ–¹æ³•çš„ä¼˜ç‚¹åœ¨äºä»ä½ç¤ºå›¾ä¸­å¾ˆå®¹æ˜“æ‰¾åˆ°ä¸€ä¸ªæˆ–ä¸€ç»„è¿ç»­çš„ç©ºé—²åˆ†åŒºï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°8ä¸ªç›¸é‚»æ¥çš„ç©ºé—²ç›˜å—ï¼Œè¿™åªéœ€åœ¨ä½ç¤ºå›¾ä¸­æ‰¾å‡º8ä¸ªå…¶å€¼è¿ç»­ä¸ºâ€œ0â€çš„ä½å³å¯ã€‚<br>ä¸€ä¸ªä½ç¤ºå›¾éœ€è¦å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°ä¸ºï¼šç£ç›˜å®¹é‡ï¼ˆå­—èŠ‚æ•°ï¼‰&#x2F; ï¼ˆ8 * æ•°æ®å—å¤§å°ï¼‰<br>ç”±äºä½ç¤ºå›¾å¾ˆå°ï¼Œå ç”¨ç©ºé—´å°‘ï¼Œå› è€Œå¯å°†å…¶ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿›è€Œä½¿åœ¨æ¯æ¬¡è¿›è¡Œç›˜åŒºåˆ†é…æ—¶ï¼Œæ— éœ€é¦–å…ˆæŠŠç›˜åŒºåˆ†é…è¡¨è¯»å…¥å†…å­˜ï¼ŒèŠ‚çœç£ç›˜å¯åŠ¨æ—¶é—´ã€‚</p>
<p>â€‹	ä½†æ˜¯ï¼Œå¯¹äºä¸€ä¸ª16GBçš„ç£ç›˜ï¼Œè‹¥æ•°æ®å—å¤§å°ä¸º512å­—èŠ‚ï¼Œåˆ™ä½ç¤ºå›¾å¤§å°ä¸º4MBï¼Œå¤§çº¦éœ€è¦å ç”¨8000ä¸ªç£ç›˜å—çš„å­˜å‚¨ç©ºé—´ã€‚å¾ˆéš¾ä¸€æ¬¡æ€§å°†è¯¥ä½ç¤ºå›¾å…¨éƒ¨è£…å…¥å†…å­˜ã€‚å³ä½¿å†…å­˜<br>è¶³å¤Ÿå¤§ï¼Œå¯ä»¥å­˜æ”¾å…¨éƒ¨æˆ–ç»å¤§éƒ¨åˆ†ä½ç¤ºå›¾æ•°æ®ï¼Œæœç´¢ä¸€ä¸ªå¾ˆå¤§çš„ä½ç¤ºå›¾å°†ä¼šé™ä½æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½ã€‚å°¤å…¶å½“ç£ç›˜ç©ºé—´å¿«ç”¨å®Œï¼Œå‰©ä¸‹çš„ç©ºé—²ç£ç›˜å—å¾ˆå°‘æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½å°†ä¸¥é‡é™ä½ã€‚</p>
<h3 id="æˆç»„é“¾æ¥æ³•"><a href="#æˆç»„é“¾æ¥æ³•" class="headerlink" title="æˆç»„é“¾æ¥æ³•"></a>æˆç»„é“¾æ¥æ³•</h3><p>ã€€ç©ºé—²è¡¨æ³•å’Œç©ºé—²é“¾è¡¨æ³•éƒ½ä¸é€‚ç”¨äºå¤§å‹ç³»ç»Ÿï¼Œå› ä¸ºè¿™ä¼šä½¿ç©ºé—²è¡¨æˆ–ç©ºé—²é“¾è¡¨å¾ˆé•¿ï¼Œåœ¨UNIXé‡‡ç”¨çš„æˆç»„é“¾æ¥æ³•ï¼Œç»“åˆä¸Šè¿°ä¸¤ç§æ–¹æ³•ã€‚</p>
<p>ã€€â‘  ç©ºçº¿ç›˜å—çš„ç»„ç»‡ï¼Œç©ºé—²ç›˜å—æ ˆç”¨æ¥å­˜æ”¾å½“å‰å¯ç”¨çš„ä¸€ç»„ç©ºé—²ç›˜å—çš„ç›˜å—å·ï¼ˆæœ€å¤šå«100ä¸ªå·ï¼‰ï¼Œä»¥åŠæ ˆä¸­å°šæœ‰çš„ç©ºé—²ç›˜å—å·æ•°Nï¼Œé¡ºä¾¿æŒ‡å‡ºï¼ŒNå…¼åšæ ˆé¡¶æŒ‡é’ˆä½¿ç”¨ï¼Œæ ˆæ˜¯ä¸´ç•Œèµ„æºï¼Œç³»ç»Ÿè®¾ç½®ä¸€æŠŠé”ä¾›è¿›ç¨‹äº’æ–¥è®¿é—®ã€‚å…¶ä¸­ï¼ŒS.free(0)æ˜¯æ ˆåº•ï¼Œæ ˆæ»¡æ—¶æ ˆé¡¶ä¸ºS.free(99)ã€‚</p>
<p>ã€€â‘¡ æ–‡ä»¶åŒºä¸­çš„æ‰€æœ‰ç©ºé—²ç›˜å—è¢«åˆ†æˆè‹¥å¹²ä¸ªç»„ï¼Œå¦‚æ¯100ä¸ªç›˜å—ä½œä¸ºä¸€ç»„ã€‚</p>
<p>ã€€â‘¢ å°†æ¯ä¸€ç»„å«æœ‰çš„ç›˜å—æ€»æ•°Nå’Œè¯¥ç»„æ‰€æœ‰çš„ç›˜å—å·è®°å…¥å…¶å‰ä¸€ç»„çš„ç¬¬ä¸€ä¸ªç›˜å—S.free(0)~S.free(99)ä¸­ï¼Œè¿™æ ·ï¼Œç”±å„ç»„çš„ç¬¬ä¸€ä¸ªç›˜å—å¯é“¾æ¥æˆä¸€æ¡é“¾ã€‚</p>
<p>ã€€â‘£ å°†ç¬¬ä¸€ç»„çš„ç›˜å—æ€»æ•°å’Œæ‰€æœ‰çš„ç›˜å—å·è®°å…¥ç©ºé—²ç›˜å—å·æ ˆä¸­ï¼Œä½œä¸ºå½“å‰å¯ä¾›åˆ†é…çš„ç©ºé—²ç›˜å—å·ã€‚</p>
<p>ã€€â‘¤ æœ€æœ«ä¸€ç»„åªæœ‰99ä¸ªç›˜å—ï¼Œå…¶ç›˜å—å·åˆ†åˆ«è®°å…¥å…¶å‰ä¸€ç»„çš„S.free(1)~S.free(99)ä¸­ï¼Œè€Œåœ¨S.free(0)ä¸­åˆ™å­˜æ”¾0ï¼Œä½œä¸ºç©ºé—²ç›˜å—é“¾çš„ç»“æŸã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_13-12-13.png"></p>
<p>ã€€å½“ç³»ç»Ÿè¦ä¸ºç”¨æˆ·åˆ†é…æ–‡ä»¶æ‰€éœ€çš„ç›˜å—æ—¶ï¼Œé¡»è°ƒç”¨ç›˜å—åˆ†é…è¿‡ç¨‹æ¥å®Œæˆã€‚è¯¥è¿‡ç¨‹é¦–å…ˆæ£€æŸ¥ç©ºé—²ç›˜å—å·æ ˆæ˜¯å¦ä¸Šé”ï¼Œå¦‚æœªä¸Šé”ï¼Œä¾¿ä»æ ˆé¡¶å–å‡ºä¸€ç©ºé—²ç›˜å—å·ï¼Œå°†ä¸ä¹‹å¯¹åº”çš„ç›˜å—åˆ†é…ç»™ç”¨æˆ·ï¼Œç„¶åå°†æ ˆé¡¶æŒ‡é’ˆä¸‹ç§»ä¸€æ ¼ã€‚è‹¥è¯¥ç›˜å—å·å·²æ˜¯æ ˆåº•ï¼Œå³S.free(0)ï¼Œè¿™æ˜¯å½“å‰æ ˆä¸­æœ€åä¸€ä¸ªå¯åˆ†é…çš„ç›˜å—å·ã€‚ç”±äºåœ¨è¯¥ç›˜å—å·æ‰€å¯¹åº”çš„ç›˜å—ä¸­è®°æœ‰ä¸‹ä¸€ç»„å¯ç”¨çš„ç›˜å—å·ï¼Œå› æ­¤ï¼Œé¡»è°ƒç”¨ç£ç›˜è¯»è¿‡ç¨‹ï¼Œå°†æ ˆåº•ç›˜å—å·æ‰€å¯¹åº”ç›˜å—çš„å†…å®¹è¯»å…¥æ ˆä¸­ï¼Œä½œä¸ºæ–°çš„ç›˜å—å·æ ˆçš„å†…å®¹ï¼Œå¹¶æŠŠ<strong>åŸæ ˆåº•å¯¹åº”çš„ç›˜å—åˆ†é…å‡ºå»</strong>(å…¶ä¸­çš„æœ‰ç”¨æ•°æ®å·²è¯»å…¥æ ˆä¸­)ã€‚ç„¶åï¼Œå†åˆ†é…ä¸€ç›¸åº”çš„ç¼“å†²åŒº(ä½œä¸ºè¯¥ç›˜å—çš„ç¼“å†²åŒº)ã€‚æœ€åï¼ŒæŠŠæ ˆä¸­çš„ç©ºé—²ç›˜å—æ•°å‡1å¹¶è¿”å›ã€‚</p>
<p>ã€€åœ¨ç³»ç»Ÿå›æ”¶ç©ºé—²ç›˜å—æ—¶ï¼Œé¡»è°ƒç”¨ç›˜å—å›æ”¶è¿‡ç¨‹è¿›è¡Œå›æ”¶ã€‚å®ƒæ˜¯å°†å›æ”¶ç›˜å—çš„ç›˜å—å·è®°å…¥ç©ºé—²ç›˜å—å·æ ˆçš„é¡¶éƒ¨ï¼Œå¹¶æ‰§è¡Œç©ºé—²ç›˜å—æ•°åŠ 1æ“ä½œã€‚å½“æ ˆä¸­ç©ºé—²ç›˜å—å·æ•°ç›®å·²è¾¾100æ—¶ï¼Œè¡¨ç¤ºæ ˆå·²æ»¡ï¼Œ<strong>ä¾¿å°†ç°æœ‰æ ˆä¸­çš„100ä¸ªç›˜å—å·ï¼Œè®°å…¥æ–°å›æ”¶çš„ç›˜å—ä¸­ï¼Œå†å°†å…¶ç›˜å—å·ä½œä¸ºæ–°æ ˆåº•</strong>ã€‚</p>
<p>ä¾‹ï¼šåœ¨  UNIX  ç³»ç»Ÿä¸­æœ‰ç©ºé—²ç›˜å—æ ˆå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/6100690_1492936796345_072774B6B658B3603E1AA7198722775C.png"></p>
<p>â€‹    (1)    ç°æœ‰ä¸€ä¸ªè¿›ç¨‹è¦é‡Šæ”¾4 ä¸ªç‰©ç†å—ï¼Œå…¶å—å·ä¸º150ï¼ƒã€156ï¼ƒã€172 ï¼ƒã€177ï¼ƒï¼Œç”»å‡ºç©ºé—²ç›˜å—æ ˆæ¯æ¬¡çš„å˜åŒ–æƒ…å†µã€‚  </p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/6100690_1492936877377_072774B6B658B3603E1AA7198722775C.png"></p>
<p>â€‹    (2)   åœ¨ï¼ˆ 1 ï¼‰çš„åŸºç¡€ä¸Šå‡å®šä¸€ä¸ªè¿›ç¨‹è¦æ±‚åˆ†é…5 ä¸ªç©ºé—²å—ï¼Œç”»å‡ºåˆ†é…å®Œæˆåçš„ç©ºé—²ç›˜å—æ ˆã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/6100690_1492936928232_072774B6B658B3603E1AA7198722775C.png"></p>
<h2 id="æ–‡ä»¶ç›®å½•"><a href="#æ–‡ä»¶ç›®å½•" class="headerlink" title="æ–‡ä»¶ç›®å½•"></a>æ–‡ä»¶ç›®å½•</h2><p>ã€€ä¸ºäº†èƒ½å¤Ÿå¯¹æ–‡ä»¶å®æ–½æœ‰æ•ˆçš„ç®¡ç†ï¼Œå¿…é¡»å¯¹å®ƒä»¬åŠ ä»¥å¦¥å–„ç»„ç»‡ï¼Œè¿™ä¸»è¦æ˜¯é€šè¿‡æ–‡ä»¶ç›®å½•å®ç°çš„ï¼Œæ–‡ä»¶ç›®å½•ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºæ ‡è¯†ç³»ç»Ÿä¸­çš„æ–‡ä»¶åŠå…¶ç‰©ç†åœ°å€ï¼Œä¾›æ£€ç´¢æ—¶ä½¿ç”¨ï¼Œå¯¹ç›®å½•çš„ç®¡ç†è¦æ±‚å¦‚ä¸‹ï¼š</p>
<p>ã€€â‘  **å®ç°â€æŒ‰åå­˜å–â€**ï¼Œå³ç”¨æˆ·åªé¡»å‘ç³»ç»Ÿæä¾›æ‰€éœ€è®¿é—®çš„æ–‡ä»¶çš„åå­—ï¼Œä¾¿èƒ½å¤Ÿå¿«é€Ÿå‡†ç¡®åœ°æ‰¾åˆ°æŒ‡å®šæ–‡ä»¶åœ¨å¤–å­˜ä¸Šçš„å­˜å‚¨ä½ç½®ï¼Œè¿™æ˜¯ç›®å½•ç®¡ç†ä¸­æœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚</p>
<p>ã€€â‘¡ <strong>æé«˜å¯¹ç›®å½•æ£€ç´¢é€Ÿåº¦</strong>ï¼Œé€šè¿‡åˆç†åœ°ç»„ç»‡ç›®å½•ç»“æ„çš„æ–¹æ³•ï¼Œå¯åŠ å¿«å¯¹ç›®å½•çš„æ£€ç´¢é€Ÿåº¦ï¼Œä»è€Œæé«˜å¯¹æ–‡ä»¶çš„å­˜å–é€Ÿåº¦ã€‚</p>
<p>ã€€â‘¢ <strong>æ–‡ä»¶å…±äº«</strong>ï¼Œåœ¨å¤šç”¨æˆ·ç³»ç»Ÿä¸­ï¼Œåº”è¯¥å…è®¸ç”¨æˆ·å…±äº«ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p>ã€€â‘£ <strong>å…è®¸æ–‡ä»¶é‡å</strong>ï¼Œç³»ç»Ÿåº”å…è®¸ä¸åŒç”¨æˆ·å¯¹ä¸åŒæ–‡ä»¶é‡‡ç”¨ç›¸åŒçš„åå­—ï¼Œä»¥ä¾¿ç”¨æˆ·æŒ‰ç…§è‡ªå·±çš„ä¹ æƒ¯ç»™æ–‡ä»¶å‘½åå’Œä½¿ç”¨æ–‡ä»¶ã€‚</p>
<p><strong>æ–‡ä»¶æ§åˆ¶å—</strong></p>
<p>ã€€ä¸ºäº†èƒ½å¯¹æ–‡ä»¶è¿›è¡Œæ­£ç¡®çš„å­˜å–ï¼Œå¿…é¡»ä¸ºæ–‡ä»¶è®¾ç½®<strong>ç”¨äºæè¿°å’Œæ§åˆ¶æ–‡ä»¶çš„æ•°æ®ç»“æ„</strong>ï¼Œç§°ä¹‹ä¸ºæ–‡ä»¶æ§åˆ¶å—(FCB)ï¼ŒFCBæ˜¯æ–‡ä»¶å­˜åœ¨çš„æ ‡å¿—ã€‚æ–‡ä»¶ç®¡ç†ç¨‹åºå¯å€ŸåŠ©äºæ–‡ä»¶æ§åˆ¶å—ä¸­çš„ä¿¡æ¯ï¼Œå¯¹æ–‡ä»¶æ–½åŠ å„ç§æ“ä½œï¼Œæ–‡ä»¶ä¸æ–‡ä»¶æ§åˆ¶å—ä¸€ä¸€å¯¹åº”ï¼Œè€Œäººä»¬æŠŠ<strong>æ–‡ä»¶æ§åˆ¶å—çš„æœ‰åºé›†åˆç§°ä¸ºæ–‡ä»¶ç›®å½•</strong>ï¼Œä¸€ä¸ªæ–‡ä»¶æ§åˆ¶å—å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ç›®å½•é¡¹ã€‚ä¸ºäº†å®ç°å¯¹æ–‡ä»¶ç›®å½•çš„ç®¡ç†ï¼Œé€šå¸¸å°†<strong>æ–‡ä»¶ç›®å½•ä»¥æ–‡ä»¶çš„å½¢å¼ä¿å­˜åœ¨å¤–å­˜</strong>ï¼Œè¿™ä¸ªæ–‡ä»¶å°±å«ç›®å½•æ–‡ä»¶ã€‚</p>
<p>FCBçš„å†…å®¹ï¼š</p>
<blockquote>
<p>åŸºæœ¬ä¿¡æ¯ï¼šæ–‡ä»¶åã€æ–‡ä»¶ç±»å‹ç­‰ï¼›<br>åœ°å€ä¿¡æ¯ï¼šå·ï¼ˆå­˜å‚¨æ–‡ä»¶çš„è®¾å¤‡ï¼‰ã€èµ·å§‹åœ°å€ï¼ˆèµ·å§‹ç‰©ç†åœ°å€ï¼‰ã€æ–‡ä»¶é•¿åº¦ï¼ˆä»¥å­—èŠ‚ã€å­—æˆ–å—ä¸ºå•ä½ï¼‰ç­‰ã€‚<br>è®¿é—®æ§åˆ¶ä¿¡æ¯ï¼šæ–‡ä»¶æ‰€æœ‰è€…ã€è®¿é—®ä¿¡æ¯ï¼ˆç”¨æˆ·åå’Œå£ä»¤ç­‰ï¼‰ã€åˆæ³•æ“ä½œç­‰ï¼›<br>ä½¿ç”¨ä¿¡æ¯ï¼šåˆ›å»ºæ—¶é—´ã€åˆ›å»ºè€…èº«ä»½ã€å½“å‰çŠ¶æ€ã€æœ€è¿‘ä¿®æ”¹æ—¶é—´ã€æœ€è¿‘è®¿é—®æ—¶é—´ç­‰ã€‚</p>
</blockquote>
<p>ã€€<strong>æ–‡ä»¶ç›®å½•é€šå¸¸æ˜¯å­˜æ”¾åœ¨ç£ç›˜ä¸Šçš„</strong>ï¼Œå½“æ–‡ä»¶å¾ˆå¤šæ—¶ï¼Œæ–‡ä»¶ç›®å½•å¯èƒ½è¦å ç”¨å¤§é‡çš„ç›˜å—ï¼Œåœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œå…ˆå°†å­˜æ”¾ç›®å½•æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªç›˜å—ä¸­çš„ç›®å½•è°ƒå…¥å†…å­˜ï¼Œç„¶åæŠŠç”¨æˆ·æ‰€ç»™å®šçš„æ–‡ä»¶åå’Œç›®å½•é¡¹ä¸­çš„æ–‡ä»¶åé€ä¸€å¯¹æ¯”ã€‚è‹¥æœªæ‰¾åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œåˆ™å†å°†ä¸‹ä¸€ä¸ªç›˜å—ä¸­çš„ç›®å½•é¡¹è°ƒå…¥å†…å­˜ã€‚åœ¨æ£€ç´¢ç›®å½•æ–‡ä»¶æ—¶ï¼Œåªç”¨åˆ°äº†æ–‡ä»¶åï¼Œä»…å½“æ‰¾åˆ°ä¸€ä¸ªç›®å½•é¡¹ï¼ˆå³å…¶ä¸­çš„æ–‡ä»¶åä¸æŒ‡å®šè¦æŸ¥æ‰¾çš„æ–‡ä»¶åç›¸åŒ¹é…ï¼‰æ—¶ï¼Œæ‰éœ€è¦ä»è¯¥ç›®å½•é¡¹ä¸­è¯»å‡ºè¯¥æ–‡ä»¶çš„ç‰©ç†åœ°å€ï¼Œè€Œå…¶ä»–ä¸€äº›å¯¹è¯¥æ–‡ä»¶è¿›è¡Œæè¿°çš„ä¿¡æ¯ï¼Œåœ¨æ£€ç´¢ç›®å½•æ—¶ä¸€æ¦‚ä¸ç”¨ï¼Œæ˜¾ç„¶ï¼Œè¿™äº›ä¿¡æ¯åœ¨æ£€ç´¢ç›®å½•æ—¶ä¸éœ€è¦è°ƒå…¥å†…å­˜ã€‚ä¸ºæ­¤ï¼Œåœ¨æœ‰çš„ç³»ç»Ÿä¸­ï¼Œå¦‚UNIXç³»ç»Ÿï¼Œä¾¿é‡‡ç”¨äº†æŠŠæ–‡ä»¶åå’Œæ–‡ä»¶æè¿°ä¿¡æ¯åˆ†å¼€çš„æ–¹æ³•ï¼Œäº¦å³ï¼Œä½¿æ–‡ä»¶æè¿°ä¿¡æ¯å•ç‹¬å½¢æˆä¸€ä¸ªç§°ä¸º<strong>ç´¢å¼•ç»“ç‚¹</strong>çš„æ•°æ®ç»“æ„ï¼Œç®€ç§°ä¸ºiç»“ç‚¹ï¼Œåœ¨æ–‡ä»¶ç›®å½•ä¸­çš„æ¯ä¸ªç›®å½•é¡¹ç”±æ–‡ä»¶åå’ŒæŒ‡å‘è¯¥æ–‡ä»¶æ‰€å¯¹åº”çš„iç»“ç‚¹çš„æŒ‡é’ˆæ‰€æ„æˆã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_14-28-08.png"></p>
<p>ã€€<strong>æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰å”¯ä¸€çš„ç£ç›˜ç´¢å¼•ç»“ç‚¹ï¼ˆç£ç›˜ç´¢å¼•ç»“ç‚¹ä¿¡æ¯ä¸æ–‡ä»¶åç­‰ä¿¡æ¯ä¸€èµ·æ„æˆäº†FCBï¼‰</strong>	</p>
<h3 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h3><p>ã€€ç›®å½•ç»“æ„çš„ç»„ç»‡ï¼Œå…³ç³»åˆ°æ–‡ä»¶ç³»ç»Ÿçš„å­˜å–é€Ÿåº¦ï¼Œä¹Ÿå…³ç³»åˆ°æ–‡ä»¶çš„å…±äº«æ€§å’Œå®‰å…¨æ€§ï¼Œç›®å‰å¸¸ç”¨çš„ç›®å½•ç»“æ„å½¢å¼æœ‰å•çº§ç›®å½•ã€ä¸¤çº§ç›®å½•ã€å¤šçº§ç›®å½•ã€‚</p>
<p>ã€€â‘  <strong>å•çº§ç›®å½•ç»“æ„</strong>ï¼Œæ‰€æœ‰ç”¨æˆ·çš„å…¨éƒ¨æ–‡ä»¶ç›®å½•ä¿å­˜åœ¨ä¸€å¼ ç›®å½•è¡¨ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶çš„ç›®å½•é¡¹å ç”¨ä¸€ä¸ªè¡¨é¡¹ã€‚</p>
<p>å•çº§ç›®å½•çš„ä¼˜ç‚¹æ˜¯ç®€å•ä¸”èƒ½å®ç°ç›®å½•ç®¡ç†çš„åŸºæœ¬åŠŸèƒ½â€”â€”<strong>æŒ‰åå­˜å–</strong><br>å­˜åœ¨ä¸‹è¿°ä¸€äº›ç¼ºç‚¹ï¼š</p>
<blockquote>
<p>(1) æŸ¥æ‰¾é€Ÿåº¦æ…¢<br>(2) ä¸å…è®¸é‡å<br>(3) ä¸ä¾¿äºå®ç°æ–‡ä»¶å…±äº«</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_14-37-20.png"></p>
<p>â‘¡ <strong>ä¸¤çº§ç›®å½•ç»“æ„</strong>ï¼Œä¸ºæ¯ä¸ªç”¨æˆ·å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„<strong>ç”¨æˆ·æ–‡ä»¶ç›®å½•UFD</strong>ï¼ˆUser File Directoryï¼‰ï¼Œè¿™äº›æ–‡ä»¶ç›®å½•å…·æœ‰ç›¸ä¼¼çš„ç»“æ„ï¼Œç”±ç”¨æˆ·æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶æ§åˆ¶å—ç»„æˆã€‚æ­¤å¤–ï¼Œç³»ç»Ÿä¸­è¿˜æœ‰ä¸€ä¸ª<strong>ä¸»æ–‡ä»¶ç›®å½•MFD</strong>ï¼ˆMaster File Directory)ï¼Œåœ¨ä¸»æ–‡ä»¶ç›®å½•ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·ç›®å½•æ–‡ä»¶éƒ½å æœ‰ä¸€ä¸ªç›®å½•é¡¹ï¼Œå…¶ç›®å½•é¡¹åŒ…æ‹¬<strong>ç”¨æˆ·åå’ŒæŒ‡å‘ç”¨æˆ·ç›®å½•æ–‡ä»¶çš„æŒ‡é’ˆ</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_14-38-57.png"></p>
<p>ã€€å…·æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š<strong>æé«˜äº†æ£€ç´¢ç›®å½•çš„é€Ÿåº¦</strong>ï¼ˆå¦‚æœåœ¨ä¸»ç›®å½•ä¸­æœ‰nä¸ªå­ç›®å½•ï¼Œæ¯ä¸ªç”¨æˆ·ç›®å½•æœ€å¤šä¸ºmä¸ªç›®å½•é¡¹ï¼Œåˆ™ä¸ºæŸ¥æ‰¾ä¸€æŒ‡å®šçš„ç›®å½•é¡¹ï¼Œæœ€å¤šåªéœ€è¦æ£€ç´¢n+mä¸ªç›®å½•é¡¹ï¼‰ã€‚<strong>åœ¨ä¸åŒçš„ç”¨æˆ·ç›®å½•ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶å</strong>ï¼ˆåªè¦åœ¨ç”¨æˆ·è‡ªå·±çš„UFDä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶åéƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¸åŒç”¨æˆ·å¯ä»¥æœ‰æ–‡ä»¶åç›¸åŒçš„æ–‡ä»¶ï¼‰ã€‚<strong>ä¸åŒç”¨æˆ·è¿˜å¯ä½¿ç”¨ä¸åŒçš„æ–‡ä»¶åæ¥è®¿é—®ç³»ç»Ÿä¸­åŒä¸€ä¸ªå…±äº«æ–‡ä»¶</strong>ã€‚ä½†åœ¨å¤šä¸ªç”¨æˆ·éœ€è¦åˆä½œå®Œæˆä¸€ä¸ªå¤§ä»»åŠ¡æ—¶ï¼Œä¸ä¾¿äºç”¨æˆ·ä¹‹é—´å…±äº«æ–‡ä»¶ã€‚</p>
<p>ã€€â‘¢ å¤šçº§ç›®å½•ç»“æ„ï¼Œå¯¹äºå¤§å‹æ–‡ä»¶ç³»ç»Ÿï¼Œé€šå¸¸é‡‡ç”¨ä¸‰çº§æˆ–ä¸‰çº§ä»¥ä¸Šçš„ç›®å½•ç»“æ„ï¼Œä»¥æé«˜å¯¹ç›®å½•çš„æ£€ç´¢é€Ÿåº¦å’Œæ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½ã€‚å¤šçº§ç›®å½•ç»“æ„åˆç§°ä¸ºæ ‘å½¢ç›®å½•ç»“æ„ï¼Œ<strong>ä¸»ç›®å½•è¢«ç§°ä¸ºæ ¹ç›®å½•</strong>ï¼ŒæŠŠ<strong>æ•°æ®æ–‡ä»¶ç§°ä¸ºæ ‘å¶</strong>ï¼Œ<strong>å…¶ä»–çš„ç›®å½•å‡ä½œä¸ºæ ‘çš„ç»“ç‚¹</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_14-39-30.png"></p>
<p>ã€€æ–¹æ¡†ä»£è¡¨ç›®å½•æ–‡ä»¶ï¼Œåœ†åœˆä»£è¡¨æ•°æ®æ–‡ä»¶ï¼Œä¸»ç›®å½•ä¸­æœ‰æ˜¯å“ªä¸ªç”¨æˆ·æ€»ç›®å½•Aã€Bã€Cï¼Œåœ¨Bç”¨æˆ·çš„æ€»ç›®å½•Bä¸­ï¼ŒåˆåŒ…æ‹¬ä¸‰ä¸ªåˆ†ç›®å½•Fã€Eã€Dï¼Œå…¶ä¸­æ¯ä¸ªåˆ†ç›®å½•ä¸­åˆåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼Œä¸ºæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ï¼Œ<strong>åº”è¯¥å…è®¸åœ¨ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­çš„ç›®å½•é¡¹æ—¢æ˜¯ä½œä¸ºç›®å½•æ–‡ä»¶çš„FCBï¼Œåˆæ˜¯æ•°æ®æ–‡ä»¶çš„FCB</strong>ï¼Œè¿™ä¸€ä¿¡æ¯å¯ç”¨ç›®å½•é¡¹ä¸­çš„ä¸€ä½æ¥æŒ‡ç¤ºã€‚å¦‚ç”¨æˆ·Aæ€»ç›®å½•ä¸­ï¼Œç›®å½•é¡¹Aæ˜¯ç›®å½•æ–‡ä»¶FCBï¼Œè€Œç›®å½•é¡¹Bå’ŒDåˆ™æ˜¯æ•°æ®æ–‡ä»¶çš„FCBã€‚</p>
<p>ã€€åœ¨æ ‘å½¢ç›®å½•ç»“æ„ä¸­ï¼Œä»æ ¹ç›®å½•åˆ°ä»»ä½•æ•°æ®æ–‡ä»¶ï¼Œéƒ½åªæœ‰ä¸€æ¡å”¯ä¸€çš„é€šè·¯ï¼Œåœ¨è¯¥è·¯å¾„ä¸Šä»æ ‘çš„æ ¹å¼€å§‹ï¼ŒæŠŠå…¨éƒ¨ç›®å½•æ–‡ä»¶åå’Œæ•°æ®æ–‡ä»¶åä¾æ¬¡ç”¨â€&#x2F;â€œè¿æ¥èµ·æ¥ï¼Œå³æ„æˆè¯¥æ•°æ®æ–‡ä»¶çš„è·¯å¾„åã€‚<strong>ç³»ç»Ÿä¸­çš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰å”¯ä¸€çš„è·¯å¾„å</strong>ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·Bè®¿é—®æ–‡ä»¶Jï¼Œåˆ™ä½¿ç”¨è·¯å¾„å&#x2F;B&#x2F;F&#x2F;Jæ¥è®¿é—®ã€‚è·¯å¾„åï¼šä»æ ‘çš„æ ¹ï¼ˆå³ä¸»ç›®å½•ï¼‰å¼€å§‹ï¼ŒæŠŠå…¨éƒ¨ç›®å½•æ–‡ä»¶åä¸æ•°æ®æ–‡ä»¶åï¼Œä¾æ¬¡åœ°ç”¨â€œ&#x2F;â€è¿æ¥èµ·æ¥ï¼Œå³æ„æˆè¯¥æ•°æ®æ–‡ä»¶çš„è·¯å¾„åï¼ˆpath nameï¼‰ã€‚<strong>ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½æœ‰æƒŸä¸€çš„è·¯å¾„å</strong>ã€‚å½“å‰ç›®å½•ï¼šä¸ºæ¯ä¸ªè¿›ç¨‹è®¾ç½®ä¸€ä¸ªâ€œå½“å‰ç›®å½•â€ï¼Œåˆç§°ä¸ºâ€œå·¥ä½œç›®å½•â€ï¼Œè¿›ç¨‹å¯¹å„æ–‡ä»¶çš„è®¿é—®éƒ½ç›¸å¯¹äºâ€œå½“å‰ç›®å½•â€è€Œè¿›è¡Œã€‚<strong>æŠŠä»å½“å‰ç›®å½•å¼€å§‹çš„æ•°æ®æ–‡ä»¶ä¸ºæ­¢æ‰€æ„æˆçš„è·¯å¾„åç§°ä¸ºç›¸å¯¹è·¯å¾„å</strong>ï¼Œè€Œ<strong>æŠŠä»æ ‘æ ¹å¼€å§‹çš„è·¯å¾„åç§°ä¸ºç»å¯¹è·¯å¾„å</strong>ã€‚</p>
<p><em><strong>å¢åŠ å’Œåˆ é™¤ç›®å½•</strong></em></p>
<p>â€‹	åœ¨æ ‘å½¢ç›®å½•ç»“æ„ä¸­ï¼Œç”¨æˆ·å¯ä¸ºè‡ªå·±å»ºç«‹UFDï¼Œå¹¶å¯å†åˆ›å»ºå­ç›®å½•ï¼Œåœ¨ç”¨æˆ·è¦åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ—¶ï¼Œåªéœ€è¦æŸ¥çœ‹è‡ªå·±çš„UFDåŠå…¶å­ç›®å½•ä¸­æœ‰æ— ä¸æ–°å»ºæ–‡ä»¶ç›¸åŒçš„æ–‡ä»¶åï¼Œè‹¥æ— ï¼Œä¾¿å¯åœ¨UFDæˆ–å…¶æŸä¸ªå­ç›®å½•ä¸­å¢åŠ ä¸€ä¸ªæ–°ç›®å½•é¡¹ã€‚åœ¨æ ‘å½¢ç›®å½•ä¸­ï¼Œå¦‚ä½•åˆ é™¤ä¸€ä¸ªç›®å½•ï¼Œåº”è¯¥è§†æƒ…å†µè€Œå®šï¼Œè‹¥è¦åˆ é™¤çš„ç›®å½•ä¸ºç©ºï¼Œåˆ™ç®€å•åœ°å°†å…¶åˆ é™¤ï¼Œä½¿å®ƒåœ¨å…¶ä¸Šä¸€çº§ç›®å½•ä¸­æ‰€å¯¹åº”çš„ç›®å½•é¡¹ä¸ºç©ºã€‚è‹¥ä¸ä¸ºç©ºï¼Œå¯é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š<strong>ä¸åˆ é™¤éç©ºç›®å½•</strong>ï¼ˆå½“ç›®å½•ä¸ä¸ºç©ºæ—¶ï¼Œä¸ºäº†åˆ é™¤ä¸€ä¸ªéç©ºç›®å½•ï¼Œå¿…é¡»å…ˆåˆ é™¤ç›®å½•ä¸­æ‰€æœ‰çš„æ–‡ä»¶ï¼Œä½¿ä¹‹ç§°ä¸ºç©ºç›®å½•ï¼Œç„¶åå†åˆ é™¤ï¼Œå¦‚æœç›®å½•ä¸­åŒ…å«æœ‰å­ç›®å½•ï¼Œåˆ™åº”è¯¥é€’å½’è°ƒç”¨æ–¹å¼åˆ é™¤ï¼‰ï¼Œ<strong>å¯åˆ é™¤éç©ºç›®å½•</strong>ï¼ˆå°†ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•åŒæ—¶åˆ é™¤ï¼‰ã€‚</p>
<h3 id="ç›®å½•æŸ¥è¯¢æŠ€æœ¯"><a href="#ç›®å½•æŸ¥è¯¢æŠ€æœ¯" class="headerlink" title="ç›®å½•æŸ¥è¯¢æŠ€æœ¯"></a>ç›®å½•æŸ¥è¯¢æŠ€æœ¯</h3><p>ã€€å½“ç”¨æˆ·è¦è®¿é—®ä¸€ä¸ªå·²å­˜åœ¨çš„æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿé¦–å…ˆåˆ©ç”¨ç”¨æˆ·æä¾›çš„æ–‡ä»¶åå¯¹ç›®å½•è¿›è¡ŒæŸ¥è¯¢ï¼Œæ‰¾å‡ºè¯¥æ–‡ä»¶çš„æ–‡ä»¶æ§åˆ¶å—æˆ–å¯¹åº”ç´¢å¼•ç»“ç‚¹ï¼Œç„¶åï¼Œæ ¹æ®FCBæˆ–ç´¢å¼•ç»“ç‚¹ä¸­æ‰€è®°å½•çš„æ–‡ä»¶ç‰©ç†åœ°å€ï¼ˆç›˜å—å·ï¼‰ï¼Œæ¢ç®—å‡ºæ–‡ä»¶åœ¨ç£ç›˜ä¸Šçš„ç‰©ç†ä½ç½®ï¼Œæœ€åï¼Œå†é€šè¿‡ç£ç›˜é©±åŠ¨ç¨‹åºï¼Œå°†æ‰€éœ€æ–‡ä»¶è¯»å…¥å†…å­˜ã€‚ç›®å‰å¸¸ç”¨çš„æ–¹å¼æœ‰<strong>çº¿æ€§æ£€ç´¢æ³•</strong>å’Œ<strong>Hashæ–¹æ³•ã€‚</strong></p>
<p>ã€€â‘  <strong>çº¿æ€§æ£€ç´¢æ³•</strong>ï¼Œå…¶åˆç§°ä¸ºé¡ºåºæ£€ç´¢æ³•ï¼Œ<em>åœ¨å•çº§ç›®å½•ä¸­</em>ï¼Œåˆ©ç”¨ç”¨æˆ·æä¾›çš„æ–‡ä»¶åï¼Œç”¨é¡ºåºæŸ¥æ‰¾æ³•ç›´æ¥ä»æ–‡ä»¶ç›®å½•ä¸­æ‰¾åˆ°æŒ‡åæ–‡ä»¶çš„ç›®å½•é¡¹ã€‚<em>åœ¨æ ‘å½¢ç›®å½•ä¸­</em>ï¼Œç”¨æˆ·æä¾›çš„æ–‡ä»¶åæ˜¯ç”±å¤šä¸ªæ–‡ä»¶åˆ†é‡åç»„æˆçš„è·¯å¾„åï¼Œæ­¤æ—¶é¡»å¯¹å¤šçº§ç›®å½•è¿›è¡ŒæŸ¥æ‰¾ï¼Œå‡å®šç”¨æˆ·ç»™å®šçš„æ–‡ä»¶è·¯å¾„åä¸º&#x2F;usr&#x2F;ast&#x2F;mboxï¼Œåˆ™æŸ¥æ‰¾è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_14-59-42.png"></p>
<p>ã€€é¦–å…ˆï¼Œç³»ç»Ÿåº”å…ˆè¯»å…¥ç¬¬ä¸€ä¸ªæ–‡ä»¶åˆ†é‡åusrï¼Œç”¨å®ƒä¸æ ¹ç›®å½•æ–‡ä»¶ï¼ˆæˆ–å½“å‰ç›®å½•æ–‡ä»¶ï¼‰ä¸­å„ç›®å½•é¡¹ä¸­çš„æ–‡ä»¶åé¡ºåºåœ°è¿›è¡Œæ¯”è¾ƒï¼Œä»ä¸­æ‰¾åˆ°åŒ¹é…è€…ï¼Œå¹¶å¾—åˆ°åŒ¹é…é¡¹çš„ç´¢å¼•ç»“ç‚¹å·æ˜¯6ï¼Œå†ä»6å·ç´¢å¼•ç»“ç‚¹ä¸­å¾—åˆ°usrç›®å½•æ–‡ä»¶æ”¾åœ¨132å·ç›˜å—ä¸­ï¼Œå°†è¯¥ç›˜å—å†…å®¹è¯»å…¥å†…å­˜ã€‚æ¥ç€ï¼Œç³»ç»Ÿå†å°†è·¯å¾„åä¸­çš„ç¬¬äºŒä¸ªåˆ†é‡åastè¯»å…¥ï¼Œç”¨å®ƒä¸æ”¾åœ¨132å·ç›˜å—ä¸­çš„ç¬¬äºŒçº§ç›®å½•æ–‡ä»¶ä¸­å„ç›®å½•é¡¹çš„æ–‡ä»¶åé¡ºåºè¿›è¡Œæ¯”è¾ƒï¼Œåˆæ‰¾åˆ°åŒ¹é…é¡¹ï¼Œä»ä¸­å¾—åˆ°astçš„ç›®å½•æ–‡ä»¶æ”¾åœ¨26å·ç´¢å¼•ç»“ç‚¹ä¸­ï¼Œå†ä»26å·ç´¢å¼•ç»“ç‚¹ä¸­å¾—çŸ¥&#x2F;usr&#x2F;astæ˜¯å­˜æ”¾åœ¨496å·ç›˜å—ä¸­ï¼Œå†è¯»å…¥496å·ç›˜å—ã€‚ç„¶åï¼Œå°†æ–‡ä»¶çš„ç¬¬ä¸‰ä¸ªåˆ†é‡åmboxè¯»å…¥ï¼Œç”¨å®ƒä¸ç¬¬ä¸‰çº§ç›®å½•æ–‡ä»¶&#x2F;usr&#x2F;astä¸­å„ç›®å½•é¡¹çš„æ–‡ä»¶åè¿›è¡Œæ¯”è¾ƒï¼Œæœ€åå¾—åˆ°&#x2F;usr&#x2F;ast&#x2F;mboxçš„ç´¢å¼•ç»“ç‚¹å·ä¸º60ï¼Œå³åœ¨60å·ç´¢å¼•ç»“ç‚¹ä¸­å­˜æ”¾äº†æŒ‡å®šæ–‡ä»¶çš„ç‰©ç†åœ°å€ï¼Œç›®å½•æŸ¥è¯¢æ“ä½œåˆ°æ­¤ç»“æŸï¼Œå¦‚æœåœ¨é¡ºåºæŸ¥æ‰¾è¿‡ç¨‹ä¸­å‘ç°æœ‰ä¸€ä¸ªæ–‡ä»¶åˆ†é‡åæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™åœæ­¢æŸ¥æ‰¾ï¼Œå¹¶è¿”å›æ–‡ä»¶æœªæ‰¾åˆ°ä¿¡æ¯ã€‚</p>
<p>ã€€â‘¡ <strong>Hashæ–¹æ³•</strong>ï¼Œç³»ç»Ÿåˆ©ç”¨ç”¨æˆ·æä¾›çš„æ–‡ä»¶åå¹¶å°†å®ƒè½¬æ¢ä¸ºæ–‡ä»¶ç›®å½•çš„ç´¢å¼•å€¼ï¼Œå†åˆ©ç”¨è¯¥ç´¢å¼•å€¼åˆ°ç›®å½•ä¸­å»æŸ¥æ‰¾ï¼Œè¿™å°†æé«˜æ£€ç´¢é€Ÿåº¦ã€‚</p>
<p>â‘ åœ¨åˆ©ç”¨Hashå€¼æŸ¥æ‰¾ç›®å½•æ—¶ï¼Œå¦‚æœç›®å½•è¡¨ä¸­ç›¸åº”çš„ç›®å½•é¡¹æ˜¯ç©ºçš„ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿä¸­å¹¶æ— æŒ‡å®šæ–‡ä»¶ã€‚<br>â‘¡å¦‚æœç›®å½•é¡¹ä¸­çš„æ–‡ä»¶åä¸æŒ‡å®šæ–‡ä»¶åç›¸åŒ¹é…ï¼Œåˆ™è¡¨ç¤ºè¯¥ç›®å½•é¡¹æ­£æ˜¯æ‰€è¦å¯»æ‰¾çš„æ–‡ä»¶æ‰€å¯¹åº”çš„ç›®å½•é¡¹ï¼Œæ•…è€Œå¯ä»ä¸­æ‰¾åˆ°è¯¥æ–‡ä»¶æ‰€åœ¨çš„ç‰©ç†åœ°å€ã€‚<br>â‘¢å¦‚æœåœ¨ç›®å½•è¡¨çš„ç›¸åº”ç›®å½•é¡¹ä¸­çš„æ–‡ä»¶åä¸æŒ‡å®šæ–‡ä»¶åå¹¶ä¸åŒ¹é…ï¼Œåˆ™è¡¨ç¤ºå‘ç”Ÿäº†â€œHashå†²çªâ€<br>è§£å†³Hashå†²çªçš„æ–¹æ³• ï¼šå°†å…¶Hashå€¼å†åŠ ä¸Šä¸€ä¸ª<strong>å¸¸æ•°</strong>ï¼ˆè¯¥å¸¸æ•°åº”ä¸ç›®å½•çš„é•¿åº¦å€¼äº’è´¨ï¼‰ï¼Œå½¢æˆæ–°çš„ç´¢å¼•å€¼ï¼Œå†è¿”å›åˆ°ç¬¬ä¸€æ­¥é‡oæ–°å¼€å§‹æŸ¥æ‰¾ã€‚</p>
<h2 id="æ–‡ä»¶å…±äº«å’Œè®¿é—®æ§åˆ¶"><a href="#æ–‡ä»¶å…±äº«å’Œè®¿é—®æ§åˆ¶" class="headerlink" title="æ–‡ä»¶å…±äº«å’Œè®¿é—®æ§åˆ¶"></a>æ–‡ä»¶å…±äº«å’Œè®¿é—®æ§åˆ¶</h2><p>æ–‡ä»¶å…±äº«çš„æœ‰æ•ˆæ§åˆ¶æ¶‰åŠä¸¤ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>åŒæ—¶å­˜å–ï¼ˆSimultaneous Accessï¼‰</li>
<li>å­˜å–æƒé™ï¼ˆAccess Rightsï¼‰</li>
</ul>
<p>â€‹	å…è®¸å¤šä¸ªç”¨æˆ·åŒæ—¶è¯»æ–‡ä»¶å†…å®¹ï¼Œä½†<strong>ä¸å…è®¸åŒæ—¶ä¿®æ”¹</strong>ï¼Œæˆ–<strong>åŒæ—¶è¯»ä¸”ä¿®æ”¹æ–‡ä»¶å†…å®¹</strong>ã€‚å…±äº«ç”¨æˆ·ä¹‹ä¸€ä¿®æ”¹æ–‡ä»¶å†…å®¹æ—¶ï¼Œå¯ä»¥å°†æ•´ä¸ªæ–‡ä»¶ä½œä¸º<em>ä¸´ç•Œèµ„æº</em>ï¼Œé”å®šæ•´ä¸ªæ–‡ä»¶ï¼Œä¸å…è®¸å…¶ä»–å…±äº«ç”¨æˆ·åŒæ—¶è¯»æˆ–å†™æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥ä»…ä»…é”å®šæŒ‡å®šçš„ä¸€æ¡è®°å½•ï¼Œå…è®¸å…¶ä»–å…±äº«ç”¨æˆ·è¯»&#x2F;å†™è¯¥æ–‡ä»¶çš„å…¶å®ƒè®°å½•ã€‚åè€…çš„å¹¶å‘æ€§èƒ½æ›´å¥½ã€‚</p>
<p>æ§åˆ¶æˆæƒç”¨æˆ·ä»¥åˆæ³•çš„æ–¹å¼è®¿é—®æ–‡ä»¶ï¼ŒåŒ…æ‹¬ï¼š</p>
<blockquote>
<p>æ‰§è¡Œï¼ˆExecutionï¼‰ â€” ç”¨æˆ·å¯ä»¥è£…è½½å¹¶æ‰§è¡Œç¨‹åºï¼Œä½†ä¸å…è®¸æ‹·è´ç¨‹åºå†…å®¹ã€‚</p>
<p>è¯»ï¼ˆReadingï¼‰â€” å…è®¸ç”¨æˆ·è¯»æ–‡ä»¶å†…å®¹ï¼ŒåŒ…æ‹¬æ‹·è´å’Œæ‰§è¡Œæ–‡ä»¶ã€‚æŸäº›ç³»ç»Ÿä¸¥æ ¼åœ°å°†æµè§ˆæ–‡ä»¶å†…å®¹å’Œæ‹·è´æƒé™åˆ†å¼€ï¼Œå¯ä»¥æ§åˆ¶æ–‡ä»¶åªèƒ½è¢«æµè§ˆï¼ˆæ˜¾ç¤ºï¼‰ï¼Œä¸èƒ½è¢«æ‹·è´ã€‚</p>
<p>è¿½åŠ ï¼ˆAppendingï¼‰â€” å…è®¸ç”¨æˆ·å‘æ–‡ä»¶æ·»åŠ æ•°æ®ï¼Œé€šå¸¸åªèƒ½å°†æ•°æ®æ·»åŠ åˆ°æ–‡ä»¶å°¾ã€‚ä½†æ˜¯ï¼Œä¸èƒ½ä¿®æ”¹æˆ–åˆ é™¤æ–‡ä»¶å†…å®¹ã€‚ä¾‹å¦‚ï¼Œè¶…å¸‚æ”¶é“¶å‘˜åªèƒ½å°†æ–°ç»“å¸çš„æ•°æ®æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼Œä¸å…è®¸å…¶ä¿®æ”¹æˆ–åˆ é™¤å·²æœ‰çš„æ•°æ®ã€‚</p>
<p>æ›´æ–°ï¼ˆUpdatingï¼‰â€” å…è®¸ç”¨æˆ·ä¿®æ”¹ã€åˆ é™¤ã€å¢åŠ æ–‡ä»¶å†…å®¹ã€‚åŒ…æ‹¬åˆ›å»ºæ–‡ä»¶ã€é‡å†™æ–‡ä»¶çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å†…å®¹ã€ç§»åŠ¨æ–‡ä»¶çš„å…¨éƒ¨æˆ–éƒ¨åˆ†æ•°æ®ç­‰æ“ä½œã€‚</p>
<p>æ›´æ”¹æƒé™ (Changing protection) â€”ä¸€èˆ¬åªæœ‰æ–‡ä»¶ä¸»æ‰èƒ½æ›´æ”¹å…±äº«è¯¥æ–‡ä»¶çš„å…¶ä»–ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶çš„å­˜å–æƒé™ã€‚æœ‰çš„ç³»ç»Ÿå…è®¸æ–‡ä»¶ä¸»å°†æ›´æ”¹æ–‡ä»¶å­˜å–æƒé™èµ‹äºˆå…¶ä»–æŸä¸ªç”¨æˆ·ï¼Œä½†å¿…é¡»é™åˆ¶æˆæƒç”¨æˆ·æ›´æ”¹çš„æƒé™èŒƒå›´ã€‚</p>
<p>åˆ é™¤ (Deletion) å…è®¸ç”¨æˆ·åˆ é™¤æ–‡ä»¶</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_15-00-00.png"></p>
<p>â€‹	åœ¨æ ‘å‹ç»“æ„çš„ç›®å½•ä¸­ï¼Œå½“æœ‰ä¸¤ä¸ª(æˆ–å¤šä¸ª)ç”¨æˆ·è¦å…±äº«ä¸€ä¸ªå­ç›®å½•æˆ–æ–‡ä»¶æ—¶ï¼Œå¿…é¡»<em><strong>å°†å…±äº«æ–‡ä»¶æˆ–å­ç›®å½•é“¾æ¥åˆ°ä¸¤ä¸ª(æˆ–å¤šä¸ª)ç”¨æˆ·çš„ç›®å½•ä¸­</strong></em>ï¼Œæ‰èƒ½æ–¹ä¾¿åœ°æ‰¾åˆ°è¯¥æ–‡ä»¶ã€‚æ­¤æ—¶è¯¥æ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•ç»“æ„å·²ä¸å†æ˜¯æ ‘å‹ç»“æ„ï¼Œè€Œæ˜¯ä¸ª<em><strong>æœ‰å‘éå¾ªç¯å›¾</strong></em>ã€‚</p>
<p>â€‹	å®ç°æ–‡ä»¶å…±äº«çš„<strong>å®è´¨</strong>å°±æ˜¯å¯ä»¥<strong>ä»ä¸åŒåœ°æ–¹æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶</strong>ã€‚æ‰“å¼€æ–‡ä»¶çš„é¦–è¦æ­¥éª¤å°±æ˜¯æ‰¾åˆ°æ–‡ä»¶çš„ç›®å½•é¡¹ï¼Œè¯»å–æ–‡ä»¶åœ¨å¤–å­˜çš„èµ·å§‹åœ°å€ã€‚<br>å®ç°æ–‡ä»¶å…±äº«çš„æ–¹å¼ï¼š</p>
<ul>
<li>åˆ©ç”¨é“¾æ¥ç›®å½•é¡¹å®ç°æ³•</li>
<li>åˆ©ç”¨ç´¢å¼•èŠ‚ç‚¹å®ç°æ³•</li>
<li>åˆ©ç”¨ç¬¦å·é“¾å®ç°æ³•</li>
</ul>
<p><strong>åˆ©ç”¨é“¾æ¥ç›®å½•é¡¹å®ç°æ³•</strong></p>
<p>æ–‡ä»¶ç›®å½•é¡¹ä¸­è®¾ç½®ä¸€ä¸ªé“¾æ¥æŒ‡é’ˆï¼Œç”¨äºæŒ‡å‘å…±äº«æ–‡ä»¶çš„ç›®å½•é¡¹ã€‚è®¿é—®æ–‡ä»¶æ—¶ï¼Œæ ¹æ®é“¾æ¥æŒ‡é’ˆå†…å®¹æ‰¾åˆ°å…±äº«æ–‡ä»¶çš„ç›®å½•é¡¹ï¼Œè¯»å–è¯¥ç›®å½•é¡¹ä¸­æ–‡ä»¶èµ·å§‹ä½ç½®ç­‰ä¿¡æ¯ï¼Œæ“ä½œè¯¥æ–‡ä»¶ã€‚æ¯å½“æœ‰ç”¨æˆ·ï¼ˆè¿›ç¨‹ï¼‰å…±äº«æ–‡ä»¶æ—¶ï¼Œå…±äº«æ–‡ä»¶ç›®å½•é¡¹ä¸­çš„â€œå…±äº«è®¡æ•°â€åŠ 1ï¼›å½“ç”¨æˆ·ä¸å†å…±äº«è¯¥æ–‡ä»¶ï¼Œæ’¤æ¶ˆé“¾æ¥æŒ‡é’ˆæ—¶ï¼Œâ€œå…±äº«è®¡æ•°â€å‡1ã€‚åªæœ‰å½“å…±äº«æ–‡ä»¶ç”¨æˆ·æ•°ä¸º1æ—¶ï¼Œæ‰èƒ½åˆ é™¤å…±äº«æ–‡ä»¶ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_15-00-27.png"></p>
<p><strong>åˆ©ç”¨ç´¢å¼•èŠ‚ç‚¹å®ç°æ³•</strong>ï¼ˆç¡¬é“¾æ¥ï¼‰</p>
<p>â€‹	æ–‡ä»¶çš„ç‰©ç†åœ°å€åŠå…¶å®ƒçš„æ–‡ä»¶å±æ€§ç­‰ä¿¡æ¯ï¼Œä¸å†æ˜¯æ”¾åœ¨ç›®å½•é¡¹ä¸­ï¼Œè€Œæ˜¯æ”¾åœ¨ç´¢å¼•ç»“ç‚¹ä¸­ã€‚åœ¨æ–‡ä»¶ç›®å½•ä¸­åªè®¾ç½®æ–‡ä»¶ååŠæŒ‡å‘ç›¸åº”ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆã€‚ç”±ä»»ä½•ç”¨æˆ·å¯¹æ–‡ä»¶è¿›è¡ŒAppend æ“ä½œæˆ–ä¿®æ”¹ï¼Œæ‰€å¼•èµ·çš„ç›¸åº”ç»“ç‚¹å†…å®¹çš„æ”¹å˜(ä¾‹å¦‚ï¼Œå¢åŠ äº†æ–°çš„ç›˜å—å·å’Œæ–‡ä»¶é•¿åº¦ç­‰)ï¼Œéƒ½æ˜¯å…¶ä»–ç”¨æˆ·å¯è§çš„ï¼Œä»è€Œä¹Ÿå°±èƒ½æä¾›ç»™å…¶ä»–ç”¨æˆ·æ¥å…±äº«ã€‚</p>
<p>â€‹	å¯ä»¥é€šè¿‡<em><strong>å…±äº«æ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹æ¥å…±äº«æ–‡ä»¶</strong></em>ï¼Œå³å½“ç”¨æˆ·éœ€è¦å…±äº«æ–‡ä»¶æ—¶ï¼Œåœ¨è‡ªå·±çš„æ–‡ä»¶ç›®å½•ä¸­æ–°å»ºä¸€ä¸ªç›®å½•é¡¹ï¼Œä¸ºå…±äº«æ–‡ä»¶å‘½å(ä¹Ÿå¯ç”¨åŸå)ï¼Œå¹¶å°†<em><strong>ç´¢å¼•èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘å…±äº«æ–‡ä»¶çš„ç´¢å¼•èŠ‚ç‚¹</strong></em>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_15-00-37.png"></p>
<p>â€‹	åœ¨ç´¢å¼•ç»“ç‚¹ä¸­è¿˜åº”æœ‰ä¸€ä¸ªé“¾æ¥è®¡æ•°countï¼Œç”¨äºè¡¨ç¤ºé“¾æ¥åˆ°æœ¬ç´¢å¼•ç»“ç‚¹(äº¦å³æ–‡ä»¶)ä¸Šçš„ç”¨æˆ·ç›®å½•é¡¹çš„æ•°ç›®ã€‚å½“ç”¨æˆ·Cåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ—¶ï¼Œä»–ä¾¿æ˜¯è¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œæ­¤æ—¶å°†count ç½®1ã€‚å½“æœ‰ç”¨æˆ·Bè¦å…±äº«æ­¤æ–‡ä»¶æ—¶ï¼Œåœ¨ç”¨æˆ·B çš„ç›®å½•<br>ä¸­å¢åŠ ä¸€ç›®å½•é¡¹ï¼Œå¹¶è®¾ç½®ä¸€æŒ‡é’ˆæŒ‡å‘è¯¥æ–‡ä»¶çš„ç´¢å¼•ç»“ç‚¹ï¼Œæ­¤æ—¶ï¼Œæ–‡ä»¶ä¸»ä»ç„¶æ˜¯Cï¼Œcount&#x3D;2ã€‚<br>â€‹	å¦‚æœç”¨æˆ·C ä¸å†éœ€è¦æ­¤æ–‡ä»¶ï¼Œæ˜¯å¦èƒ½å°†æ­¤æ–‡ä»¶åˆ é™¤å‘¢ï¼Ÿå› ä¸ºè‹¥åˆ é™¤äº†è¯¥æ–‡ä»¶ï¼Œä¹Ÿå¿…ç„¶åˆ é™¤äº†è¯¥æ–‡ä»¶çš„ç´¢å¼•ç»“ç‚¹ï¼Œè¿™æ ·ä¾¿ä¼šä¾¿ç”¨æˆ·Bçš„æŒ‡é’ˆæ‚¬ç©ºï¼Œè€Œç”¨æˆ·Båˆ™å¯èƒ½æ­£åœ¨æ­¤æ–‡ä»¶ä¸Šæ‰§è¡Œå†™æ“ä½œï¼Œæ­¤æ—¶ç”¨æˆ·Bä¼šæ— æ³•è®¿é—®åˆ°æ–‡ä»¶ã€‚å› æ­¤ç”¨æˆ·Cä¸èƒ½åˆ é™¤æ­¤æ–‡ä»¶ï¼Œåªæ˜¯å°†è¯¥æ–‡ä»¶çš„countå‡1ï¼Œç„¶ååˆ é™¤è‡ªå·±ç›®å½•ä¸­çš„ç›¸åº”ç›®å½•é¡¹ã€‚ç”¨æˆ·Bä»å¯ä»¥ä½¿ç”¨è¯¥æ–‡ä»¶ã€‚å½“count &#x3D;0æ—¶ï¼Œè¡¨ç¤ºæ²¡æœ‰ç”¨æˆ·ä½¿ç”¨è¯¥æ–‡ä»¶ï¼Œç³»ç»Ÿå°†è´Ÿè´£åˆ é™¤è¯¥æ–‡ä»¶ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/uestc-wxy/blog_img/img/Snipaste_2023-06-15_15-00-52.png"></p>
<p><strong>åˆ©ç”¨ç¬¦å·é“¾å®ç°æ³•</strong>ï¼ˆè½¯é“¾æ¥ï¼‰</p>
<p>â€‹	ä¸ºä½¿Bèƒ½å…±äº«Cçš„ä¸€ä¸ªæ–‡ä»¶Fï¼Œå¯ä»¥ç”±ç³»ç»Ÿ<em><strong>åˆ›å»ºä¸€ä¸ªLINKç±»å‹çš„æ–°æ–‡ä»¶</strong></em>ï¼Œä¹Ÿå–åä¸ºFå¹¶å°†Få†™å…¥Bçš„ç›®å½•ä¸­ï¼Œä»¥å®ç°Bçš„ç›®å½•ä¸æ–‡ä»¶Fçš„é“¾æ¥ï¼›åœ¨æ–°æ–‡ä»¶<em><strong>åª<br>åŒ…å«è¢«åˆ›æ–‡ä»¶Fçš„è·¯å¾„å</strong></em>ã€‚è¿™æ ·çš„é“¾æ¥æ–¹æ³•è¢«ç§°ä¸º<strong>ç¬¦å·é“¾æ¥</strong>ã€‚æ–°æ–‡ä»¶ä¸­çš„è·¯å¾„åï¼Œåˆ™åªè¢«çœ‹ä½œæ˜¯ç¬¦å·é“¾ã€‚å½“Bè¦è®¿é—®è¢«é“¾æ¥çš„æ–‡ä»¶Fä¸”æ­£è¦è¯»LINKç±»æ–°æ–‡ä»¶æ—¶ï¼Œ<em><strong>å°†è¢«OSæˆªè·ï¼Œ OSæ ¹æ®æ–°æ–‡ä»¶ä¸­çš„è·¯å¾„åå»è¯»è¯¥æ–‡ä»¶</strong></em>ï¼Œäºæ˜¯å°±å®ç°äº†ç”¨æˆ·Bå¯¹æ–‡ä»¶Fçš„å…±äº«ã€‚<br>â€‹	åœ¨åˆ©ç”¨ç¬¦å·é“¾æ–¹å¼å®ç°æ–‡ä»¶å…±äº«æ—¶ï¼Œåªæ˜¯æ–‡ä»¶ä¸»æ‰æ‹¥æœ‰æŒ‡å‘å…¶ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆ,è€Œå…±äº«è¯¥æ–‡ä»¶çš„å…¶å®ƒç”¨æˆ·ï¼Œåˆ™åªæœ‰è¯¥æ–‡ä»¶çš„è·¯å¾„åï¼Œå¹¶ä¸æ‹¥æœ‰æŒ‡å‘å…¶ç´¢å¼•ç»“ç‚¹çš„æŒ‡é’ˆã€‚</p>
<p>ç¬¦å·é“¾æ–¹å¼ä¼˜ç‚¹ï¼šèƒ½è¿æ¥ä»»ä½•æœºå™¨ä¸Šçš„æ–‡ä»¶ã€‚æ¯å¢åŠ ä¸€ä¸ªè¿æ¥ï¼Œå°±å¢åŠ ä¸€ä¸ªæ–‡ä»¶åï¼Œå„ç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„åå­—å»å…±äº«æ–‡ä»¶ã€‚<br>ç¼ºç‚¹ï¼šå¤‡ä»½å¯èƒ½ä¼šäº§ç”Ÿå¤šä¸ªæ‹·è´ã€‚è¿™æ˜¯å› ä¸ºæ¯ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„ç¬¦å·é“¾æ¥ï¼Œè€Œå¤‡ä»½ç¨‹åºå¯èƒ½æ— æ³•è¯†åˆ«è¿™äº›ç¬¦å·é“¾æ¥å®é™…ä¸ŠæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ã€‚å› æ­¤ï¼Œå®ƒå¯èƒ½ä¼šä¸ºæ¯ä¸ªç¬¦å·é“¾æ¥åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å¤‡ä»½ï¼Œä»è€Œå¯¼è‡´å¤šä¸ªæ‹·è´ã€‚</p>
<p><strong>åˆ©ç”¨URLå®ç°æ–‡ä»¶å…±äº«</strong><br>    ç»Ÿä¸€èµ„æºå®šä½å™¨URL (Uniform Resource Locator)æ˜¯Internetä¸Šç”¨æ¥é“¾æ¥è¶…æ–‡æœ¬æ–‡ä»¶çš„ä¸€ç§æ–¹æ³•ã€‚å®ƒå¯ä»¥é“¾æ¥åŒä¸€å°è®¡ç®—æœºä¸­çš„æœ¬åœ°æ–‡ä»¶ï¼Œä¹Ÿå¯é“¾æ¥Internetä¸­ä»»ä½•ä¸»æœºä¸Šçš„è¿œç¨‹æ–‡ä»¶ã€‚ä¸€ä¸ªå®Œæ•´çš„URLåŒ…æ‹¬è®¿é—®æ–‡ä»¶çš„æ–¹æ³•ï¼ˆåè®®ï¼‰ã€æ–‡ä»¶æ‰€åœ¨çš„ä¸»æœºåŸŸåã€ç›®å½•è·¯å¾„åå’Œæ–‡ä»¶åå‡ éƒ¨ä»½ã€‚ä¾‹å¦‚ï¼Œ<br><a href="http://www.uestc.edu.cn/templates/index2k3/index.html">http://www.uestc.edu.cn/templates/index2k3/index.html</a></p>
<p><strong>æ–‡ä»¶ä¿æŠ¤</strong></p>
<p>â€‹	ä¸åŒå¯¹è±¡å…è®¸å®æ–½çš„æ“ä½œå„ä¸ç›¸åŒã€‚ä¾‹å¦‚ï¼Œæ–‡ä»¶å¯æ–½åŠ è¯»ã€å†™ã€æ‰§è¡Œç­‰æ“ä½œï¼Œä¿¡å·é‡åªèƒ½æ–½åŠ wait()å’Œsignal()æ“ä½œã€‚å› æ­¤ï¼Œ<em><strong>ç³»ç»Ÿä¸ºæ‰€æœ‰å¯¹è±¡è®¾ç½®ä¸€ä¸ªå…è®¸è¿›ç¨‹å®æ–½æ“ä½œçš„æ“ä½œé›†</strong></em>ï¼Œä»»ä½•å¯¹å¯¹è±¡çš„æ“ä½œå¿…é¡»ç¬¦åˆæ“ä½œé›†ä¸­çš„è§„å®šï¼Œé˜²æ­¢æœªæˆæƒè¿›ç¨‹è®¿é—®å¯¹è±¡ã€‚</p>
<p>ä¾‹ä¸€ï¼šå­˜æ”¾åœ¨æŸä¸ªç£ç›˜ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¯¹äºé‡‡ç”¨æ··åˆç´¢å¼•åˆ†é…æ–¹å¼ï¼Œå…¶FCBä¸­å…±æœ‰13é¡¹åœ°å€é¡¹ï¼Œç¬¬0ï½9ä¸ªåœ°å€é¡¹ä¸ºç›´æ¥åœ°å€ï¼Œç¬¬10ä¸ªåœ°å€é¡¹ä¸ºä¸€æ¬¡é—´æ¥åœ°å€ï¼Œç¬¬11ä¸ªåœ°å€é¡¹ä¸ºäºŒæ¬¡ é—´æ¥åœ°å€ï¼Œç¬¬12ä¸ªåœ°å€é¡¹ä¸ºä¸‰æ¬¡é—´æ¥åœ°å€ã€‚å¦‚æœæ¯ä¸ªç›˜å—çš„å¤§å°ä¸º512å­—èŠ‚ï¼Œç›˜å—å·éœ€è¦3ä¸ªå­—èŠ‚æ¥æè¿°ï¼Œåˆ™æ¯ä¸ªç›˜å—æœ€å¤šå­˜æ”¾170ä¸ªç›˜å—åœ°å€ã€‚<br> (1) è¯¥æ–‡ä»¶ç³»ç»Ÿå…è®¸çš„æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿ<br> (2) å°†æ–‡ä»¶çš„å­—èŠ‚åç§»é‡5000ã€15000ã€150000è½¬æ¢ä¸ºç‰©ç†å—å·å’Œå—å†…åç§»é‡ã€‚<br> (3) å‡è®¾æŸæ–‡ä»¶çš„ç´¢å¼•ç»“ç‚¹å·²åœ¨å†…å­˜ä¸­ï¼Œä½†å…¶ä»–ä¿¡æ¯å‡åœ¨å¤–å­˜ï¼Œä¸ºäº†è®¿é—®è¯¥æ–‡ä»¶ä¸­æŸä¸ªä½ç½®çš„å†…å®¹ï¼Œæœ€å¤šéœ€è¦å‡ æ¬¡è®¿ é—®ç£ç›˜ï¼Ÿ</p>
<p>(1) è¯¥æ–‡ä»¶ç³»ç»Ÿä¸­ä¸€ä¸ªæ–‡ä»¶çš„æœ€å¤§é•¿åº¦å¯è¾¾:</p>
<p>10+170+170Ã—170+170Ã—170Ã—170&#x3D;4942080å—,å…±4942080Ã—512å­—èŠ‚&#x3D;2471040KB</p>
<p>(2)5000&#x2F;512å¾—åˆ°å•†ä¸º9,ä½™æ•°ä¸º392,å³å­—èŠ‚åç§»é‡5000å¯¹åº”çš„é€»è¾‘å—å·ä¸º9,å—å†…åç§»é‡ä¸º392ã€‚ç”±äº9&lt;10,æ•…å¯ç›´æ¥ä»è¯¥æ–‡ä»¶çš„FCBçš„ç¬¬9ä¸ªåœ°å€é¡¹å¤„å¾—åˆ°ç‰©ç†ç›˜å—å·,å—å†…åç§»é‡ä¸º392ã€‚</p>
<p>15000&#x2F;512å¾—åˆ°å•†ä¸º29,ä½™æ•°ä¸º152,å³å­—èŠ‚åç§»é‡15000å¯¹åº”çš„é€»è¾‘å—å·ä¸º29,å—å†…åç§»é‡ä¸º152ã€‚ç”±äº10&lt; 29&lt; 10+170,è€Œ29-10&#x3D;19,æ•…å¯ä»FCBçš„ç¬¬10ä¸ªåœ°å€é¡¹,å³ä¸€æ¬¡é—´å€é¡¹ä¸­å¾—åˆ°ä¸€æ¬¡é—´å€å—çš„åœ°å€;å¹¶ä»ä¸€æ¬¡é—´å€å—çš„ç¬¬19é¡¹(å³è¯¥å—çš„ç¬¬57~59è¿™3ä¸ªå­—èŠ‚)ä¸­è·å¾—å¯¹åº”çš„ç‰©ç†ç›˜å—å·,å—å†…åç§»é‡ä¸º152ã€‚</p>
<p>150000&#x2F;512å¾—åˆ°å•†ä¸º292,ä½™æ•°ä¸º496,å³å­—èŠ‚åç§»é‡150000å¯¹åº”çš„é€»è¾‘å—å·ä¸º292,å—å†…åç§»é‡ä¸º496ã€‚ç”±äº10+170&lt; 292&lt; 10+170+170Ã—170,è€Œ292-(10+170)&#x3D;112,112&#x2F;170å¾—åˆ°å•†ä¸º0,ä½™æ•°ä¸º112,æ•…å¯ä»FCBçš„ç¬¬11ä¸ªåœ°å€é¡¹,å³äºŒæ¬¡é—´å€é¡¹ä¸­å¾—åˆ°äºŒæ¬¡é—´å€å—çš„åœ°å€,å¹¶ä»äºŒæ¬¡é—´å€å—çš„ç¬¬0é¡¹ä¸­è·å¾—ä¸€ä¸ªä¸€æ¬¡é—´å€å—çš„åœ°å€,å†ä»è¿™ä¸€æ¬¡é—´å€å—çš„ç¬¬112é¡¹ä¸­è·å¾—å¯¹åº”çš„ç‰©ç†ç›˜å—å·,å—å†…åç§»é‡ä¸º496ã€‚</p>
<p>(3) ç”±äºæ–‡ä»¶çš„FCBå·±åœ¨å†…å­˜ï¼Œä¸ºäº†è®¿é—®æ–‡ä»¶ä¸­æŸä¸ªä½ç½®çš„å†…å®¹ï¼Œæœ€å°‘éœ€è¦1æ¬¡è®¿é—®ç£ç›˜(å³å¯é€šè¿‡ç›´æ¥åœ°å€ç›´æ¥è¯»æ–‡ä»¶ç›˜å—)ï¼Œæœ€å¤šéœ€è¦4æ¬¡è®¿é—®ç£ç›˜(ç¬¬ä¸€æ¬¡æ˜¯è¯»ä¸‰æ¬¡é—´å€å—,ç¬¬äºŒæ¬¡æ˜¯è¯»äºŒæ¬¡é—´å€å—,ç¬¬ä¸‰æ¬¡æ˜¯è¯»ä¸€æ¬¡é—´å€å—,ç¬¬å››æ¬¡æ˜¯è¯»æ–‡ä»¶ç›˜å—)ã€‚</p>
<p>ä¾‹äºŒï¼šæœ‰ä¸€ä¸ªç£ç›˜ç»„å…±ç”¨10ä¸ªç›˜é¢ï¼Œæ¯ä¸ªç›˜é¢ä¸Šæœ‰100ä¸ªç£é“ï¼Œæ¯ä¸ªç£é“æœ‰16ä¸ªæ‰‡åŒºï¼Œå‡å®šä»¥æ‰‡åŒºä¸ºå•ä½ï¼Œè‹¥ä½¿ ç”¨ä½ç¤ºå›¾ç®¡ç†ç£ç›˜ç©ºé—´ï¼Œé—®ä½ç¤ºå›¾éœ€è¦å å¤šå°‘ç©ºé—´ï¼Ÿ è‹¥ç©ºé—²è¡¨çš„æ¯ä¸ªç©ºé—²è¡¨é¡¹å ç”¨5ä¸ªå­—èŠ‚ï¼Œé—®ä»€ä¹ˆæ—¶å€™ç©ºé—²è¡¨å¤§äºä½ç¤ºå›¾ï¼Ÿ</p>
<p>â€‹	ç£ç›˜ç»„çš„æ€»æ‰‡åŒºæ•°ä¸º10 * 100 * 16 &#x3D; 16000ã€‚å› æ­¤ï¼Œä½ç¤ºå›¾éœ€è¦å ç”¨16000ä½ &#x3D; 2000å­—èŠ‚çš„ç©ºé—´ã€‚</p>
<p>â€‹	è‹¥ç©ºé—²è¡¨çš„æ¯ä¸ªç©ºé—²è¡¨é¡¹å ç”¨5ä¸ªå­—èŠ‚ï¼Œåˆ™å½“ç©ºé—²è¡¨é¡¹æ•°å¤§äº2000&#x2F;5&#x3D;400æ—¶ï¼Œç©ºé—²è¡¨çš„å¤§å°å°†å¤§äºä½ç¤ºå›¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç£ç›˜ç»„ä¸­æœ‰è¶…è¿‡400ä¸ªè¿ç»­çš„ç©ºé—²æ‰‡åŒºæ—¶ï¼Œä½¿ç”¨ç©ºé—²è¡¨ç®¡ç†ç£ç›˜ç©ºé—´æ‰€éœ€çš„å­˜å‚¨ç©ºé—´å°†å¤§äºä½¿ç”¨ä½ç¤ºå›¾æ‰€éœ€çš„å­˜å‚¨ç©ºé—´ã€‚</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
</search>
