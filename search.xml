<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>flaskæ¡†æ¶(1-2)</title>
    <url>/2023/05/29/flask/</url>
    <content><![CDATA[<h2 id="Flaskç®€ä»‹"><a href="#Flaskç®€ä»‹" class="headerlink" title="Flaskç®€ä»‹"></a>Flaskç®€ä»‹</h2><p>â€‹		Flaskæ˜¯ä¸€ä¸ªè½»é‡çº§çš„å¯å®šåˆ¶æ¡†æ¶ï¼Œä½¿ç”¨Pythonè¯­è¨€ç¼–å†™ï¼Œè¾ƒå…¶ä»–åŒç±»å‹æ¡†æ¶æ›´ä¸ºçµæ´»ã€è½»ä¾¿ã€å®‰å…¨ä¸”å®¹æ˜“ä¸Šæ‰‹ã€‚å®ƒå¯ä»¥å¾ˆå¥½åœ°ç»“åˆ<a href="https://baike.baidu.com/item/MVC%E6%A8%A1%E5%BC%8F/713147?fromModule=lemma_inlink">MVCæ¨¡å¼</a>è¿›è¡Œå¼€å‘ï¼Œå¼€å‘äººå‘˜åˆ†å·¥åˆä½œï¼Œå°å‹å›¢é˜Ÿåœ¨çŸ­æ—¶é—´å†…å°±å¯ä»¥å®ŒæˆåŠŸèƒ½ä¸°å¯Œçš„ä¸­å°å‹ç½‘ç«™æˆ–<a href="https://baike.baidu.com/item/Web%E6%9C%8D%E5%8A%A1/2837593?fromModule=lemma_inlink">WebæœåŠ¡</a>çš„å®ç°ã€‚å¦å¤–ï¼ŒFlaskè¿˜æœ‰å¾ˆå¼ºçš„å®šåˆ¶æ€§ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥æ·»åŠ ç›¸åº”çš„åŠŸèƒ½ï¼Œåœ¨ä¿æŒæ ¸å¿ƒåŠŸèƒ½ç®€å•çš„åŒæ—¶å®ç°åŠŸèƒ½çš„ä¸°å¯Œä¸æ‰©å±•ï¼Œå…¶å¼ºå¤§çš„æ’ä»¶åº“å¯ä»¥è®©ç”¨æˆ·å®ç°ä¸ªæ€§åŒ–çš„ç½‘ç«™å®šåˆ¶ï¼Œå¼€å‘å‡ºåŠŸèƒ½å¼ºå¤§çš„ç½‘ç«™ã€‚</p>
<p>â€‹		Flaskæ˜¯ç›®å‰ååˆ†æµè¡Œçš„webæ¡†æ¶ï¼Œé‡‡ç”¨Pythonç¼–ç¨‹è¯­è¨€æ¥å®ç°ç›¸å…³åŠŸèƒ½ã€‚å®ƒè¢«ç§°ä¸ºå¾®æ¡†æ¶(microframework)ï¼Œâ€œå¾®â€å¹¶ä¸æ˜¯æ„å‘³ç€æŠŠæ•´ä¸ªWebåº”ç”¨æ”¾å…¥åˆ°ä¸€ä¸ªPythonæ–‡ä»¶ï¼Œå¾®æ¡†æ¶ä¸­çš„â€œå¾®â€æ˜¯æŒ‡Flaskæ—¨åœ¨ä¿æŒä»£ç ç®€æ´ä¸”æ˜“äºæ‰©å±•ï¼ŒFlaskæ¡†æ¶çš„ä¸»è¦ç‰¹å¾æ˜¯æ ¸å¿ƒæ„æˆæ¯”è¾ƒç®€å•ï¼Œä½†å…·æœ‰å¾ˆå¼ºçš„æ‰©å±•æ€§å’Œå…¼å®¹æ€§ï¼Œç¨‹åºå‘˜å¯ä»¥ä½¿ç”¨Pythonè¯­è¨€å¿«é€Ÿå®ç°ä¸€ä¸ªç½‘ç«™æˆ–WebæœåŠ¡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®ƒä¸ä¼šæŒ‡å®šæ•°æ®åº“å’Œæ¨¡æ¿å¼•æ“ç­‰å¯¹è±¡ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦è‡ªå·±é€‰æ‹©å„ç§æ•°æ®åº“ã€‚Flaskè‡ªèº«ä¸ä¼šæä¾›è¡¨å•éªŒè¯åŠŸèƒ½ï¼Œåœ¨é¡¹ç›®å®æ–½è¿‡ç¨‹ä¸­å¯ä»¥è‡ªç”±é…ç½®ï¼Œä»è€Œä¸ºåº”ç”¨ç¨‹åºå¼€å‘æä¾›æ•°æ®åº“æŠ½è±¡å±‚åŸºç¡€ç»„ä»¶ï¼Œæ”¯æŒè¿›è¡Œè¡¨å•æ•°æ®åˆæ³•æ€§éªŒè¯ã€æ–‡ä»¶ä¸Šä¼ å¤„ç†ã€ç”¨æˆ·èº«ä»½è®¤è¯å’Œæ•°æ®åº“é›†æˆç­‰åŠŸèƒ½ã€‚Flaskä¸»è¦åŒ…æ‹¬Werkzeugå’ŒJinja2ä¸¤ä¸ªæ ¸å¿ƒå‡½æ•°åº“ï¼Œå®ƒä»¬åˆ†åˆ«è´Ÿè´£ä¸šåŠ¡å¤„ç†å’Œå®‰å…¨æ–¹é¢çš„åŠŸèƒ½ï¼Œè¿™äº›åŸºç¡€å‡½æ•°ä¸ºwebé¡¹ç›®å¼€å‘è¿‡ç¨‹æä¾›äº†ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶ã€‚Werkzeugåº“ååˆ†å¼ºå¤§ï¼ŒåŠŸèƒ½æ¯”è¾ƒå®Œå–„ï¼Œæ”¯æŒURLè·¯ç”±è¯·æ±‚é›†æˆï¼Œä¸€æ¬¡å¯ä»¥å“åº”å¤šä¸ªç”¨æˆ·çš„è®¿é—®è¯·æ±‚ï¼›æ”¯æŒCookieå’Œä¼šè¯ç®¡ç†ï¼Œé€šè¿‡èº«ä»½ç¼“å­˜æ•°æ®å»ºç«‹é•¿ä¹…è¿æ¥å…³ç³»ï¼Œå¹¶æé«˜ç”¨æˆ·è®¿é—®é€Ÿåº¦ï¼›æ”¯æŒäº¤äº’å¼Javascriptè°ƒè¯•ï¼Œæé«˜ç”¨æˆ·ä½“éªŒï¼›å¯ä»¥å¤„ç†HTTPåŸºæœ¬äº‹åŠ¡ï¼Œå¿«é€Ÿå“åº”å®¢æˆ·ç«¯æ¨é€è¿‡æ¥çš„è®¿é—®è¯·æ±‚ã€‚Jinja2åº“æ”¯æŒè‡ªåŠ¨HTMLè½¬ä¹‰åŠŸèƒ½ï¼Œèƒ½å¤Ÿå¾ˆå¥½æ§åˆ¶å¤–éƒ¨é»‘å®¢çš„è„šæœ¬æ”»å‡»ã€‚ç³»ç»Ÿè¿è¡Œé€Ÿåº¦å¾ˆå¿«ï¼Œé¡µé¢åŠ è½½è¿‡ç¨‹ä¼šå°†æºç è¿›è¡Œç¼–è¯‘å½¢æˆPythonå­—èŠ‚ç ï¼Œä»è€Œå®ç°æ¨¡æ¿çš„é«˜æ•ˆè¿è¡Œï¼›æ¨¡æ¿ç»§æ‰¿æœºåˆ¶å¯ä»¥å¯¹æ¨¡æ¿å†…å®¹è¿›è¡Œä¿®æ”¹å’Œç»´æŠ¤ï¼Œä¸ºä¸åŒéœ€æ±‚çš„ç”¨æˆ·æä¾›ç›¸åº”çš„æ¨¡æ¿ã€‚</p>
<h2 id="è·¯ç”±å’Œè¯·æ±‚å“åº”å¯¹è±¡"><a href="#è·¯ç”±å’Œè¯·æ±‚å“åº”å¯¹è±¡" class="headerlink" title="è·¯ç”±å’Œè¯·æ±‚å“åº”å¯¹è±¡"></a>è·¯ç”±å’Œè¯·æ±‚å“åº”å¯¹è±¡</h2><ul>
<li>è£…é¥°å™¨å…¶å®å°±æ˜¯å°†ruleå­—ç¬¦ä¸²è·Ÿè§†å›¾å‡½æ•°è¿›è¡Œäº†ç»‘å®šï¼Œé€šè¿‡add_url_rule()å®ç°çš„ç»‘å®šã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/index&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;welcome everyoneï¼&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ç­‰æ•ˆ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;welcome everyoneï¼&#x27;</span></span><br><span class="line">app.add_url_rule(<span class="string">&#x27;/index&#x27;</span>, view_func=index)</span><br></pre></td></tr></table></figure>

<h3 id="è·¯ç”±å˜é‡è§„åˆ™"><a href="#è·¯ç”±å˜é‡è§„åˆ™" class="headerlink" title="è·¯ç”±å˜é‡è§„åˆ™"></a>è·¯ç”±å˜é‡è§„åˆ™</h3><p>string  ï¼ˆç¼ºçœå€¼ï¼‰ æ¥å—ä»»ä½•ä¸åŒ…å«æ–œæ çš„æ–‡æœ¬   *<br>int      æ¥å—æ­£æ•´æ•°  *<br>float    æ¥å—æ­£æµ®ç‚¹æ•°<br>path     ç±»ä¼¼ string ï¼Œä½†å¯ä»¥åŒ…å«æ–œæ <br>uuid     æ¥å— UUID å­—ç¬¦ä¸²</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/index/&lt;path:p&gt;&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_path</span>(<span class="params">p</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;******&gt;&#x27;</span>, <span class="built_in">type</span>(p))  <span class="comment"># strç±»å‹</span></span><br><span class="line">    <span class="built_in">print</span>(p)</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/test/&lt;uuid:uid&gt;&#x27;</span></span>)  </span><span class="comment"># å¿…é¡»ä¼ é€’uuidçš„æ ¼å¼ï¼Œuuidæ¨¡å—ï¼Œ uuid.uuid4() ----&gt;UUIDç±»å‹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">uid</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;#######&gt;&gt;&gt;&gt;&gt;&#x27;</span>, <span class="built_in">type</span>(uid))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;è·å–å”¯ä¸€çš„æ ‡è¯†ç &#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰€æœ‰çš„è·¯ç”±æœç´¢è§„åˆ™éƒ½æ˜¯è‡ªä¸Šè€Œä¸‹æœç´¢ï¼Œåœ¨å†™è·¯ç”±çš„æ˜¯æœ‰å®šä¹‰çš„è·¯ç”±æ˜¯å”¯ä¸€çš„ã€‚</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/projects&#x27;</span></span>)  </span><span class="comment"># è¯·æ±‚è·¯ç”±ä¸­å¦‚æœæ·»åŠ äº†/ï¼šhttp://127.0.0.1:5000/about/  æ˜¾ç¤ºNot Found</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">about</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;The about page&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/projects/&#x27;</span></span>)  </span><span class="comment"># è·¯ç”±ä¸­å®šä¹‰&#x27;/&#x27;ï¼Œæ— è®ºè¯·æ±‚çš„URLæ˜¯å¦å¸¦æœ‰/ï¼Œéƒ½å¯ä»¥æ‰§è¡Œè§†å›¾å‡½æ•°ã€‚å¦‚æœè¯·æ±‚çš„æ˜¯æœ‰/ï¼Œæµè§ˆå™¨åšäº†ä¸€æ¬¡é‡å®šå‘</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">projects</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;The project page&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h3><p>è¿”å›å€¼ï¼šå…¶å®è¿”å›å€¼è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå“åº”å¯¹è±¡ã€‚</p>
<blockquote>
<p>è§†å›¾å‡½æ•°çš„è¿”å›å€¼ï¼š<br>responseå“åº”ï¼š<br>1.str     è‡ªåŠ¨è½¬æˆresponseå¯¹è±¡<br>2.dict    json<br>3.responseå¯¹è±¡  responseå¯¹è±¡<br>4.make_response()  responseå¯¹è±¡<br>5.redirect()   é‡å®šå‘  302çŠ¶æ€ç <br>6.render_template()  æ¨¡æ¿æ¸²æŸ“ + æ¨¡æ¿</p>
</blockquote>
<p>responseå“åº”å¯¹è±¡</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(response.content_type)</span><br><span class="line"><span class="built_in">print</span>(response.headers)</span><br><span class="line"><span class="built_in">print</span>(response.status_code)  <span class="comment"># 200</span></span><br><span class="line"><span class="built_in">print</span>(response.status)  <span class="comment"># 200 OK</span></span><br><span class="line">response.set_cookie(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;wxy&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>requestè¯·æ±‚å¯¹è±¡ï¼šåªéœ€è¦å¯¼å…¥ï¼Œé€šè¿‡from flask import request<br>å¯¼å…¥ä¹‹åå¯ä»¥è·å–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•<br>å±æ€§ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(request.headers)  <span class="comment"># requestå¯¹è±¡ å¯¹è±¡è®¿é—®å±æ€§ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="built_in">print</span>(request.path)</span><br><span class="line"><span class="built_in">print</span>(request.full_path)</span><br><span class="line"><span class="built_in">print</span>(request.base_url)</span><br><span class="line"><span class="built_in">print</span>(request.url)</span><br></pre></td></tr></table></figure>

<h4 id="è·å–æäº¤çš„æ•°æ®"><a href="#è·å–æäº¤çš„æ•°æ®" class="headerlink" title="è·å–æäº¤çš„æ•°æ®"></a>è·å–æäº¤çš„æ•°æ®</h4><p>è·Ÿè¯·æ±‚æ–¹æ³•ç›¸å…³çš„</p>
<ul>
<li><p>getï¼š<br>request.args åº•å±‚æ˜¯å­—å…¸çš„å½¢å¼   ä¸»è¦è·å–getæäº¤çš„è¯·æ±‚å‚æ•°<br>å¦‚æœæ˜¯getè¯·æ±‚æ ¼å¼æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š&#x2F;register2?username&#x3D;zhangsan&amp;address&#x3D;Beijing<br>æ­¤æ—¶çš„usernameæ˜¯formè¡¨å•ä¸­è¡¨å•å…ƒç´ çš„nameå€¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(request.args.get(<span class="string">&#x27;username&#x27;</span>))   <span class="comment"># è·å–å€¼</span></span><br><span class="line"><span class="built_in">print</span>(request.args.get(<span class="string">&#x27;address&#x27;</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>post:<br>request.form åº•å±‚æ˜¯å­—å…¸çš„å½¢å¼   ä¸»è¦è·å–postæäº¤çš„è¯·æ±‚å‚æ•°<br>æ³¨æ„postæäº¤å¿…é¡»åœ¨è·¯ç”±ä¸­è¿›è¡Œè®¾ç½®ï¼Œé€šè¿‡methods &#x3D; [â€˜GETâ€™,â€™POSTâ€™]<br>æŒ‰ç…§æ­¤ç§å½¢å¼ï¼š<br>@app.route(â€˜&#x2F;register2â€™, methods&#x3D;[â€˜GETâ€™, â€˜POSTâ€™])<br>def register2():  # è·å–é¡µé¢æäº¤çš„å†…å®¹<br>â€¦â€¦.  å†…å®¹çœç•¥<br>è·å–æ•°æ®ï¼š<br>print(request.form)  # å¦‚æœè¯·æ±‚æ–¹æ³•æ˜¯poståˆ™éœ€è¦é€šè¿‡request.formå–å€¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(request.form.get(<span class="string">&#x27;username&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(request.form.get(<span class="string">&#x27;address&#x27;</span>))</span><br></pre></td></tr></table></figure></li>
</ul>
<p>å®šåˆ¶å“åº”å¤´</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">response = make_response(content)  <span class="comment"># è¿”å›å€¼å°±æ˜¯ä¸€ä¸ªresponseå¯¹è±¡</span></span><br><span class="line">   <span class="comment"># å®šåˆ¶å“åº”å¤´</span></span><br><span class="line">   response.headers[<span class="string">&#x27;mytest&#x27;</span>] = <span class="string">&#x27;123abc&#x27;</span></span><br><span class="line">   response.headers[<span class="string">&#x27;myhello&#x27;</span>] = <span class="string">&#x27;hellohello&#x27;</span></span><br><span class="line">   <span class="comment"># å°†å®šåˆ¶å¥½çš„responseè¿”å›</span></span><br><span class="line">   <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Flask</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>å¥½çƒ¦å•Š</title>
    <url>/2023/05/30/%E5%A5%BD%E7%83%A6%E5%95%8A/</url>
    <content><![CDATA[<p>ä¸ºä»€ä¹ˆæˆ‘çš„åˆ†ç±»å’Œæ ‡ç­¾å¼„ä¸èµ·å•Šï¼Œå´©æºƒğŸ˜¤</p>
]]></content>
      <tags>
        <tag>Python</tag>
        <tag>å¤§äºŒè‡ªå­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œ</title>
    <url>/2023/05/30/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</url>
    <content><![CDATA[<p>è¿˜æ²¡å¼€å§‹å†™ï¼Œè¿˜åœ¨æ‘†çƒ‚</p>
<p>é©¬ä¸Šå››èŠ‚è¯¾è®¡ç½‘å®éªŒï¼Œè£‚å¼€ğŸ˜«</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2023/05/29/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿ</title>
    <url>/2023/05/30/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p> è¿˜æœ‰äºŒåå¤©è€ƒæ“ä½œç³»ç»Ÿï¼Œå•¥å­éƒ½è¿˜æ²¡å­¦ï¼Œå˜¿å˜¿æ€•æ˜¯è¦å¯„äº†</p>
]]></content>
      <categories>
        <category>å¤§äºŒä¸‹æœŸæœ«å¤ä¹ </category>
      </categories>
  </entry>
</search>
